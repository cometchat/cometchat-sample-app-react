{"version":3,"sources":["PrivateRoute/index.js","consts.js","store/actionTypes.js","store/action.js","defaultPages/KitchenSinkApp/index.js","defaultPages/KitchenSinkApp/style.js","defaultPages/KitchenSinkApp/loader.js","defaultPages/HomePage/index.js","defaultPages/HomePage/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/enums.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/theme.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatAvatar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBackdrop/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatBadgeCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatUserPresence/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/resources/localization/translator.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/close-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/checkmark-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/warning-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/resources/info-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatToastNotification/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatConfirmDialog/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/UIKitSettings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/FeatureRestriction/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatContext.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/Storage.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/strings.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/reduce-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/resources/increase-size.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatCallScreen/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/SoundManager.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/resources/end-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/resources/incoming-video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatIncomingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/common.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Calls/CometChatOutgoingDirectCall/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/util/CometChatEvent.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/progress.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSmartReplyPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatStickerKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatMessageReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePoll/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/resources/remove.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatCreatePollOptions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/resources/checkmark.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverStickerMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatReceiverWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderDocumentBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderPollMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderStickerBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/Extensions/CometChatSenderWhiteboardBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatActionMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatDeleteMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatEmojiKeyboard/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/ring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatImageViewer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLinkPreview/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatLiveReactions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/threaded-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/reactions.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/message-translate.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/resources/send-message-in-private.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageActions/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/add-circle-filled.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/video.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/audio-file.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/image.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/emoji.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/send-message.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/polls.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/stickers.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-document.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/collaborative-whiteboard.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageComposer/resources/heart.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/menu.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/audio-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/resources/info.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageHeader/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/MessageFilter.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Shared/CometChatSharedMediaView/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Users/CometChatUserListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/creating.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatCreateGroup/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupDetails/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/back.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/resources/create.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/password-protected-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/resources/private-group.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/edit.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/done.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/resources/delete.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatViewGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/controller.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/adding.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/search.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatAddGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/resources/ban-member.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatBanGroupMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatGroupListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/resources/transferring.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberList/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-unselect.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/resources/group-member-select.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Groups/CometChatTransferOwnershipMemberListItem/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/resources/close.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatMessageThread/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-read.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-delivered.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/message-sent.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/wait.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/resources/warning-small.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReadReceipt/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatReceiverVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderAudioMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/resources/video-call.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderDirectCallBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/resources/file-upload.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderFileMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderImageMessageBubble/resources/1px.png","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderTextMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatSenderVideoMessageBubble/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatThreadedMessageReplyCount/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Messages/CometChatBlockedUser/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/Chats/CometChatConversationListWithMessages/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/resources/logout.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/UserProfile/CometChatUserProfile/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/chats.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/users.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/groups.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/resources/more.svg","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/CometChatNavBar/index.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/style.js","cometchat-pro-react-ui-kit/CometChatWorkspace/src/components/CometChatUI/index.js","defaultPages/App/style.js","defaultPages/App/index.js","serviceWorker.js","store/reducer.js","firebase.js","index.js"],"names":["PrivateRoute","this","props","isLoggedIn","path","render","component","to","pathname","state","from","location","React","Component","connect","COMETCHAT_CONSTANTS","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH","authSuccess","user","type","actionTypes","authFail","error","logout","dispatch","CometChat","then","authRedirectPath","localStorage","removeItem","auth","uid","authKey","login","token","window","getItem","registerTokenForPushNotification","registered","console","log","catch","md5","require","KitchenSinkApp","myRef","current","value","onLogin","signInSuccess","response","userDetails","jwt_decode","credential","email","name","avatar","picture","User","setAvatar","createUser","code","signInFailure","setState","googleSignInFailed","createRef","loader","loading","className","errorMessage","css","fontSize","color","width","textAlign","message","authRedirect","Fragment","styles","display","flexDirection","alignItems","justifyContent","outline","backgroundColor","borderRadius","padding","cursor","onSuccess","onError","PureComponent","actions","HomePage","onLogout","TEXT_MESSAGE_RECEIVED","MEDIA_MESSAGE_RECEIVED","CUSTOM_MESSAGE_RECEIVED","MESSAGE_DELIVERED","MESSAGE_READ","MESSAGE_DELETED","MESSAGE_EDITED","TRANSIENT_MESSAGE_RECEIVED","INCOMING_CALL_RECEIVED","OUTGOING_CALL_ACCEPTED","OUTGOING_CALL_REJECTED","INCOMING_CALL_CANCELLED","GROUP_MEMBER_SCOPE_CHANGED","GROUP_MEMBER_KICKED","GROUP_MEMBER_BANNED","GROUP_MEMBER_UNBANNED","GROUP_MEMBER_ADDED","GROUP_MEMBER_LEFT","GROUP_MEMBER_JOINED","USER_ONLINE","USER_OFFLINE","TYPING_STARTED","TYPING_ENDED","CUSTOM_TYPE_POLL","CUSTOM_TYPE_STICKER","CUSTOM_TYPE_DOCUMENT","CUSTOM_TYPE_WHITEBOARD","CUSTOM_TYPE_MEETING","CONSTANTS","LOCALE","ACTIVECALL","MAX_MESSAGE_COUNT","METADATA_TYPE_LIVEREACTION","LIVE_REACTIONS","heart","thumbsup","clap","wink","MESSAGES_COMPONENT","EMBEDDED_COMPONENT","OUTGOING_DEFAULT_CALLING","INCOMING_DEFAULT_CALLING","INCOMING_DIRECT_CALLING","OUTGOING_DIRECT_CALLING","AUDIO","INCOMING_MESSAGE","INCOMING_OTHER_MESSAGE","OUTGOING_MESSAGE","INCOMING_CALL","OUTGOING_CALL","ERROR_CODES","ERR_CHAT_API_FAILURE","CALLS","ONGOING_CALL","ONGOING_CALL_SAME_GROUP","ONGOING_CALL_DIFF_GROUP","GROUPS","OWNER","LIVE_REACTION_INTERVAL","FILE_METADATA","ACTIONS","MESSAGE_SENT","MESSAGE_COMPOSED","ERROR_IN_SENDING_MESSAGE","ACCEPT_DIRECT_CALL","JOIN_DIRECT_CALL","START_DIRECT_CALL","DIRECT_CALL_ENDED","POLL_CREATED","GROUP_DELETED","GROUP_LEFT","GROUP_CREATED","VIEW_DETAIL","VIEW_THREADED_MESSAGE","CLOSE_THREADED_MESSAGE","TOGGLE_SIDEBAR","ON_MESSAGE_EDITED","ON_MESSAGE_DELETED","ON_MESSAGE_READ_DELIVERED","DELETE_MESSAGE","EDIT_MESSAGE","CLOSE_GROUP_DETAIL","CLOSE_USER_DETAIL","VIEW_ORIGINAL_IMAGE","FETCH_GROUP_MEMBERS","SCOPECHANGE_GROUPMEMBER_SUCCESS","BAN_GROUP_MEMBER","KICK_GROUP_MEMBER","BAN_GROUPMEMBER_SUCCESS","KICK_GROUPMEMBER_SUCCESS","CHANGE_SCOPE_GROUP_MEMBER","UNBAN_GROUP_MEMBER","ADD_GROUP_MEMBER_SUCCESS","FETCH_BANNED_GROUP_MEMBERS","UNBAN_GROUP_MEMBER_SUCCESS","REACT_TO_MESSAGE","INITIATE_VIDEO_CALL","INITIATE_AUDIO_CALL","CHANGE_TAB","ITEM_CLICKED","THREAD_MESSAGE_COMPOSED","SEND_LIVE_REACTION","STOP_LIVE_REACTION","SHOW_LIVE_REACTION","CLEAR_EDIT_PREVIEW","MESSAGE_RECEIVED","MESSAGES_INITIAL_FETCH","MESSAGES_FETCHED","REFRESHING_MESSAGES","MESSAGES_REFRESHED","NEW_MESSAGES","CLEAR_UNREAD_MESSAGES","START_AUDIO_CALL","START_VIDEO_CALL","OUTGOING_CALL_CANCELLED","INCOMING_CALL_ACCEPTED","INCOMING_CALL_REJECTED","CALL_ENDED","USER_JOINED_CALL","USER_LEFT_CALL","DELETE_CONVERSATION","CONVERSATION_DELETED","SEND_STICKER","CLOSE_STICKER_KEYBOARD","ERROR","INFO","TRANSLATE_MESSAGE","EVENTS","KEYS","CallAlertManager","callListenerId","Date","getTime","callback","addCallListener","CallListener","onIncomingCallReceived","call","enums","onIncomingCallCancelled","onOutgoingCallAccepted","removeCallListener","theme","fontFamily","primaryColor","secondaryTextColor","primary","secondary","darkSecondary","search","tertiary","grey","helpText","blue","white","red","borderColor","lightGrey","darkGrey","callScreenGrey","silver","breakPoints","CometChatAvatar","setAvatarImage","image","trim","length","getImage","Object","keys","hasOwnProperty","avatarImage","char","charAt","toUpperCase","generateAvatar","group","icon","guid","img","Image","src","onload","_isMounted","generator","data","canvas","document","createElement","context","getContext","height","fillStyle","str","hash","i","charCodeAt","colour","toString","substr","stringToColour","fillRect","font","textBaseline","fillText","toDataURL","imgRef","prevProps","borderWidth","borderStyle","cornerRadius","overflow","alt","style","ref","el","defaultProps","backdropStyle","zIndex","opacity","position","top","left","transition","CometChatBackdrop","show","onClick","clicked","badgeStyle","fontWeight","lineHeight","marginLeft","marginRight","CometChatBadgeCount","badgeCount","count","presenceStyle","presenceStatus","status","float","CometChatUserPresence","useContext","CometChatContext","useState","presence","setPresence","useEffect","FeatureRestriction","isUserPresenceEnabled","translations","ar","de","en","es","fr","hi","ms","pt","ru","zh","sv","lt","hu","Translator","language","rtlLanguages","includes","languageDb","defaultLanguage","key","getLanguage","setLanguage","item","setItem","getBrowserLanguage","navigator","languages","userLanguage","getDefaultLanguage","savedLanguage","browserLanguageCode","toLowerCase","browserLanguage","indexOf","split","notificationStyle","backgroundColorProp","pointerEvents","marginBottom","minHeight","boxShadow","backgroundPosition","backgroundRepeat","boxSizing","iconStyle","mask","CometChatToastNotification","componentWillUnmount","clearAutoDismiss","setInfo","infoIcon","setAutoDismiss","setError","errorIcon","setSuccess","successIcon","setWarning","warningIcon","autoDelete","interval","setTimeout","deleteToast","dismissTime","clearTimeout","messageClassName","types","iconClassName","toastIcon","flexShrink","maxWidth","title","translate","lang","keyframes","transform","margin","border","closeIcon","alertButtonStyle","CometChatConfirmDialog","confirmButtonText","cancelButtonText","close","right","UIKitSettings","setCustomJS","customJS","setCustomCSS","customCSS","setTabs","tabList","tabs","setUserSettings","userSettings","setCalls","calls","setUsers","users","setChats","chats","setGroups","groups","setChatListMode","option","chatListFilterKey","returnMatchedKey","chatListFilterOptions","chatListMode","setUserListMode","userListFilterKey","userListFilterOptions","userListMode","setGroupListMode","setUserVideoCall","userVideoCall","setGroupVideoCall","groupVideoCall","setUserAudioCall","userAudioCall","setGroupAudioCall","groupAudioCall","setEditMessage","editMessage","setSendMessageInOneOnOne","sendMessageInOneOnOne","setSendMessageInGroup","sendMessageInGroup","setJoinOrLeaveGroup","joinOrLeaveGroup","setBlockUser","blockUser","setSendEmojis","sendEmojis","setSendEmojisInLargerSize","sendEmojisInLargerSize","setSendGifs","sendGifs","setShareCopyForwardMessage","shareCopyForwardMessage","setSendFiles","sendFiles","setSendPhotoVideos","sendPhotoVideos","setViewShareMedia","viewShareMedia","setEnableSoundForMessages","enableSoundForMessages","setEnableSoundForCalls","enableSoundForCalls","setSendStickers","sendStickers","setViewGroupMembers","viewGroupMembers","setCallNotifications","callNotifications","setAllowDeleteGroup","allowDeleteGroup","setKickMember","kickMember","setBanMember","banMember","setAllowPromoteDemoteMembers","allowPromoteDemoteMembers","setAllowAddMembers","allowAddMembers","setShareLocation","shareLocation","setJoinLeaveNotifications","joinLeaveNotifications","setSendVoiceNotes","sendVoiceNotes","setMessageTranslation","messageTranslation","setGroupCreation","groupCreation","setSendTypingIndicator","sendTypingIndicator","setShowUserPresence","showUserPresence","setDeleteMessage","deleteMessage","setThreadedChats","threadedChats","setReplyingToMessage","replyingToMessage","setShowReadDeliveryReceipts","showReadDeliveryReceipts","setHideDeletedMessages","hideDeletedMessages","setEmailReplies","emailReplies","setSendMessageReaction","sendMessageReaction","setCollaborativeWhiteboard","collaborativeWhiteboard","setCollaborativeDocument","collaborativeDocument","setPolls","polls","setSendLiveReaction","sendLiveReaction","setPublicGroup","publicGroup","setPrivateGroup","privateGroup","setPasswordGroup","passwordGroup","setAllowModeratorToDeleteMemberMessages","allowModeratorToDeleteMemberMessages","setUnreadCount","unreadCount","setSmartReplies","smartReplies","setSearchUsers","searchUsers","setSearchGroups","searchGroups","setSearchMessages","searchMessages","setCallRecording","callRecording","setCallLiveStreaming","callLiveStreaming","setCallTranscription","callTranscription","setThumbnailGeneration","thumbnailGeneration","setLinkPreview","linkPreview","setSaveMessages","saveMessages","setPinMessages","pinMessages","setRichMediaPreview","richMediaPreview","setVoiceTranscription","voiceTranscription","setMentions","mentions","setXssFilter","xssFilter","setProfanityFilter","profanityFilter","setImageModeration","imageModeration","setDataMasking","dataMasking","setMalwareScanner","malwareScanner","setSentimentAnalysis","sentimentAnalysis","setInflightMessageModeration","inflightMessageModeration","setMessageHistory","messageHistory","setViewProfile","viewProfile","setMessageInPrivate","messageInPrivate","setShowCallRecordingOption","showCallRecordingOption","setChatWindow","chatWindow","matchWith","optionToMatch","entries","foregroundColor","overrideSystemBackgroundColor","groupInMode","groupListFilterOptions","values","searchChats","setGroupInQnaModeByModerators","highlightMessageFromModerators","ALL","NONE","FRIENDS","PUBLIC","PASSWORD","PUBLIC_AND_PASSWORD","USERS","USERS_AND_GROUPS","isRecentChatListEnabled","Promise","resolve","isGroupListEnabled","isUserSettingsEnabled","isEditMessageEnabled","isQNAModeEnabled","isHighlightMessagesEnabled","isJoinLeaveGroupsEnabled","isLargerSizeEmojisEnabled","isGifsEnabled","isShareCopyForwardMessageEnabled","isSharedMediaEnabled","isMessagesSoundEnabled","isCallsSoundEnabled","isViewingGroupMembersEnabled","isCallActionMessagesEnabled","isGroupDeletionEnabled","isChangingGroupMemberScopeEnabled","isAddingGroupMembersEnabled","isLocationSharingEnabled","isGroupActionMessagesEnabled","isGroupCreationEnabled","isDeleteMessageEnabled","isHideDeletedMessagesEnabled","isViewProfileEnabled","isMessageInPrivateEnabled","isCallListEnabled","isFeatureEnabled","calls_enabled","isUserListEnabled","chat_users_list_enabled","isOneOnOneVideoCallEnabled","call_one_on_one_video_enabled","isGroupVideoCallEnabled","call_groups_video_enabled","isOneOnOneAudioCallEnabled","call_one_on_one_audio_enabled","isGroupAudioCallEnabled","call_groups_audio_enabled","isOneOnOneChatEnabled","chat_one_on_one_enabled","isGroupChatEnabled","chat_groups_enabled","isDeleteMemberMessageEnabled","moderation_groups_moderators_enabled","isBlockUserEnabled","moderation_users_block_enabled","isEmojisEnabled","emojis_enabled","isFilesEnabled","chat_messages_media_enabled","isPhotosVideosEnabled","isKickingGroupMembersEnabled","moderation_groups_kick_enabled","isBanningGroupMembersEnabled","moderation_groups_ban_enabled","isVoiceNotesEnabled","chat_voice_notes_enabled","isTypingIndicatorsEnabled","chat_typing_indicator_enabled","chat_users_presence_enabled","isThreadedMessagesEnabled","chat_messages_threads_enabled","isMessageRepliesEnabled","chat_messages_replies_enabled","isDeliveryReceiptsEnabled","chat_messages_receipts_enabled","isLiveReactionsEnabled","live_reactions_enabled","isPublicGroupEnabled","chat_groups_public_enabled","isPrivateGroupEnabled","chat_groups_private_enabled","isPasswordGroupEnabled","chat_groups_password_enabled","isUnreadCountEnabled","chat_messages_unread_count_enabled","isUserSearchEnabled","chat_users_search_enabled","isGroupSearchEnabled","chat_groups_search_enabled","isMessageSearchEnabled","chat_messages_search_enabled","isCallRecordingEnabled","call_recording_enabled","isCallLiveStreamingEnabled","call_live_streaming_enabled","isCallTranscriptEnabled","call_transcript_enabled","isMessageHistoryEnabled","chat_messages_history_enabled","isMessageTranslationEnabled","message_translation_enabled","isExtensionEnabled","isReactionsEnabled","reactions_enabled","reactions","isCollaborativeWhiteBoardEnabled","collaboration_whiteboard_enabled","collaborationWhiteboard","isCollaborativeDocumentEnabled","collaboration_document_enabled","collaborationDocument","isStickersEnabled","stickers_enabled","sticker","isEmailRepliesEnabled","email_replies_enabled","isPollsEnabled","polls_enabled","isSmartRepliesEnabled","smart_replies_enabled","isThumbnailGenerationEnabled","thumbnail_generation_enabled","isLinkPreviewEnabled","link_preview_enabled","isSaveMessagesEnabled","messages_saved_enabled","isPinMessagesEnabled","messages_pinned_enabled","isRichMediaPreviewEnabled","rich_media_preview_enabled","isVoiceTranscriptionEnabled","voice_transcription_enabled","isMentionsEnabled","mentions_enabled","isXssFilterEnabled","moderation_xss_filter_enabled","isProfanityFilterEnabled","moderation_profanity_filter_enabled","isImageModerationEnabled","moderation_image_moderation_enabled","isDataMaskingEnabled","moderation_data_masking_enabled","isMalwareScannerEnabled","moderation_malware_scanner_enabled","isSentimentAnalysisEnabled","moderation_sentiment_analysis_enabled","chat_messages_custom_enabled","moderation_inflight_message_moderation_enabled","emojis","extensionKey","createContext","CometChatContextProvider","setRoles","roles","GROUP_MEMBER_SCOPE","ADMIN","MODERATOR","PARTICIPANT","getUser","reject","getGroup","hasJoined","groupType","password","GROUP_TYPE","promptMessage","prompt","joinGroup","setToastMessage","getLoggedinUser","timer","loggedInUser","isInitialized","isUserLoggedIn","setInterval","clearInterval","clearGroupMembers","groupMembers","groupAdmins","groupModerators","bannedGroupMembers","setAllGroupMembers","updateGroupMembers","setGroupMembers","setGroupAdmins","setGroupModerators","setBannedGroupMembers","bannedMembers","updateBannedGroupMembers","setCallInProgress","callType","callInProgress","setType","setTypeAndItem","setDeletedGroupId","deletedGroupId","setLeftGroupId","leftGroupId","setLastMessage","lastMessage","setClearedUnreadMessages","flag","clearedUnreadMessages","setDirectCallCustomMessage","event","directCallCustomMessage","directCallCustomMessageAction","checkIfDirectCallIsOngoing","output","customData","sessionID","checkIfCallIsOngoing","getActiveCallSessionID","sessionId","hasKeyValue","undefined","settings","featureRestriction","toastMessage","unreadMessages","toastRef","ACTION_TYPE","TYPE_USER","errorCode","TYPE_GROUP","_component","Provider","toastNotificationPos","children","Storage","attachChangeDetection","addEventListener","detachChangeDetection","removeEventListener","storageKey","storageValue","JSON","stringify","parse","clear","LocalizedString","SELECT_VIDEO_SOURCE","SELECT_INPUT_AUDIO_SOURCE","SELECT_OUTPUT_AUDIO_SOURCE","SELECT_MODE","CALL_RECORDING_STARTED_MSG","USER_JOINED_CALL_MSG","CALL_RECORDING_ENDED_MSG","USER_LEFT_CALL_MSG","CAMERA_ERROR_MSG","MIC_ERROR_MSG","CAMERA_MIC_ERROR_MSG","RECORDING_TEXT","TRYING_TO_START_RECORDING_TEXT","JOINING_TEXT","UN_MUTE_AUDIO_TEXT","MUTE_AUDIO_TEXT","END_CALL_TEXT","START_RECORDING_TEXT","STOP_RECORDING_TEXT","START_SCREEN_SHARE_TEXT","STOP_SCREEN_SHARE_TEXT","MUTE_VIDEO_TEXT","UN_MUTE_VIDEO_TEXT","SELECT_LAYOUT_HEADER","NO_OF_USER_IN_TILE_TEXT","CHANGE_AUDIO_SOURCE","CHANGE_AUDIO_SOURCE_DESC","AUDIO_INPUT_DEVICE_LABEL","NO_AUDIO_DEVICE_AVAILABLE","AUDIO_OUTPUT_DEVICE_LABEL","CHANGE_VIDEO_SOURCE","CHANGE_VIDEO_SOURCE_DESC","VIDEO_DEVICES_LABEL","FULL_SCREEN","EXIT_FULL_SCREEN","CHANGE_LAYOUT","AUDIO_SETTING","VIDEO_SETTING","USER_LIST","MORE","MUTE_USER","PIN_USER","UNPIN_USER","UN_MUTE_USER","MUTED","YOU_HAVE_BLOCKED","NOT_POSSIBLE_TO_SEND_MESSAGES","IOS_BROWSER_WARNING","PEOPLE_TEXT","SPOTLIGHT_DETAIL_TEXT1","SPOTLIGHT_DETAIL_TEXT2","SPOTLIGHT_DETAIL_TEXT3","SPOTLIGHT_DETAIL_TEXT4","callScreenWrapperStyle","fadeAnimation","bottom","animation","callScreenHeaderStyle","cursorStyle","maximized","callScreenResizerStyle","backgroundStyle","clipPath","background","CometChatCallScreen","enableDragging","e","preventDefault","checkIfCallScreenIsMaximized","dragging","rel","x","pageX","y","pageY","toggleCallScreenBackground","toggleCallScreenInnerBackground","onmousemove","startDragging","onmouseup","disableDragging","elem","callScreenEl","dialogWidth","clientWidth","dialogHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","checkIfCallScreenIsMinimized","minimumWidth","minWidth","minimumHeight","Math","min","max","stopPropagation","initResize","element","startX","startY","startWidth","parseFloat","getComputedStyle","getPropertyValue","replace","startHeight","parseInt","startResize","stopResize","minHWidth","maxHeight","setDimensionOfCallScreenInnerBackground","callScreenBackgroundEl","callScreenInnerBackgroundEl","setPositionOfCallScreenInnerBackground","minimize","setSizingAndPostionOfCallScreen","maximize","toggle","startDirectCall","showRecordingButton","callSettings","CallSettingsBuilder","enableDefaultLayout","setSessionID","setIsAudioOnlyCall","setLocalizedStringObject","build","callScreenFrame","startCall","OngoingCallListener","onCallEnded","actionGenerated","startDefaultCall","getSessionId","CALL_TYPE","setMode","CALL_MODE","DEFAULT","onUserJoined","callInitiator","callMessage","category","action","callReceiver","receiverId","receiverType","sentAt","onUserLeft","endedCall","resizeText","iconView","minimizeIcon","maximizeIcon","onMouseDown","userSelect","contextType","SoundManager","incomingCallAudio","outgoingCallAudio","incomingMessageAudio","outgoingMessageAudio","incomingOtherMessageAudio","play","onIncomingCall","onOutgoingCall","onIncomingMessage","onIncomingOtherMessage","onOutgoingMessage","pause","pauseIncomingCall","pauseOutgoingCall","Audio","default","playMessageAlert","messageAudio","currentTime","playCallAlert","callAudio","loop","incomingCallWrapperStyle","slideDown","positionValue","leftPos","rightPos","topPos","bottomPos","zIndexValue","widgetsettings","dockedview","launched","alignment","widgetWidth","widgetHeight","ButtonStyle","callIconStyle","CometChatIncomingCall","adjustFontSize","callButtonRef","reduceFontSize","buttonNodeList","querySelectorAll","forEach","buttonNode","scrollWidth","callScreenUpdated","incomingCallReceived","incomingCallCancelled","outgoingCallAccepted","incomingCall","sender","rejectCall","callStatus","isCallActive","CALL_STATUS","BUSY","REJECTED","rejectedCall","acceptCall","checkForActiveCallAndEndCall","success","endCall","actionHandler","logStorageChange","newValue","oldValue","attachListeners","callScreen","incomingCallAlert","audioCallIcon","VIDEO","videoCallIcon","textOverflow","whiteSpace","textTransform","CallScreenManager","onOutgoingCallRejected","CometChatOutgoingCall","outgoingCallRejected","outgoingCallScreen","errorScreen","clearCallInProgress","cancelCall","CANCELLED","removeListeners","receiver","callIcon","messageAlertManager","msgListenerId","addMessageListener","MessageListener","onCustomMessageReceived","customMessage","removeMessageListener","CometChatIncomingDirectCall","messageListenerCallback","joinCall","ignoreCall","MessageAlertManager","wordBoundary","emailPattern","RegExp","urlPattern","phoneNumPattern","linkify","outputStr","results","match","url","normalizedURL","startsWith","checkMessageForExtensionsData","injectedObject","metadata","extensionsObject","getMessageFileMetadata","metadataKey","fileMetadata","ID","random","getUnixTimestamp","round","dateDiffInDays","a","b","utc1","UTC","getFullYear","getMonth","getDate","utc2","floor","countEmojiOccurences","string","word","CometChatOutgoingDirectCall","prepareCustomMessageData","sendCustomMessage","RECEIVER_TYPE","GROUP","conversationId","CustomMessage","setSender","setReceiver","setConversationId","_composedAt","_id","newMessageObj","callScreenRef","ConversationListManager","conversationRequest","conversationListenerId","userListenerId","groupListenerId","ConversationsRequestBuilder","setConversationType","setLimit","fetchNext","addUserListener","UserListener","onUserOnline","onlineUser","onUserOffline","offlineUser","addGroupListener","GroupListener","onGroupMemberScopeChanged","changedUser","newScope","oldScope","changedGroup","onGroupMemberKicked","kickedUser","kickedBy","kickedFrom","onGroupMemberBanned","bannedUser","bannedBy","bannedFrom","onGroupMemberUnbanned","unbannedUser","unbannedBy","unbannedFrom","onMemberAddedToGroup","userAdded","userAddedBy","userAddedIn","onGroupMemberLeft","leavingUser","onGroupMemberJoined","joinedUser","joinedGroup","onTextMessageReceived","textMessage","onMediaMessageReceived","mediaMessage","onMessageDeleted","deletedMessage","onMessageEdited","editedMessage","onMessagesRead","messageReceipt","removeUserListener","removeGroupListener","CometChatEvent","_triggers","push","params","chatsWrapperStyle","_parent","chatsHeaderStyle","borderBottom","chatsHeaderCloseStyle","mq","chatsHeaderTitleStyle","enableCloseMenu","CometChatConversationList","incrementUnreadCount","filterConversation","conversationlist","find","c","conversationType","USER","conversationWith","updateLastMessage","conversationList","conversationKey","findIndex","conversationObj","newConversationObj","splice","unshift","newConversation","Conversation","setConversationWith","setUnreadMessageCount","updateUnreadCount","clearUnreadCount","unreadMessageCount","conversationCallback","options","updateUser","markMessageAsDelivered","conversationUpdated","markAsDelivered","updateConversation","conversationEditedDeleted","updateGroupMemberAdded","updateGroupMemberRemoved","updateGroupMemberScopeChanged","updateGroupMemberChanged","conversationWithObj","getStatus","hideGroupActionMessages","playAudio","CATEGORY_ACTION","TYPE_GROUP_MEMBER","getReceiverType","getSender","getReceiverId","conversation","messageId","id","makeConversation","CometChatHelper","getConversationFromMessage","makeUnreadMessageCount","shouldIncrementCount","incomingMessage","CATEGORY_MESSAGE","makeLastMessage","newMessage","assign","lastMessageObj","newLastMessageObj","membersCount","actionFor","newConversationWithObj","scope","handleScroll","currentTarget","scrollHeight","scrollTop","getConversations","handleClick","onItemClick","handleMenuClose","fetchNextConversation","decoratorMessage","conversations","eachConversation","newUnreadMessageCount","updatedConversation","contextProviderRef","conversationDeleted","deleteConversation","showConfirmDialog","conversationToBeDeleted","onDeleteConfirm","optionSelected","target","deletedConversation","chatListRef","on","args","blockedByMe","convKey","convObj","convWithObj","newConvWithObj","newConvObj","map","messageContainer","wordWrap","closeBtn","navigateIcon","chatList","dir","getDirection","overflowY","onScroll","chatListWrapper","CometChatConversationListActions","toggleTooltip","setAttribute","dataset","removeAttribute","deleteInProgress","actionInProgress","progressIcon","actionIcon","loadingIcon","deleteIcon","onMouseEnter","onMouseLeave","listStyleType","listItem","selectedState","selectedConversation","itemNameStyle","itemLastMsgStyle","CometChatConversationListItem","getLastMessage","enableHideDeletedMessages","getMessage","CATEGORY_CALL","getCallMessage","getActionMessage","CATEGORY_CUSTOM","getCustomMessage","getLastMessageTimestamp","timestamp","messageTimestamp","currentTimestamp","now","dateDifferenceInDays","dateFormat","getTimeStampForLastMessage","pollMessage","stickerMessage","docMessage","whiteboardMessage","meetingMessage","getTextMessage","messageText","text","xssData","sanitized_text","maskedData","sensitive_data","message_masked","profaneData","profanity","message_clean","MESSAGE_TYPE","TEXT","MEDIA","IMAGE","imageMessage","FILE","fileMessage","videoMessage","audioMessage","CUSTOM","actionMessage","MEMBER_JOINED","MEMBER_LEFT","actionBy","actionOn","MEMBER_SCOPE_CHANGED","extras","byEntity","onEntity","byString","forString","MEMBER_ADDED","MEMBER_KICKED","MEMBER_BANNED","MEMBER_UNBANNED","textContent","enableUnreadCount","handleMouseHover","toggleFlag","isHovering","lastMessageTimestamp","lastMessageTimeStamp","toolTipView","flexGrow","paddingLeft","paddingRight","previewWrapperStyle","slideAnimation","previewCloseStyle","previewOptionStyle","CometChatSmartReplyPreview","alignSelf","stickerWrapperStyle","stickerSectionListStyle","borderTop","overflowX","stickerItemStyle","stickerCloseStyle","CometChatStickerKeyboard","getStickers","callExtension","stickers","activeStickerSet","customStickers","defaultStickers","sort","stickerSetOrder","stickerList","stickerSet","reduce","r","index","stickerSetName","activeStickerList","stickerOrder","sendStickerMessage","stickerItem","onStickerSetClicked","sectionItem","activestickerlist","stickerset","closeStickerKeyboard","stickerlist","activestickerset","sectionItems","stickerSetThumbnail","stickerUrl","stickerName","flexWrap","messageReactionsStyle","reactionData","hoveredBorderStyle","verticalAlign","emojiButtonStyle","reactionCountStyle","CometChatMessageReactions","enableMessageReaction","reactToMessages","emoji","messageObject","colons","msgId","getMessageReactions","reaction","reactionName","replaceAll","reactionCount","userList","reactionTitle","join","concat","reactionClassName","size","native","addMessageReaction","reactIcon","messageReactions","addReactionEmoji","modalWrapperStyle","modalErrorStyle","modalTableStyle","borderCollapse","tr","tableLayout","tableFootStyle","loadingState","textMargin","creatingPoll","disabled","td","button","span","addOptionIconStyle","backgroundSize","CometChatCreatePoll","addPollOption","removePollOption","optionKey","opt","optionChangeHandler","newOption","createPoll","question","questionRef","firstOption","optionOneRef","secondOption","optionTwoRef","optionItems","optionRef","pollOptionView","tabIndex","createText","clearIcon","colSpan","autoFocus","placeholder","addIcon","creatingIcon","removeOptionIconStyle","CometChatCreatePollOptions","autoComplete","onChange","removeIcon","messageThumbnailStyle","nameWrapperStyle","paddingValue","messageTxtWrapperStyle","messageTxtTitleStyle","messageBtnStyle","li","CometChatReceiverDocumentBubble","toggleHoverState","launchCollaborativeDocument","documentUrl","documentData","document_url","open","nextProps","nextState","reactionsData","documentTitle","flex","documentIcon","pollAnswerStyle","pollPercentStyle","curvedBorders","answerWrapperStyle","optionData","widthProp","voters","p","checkIconStyle","CometChatReceiverPollMessageBubble","answerPollQuestion","selectedOption","vote","pollId","pollExtensionData","pollOptions","total","totalText","toLocaleString","checkIcon","checkImg","template","messageImgWrapperStyle","CometChatReceiverStickerMessageBubble","stickerData","stickerImg","sticker_name","sticker_url","CometChatReceiverWhiteboardBubble","launchCollaborativeWhiteboard","whiteboardUrl","whiteboardData","board_url","username","whiteboardIcon","CometChatSenderDocumentBubble","wordBreak","CometChatSenderPollMessageBubble","messageImgWrapper","CometChatSenderStickerBubble","messageTxtIconStyle","CometChatSenderWhiteboardBubble","CometChatActionMessageBubble","getCallActionMessage","INITIATED","ONGOING","UNANSWERED","ENDED","byUser","onUser","messageContainerStyle","messageWrapperStyle","Width","fontStyle","messageTxtStyle","messageInfoWrapperStyle","messageTimeStampStyle","messageDetailStyle","paddingSpace","nameStyle","CometChatDeleteMessageBubble","setLoggedInUser","messageDate","CometChatEmojiKeyboard","categories","people","nature","foods","activity","places","objects","symbols","flags","emojiClicked","showPreview","exclude","i18n","imageWrapperStyle","heightProps","imgStyle","sizeProps","objectFit","CometChatImageViewer","setImage","imageIcon","previewDataStyle","previewTitleStyle","previewDescStyle","previewTextStyle","previewLinkStyle","CometChatLinkPreview","linkObject","linkText","href","CometChatLiveReactions","sendMessage","transientMessage","TransientMessage","sendTransientMessage","setItems","parentElement","offsetWidth","offsetHeight","elements","elementWidth","elementHeight","ySpeed","verticalSpeed","omega","PI","horizontalSpeed","time","sin","items","requestAnimation","animate","transformString","visibility","classList","add","counter","before","reactionImg","Array","fill","messageActionStyle","direction","groupButtonStyle","deleteOption","backgroundProp","CometChatMessageActions","enableThreadedChats","enableDeleteMessage","enableDeleteMessageForModerator","enableEditMessage","enableTranslateMessage","enableMessageInPrivate","sendMessageInPrivate","reactToMessage","viewThread","translateMessage","startThreadIcon","replyCount","editIcon","translateIcon","sendMessageInPrivateIcon","tooltip","chatComposerStyle","order","editPreviewContainerStyle","inputInnerStyle","borderRadiusVal","emojiViewer","stickerViewer","messageInputStyle","disabledState","content","inputStickyStyle","attachments","flexDirectionProp","filePickerStyle","active","showFilePicker","fileItemStyle","stickyAttachButtonStyle","stickyButtonStyle","sendButtonStyle","stickerBtnStyle","CometChatMessageComposer","enableLiveReaction","enablePolls","enableTypingIndicator","enableStickers","enablePhotosVideos","enableFiles","enableEmojis","enableCollaborativeDocument","enableCollaborativeWhiteboard","focusOnMessageComposer","messageInputRef","focus","messageToReact","pasteHtmlAtCaret","messageInput","innerText","messageType","changeHandler","startTyping","toggleFilePicker","currentState","openFileDialogue","fileType","imageUploaderRef","click","fileUploaderRef","audioUploaderRef","videoUploaderRef","onImageChange","files","uploadedFile","reader","FileReader","newFile","File","result","sendMediaMessage","readAsArrayBuffer","onFileChange","onAudioChange","onVideoChange","getReceiverDetails","endTyping","MediaMessage","parentMessageId","setParentMessageId","setMetadata","sendMessageOnEnter","keyCode","shiftKey","sendTextMessage","messageToBeEdited","TextMessage","setText","replyPreview","setId","messageFrom","closeEditPreview","typingInterval","isTyping","typingMetadata","typingNotification","TypingIndicator","persist","toggleStickerPicker","toggleEmojiPicker","toggleCreatePoll","toggleCollaborativeDocument","toggleCollaborativeBoard","closeCreatePoll","sendSticker","sendReplyMessage","clearReplyPreview","startLiveReaction","animationInProgress","timeout","liveReactionInterval","stopLiveReaction","newMessageObject","reactionObject","userObject","emojiObject","reactionExtensionsData","metadatObject","extensions","liveReactionInProgress","shareDocument","shareWhiteboard","prevState","hasXSS","html","selectPastedContent","sel","range","getSelection","getRangeAt","rangeCount","deleteContents","node","lastNode","frag","createDocumentFragment","firstChild","appendChild","firstNode","insertNode","cloneRange","setStartAfter","setStartBefore","collapse","removeAllRanges","addRange","selection","originalRange","createRange","pasteHTML","setEndPoint","select","liveReactionBtn","liveReactionText","docText","docs","docIcon","videoText","audioText","imageText","avp","videoIcon","accept","audioIcon","pollText","createPollBtn","pollIcon","collaborativeDocText","collaborativeDocBtn","collaborativeBoardText","collaborativeBoardBtn","emojiText","emojiBtn","insertEmoticon","StickerText","stickerBtn","stickerIcon","sendMessageText","sendBtn","sendBlue","attachText","attach","roundedPlus","editPreview","smartReplyPreview","smartReplyData","contentEditable","onInput","onBlur","onKeyDown","MessageHeaderManager","onTypingStarted","typingIndicator","onTypingEnded","chatSideBarBtnStyle","displayValue","sidebar","chatUserStyle","chatNameStyle","chatStatusStyle","typing","chatOptionStyle","ongoingCall","bgColor","CometChatMessageHeader","setStatusForUser","USER_STATUS","ONLINE","OFFLINE","lastActiveAt","lastActive","setStatusForGroup","membersText","updateHeader","groupUser","enableUserPresence","showTyping","typingText","resetChat","enableGroupVoiceCall","enableGroupVideoCall","enableOneOnOneVoiceCall","combinedResponse","enableOneOnOneVideoCall","enableAddGroupMembers","enableChangeScope","enableKickGroupMembers","enableBanGroupMembers","enableDeleteGroup","enableViewGroupMembers","enableLeaveGroup","enableSharedMedia","enableBlockUser","initiateAudioCall","initiateVideoCall","viewDetail","videoCallClassName","audioCallClassName","viewDetailClassName","chatWithClassName","chatNameClassName","chatStatusClassName","audioCallText","audioCallBtn","videoCallText","videoCallBtn","viewDetailText","viewDetailBtn","detailPaneIcon","menuIcon","MessageFilter","getCategories","getTypes","MessageListManager","messageRequest","limit","initializeMessageRequest","messageFilterManager","categoryList","typeList","MessagesRequestBuilder","setUID","setCategories","setTypes","hideReplies","setGUID","fetchPrevious","onMessagesDelivered","onTransientMessageReceived","chatListStyle","messageDateStyle","CometChatMessageList","lastScrollTop","times","scrollToBottom","messagesEnd","messageHandler","fetchMessages","messageList","messageCount","getUid","markAsRead","messages","fetchPreviousMessages","messageUpdated","onMessageReadAndDelivered","onMessageReceived","onGroupUpdated","onCallUpdated","updateEditedMessage","messageKey","m","messageObj","getReceiver","getReceiptType","deliveredAt","getDeliveredAt","readAt","getReadAt","reInitializeMessageBuilder","markMessageAsRead","messageReceivedHandler","customMessageReceivedHandler","getSenderMessageComponent","getReceiverMessageComponent","getSenderCustomMessageComponent","getReceiverCustomMessageComponent","getActionMessageComponent","getComponent","ifChatWindowChanged","cDate","dateSeparator","dateField","messageSentDate","timeStampInMilliSeconds","getMessageDate","paddingTop","SharedMediaManager","messagetype","mediaMessageListenerId","mediaMessageRequest","setCategory","sectionStyle","containerHeightProp","containerHeight","buttonStyle","activeBtn","itemStyle","itemTypeStyle","CometChatSharedMediaView","messageDeleted","messageReceived","filteredMessages","filter","getMessages","mediaClickHandler","fileIcon","UserDetailManager","userDetailStyle","headerStyle","headerCloseStyle","privacySectionStyle","sectionHeaderStyle","itemLinkStyle","userPresenceStyle","CometChatUserDetails","enableViewProfile","usersList","blockUsers","newType","newItem","unblockUser","unblockUsers","profileLink","link","closeDetailView","blockUserText","blockUserView","sharedmediaView","UserListManager","searchKey","userRequest","initializeUsersRequest","userListModeOptions","usersRequest","UsersRequestBuilder","setSearchKeyword","friendsOnly","contactWrapperStyle","contactHeaderStyle","contactHeaderCloseStyle","contactHeaderTitleStyle","contactSearchButtonStyle","CometChatUserList","toggleUserSearch","enableSearchUser","userUpdated","userlist","userKey","u","userObj","newUserObj","getUsers","val","fetchNextUsers","userListRef","newUserObject","currentLetter","chr","firstChar","selectedUser","clickHandler","searchUser","searchIcon","userListTemplate","userListWrapper","itemDescStyle","marginTop","CometChatUserListItem","userPresence","userScreenSidebarStyle","sidebarView","sidebarview","borderRight","userScreenMainStyle","CometChatUserListWithMessages","itemClicked","toggleSideBar","chatWithUser","messageScreen","creatingGroup","inputStyle","CometChatCreateGroup","enablePublicGroup","enablePasswordGroup","enablePrivateGroup","passwordChangeHandler","nameChangeHandler","typeChangeHandler","passwordInput","validate","groupName","createGroup","PRIVATE","Group","newGroup","populateGroupType","groupTypes","groupTypeSelect","groupTypeKeys","groupTypeListOptions","groupTypeKey","GroupDetailManager","groupMemberRequest","bannedGroupMemberRequest","GroupMembersRequestBuilder","BannedMembersRequestBuilder","deleteLink","deleteCss","CometChatGroupDetails","groupUpdated","updateGroupMemberPresence","member","updatedMember","addParticipants","removeParticipants","banMembers","unbanMembers","updateParticipants","memberlist","memberKey","k","memberObj","newMemberObj","bannedmemberlist","bannedMemberKey","bannedMemberObj","newBannedMemberObj","getGroupMembers","administratorslist","moderatorslist","fetchNextGroupMembers","getBannedGroupMembers","fetchNextBannedGroupMembers","deleteGroup","showDeleteConfirmDialog","showLeaveGroupConfirmDialog","showTransferOwnershipConfirmDialog","onLeaveConfirm","leaveGroup","onTransferConfirm","transferOwnership","owner","viewMember","addMember","membersActionHandler","members","updateOwnership","unbannedMembers","filteredBannedMembers","bannedmember","found","triggerUpdate","groupmembers","filteredMembers","groupmember","closeGroupDetail","addAdministrator","addModerator","viewMembersBtn","paddingBottom","addMembersBtn","deleteGroupBtn","bannedMembersBtn","leaveGroupBtn","viewMembers","loggedinuser","addMembers","GroupListManager","groupRequest","GroupsRequestBuilder","groupWrapperStyle","groupHeaderStyle","groupHeaderCloseStyle","groupHeaderTitleStyle","groupAddStyle","CometChatGroupList","enableSearchGroup","enableCreateGroup","enableJoinGroup","updateMemberChanged","updateMemberRemoved","updateMemberAddition","grouplist","groupKey","g","groupObj","newgroupObj","getGroups","newGroupObj","searchGroup","fetchNextGroups","groupList","createGroupHandler","createGroupActionHandler","groupListRef","Number","selectedGroup","createGroupBtn","groupListTemplate","groupListWrapper","itemIconStyle","CometChatGroupListItem","groupTypeIcon","shieldIcon","lockIcon","modalCaptionStyle","textAlignStyle","listHeaderStyle","nameColumnStyle","editAccess","scopeColumnStyle","actionColumnStyle","CometChatViewGroupMemberList","updateUserColumnTitle","userColumnTitle","matches","updateMembers","changeScope","memberToBan","banGroupMember","memberToKick","kickGroupMember","updateGroupMemberScope","setUserColumnTitle","matchMedia","addListener","modalRowStyle","borderLeft","participantView","avatarStyle","marginProp","displayProp","scopeIconStyle","kickIconStyle","CometChatViewGroupMemberListItem","toggleChangeScope","showChangeScope","scopeChangeHandler","updateMemberScope","contains","changeScopeDropDown","defaultValue","editClassName","changescope","ban","banIcon","kick","kickIcon","doneIcon","scopeIcon","AddMembersManager","membersRequest","initializeMembersRequest","modalCloseStyle","searchButtonStyle","modalListStyle","modalFootStyle","addingMembers","CometChatAddGroupMemberList","membersToAdd","membersToRemove","filteredlist","filteredUserList","foundbanned","membersUpdated","userState","IndexFound","membersList","newmember","newMember","GroupMember","addMembersToGroup","addGroupMemberBtn","addingIcon","firstLetter","changed","selectionBoxStyle","inactiveStateImg","activeStateImg","CometChatAddGroupMemberListItem","checked","setChecked","nameContainer","lastChild","inactiveIcon","activeIcon","htmlFor","roleColumnStyle","CometChatBanGroupMemberList","unbanMember","memberToUnBan","unbanGroupMember","membersToBan","membersToUnBan","userStyle","roleStyle","actionStyle","CometChatBanGroupMemberListItem","unBan","unban","groupScreenSidebarStyle","groupScreenMainStyle","CometChatGroupListWithMessages","otherProps","newObject","chatWithGroup","btnState","newGroupOwner","transferringOwnership","CometChatTransferOwnershipMemberList","changeOwnership","updateGroupOwner","transferGroupOwnership","memberList","transferBtn","transferText","transferIcon","modalColumnStyle","selectionColumnStyle","CometChatTransferOwnershipMemberListItem","handleCheck","toggleSelectedState","isSelected","chatWrapperStyle","viewdetailscreen","threadmessageview","secondaryViewWidth","chatSecondaryStyle","messagePaneUnreadBannerMessageStyle","textShadow","CometChatMessages","enableGroupActionMessages","enableCallActionMessages","enableSendingOneOnOneMessage","enableSendingGroupMessage","updateReplyCount","appendMessage","messageSent","triggerHandler","updateMessages","updateParentThreadedMessage","removeMessages","prependMessages","prependMessagesAndScrollToBottom","refreshingMessages","messageRefreshed","newMessagesArrived","jumpToMessages","messageEdited","clearEditPreview","appendCallMessage","toggleOriginalImageView","audioCall","videoCall","toggleDetailView","toggleReaction","liveReactionReceived","outgoingDirectCallRef","viewThreadedMessage","threadMessageComposed","closeThreadedMessage","appendMemberAddedMessage","appendMemberUnbannedMessage","appendMemberScopeChangedMessage","appendMemberKickedMessage","appendMemberBannedMessage","errorHandler","infoMessageHandler","infoCode","eachMember","viewOriginalImage","viewdetail","parentMessage","threaditem","threadmessageparent","threadmessageitem","threadmessagetype","Call","initiateCall","outgoingCall","outgoingCallRef","liveReaction","markMessagesAsRead","unreadMessage","messageListRef","messagelist","receivedMessage","composerRef","blockedUser","messageComposer","newMessageIndicator","liveReactionView","incomingCallView","incomingDirectCallView","outgoingDirectCallView","outgoingCallView","detailScreen","threadMessageView","activeTab","threadItem","threadType","originalImageView","messageComponent","messageWrapper","parentMessageStyle","messageSeparatorStyle","hr","CometChatMessageThread","parentMessageEdited","newReplyCount","getParentMessageComponent","seperator","replyText","fontWight","scrollbarWidth","CometChatReadReceipt","toggleReadReceipts","receipts","ticks","receiptText","errorTick","sendingTick","greyTick","blueDoubleTick","greyDoubleTick","receipt","getMessageSentTime","CometChatReceiverAudioMessageBubble","controls","CometChatReceiverDirectCallBubble","messageTitle","joinCallMessage","messageFileWrapperStyle","textDecoration","label","CometChatReceiverFileMessageBubble","CometChatReceiverImageMessageBubble","chooseImage","thumbnailGenerationObject","smallUrl","imageToDownload","thumbnailGenerationData","imageName","imageUrl","downloadImage","setMessageImageUrl","imgUrl","xhr","XMLHttpRequest","responseType","readyState","statusText","onerror","Error","ontimeout","send","showVariation","emojiProp","zoom","CometChatReceiverTextMessageBubble","getMessageText","formattedText","emojiParsedMessage","twemoji","folder","ext","parsedMessage","enableLargerSizeEmojis","translatedMessage","translateToLanguage","browserLanguageArray","linkPreviewData","CometChatReceiverVideoMessageBubble","CometChatSenderAudioMessageBubble","getFileData","Blob","fileName","fileUrl","fileData","CometChatSenderDirectCallBubble","CometChatSenderFileMessageBubble","CometChatSenderImageMessageBubble","readAsDataURL","heightProp","CometChatSenderTextMessageBubble","messageTextRef","CometChatSenderVideoMessageBubble","replyCountStyle","CometChatThreadedMessageReplyCount","reply","setReply","replies","bockedSubTitleStyle","unblockButtonStyle","CometChatBlockedUser","chatWith","chatScreenSidebarStyle","chatScreenMainStyle","CometChatConversationListWithMessages","tab","userInfoScreenStyle","userStatusStyle","CometChatUserProfile","googleLogout","reload","userProfile","isActive","activeStateBg","itemLinkTextStyle","colorProp","CometChatNavBar","tabListKeys","getFilteredTabs","filteredTabs","promises","enableChats","enableUsers","enableGroups","enableSettings","allSettled","eachTabKey","tabKey","tabEnabled","tabChanged","getActiveTab","getTabList","chatsTabActive","userTabActive","groupsTabActive","moreTabActive","chatGreyIcon","contactGreyIcon","groupGreyIcon","moreGreyIcon","tabName","t","unifiedSidebarStyle","unifiedMainStyle","CometChatUI","navBarAction","fromNotification","isUserNotification","isGroupNotification","notificationFor","isCallNotification","isChatNotification","navBarRef","BroadcastChannel","onmessage","baseMessage","processMessage","incomingCallScreen","history","createBrowserHistory","App","isLoggedin","exact","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","initialState","authStart","authLogout","setAuthRedirectPath","reducer","messaging","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","onMessage","store","createStore","compose","applyMiddleware","thunk","appID","region","appSetting","AppSettingsBuilder","subscribePresenceForAllUsers","setRegion","init","setSource","getToken","ReactDOM","clientId","getElementById","URL","process","origin","fetch","contentType","headers","get","ready","unregister","checkValidServiceWorker"],"mappings":"kTAKMA,E,4JAEF,WAAU,IAAD,OAEL,OAAGC,KAAKC,MAAMC,WACH,cAAC,IAAD,CAAOC,KAAMH,KAAKC,MAAME,KAAMC,OAAQ,SAAAH,GAAK,OAAI,cAAC,EAAKA,MAAMI,UAAZ,eAA0B,EAAKJ,WAE7E,cAAC,IAAD,CAAUK,GAAI,CAAEC,SAAU,SAAUC,MAAO,CAAEC,KAAMT,KAAKC,MAAMS,iB,GAPvDC,IAAMC,WAkBlBC,eANS,SAAAL,GACpB,MAAO,CACHN,WAAYM,EAAMN,cAIe,KAA1BW,CAAgCd,GCvBlCe,EACJ,mBADIA,EAEJ,KAFIA,EAGF,2C,eCHEC,EAAa,aACbC,EAAe,eACfC,EAAY,YACZC,EAAc,cAEdC,EAAyB,yB,OCKzBC,EAAc,SAACC,GACxB,MAAO,CACHC,KAAMC,EACNF,KAAMA,EACNnB,YAAY,IAIPsB,EAAW,SAACC,GACrB,MAAO,CACHH,KAAMC,EACNE,MAAOA,IAWFC,EAAS,WAClB,OAAO,SAAAC,GACHC,YAAUF,SAASG,MAAM,WACrBF,EATD,CACHL,KAAMC,EACNO,iBAAkB,WAQdC,aAAaC,WAAW,uBAMvBC,EAAO,SAACC,EAAKC,GAEtB,OAAO,SAAAR,GAEHA,EAzCG,CACHL,KAAMC,IA0CNK,YAAUQ,MAAMF,EAAKC,GAASN,MAAK,SAACR,GAEhC,GAAGA,EAAM,CACLM,EAASP,EAAYC,IACrB,IAAIgB,EAAQC,OAAOP,aAAaQ,QAAQ,kBACxCX,YAAUY,iCAAiCH,GAAOR,MAC9C,SAAAY,GACIC,QAAQC,IAAIF,WAIpBd,EAASH,EAASH,OAGvBuB,OAAM,SAAAnB,GACLiB,QAAQC,IAAI,wBAAyBlB,GACrCE,EAASH,EAASC,S,QCtCxBoB,EAAMC,EAAQ,IACdC,E,kDAEJ,WAAY9C,GAAQ,IAAD,8BACjB,cAAMA,IASRmC,MAAQ,SAACF,GAEHA,IACFA,EAAM,EAAKc,MAAMC,QAAQC,OAG3B,EAAKhB,IAAMA,EACX,EAAKjC,MAAMkD,QAAQ,EAAKjB,IAAKpB,IAjBZ,EAoBnBsC,cAAgB,SAACC,GACf,IAAIC,EAAcC,YAAWF,EAASG,YAElCtB,EAAMW,EAAIS,EAAYG,OACtBC,EAAOJ,EAAYI,KACnBC,EAASL,EAAYM,QAErBvC,EAAO,IAAIO,YAAUiC,KAAK3B,EAAKwB,GACnCrC,EAAKyC,UAAUH,GAEf/B,YAAUmC,WAAW1C,EAAMP,GAA8Be,MACvD,SAAAR,GACEqB,QAAQC,IAAI,4BAA6BtB,GACzC,EAAKe,MAAMF,MACV,SAAAT,GACiB,2BAAfA,EAAMuC,MACP,EAAK5B,MAAMF,OApCA,EA0CnB+B,cAAgB,SAACZ,GACf,EAAKa,SAAS,CAACC,oBAAoB,IACnCzB,QAAQC,IAAI,UAAWU,IAzCvB,EAAK7C,MAAQ,CACd2D,oBAAoB,GAGnB,EAAKnB,MAAQrC,IAAMyD,YAPF,E,0CA+CnB,WAEE,IAAIC,EAAS,KACTrE,KAAKC,MAAMqE,UACbD,EAAU,mBAAKE,UAAU,WAAf,eAGZ,IAAIC,EAAe,KACfxE,KAAKC,MAAMwB,QACb+C,EAAgB,iBAAGC,ICzEd,CACHC,SAAU,OACVC,MAAO,MACPC,MAAO,OACPC,UAAW,WDqE0B7E,KAAKC,MAAMwB,MAAMqD,UAGtD9E,KAAKQ,MAAM2D,qBACbK,EAAgB,iBAAGC,IC7Ed,CACHC,SAAU,OACVC,MAAO,MACPC,MAAO,OACPC,UAAW,WDyEG,0BAGlB,IAAIE,EAAe,KAKnB,OAJI/E,KAAKC,MAAMC,aACb6E,EAAe,YAAC,IAAD,CAAUzE,GAAG,mBAI5B,YAAC,IAAM0E,SAAP,KACA,YAAC,IAAD,CAAQC,OEnGU,mqEFoGlB,mBAAKR,IClGA,CACHS,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,WD+FbN,EACAV,EACAG,EACD,iBAAGC,IClFF,CACHC,SAAU,OACVC,MAAO,UACPC,MAAO,OACPC,UAAW,WD8ET,kCACA,uBACA,mBAAKJ,ICrBJ,CACHS,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChB,IAAO,CACHT,MAAO,UDgBP,mBAAKH,ICQN,CACHS,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChB,OAAU,CACNC,QAAS,OACTC,gBAAiB,OACjBC,aAAc,OACdb,MAAO,QACPc,QAAS,YACT,UAAW,CACPC,OAAQ,cDlBV,YAAC,IAAD,CACEC,UAAW3F,KAAKoD,cAChBwC,QAAS5F,KAAKiE,wB,GAnFDtD,IAAMkF,eA2GpBhF,eAdS,SAAAL,GACtB,MAAO,CACL8D,QAAS9D,EAAM8D,QACf7C,MAAOjB,EAAMiB,MACbvB,WAAYM,EAAMN,eAIK,SAAAyB,GACzB,MAAO,CACLwB,QAAS,SAAEjB,EAAKC,GAAP,OAAoBR,EAAUmE,EAAc5D,EAAKC,QAI/CtB,CAAgDkC,GG1HzDgD,E,4JACL,WACC,IAAIhB,EAAe,KAOnB,OAHCA,EAHI/E,KAAKC,MAAMC,WAGA,YAAC,IAAD,CAAUI,GAAG,kBAFb,YAAC,IAAD,CAAUA,GAAG,WAM5B,mBAAKmE,ICpBG,CACHS,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBT,MAAO,SDgBVG,O,GAXkBpE,IAAMC,WA+BdC,eAdS,SAAAL,GACvB,MAAO,CACN8D,QAAS9D,EAAM8D,QACf7C,MAAOjB,EAAMiB,MACbvB,WAAYM,EAAMN,eAIO,SAAAyB,GAC1B,MAAO,CACNqE,SAAU,kBAAMrE,EAASmE,SAIZjF,CAA6CkF,GE3C/CE,EAAwB,wBACxBC,EAAyB,yBACzBC,EAA0B,0BAC1BC,EAAoB,sBACpBC,EAAe,iBACfC,EAAkB,mBAClBC,EAAiB,kBACjBC,EAA6B,6BAE7BC,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAyB,yBACzBC,GAA0B,0BAE1BC,GAA6B,4BAC7BC,GAAsB,sBACtBC,GAAsB,sBACtBC,GAAwB,wBACxBC,GAAqB,uBACrBC,GAAoB,oBACpBC,GAAsB,sBAEtBC,GAAc,eACdC,GAAe,gBAEfC,GAAiB,kBACjBC,GAAe,gBAEfC,GAAmB,iBACnBC,GAAsB,oBACtBC,GAAuB,qBACvBC,GAAyB,uBACzBC,GAAsB,UAEtBC,GAAY,CACxBC,OAAQ,mBACRC,WAAY,uBACZC,kBAAmB,IACnBC,2BAA4B,gBAC5BC,eAAgB,CAAEC,MAAO,wBAAyBC,SAAU,eAAMC,KAAM,eAAMC,KAAM,gBACpFC,mBAAoB,WACpBC,mBAAoB,WACpBC,yBAA0B,mBAC1BC,yBAA0B,mBAC1BC,wBAAyB,kBACzBC,wBAAyB,kBACzBC,MAAO,CACNC,iBAAkB,kBAClBC,uBAAwB,uBACxBC,iBAAkB,kBAClBC,cAAe,eACfC,cAAe,gBAEhBC,YAAa,CACZC,qBAAsB,wBAEvBC,MAAO,CACNC,aAAc,gBACdC,wBAAyB,+BACzBC,wBAAyB,qCAE1BC,OAAQ,CACPC,MAAO,SAERC,uBAAwB,KACxBC,cAAe,QAGHC,GAAU,CACtBC,aAAc,cACdC,iBAAkB,kBAClBC,yBAA0B,wBAC1BC,mBAAoB,mBACpBC,iBAAkB,iBAClBC,kBAAmB,kBACnBC,kBAAmB,kBACnBC,aAAc,cACdC,cAAe,eACfC,WAAY,YACZC,cAAe,eACfC,YAAa,aACbC,sBAAuB,sBACvBC,uBAAwB,uBACxBC,eAAgB,gBAChBC,kBAAmB,kBACnBC,mBAAoB,mBACpBC,0BAA2B,4BAC3BC,eAAgB,gBAChB1E,gBAAiB,iBACjB2E,aAAc,cACd1E,eAAgB,gBAChB2E,mBAAoB,mBACpBC,kBAAmB,kBACnBC,oBAAqB,oBACrBC,oBAAqB,oBACrBC,gCAAiC,oBACjCC,iBAAkB,MAClBC,kBAAmB,OACnBC,wBAAyB,iBACzBC,yBAA0B,kBAC1BC,0BAA2B,cAC3BC,mBAAoB,QACpBC,yBAA0B,kBAC1BC,2BAA4B,0BAC5BC,2BAA4B,oBAC5BC,iBAAkB,iBAClBC,oBAAqB,oBACrBC,oBAAqB,oBACrBC,WAAY,YACZC,aAAc,cACdC,wBAAyB,wBACzBC,mBAAoB,eACpBC,mBAAoB,eACpBC,mBAAoB,eACpBC,mBAAoB,mBACpBC,iBAAkB,kBAClBvG,wBAAyB,wBACzBE,aAAc,cACdsG,uBAAwB,sBACxBC,iBAAkB,iBAClBC,oBAAqB,qBACrBC,mBAAoB,mBACpBC,aAAc,qBACdC,sBAAuB,sBACvBC,iBAAkB,iBAClBC,iBAAkB,iBAClBxG,uBAAwB,uBACxBC,uBAAwB,uBACxBwG,wBAAyB,wBACzBC,uBAAwB,uBACxBC,uBAAwB,uBACxBC,WAAY,YACZC,iBAAkB,iBAClBC,eAAgB,eAChBC,oBAAqB,qBACrBC,qBAAsB,sBACtBC,aAAc,cACdC,uBAAwB,uBACxBC,MAAO,gBACPC,KAAM,cACNC,kBAAmB,oBAGPC,GACE,qBADFA,GAEW,sBAIXC,GACF,WADEA,GAEY,uBCnJZC,GAAb,iDAEIC,eAAiB,kBAAmB,IAAIC,MAAOC,UAFnD,mDAII,SAAgBC,GAEZ1M,YAAU2M,gBACNvO,KAAKmO,eACL,IAAIvM,YAAU4M,aAAa,CACvBC,uBAAwB,SAAAC,GACpBJ,EAASK,EAA8BD,IAE3CE,wBAAyB,SAAAF,GACrBJ,EAASK,GAA+BD,IAE5CG,uBAAwB,SAAAH,GACpBJ,EAASK,EAA8BD,SAhB3D,6BAsBI,WACI9M,YAAUkN,mBAAmB9O,KAAKmO,oBAvB1C,K,QCJaY,GAAQ,CACjBC,WAAY,oBACZtK,SAAU,OACVuK,aAAc,OACdC,mBAAoB,UACpBvK,MAAO,CACHwK,QAAS,UACTC,UAAW,UACXC,cAAe,UACfC,OAAQ,wBACRC,SAAU,wBACVC,KAAM,sBACNC,SAAU,wBACVC,KAAM,OACNC,MAAO,OACPC,IAAK,WAETC,YAAa,CACTV,QAAS,UACTC,UAAW,UACXC,cAAe,UACfM,MAAO,OACPD,KAAM,QAEVnK,gBAAiB,CACboK,MAAO,OACPR,QAAS,UACTC,UAAW,UACXM,KAAM,OACNE,IAAK,UACLJ,KAAM,sBACNM,UAAW,yBACXC,SAAU,qBACVC,eAAgB,UAChBC,OAAQ,WAEZC,YAAa,CACT,4CACA,4CACA,4CACA,6CACA,gDC5BFC,G,kDAEL,WAAYlQ,GAAQ,IAAD,8BAClB,cAAMA,IA2BPmQ,eAAiB,WAEhB,GAAK,EAAKnQ,MAAMoQ,MAAOC,OAAOC,OAE7B,EAAKC,SAAS,EAAKvQ,MAAMoQ,YAEnB,GAAII,OAAOC,KAAK,EAAKzQ,MAAMoB,MAAMkP,OAEvC,GAAI,EAAKtQ,MAAMoB,KAAKsP,eAAe,UAAW,CAE7C,IAAMC,EAAc,EAAK3Q,MAAMoB,KAAKsC,OACpC,EAAK6M,SAASI,OAER,CAEN,IAAM1O,EAAM,EAAKjC,MAAMoB,KAAKa,IACtB2O,EAAO,EAAK5Q,MAAMoB,KAAKqC,KAAKoN,OAAO,GAAGC,cAEtCH,EAAc,EAAKI,eAAe9O,EAAK2O,GAC7C,EAAKL,SAASI,QAGT,GAAIH,OAAOC,KAAK,EAAKzQ,MAAMgR,OAAOV,OAExC,GAAI,EAAKtQ,MAAMgR,MAAMN,eAAe,QAAS,CAE5C,IAAMC,EAAc,EAAK3Q,MAAMgR,MAAMC,KACrC,EAAKV,SAASI,OAER,CAEN,IAAMO,EAAO,EAAKlR,MAAMgR,MAAME,KACxBN,EAAO,EAAK5Q,MAAMgR,MAAMvN,KAAKoN,OAAO,GAAGC,cAEvCH,EAAc,EAAKI,eAAeG,EAAMN,GAC9C,EAAKL,SAASI,KA/DE,EAqEnBJ,SAAW,SAACH,GAEX,IAAIe,EAAM,IAAIC,MACdD,EAAIE,IAAMjB,EACVe,EAAIG,OAAS,WAER,EAAKC,YACR,EAAKtN,SAAS,CAAE0M,YAAaP,MA5Eb,EAkFnBW,eAAiB,SAACS,EAAWC,GAE5B,IAeMC,EAASC,SAASC,cAAc,UAChCC,EAAUH,EAAOI,WAAW,MAgBlC,OAdAJ,EAAO/M,MAAQ,IACf+M,EAAOK,OAAS,IAGhBF,EAAQG,UAtBe,SAAUC,GAGhC,IADA,IAAIC,EAAO,EACFC,EAAI,EAAGA,EAAIF,EAAI3B,OAAQ6B,IAC/BD,EAAOD,EAAIG,WAAWD,KAAOD,GAAQ,GAAKA,GAI3C,IADA,IAAIG,EAAS,IACJF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAE3BE,IAAW,MADEH,GAAa,EAAJC,EAAU,KACRG,SAAS,KAAKC,QAAQ,GAE/C,OAAOF,EAUYG,CAAehB,GACnCK,EAAQY,SAAS,EAAG,EAAGf,EAAO/M,MAAO+M,EAAOK,QAG5CF,EAAQa,KAAO,iCACfb,EAAQG,UAAY,QACpBH,EAAQjN,UAAY,SACpBiN,EAAQc,aAAe,SACvBd,EAAQe,SAASnB,EAAMC,EAAO/M,MAAQ,EAAG+M,EAAOK,OAAS,GAElDL,EAAOmB,UAAU,cAjHxB,EAAKC,OAASpS,IAAMyD,YACpB,EAAKoN,YAAa,EAClB,EAAKhR,MAAQ,CACZoQ,YCrBY,0JDeK,E,qDAUnB,WAEC5Q,KAAKwR,YAAa,EAClBxR,KAAKoQ,mB,gCAGN,SAAmB4C,GAEfA,IAAchT,KAAKC,OAErBD,KAAKoQ,mB,kCAIP,WACCpQ,KAAKwR,YAAa,I,oBA8FnB,WAAU,IAAD,OAEFyB,EAAcjT,KAAKC,MAAMgT,YACzBC,EAAclT,KAAKC,MAAMiT,YACzBrD,EAAc7P,KAAKC,MAAM4P,YACzBsD,EAAenT,KAAKC,MAAMkT,aAIhC,OACC,mBAAK7B,IAAKtR,KAAKQ,MAAMoQ,YAAanM,IE9I1B,CACH2O,SAAU,SACVlO,QAAS,UACTN,MAAO,OACPoN,OAAQ,QF0IsCqB,IAAKrT,KAAKQ,MAAMoQ,YAAa0C,MAHzD,CAAEL,YAAaA,EAAaC,YAAaA,EAAarD,YAAaA,EAAarK,aAAc2N,GAGlBI,IAAK,SAAAC,GAAQ,EAAKT,OAASS,S,GAnInG7S,IAAMC,WAyIpCuP,GAAgBsD,aAAe,CAC9BR,YAAa,MACbC,YAAa,QACbrD,YAAad,GAAMc,YAAYV,QAC/BgE,aAAc,MACdpE,MAAOA,GACPsB,MAAO,GACPhP,KAAM,GACN4P,MAAO,IG9JD,IAAMyC,GAAgB,SAACzT,GAE1B,OAAO,aACH0T,OAAQ,IACRpO,gBAAiB,OACjBqO,QAAS,KACTC,SAAU,QACVjP,MAAO,OACPoN,OAAQ,OACR8B,IAAK,IACLC,KAAM,IACNrO,OAAQ,UACRsO,WAAY,6BACT/T,EAAMqT,QCJXW,GAAoB,SAAAhU,GAAK,OAAKA,EAAMiU,KAAO,mBAAKzP,IAAKiP,GAAczT,GAAQsE,UAAU,kBAAkB4P,QAASlU,EAAMmU,UAAkB,MAG9IH,GAAkBR,aAAe,CAChCS,MAAM,EACNZ,MAAO,GACPc,QAAS,cCfH,IAAMC,GAAa,SAACpU,GAEvB,MAAO,CACHiF,QAAS,QACTR,SAAU,OACVE,MAAO,OACPoN,OAAQ,OACRxM,aAAc,OACdD,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAME,cAChCtK,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5B9K,UAAW,SACXyP,WAAY,MACZC,WAAY,OACZC,WAAY,MACZ/O,QAAS,QACTgP,YAAa,MACbb,QAAS,IACTI,WAAY,gBCTdU,GAAsB,SAACzU,GAE5B,IAAI0U,EAAa,KAQjB,OANG1U,EAAM2U,QACRD,EACC,oBAAMlQ,IAAK4P,GAAWpU,GAAQsE,UAAU,gBAAgBtE,EAAM2U,QAIzDD,GAIRD,GAAoBjB,aAAe,CAClCmB,MAAO,EACP7F,MAAOA,I,aCxBK8F,GAAgB,SAAC5U,GAE1B,IAAI6U,EAAiB,CACjBvP,gBAAiB,WASrB,MANqB,WAAjBtF,EAAM8U,QAAwC,cAAjB9U,EAAM8U,SACnCD,EAAiB,CACbvP,gBAAiB,YAIlB,aACHX,MAAO,MACPoN,OAAQ,MACR8B,IAAK,QACLkB,MAAO,QACPnB,SAAU,YACPiB,ICRLG,GAAwB,SAAAhV,GAE7B,IAAM6R,EAAUnR,IAAMuU,WAAWC,IAC9B,EAAgCxU,IAAMyU,UAAS,GAA/C,oBAAOC,EAAP,KAAiBC,EAAjB,KAsBH,GAHG3U,IAAM4U,WAjBiB,WAEnBzD,EAAQ0D,mBAAmBC,wBAAwB5T,MAAK,SAAAwB,GAEhDA,IAAagS,GACbC,EAAYjS,MAGjBT,OAAM,SAAAnB,IAEY,IAAb4T,GACAC,GAAY,UASV,IAAbD,EACH,OAAO,KAGR,IAAMpC,EAAchT,EAAMgT,YACpBpD,EAAc5P,EAAM4P,YACpBsD,EAAelT,EAAMkT,aAI3B,OAAO,oBAAM1O,IAAKoQ,GAAc5U,GAAQsE,UAAU,WAAW+O,MAFrC,CAACL,YAAaA,EAAaC,YAAa,QAASrD,YAAaA,EAAarK,aAAc2N,MAMlH8B,GAAsBxB,aAAe,CACpCR,YAAa,MACbpD,YAAa,UACbsD,aAAc,O,IClCTuC,GAAe,CACpBC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACAC,G,MACA,Q,MACAC,G,MACAC,G,MACAC,G,OAGKC,G,iGA4DF,SAAoBC,GAChB,OAAOzW,KAAK0W,aAAaC,SAASF,GAAY,MAAQ,Q,uBAG1D,SAAiBvE,EAAKuE,GAElB,GAAIf,GAAa/E,eAAe8F,GAAW,CAEvC,IAAMG,EAAalB,GAAae,GAChC,OAAIG,EAAWjG,eAAeuB,GACnB0E,EAAW1E,GAGfA,EAIP,IAAM0E,EAAalB,GAAa1V,KAAK6W,iBACrC,OAAID,EAAWjG,eAAeuB,GACnB0E,EAAW1E,GAGfA,M,KAlFbsE,GAEKM,IAAMnI,GAAA,OAFX6H,GAGKE,aAAe,CAAC,MAHrBF,GAIKK,gBAAkB,KAJvBL,GAMKO,YAAc,WAEjB,OAAOhV,aAAaQ,QARtBiU,GAQmCM,MARnCN,GAWKQ,YAAc,SAACP,GAElB,IAAMQ,EAbRT,GAaoBM,IAClB/U,aAAamV,QAAQD,EAAMR,IAd7BD,GAiBKW,mBAAqB,kBAAQC,UAAUC,WAAaD,UAAUC,UAAU,IAAOD,UAAUX,UAAYW,UAAUE,cAjBpHd,GAmBKe,mBAAqB,WAGxB,IAAMC,EAtBRhB,GAsB6BO,cAGrBU,EAAsBjB,GAAWW,qBAAqBO,cACxDC,EAAkBF,EAGM,UAAxBA,IAAyE,IAAtCA,EAAoBG,QAAQ,OAG/DD,EAD6BF,EAAoBI,MAAM,KAChB,IAI3C,OAAIL,EAEIA,IAAkBG,GAtC5BnB,GAwCeQ,YAAYW,GAGTjC,GAAa/E,eAAegH,GAAoBA,EA3ClEnB,GA2CyFK,iBAKvEnB,GAAa/E,eAAegH,GAAoBA,EAhDlEnB,GAgDyFK,iBAhDzFL,GAqDWQ,YAAYW,GAGTjC,GAAa/E,eAAegH,GAAoBA,EAxD9DnB,GAwDqFK,kBA+B5EL,UC7DFsB,GAAoB,SAAC7X,EAAOO,GAErC,IAAIuX,EAAsB,CACtBxS,gBAAiB,QA2BrB,MAzBmB,UAAf/E,EAAMc,KAENyW,EAAsB,CAClBxS,gBAAiB,WAGC,YAAf/E,EAAMc,KAEbyW,EAAsB,CAClBxS,gBAAiB,WAGC,SAAf/E,EAAMc,KAEbyW,EAAsB,CAClBxS,gBAAiB,WAGC,YAAf/E,EAAMc,OAEbyW,EAAsB,CAClBxS,gBAAiB,YAIlB,yBACHyO,WAAY,WACZH,SAAU,WACVmE,cAAe,OACf5E,SAAU,SACV3N,QAAS,MACTwS,aAAc,OACdvT,SAAU,OACVE,MAAO,OACPsT,UAAW,OACXC,UAAW,gBACXxT,MAAO,QACJoT,GAZP,IAaIK,mBAAoB,OACpBC,iBAAkB,YAClBnT,QAAS,OACTC,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZkT,UAAW,gBAkDNC,GAAY,SAACnH,EAAKrC,GAE3B,MAAO,CACHnK,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAMpK,MAAMgL,SCvKzB,OAA0B,gDCA1B,OAA0B,6CCA1B,OAA0B,2CCA1B,OAA0B,wCCyB5B8I,GAAb,kDAUI,WAAYxY,GAAQ,IAAD,8BAEf,cAAMA,IAaVyY,qBAAuB,WAEnB,EAAKlH,YAAa,EAClB,EAAKmH,oBAlBU,EAqBnBC,QAAU,SAAC9T,GAEH,EAAK0M,aAEL,EAAKtN,SAAS,CAAE5C,KAAM,OAAQwD,QAASA,EAASoM,KAAM2H,KACtD,EAAKC,mBA1BM,EA8BnBC,SAAW,SAACjU,GAEJ,EAAK0M,YAEL,EAAKtN,SAAS,CAAE5C,KAAM,QAASwD,QAASA,EAASoM,KAAM8H,MAlC5C,EAuCnBC,WAAa,SAACnU,GAEN,EAAK0M,aAEL,EAAKtN,SAAS,CAAE5C,KAAM,UAAWwD,QAASA,EAASoM,KAAMgI,KACzD,EAAKJ,mBA5CM,EAgDnBK,WAAa,SAACrU,GAEN,EAAK0M,aAEL,EAAKtN,SAAS,CAAE5C,KAAM,UAAWwD,QAASA,EAASoM,KAAMkI,KACzD,EAAKN,mBArDM,EAyDnBA,eAAiB,WAEb,EAAKH,mBAED,EAAK1Y,MAAMoZ,aACX,EAAKC,SAAWC,YAAW,kBAAM,EAAKC,gBAAe,EAAKvZ,MAAMwZ,eA9DrD,EAkEnBd,iBAAmB,WACfe,aAAa,EAAKJ,WAnEH,EAsEnBE,YAAc,WACV,EAAKtV,SAAS,CAAE5C,KAAM,GAAIwD,QAAS,GAAIoM,KAAM,MAnE7C,EAAKM,YAAa,EAClB,EAAKhR,MAAQ,CACTc,KAAM,GACNwD,QAAS,IAPE,EAVvB,qDAqBI,WACI9E,KAAKwR,YAAa,IAtB1B,oBAoFI,WAEI,IAAKxR,KAAKQ,MAAMc,KAAKgP,OAAOC,SAAWvQ,KAAKQ,MAAMsE,QAAQwL,OAAOC,OAC7D,OAAO,KAGX,IAAMoJ,EAAgB,iCAA6BlB,EAA2BmB,MAAM5Z,KAAKQ,MAAMc,OACzFuY,EAAa,2BAAuBpB,EAA2BmB,MAAM5Z,KAAKQ,MAAMc,OAClFwY,EAAa9Z,KAAKQ,MAAM0Q,KAAKZ,OAAOC,OAEpC,mBAAK9L,ILHN,CACHgQ,YAAa,OACb7P,MAAO,OACPoN,OAAQ,OACR+H,WAAY,IACZ,IAAO,CACHC,SAAU,SKHyBzV,UAAWsV,GAC1C,iBAAGpV,IAAK8T,GAAUvY,KAAKQ,MAAM0Q,KAAMlR,KAAKC,MAAM8O,OAAQkL,MAAOzD,GAAW0D,UAAU,QAASla,KAAKC,MAAMka,SAE1G,KAEJ,OACI,mBAAK1V,KAAgCzE,KAAKC,MAAOma,IL7ElD,CACH1V,SAAU,OACV4T,UAAW,aACXzE,SAAU,WACVF,OAAQ,IACR/O,MAAO,MACPoV,SAAU,QACVlG,IAAK,OACLC,KAAM,MACNsG,UAAW,uBKoEsD9V,UAAU,uBACnE,mBAAKE,IAAKqT,GAAkB9X,KAAKC,MAAOD,KAAKQ,OAAQ+D,UAAU,oBAC1DuV,EACD,mBAAKrV,ILCd,CACHG,MAAO,qBKFoDL,UAAWoV,GACtD,iBAAGlV,ILOhB,CACH6V,OAAQ,IACRzV,UAAW,OACX2P,WAAY,SKVyCgC,GAAW0D,UAAUla,KAAKQ,MAAMsE,QAAS9E,KAAKC,MAAMka,QAE7F,sBAAQ1V,ILcjB,CACHG,MAAO,OACPoN,OAAQ,OACRvM,QAAS,IACT8U,OAAQ,OACRjV,QAAS,OACTC,gBAAiB,cACjBG,OAAO,WACP,IAAO,CACHqU,WAAY,IACZC,SAAU,SKxB2C1Y,KAAK,SAAS6S,QAASnU,KAAKwZ,YAAajV,UAAU,gBAC5F,iBAAGE,IAAK8T,GAAUiC,GAAWxa,KAAKC,MAAM8O,OAAQkL,MAAOzD,GAAW0D,UAAU,QAASla,KAAKC,MAAMka,eA3GxH,GAAgDxZ,IAAMC,WAAzC6X,GAGFmB,MAAQ,CACX,KAAQ,OACR,QAAW,UACX,QAAW,UACX,MAAS,SA4GjBnB,GAA2BhF,aAAe,CACzCnS,KAAM,GACNwD,QAAS,GACToM,KAAM,GACN2C,SAAU,SACVwF,YAAY,EACZI,YAAa,IACbU,KAAM3D,GAAWe,qBACjBxI,MAAOA,ICpJD,IAyBM0L,GAAmB,SAACxa,GAChC,MAAO,CACNiF,QAAS,OACTC,cAAe,MACfE,eAAgB,SAChBD,WAAY,SACZkV,OAAQ,aACR,WAAY,CACX7U,QAAS,WACT6U,OAAQ,QACR9U,aAAc,MACdd,SAAU,OACV4P,WAAY,MACZiG,OAAO,aAAD,OAAeta,EAAM8O,MAAME,eAElC,sBAAuB,CACtB1J,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAME,cAChCtK,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,QAE7B,qBAAsB,CACrBpK,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgB6J,cCnC7CsL,G,4JAEF,WAAU,IAAD,MDZoBza,ECcnB0a,EAAoB,UAAA3a,KAAKC,aAAL,SAAY0a,kBAAoB3a,KAAKC,MAAM0a,kBAAoBnE,GAAW0D,UAAU,MAAOla,KAAK8R,QAAQ2E,UAC5HmE,EAAmB,UAAA5a,KAAKC,aAAL,SAAY2a,iBAAmB5a,KAAKC,MAAM2a,iBAAmBpE,GAAW0D,UAAU,KAAMla,KAAK+R,aAAa0E,UAEnI,OACI,YAAC,IAAMzR,SAAP,KACI,YAAC,GAAD,CAAmBkP,MAAM,EAAMZ,MAAO,CAACO,SAAS,YAAaO,QAASpU,KAAKC,MAAM4a,QACjF,mBAAKtW,UAAU,kBAAkBE,KDpBhBxE,ECoBuCD,KAAKC,MDnBrE,CACN2E,MAAO,oBACPoN,OAAQ,OACRzM,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,OAChDkE,SAAU,WACVyG,OAAQ,SACR7U,QAAS,OACTf,SAAU,OACVc,aAAc,MACd+U,OAAQ,iBACR5G,OAAQ,IACRG,IAAK,MACLC,KAAM,IACN+G,MAAO,IACPT,UAAW,sBCMO,mBAAK9V,UAAU,mBAAmBE,KAAuBzE,KAAKC,MDD1E,CACN4E,UAAW,YCAO,UAAuE7E,KAAKC,aAA5E,aAAuE,EAAY6E,SACnF,mBAAKP,UAAU,mBAAmBE,IAAKgW,GAAiBza,KAAKC,QACzD,sBAAQqB,KAAK,SAAS4B,MAAM,KAAKiR,QAASnU,KAAKC,MAAMkU,SAAUyG,GAC/D,sBAAQtZ,KAAK,SAAS4B,MAAM,MAAMiR,QAASnU,KAAKC,MAAMkU,SAAUwG,U,GAdnDha,IAAMC,W,SCR9Bma,GAAb,aAqBC,aAAe,IAAD,gCAmHdC,YAAc,SAAAC,GACb,EAAKA,SAAWA,GApHH,KAuHdC,aAAe,SAAAC,GACd,EAAKA,UAAYA,GAxHJ,KA2HdC,QAAU,SAAAC,GACT,EAAKC,KAAOD,GA5HC,KA+HdE,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GAhIP,KAmIdC,SAAW,SAAAC,GACV,EAAKA,MAAQA,GApIA,KAuIdC,SAAW,SAAAC,GACV,EAAKA,MAAQA,GAxIA,KA2IdC,SAAW,SAAAC,GACV,EAAKA,MAAQA,GA5IA,KA+IdC,UAAY,SAAAC,GACX,EAAKA,OAASA,GAhJD,KAmJdC,gBAAkB,SAAAC,GACjB,IAAKA,EAAO5L,OAAOC,OAClB,OAAO,EAGR,IAAM4L,EAAoB,EAAKC,iBAAiBrB,EAAcsB,sBAAuBH,GACjFC,IACH,EAAKG,aAAevB,EAAcsB,sBAAsBF,KA1J5C,KA8JdI,gBAAkB,SAAAL,GACjB,IAAKA,EAAO5L,OAAOC,OAClB,OAAO,EAGR,IAAMiM,EAAoB,EAAKJ,iBAAiBrB,EAAc0B,sBAAuBP,GACjFM,IACH,EAAKE,aAAe3B,EAAc0B,sBAAsBD,KArK5C,KAyKdG,iBAAmB,aAzKL,KA2KdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GA5KR,KA+KdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GAhLT,KAmLdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GApLR,KAuLdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GAxLT,KA2LdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GA5LN,KA+LdC,yBAA2B,SAAAC,GAC1B,EAAKA,sBAAwBA,GAhMhB,KAmMdC,sBAAwB,SAAAC,GACvB,EAAKA,mBAAqBA,GApMb,KAuMdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GAxMX,KA2MdC,aAAe,SAAAC,GACd,EAAKA,UAAYA,GA5MJ,KA+MdC,cAAgB,SAAAC,GACf,EAAKA,WAAaA,GAhNL,KAmNdC,0BAA4B,SAAAC,GAC3B,EAAKA,uBAAyBA,GApNjB,KAuNdC,YAAc,SAAAC,GACb,EAAKA,SAAWA,GAxNH,KA2NdC,2BAA6B,SAAAC,GAC5B,EAAKA,wBAA0BA,GA5NlB,KA+NdC,aAAe,SAAAC,GACd,EAAKA,UAAYA,GAhOJ,KAmOdC,mBAAqB,SAAAC,GACpB,EAAKA,gBAAkBA,GApOV,KAuOdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GAxOT,KA2OdC,0BAA4B,SAAAC,GAC3B,EAAKA,uBAAyBA,GA5OjB,KA+OdC,uBAAyB,SAAAC,GACxB,EAAKA,oBAAsBA,GAhPd,KAmPdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GApPP,KAuPdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GAxPX,KA2PdC,qBAAuB,SAAAC,GACtB,EAAKA,kBAAoBA,GA5PZ,KA+PdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GAhQX,KAmQdC,cAAgB,SAAAC,GACf,EAAKA,WAAaA,GApQL,KAuQdC,aAAe,SAAAC,GACd,EAAKA,UAAYA,GAxQJ,KA2QdC,6BAA+B,SAAAC,GAC9B,EAAKA,0BAA4BA,GA5QpB,KA+QdC,mBAAqB,SAAAC,GACpB,EAAKA,gBAAkBA,GAhRV,KAmRdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GApRR,KAuRdC,0BAA4B,SAAAC,GAC3B,EAAKA,uBAAyBA,GAxRjB,KA2RdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GA5RT,KA+RdC,sBAAwB,SAAAC,GACvB,EAAKA,mBAAqBA,GAhSb,KAmSdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GApSR,KAuSdC,uBAAyB,SAAAC,GACxB,EAAKA,oBAAsBA,GAxSd,KA2SdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GA5SX,KA+SdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GAhTR,KAmTdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GApTR,KAuTdC,qBAAuB,SAAAC,GACtB,EAAKA,kBAAoBA,GAxTZ,KA2TdC,4BAA8B,SAAAC,GAC7B,EAAKA,yBAA2BA,GA5TnB,KA+TdC,uBAAyB,SAAAC,GACxB,EAAKA,oBAAsBA,GAhUd,KAmUdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GApUP,KAuUdC,uBAAyB,SAAAC,GACxB,EAAKA,oBAAsBA,GAxUd,KA2UdC,2BAA6B,SAAAC,GAC5B,EAAKA,wBAA0BA,GA5UlB,KA+UdC,yBAA2B,SAAAC,GAC1B,EAAKA,sBAAwBA,GAhVhB,KAmVdC,SAAW,SAAAC,GACV,EAAKA,MAAQA,GApVA,KAuVdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GAxVX,KA2VdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GA5VN,KA+VdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GAhWP,KAmWdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GApWR,KAuWdC,wCAA0C,SAAAC,GACzC,EAAKA,qCAAuCA,GAxW/B,KA2WdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GA5WN,KA+WdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GAhXP,KAmXdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GApXN,KAuXdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GAxXP,KA2XdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GA5XT,KA+XdC,iBAAmB,SAAAC,GAClB,EAAKA,cAAgBA,GAhYR,KAmYdC,qBAAuB,SAAAC,GACtB,EAAKA,kBAAoBA,GApYZ,KAuYdC,qBAAuB,SAAAC,GACtB,EAAKA,kBAAoBA,GAxYZ,KA2YdC,uBAAyB,SAAAC,GACxB,EAAKA,oBAAsBA,GA5Yd,KA+YdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GAhZN,KAmZdC,gBAAkB,SAAAC,GACjB,EAAKA,aAAeA,GApZP,KAuZdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GAxZN,KA2ZdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GA5ZX,KA+ZdC,sBAAwB,SAAAC,GACvB,EAAKA,mBAAqBA,GAhab,KAmadC,YAAc,SAAAC,GACb,EAAKA,SAAWA,GApaH,KAuadC,aAAe,SAAAC,GACd,EAAKA,UAAYA,GAxaJ,KA2adC,mBAAqB,SAAAC,GACpB,EAAKA,gBAAkBA,GA5aV,KA+adC,mBAAqB,SAAAC,GACpB,EAAKA,gBAAkBA,GAhbV,KAmbdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GApbN,KAubdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GAxbT,KA2bdC,qBAAuB,SAAAC,GACtB,EAAKA,kBAAoBA,GA5bZ,KA+bdC,6BAA+B,SAAAC,GAC9B,EAAKA,0BAA4BA,GAhcpB,KAmcdC,kBAAoB,SAAAC,GACnB,EAAKA,eAAiBA,GApcT,KAucdC,eAAiB,SAAAC,GAChB,EAAKA,YAAcA,GAxcN,KA2cdC,oBAAsB,SAAAC,GACrB,EAAKA,iBAAmBA,GA5cX,KA+cdC,2BAA6B,SAAAC,GAC5B,EAAKA,wBAA0BA,GAhdlB,KAmddC,cAAgB,SAAAC,GACf,EAAKA,WAAaA,GApdL,KAudd7J,iBAAmB,SAAC8J,EAAWC,GAC9B,cAA2B1V,OAAO2V,QAAQF,GAA1C,eAAsD,CAAjD,2BAAOpP,EAAP,KACJ,GADI,OACUqP,EACb,OAAOrP,EAIT,OAAO,GA7dP9W,KAAKib,SAAW,GAChBjb,KAAKmb,UAAY,GACjBnb,KAAKuF,gBAAkB,GACvBvF,KAAKiP,aAAe,GACpBjP,KAAKqmB,gBAAkB,GACvBrmB,KAAKsmB,8BAAgC,GAErCtmB,KAAKimB,WAAa3jB,OAElBtC,KAAK0c,aAAe3B,EAAc0B,sBAAd,IACpBzc,KAAKumB,YAAcxL,EAAcyL,uBAAd,oBACnBxmB,KAAKsc,aAAevB,EAAcsB,sBAAd,iBAEpBrc,KAAK8b,OAAQ,EACb9b,KAAK0b,OAAQ,EACb1b,KAAK4b,OAAQ,EACb5b,KAAKgc,QAAS,EACdhc,KAAKwb,cAAe,EACpBxb,KAAKsb,KAAO7K,OAAOgW,OAAOpL,IAE1Brb,KAAKijB,aAAc,EACnBjjB,KAAKmjB,cAAe,EACpBnjB,KAAKqjB,gBAAiB,EACtBrjB,KAAK0mB,aAAc,EAEnB1mB,KAAK6iB,aAAc,EAEnB7iB,KAAKqiB,aAAc,EACnBriB,KAAKuiB,cAAe,EACpBviB,KAAKyiB,eAAgB,EAErBziB,KAAK6d,WAAY,EACjB7d,KAAK2e,gBAAiB,EAEtB3e,KAAKygB,eAAgB,EACrBzgB,KAAKuf,kBAAmB,EACxBvf,KAAK2d,kBAAmB,EACxB3d,KAAKmf,kBAAmB,EACxBnf,KAAKyf,YAAa,EAClBzf,KAAK2f,WAAY,EACjB3f,KAAK6f,2BAA4B,EACjC7f,KAAK+f,iBAAkB,EAEvB/f,KAAKqf,mBAAoB,EACzBrf,KAAKmgB,wBAAyB,EAE9BngB,KAAK6e,wBAAyB,EAC9B7e,KAAK+e,qBAAsB,EAE3B/e,KAAK6c,eAAgB,EACrB7c,KAAK+c,gBAAiB,EACtB/c,KAAKid,eAAgB,EACrBjd,KAAKmd,gBAAiB,EAEtBnd,KAAK2gB,qBAAsB,EAC3B3gB,KAAK6gB,kBAAmB,EACxB7gB,KAAKqhB,0BAA2B,EAEhCrhB,KAAKihB,eAAgB,EACrBjhB,KAAKuhB,qBAAsB,EAE3BvhB,KAAKud,uBAAwB,EAC7Bvd,KAAKyd,oBAAqB,EAC1Bzd,KAAKqd,aAAc,EACnBrd,KAAK+gB,eAAgB,EACrB/gB,KAAKmhB,mBAAoB,EAEzBnhB,KAAK+d,YAAa,EAClB/d,KAAKie,wBAAyB,EAC9Bje,KAAKme,UAAW,EAChBne,KAAKqe,yBAA0B,EAC/Bre,KAAKue,WAAY,EACjBve,KAAKye,iBAAkB,EACvBze,KAAKqgB,gBAAiB,EACtBrgB,KAAKmiB,kBAAmB,EAExBniB,KAAK2hB,qBAAsB,EAC3B3hB,KAAK6hB,yBAA0B,EAC/B7hB,KAAK+hB,uBAAwB,EAC7B/hB,KAAKif,cAAe,EACpBjf,KAAKigB,eAAgB,EACrBjgB,KAAKiiB,OAAQ,EACbjiB,KAAKugB,oBAAqB,EAE1BvgB,KAAK2iB,sCAAuC,EAC5C3iB,KAAK2mB,+BAAgC,EACrC3mB,KAAK4mB,gCAAiC,EACtC5mB,KAAKyhB,cAAe,EACpBzhB,KAAK+iB,cAAe,EACpB/iB,KAAKujB,eAAgB,EACrBvjB,KAAKyjB,mBAAoB,EACzBzjB,KAAK2jB,mBAAoB,EACzB3jB,KAAK6jB,qBAAsB,EAC3B7jB,KAAK+jB,aAAc,EACnB/jB,KAAKikB,cAAe,EACpBjkB,KAAKmkB,aAAc,EACnBnkB,KAAKqkB,kBAAmB,EACxBrkB,KAAKukB,oBAAqB,EAC1BvkB,KAAKykB,UAAW,EAChBzkB,KAAK2kB,WAAY,EACjB3kB,KAAK6kB,iBAAkB,EACvB7kB,KAAK+kB,iBAAkB,EACvB/kB,KAAKilB,aAAc,EACnBjlB,KAAKmlB,gBAAiB,EACtBnlB,KAAKqlB,mBAAoB,EACzBrlB,KAAKulB,2BAA4B,EACjCvlB,KAAKylB,gBAAiB,EAEtBzlB,KAAK2lB,aAAc,EACnB3lB,KAAK6lB,kBAAmB,EAExB7lB,KAAK+lB,yBAA0B,KArIpBhL,GAGL0B,sBAAwB,CAC9BoK,IAAK,YACLC,KAAM,OACNC,QAAS,WANEhM,GASLyL,uBAAyB,CAC/BQ,OAAQ,gBACRC,SAAU,4BACVC,oBAAqB,wCAZVnM,GAeLsB,sBAAwB,CAC9B8K,MAAO,QACP1d,OAAQ,SACR2d,iBAAkB,aClBb,IAAM5R,GAAb,aAuHC,WAAYuF,GAAgB,IAAD,gCAI3BsM,wBAA0B,kBAAM,IAAIC,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAce,WAJvD,KAK3B0L,mBAAqB,kBAAM,IAAIF,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAciB,YALlD,KAM3ByL,sBAAwB,kBAAM,IAAIH,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcS,kBANrD,KAO3BkM,qBAAuB,kBAAM,IAAIJ,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcsC,iBAPpD,KAQ3BsK,iBAAmB,kBAAM,IAAIL,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc4L,mCARhD,KAS3BiB,2BAA6B,kBAAM,IAAIN,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc6L,oCAT1D,KAU3BiB,yBAA2B,kBAAM,IAAIP,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc4C,sBAVxD,KAW3BmK,0BAA4B,kBAAM,IAAIR,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAckD,4BAXzD,KAY3B8J,cAAgB,kBAAM,IAAIT,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcoD,cAZ7C,KAa3B6J,iCAAmC,kBAAM,IAAIV,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcsD,6BAbhE,KAc3B4J,qBAAuB,kBAAM,IAAIX,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc4D,oBAdpD,KAe3BuJ,uBAAyB,kBAAM,IAAIZ,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc8D,4BAftD,KAgB3BsJ,oBAAsB,kBAAM,IAAIb,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcgE,yBAhBnD,KAiB3BqJ,6BAA+B,kBAAM,IAAId,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcoE,sBAjB5D,KAkB3BkJ,4BAA8B,kBAAM,IAAIf,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcsE,uBAlB3D,KAmB3BiJ,uBAAyB,kBAAM,IAAIhB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcwE,sBAnBtD,KAoB3BgJ,kCAAoC,kBAAM,IAAIjB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc8E,+BApBjE,KAqB3B2I,4BAA8B,kBAAM,IAAIlB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcgF,qBArB3D,KAsB3B0I,yBAA2B,kBAAM,IAAInB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAckF,mBAtBxD,KAuB3ByI,6BAA+B,kBAAM,IAAIpB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcoF,4BAvB5D,KAwB3BwI,uBAAyB,kBAAM,IAAIrB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc0F,mBAxBtD,KAyB3BmI,uBAAyB,kBAAM,IAAItB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcgG,mBAzBtD,KA0B3B8H,6BAA+B,kBAAM,IAAIvB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAcwG,yBA1B5D,KA2B3BuH,qBAAuB,kBAAM,IAAIxB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc4K,iBA3BpD,KA4B3BoD,0BAA4B,kBAAM,IAAIzB,SAAQ,SAAAC,GAAO,OAAIA,EAAQ,EAAKxM,cAAc8K,sBA5BzD,KA8B3BmD,kBAAoB,WACnB,OAAO,IAAI1B,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB0T,eAC5CrnB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcW,UACxD9Y,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlCA,KAsC3B4B,kBAAoB,WACnB,OAAO,IAAI7B,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB4T,yBAC5CvnB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAca,UACxDhZ,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1CA,KA8C3B8B,2BAA6B,WAC5B,OAAO,IAAI/B,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB8T,+BAC5CznB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8B,kBACxDja,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlDA,KAsD3BgC,wBAA0B,WACzB,OAAO,IAAIjC,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgU,2BAC5C3nB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgC,mBACxDna,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1DA,KA8D3BkC,2BAA6B,WAC5B,OAAO,IAAInC,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBkU,+BAC5C7nB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckC,kBACxDra,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlEA,KAsE3BoC,wBAA0B,WACzB,OAAO,IAAIrC,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBoU,2BAC5C/nB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoC,mBACxDva,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1EA,KA8E3BsC,sBAAwB,WACvB,OAAO,IAAIvC,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBsU,yBAC5CjoB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwC,0BACxD3a,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlFA,KAsF3BwC,mBAAqB,WACpB,OAAO,IAAIzC,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBwU,qBAC5CnoB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0C,uBACxD7a,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1FA,KA8F3B0C,6BAA+B,WAC9B,OAAO,IAAI3C,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB0U,sCAC5CroB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4H,yCACxD/f,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlGA,KAsG3B4C,mBAAqB,WACpB,OAAO,IAAI7C,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB4U,gCAC5CvoB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8C,cACxDjb,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1GA,KA8G3B8C,gBAAkB,WACjB,OAAO,IAAI/C,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB8U,gBAC5CzoB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgD,eACxDnb,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlHA,KAsH3BgD,eAAiB,WAChB,OAAO,IAAIjD,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgV,6BAC5C3oB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwD,cACxD3b,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1HA,KA8H3BkD,sBAAwB,WACvB,OAAO,IAAInD,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgV,6BAC5C3oB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0D,oBACxD7b,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlIA,KAsI3BmD,6BAA+B,WAC9B,OAAO,IAAIpD,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBmV,gCAC5C9oB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0E,eACxD7c,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1IA,KA8I3BqD,6BAA+B,WAC9B,OAAO,IAAItD,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBqV,+BAC5ChpB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4E,cACxD/c,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlJA,KAsJ3BuD,oBAAsB,WACrB,OAAO,IAAIxD,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBuV,0BAC5ClpB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsF,mBACxDzd,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1JA,KA8J3ByD,0BAA4B,WAC3B,OAAO,IAAI1D,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmByV,+BAC5CppB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4F,wBACxD/d,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlKA,KAsK3B9R,sBAAwB,WACvB,OAAO,IAAI6R,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB0V,6BAC5CrpB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8F,qBACxDje,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1KA,KA8K3B4D,0BAA4B,WAC3B,OAAO,IAAI7D,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB4V,+BAC5CvpB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckG,kBACxDre,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlLA,KAsL3B8D,wBAA0B,WACzB,OAAO,IAAI/D,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB8V,+BAC5CzpB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoG,sBACxDve,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1LA,KA8L3BgE,0BAA4B,WAC3B,OAAO,IAAIjE,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgW,gCAC5C3pB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsG,6BACxDze,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlMA,KAsM3BkE,uBAAyB,WACxB,OAAO,IAAInE,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBkW,wBAC5C7pB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoH,qBACxDvf,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1MA,KA8M3BoE,qBAAuB,WACtB,OAAO,IAAIrE,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBoW,4BAC5C/pB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsH,gBACxDzf,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlNA,KAsN3BsE,sBAAwB,WACvB,OAAO,IAAIvE,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBsW,6BAC5CjqB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwH,iBACxD3f,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1NA,KA8N3BwE,uBAAyB,WACxB,OAAO,IAAIzE,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBwW,8BAC5CnqB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0H,kBACxD7f,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlOA,KAsO3B0E,qBAAuB,WACtB,OAAO,IAAI3E,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB0W,oCAC5CrqB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8H,gBACxDjgB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1OA,KA8O3B4E,oBAAsB,WACrB,OAAO,IAAI7E,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB4W,2BAC5CvqB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckI,gBACxDrgB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlPA,KAsP3B8E,qBAAuB,WACtB,OAAO,IAAI/E,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB8W,4BAC5CzqB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoI,iBACxDvgB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1PA,KA8P3BgF,uBAAyB,WACxB,OAAO,IAAIjF,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgX,8BAC5C3qB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsI,mBACxDzgB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlQA,KAsQ3BkF,uBAAyB,WACxB,OAAO,IAAInF,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBkX,wBAC5C7qB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwI,kBACxD3gB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1QA,KA8Q3BoF,2BAA6B,WAC5B,OAAO,IAAIrF,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBoX,6BAC5C/qB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0I,sBACxD7gB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlRA,KAsR3BsF,wBAA0B,WACzB,OAAO,IAAIvF,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBsX,yBAC5CjrB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4I,sBACxD/gB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1RA,KA8R3BwF,wBAA0B,WACzB,OAAO,IAAIzF,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBwX,+BAC5CnrB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0K,mBACxD7iB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlSA,KAsS3B0F,4BAA8B,WAC7B,OAAO,IAAI3F,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB0X,6BAC5CrrB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB+K,uBACtF1e,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwF,uBACxD3d,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA3SA,KA+S3B6F,mBAAqB,WACpB,OAAO,IAAI9F,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB6X,mBAC5CxrB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB8X,cACtFzrB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4G,wBACxD/e,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UApTA,KAwT3BgG,iCAAmC,WAClC,OAAO,IAAIjG,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBgY,kCAC5C3rB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBiY,4BACtF5rB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8G,4BACxDjf,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA7TA,KAiU3BmG,+BAAiC,WAChC,OAAO,IAAIpG,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBmY,gCAC5C9rB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBoY,0BACtF/rB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgH,0BACxDnf,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAtUA,KA0U3BsG,kBAAoB,WACnB,OAAO,IAAIvG,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBsY,kBAC5CjsB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBuY,YACtFlsB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckE,iBACxDrc,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA/UA,KAmV3ByG,sBAAwB,WACvB,OAAO,IAAI1G,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmByY,uBAC5CpsB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBiM,iBACtF5f,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0G,iBACxD7e,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAxVA,KA4V3B2G,eAAiB,WAChB,OAAO,IAAI5G,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB2Y,eAC5CtsB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmByM,UACtFpgB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckH,UACxDrf,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAjWA,KAqW3B6G,sBAAwB,WACvB,OAAO,IAAI9G,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB6Y,uBAC5CxsB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBuN,iBACtFlhB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgI,iBACxDngB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA1WA,KA8W3B+G,6BAA+B,WAC9B,OAAO,IAAIhH,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB+Y,8BAC5C1sB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBqO,wBACtFhiB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8I,wBACxDjhB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAnXA,KAuX3BiH,qBAAuB,WACtB,OAAO,IAAIlH,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBiZ,sBAC5C5sB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBuO,gBACtFliB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgJ,gBACxDnhB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA5XA,KAgY3BmH,sBAAwB,WACvB,OAAO,IAAIpH,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBmZ,wBAC5C9sB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmByO,iBACtFpiB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckJ,iBACxDrhB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UArYA,KAyY3BqH,qBAAuB,WACtB,OAAO,IAAItH,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBqZ,yBAC5ChtB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB2O,gBACtFtiB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoJ,gBACxDvhB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA9YA,KAkZ3BuH,0BAA4B,WAC3B,OAAO,IAAIxH,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBuZ,4BAC5CltB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB6O,qBACtFxiB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsJ,qBACxDzhB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAvZA,KA2Z3ByH,4BAA8B,WAC7B,OAAO,IAAI1H,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmByZ,6BAC5CptB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB+O,uBACtF1iB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcwJ,uBACxD3hB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAhaA,KAoa3B2H,kBAAoB,WACnB,OAAO,IAAI5H,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB2Z,kBAC5CttB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBiP,aACtF5iB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc0J,aACxD7hB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAzaA,KA6a3B6H,mBAAqB,WACpB,OAAO,IAAI9H,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB6Z,+BAC5CxtB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBmP,cACtF9iB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc4J,cACxD/hB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAlbA,KAsb3B+H,yBAA2B,WAC1B,OAAO,IAAIhI,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmB+Z,qCAC5C1tB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBqP,oBACtFhjB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAc8J,oBACxDjiB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA3bA,KA+b3BiI,yBAA2B,WAC1B,OAAO,IAAIlI,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBia,qCAC5C5tB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmBuP,oBACtFljB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcgK,oBACxDniB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UApcA,KAwc3BmI,qBAAuB,WACtB,OAAO,IAAIpI,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBma,iCAC5C9tB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmByP,gBACtFpjB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAckK,gBACxDriB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA7cA,KAid3BqI,wBAA0B,WACzB,OAAO,IAAItI,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBqa,oCAC5ChuB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB2P,mBACtFtjB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcoK,mBACxDviB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAtdA,KA0d3BuI,2BAA6B,WAC5B,OAAO,IAAIxI,SAAQ,SAAAC,GAClB3lB,YAAUqnB,iBAAiBzT,EAAmBua,uCAC5CluB,MAAK,SAAAwB,GAAQ,OAAIA,GAAYmS,EAAmB2X,mBAAmB3X,EAAmB6P,sBACtFxjB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,GAAY,EAAK0X,cAAcsK,sBACxDziB,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UA9d1BvnB,KAAK+a,cAAgBA,KAxHVvF,GAIL4T,wBAA0B,+BAJrB5T,GAKL0V,4BAA8B,mCALzB1V,GAML4W,0BAA4B,iCANvB5W,GAQLwU,oBAAsB,2BARjBxU,GASLoW,2BAA6B,kCATxBpW,GAULsW,4BAA8B,mCAVzBtW,GAWLwW,6BAA+B,oCAX1BxW,GAYL8W,2BAA6B,kCAZxB9W,GAcLgV,4BAA8B,mCAdzBhV,GAeL4V,8BAAgC,qCAf3B5V,GAgBL8V,8BAAgC,qCAhB3B9V,GAiBLgW,+BAAiC,sCAjB5BhW,GAkBL0W,mCAAqC,0CAlBhC1W,GAmBLgX,6BAA+B,oCAnB1BhX,GAoBLwX,8BAAgC,qCApB3BxX,GAqBLwa,6BAA+B,oCArB1Bxa,GAuBLsU,wBAA0B,+BAvBrBtU,GAwBLuV,yBAA2B,gCAxBtBvV,GAyBLyV,8BAAgC,qCAzB3BzV,GA8BL0T,cAAgB,oBA9BX1T,GA+BL8T,8BAAgC,qCA/B3B9T,GAgCLgU,0BAA4B,iCAhCvBhU,GAiCLkU,8BAAgC,qCAjC3BlU,GAkCLoU,0BAA4B,iCAlCvBpU,GAmCLkX,uBAAyB,8BAnCpBlX,GAoCLoX,4BAA8B,mCApCzBpX,GAqCLsX,wBAA0B,+BArCrBtX,GA0CLgY,iCAAmC,4CA1C9BhY,GA2CLmY,+BAAiC,0CA3C5BnY,GAgDL0U,qCAAuC,gDAhDlC1U,GAiDL4U,+BAAiC,0CAjD5B5U,GAkDLmV,+BAAiC,0CAlD5BnV,GAmDLqV,8BAAgC,yCAnD3BrV,GAoDL6Z,8BAAgC,yCApD3B7Z,GAqDL+Z,oCAAsC,+CArDjC/Z,GAsDLia,oCAAsC,+CAtDjCja,GAuDLma,gCAAkC,2CAvD7Bna,GAwDLqa,mCAAqC,8CAxDhCra,GAyDLua,sCAAwC,iDAzDnCva,GA0DLya,+CAAiD,0DA1D5Cza,GA+DL6X,kBAAoB,gCA/Df7X,GAgEL8U,eAAiB,6BAhEZ9U,GAiELsY,iBAAmB,+BAjEdtY,GAkEL0X,4BAA8B,0CAlEzB1X,GAmELyY,sBAAwB,oCAnEnBzY,GAoEL2Y,cAAgB,4BApEX3Y,GAqELkW,uBAAyB,qCArEpBlW,GAsEL6Y,sBAAwB,oCAtEnB7Y,GAuEL2Z,iBAAmB,+BAvEd3Z,GA4EL+Y,6BAA+B,2CA5E1B/Y,GA6ELiZ,qBAAuB,mCA7ElBjZ,GA8ELmZ,uBAAyB,qCA9EpBnZ,GA+ELqZ,wBAA0B,sCA/ErBrZ,GAgFLuZ,2BAA6B,yCAhFxBvZ,GAiFLyZ,4BAA8B,0CAjFzBzZ,GAsFLyP,YAAc,eAtFTzP,GAuFLqP,gBAAkB,mBAvFbrP,GAwFLqO,oBAAsB,sBAxFjBrO,GAyFLuO,YAAc,eAzFTvO,GA0FL6O,iBAAmB,aA1Fd7O,GA2FLuY,QAAU,WA3FLvY,GA4FL8X,UAAY,YA5FP9X,GA6FL+K,mBAAqB,sBA7FhB/K,GA8FLuN,aAAe,cA9FVvN,GA+FLiY,wBAA0B,aA/FrBjY,GAgGLoY,sBAAwB,WAhGnBpY,GAiGL2O,YAAc,cAjGT3O,GAkGLyO,aAAe,eAlGVzO,GAmGL+O,mBAAqB,sBAnGhB/O,GAoGLyM,MAAQ,QApGHzM,GAqGLmP,UAAY,aArGPnP,GAsGLuP,gBAAkB,mBAtGbvP,GAuGL2P,eAAiB,wBAvGZ3P,GAwGL6P,kBAAoB,qBAxGf7P,GAyGLiM,aAAe,gBAzGVjM,GA0GL0a,OAAS,SA1GJ1a,GA2GLiP,SAAW,WA3GNjP,GA6GL2X,mBAAqB,SAAAgD,GAC3B,OAAO,IAAI7I,SAAQ,SAAAC,GAAO,OACzB3lB,YAAUurB,mBAAmBgD,GAC3BtuB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,MACzBT,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UCvGrB,IAAMpS,GAAmBxU,IAAMyvB,cAAc,IAEvCC,GAAb,kDAGC,WAAYpwB,GAAQ,IAAD,yBAClB,cAAMA,IAyIPqwB,SAAW,WAAO,IAAD,EACVC,GAAK,mBACT3uB,YAAU4uB,mBAAmBC,MAAQja,GAAW0D,UAAU,gBAAiB,EAAKja,MAAMwW,WAD7E,cAET7U,YAAU4uB,mBAAmBE,UAAYla,GAAW0D,UAAU,YAAa,EAAKja,MAAMwW,WAF7E,cAGT7U,YAAU4uB,mBAAmBG,YAAcna,GAAW0D,UAAU,cAAe,EAAKja,MAAMwW,WAHjF,GAKX,EAAKvS,SAAS,CAAEqsB,MAAOA,KAhJL,EAmJnBK,QAAU,SAAA1uB,GAYT,OAXgB,IAAIolB,SAAQ,SAACC,EAASsJ,GACrC,IAAK3uB,EAAK,CAET2uB,EADc,CAAE7sB,KAAM,sBAIvBpC,YAAUgvB,QAAQ1uB,GAChBL,MAAK,SAAAR,GAAI,OAAIkmB,EAAQlmB,MACrBuB,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,UA5JP,EAkKnBqvB,SAAW,SAAA3f,GA4BV,OA3BgB,IAAImW,SAAQ,SAACC,EAASsJ,GACrC,IAAK1f,EAAM,CAEV0f,EADc,CAAE7sB,KAAM,uBAIvBpC,YAAUkvB,SAAS3f,GACjBtP,MAAK,SAAAoP,GACL,IAAwB,IAApBA,EAAM8f,UAAqB,CAC9B,IAAM5f,EAAOF,EAAME,KACb6f,EAAY/f,EAAM3P,KACpB2vB,EAAW,GACf,GAAID,IAAcpvB,YAAUsvB,WAAWjK,SAAU,CAChD,IAAMkK,EAAgB3a,GAAW0D,UAAU,iBAAkB,EAAKja,MAAMka,MACxE8W,EAAWG,OAAOD,GAGnBvvB,YAAUyvB,UAAUlgB,EAAM6f,EAAWC,GACnCpvB,MAAK,SAAAoP,GAAK,OAAIsW,EAAQtW,MACtBrO,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,WAExB8lB,EAAQtW,MAGTrO,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,UA3LP,EAiMnB6vB,gBAAkB,SAAChwB,EAAMwD,GAmBxB,OAAO,MApNW,EAuNnBysB,gBAAkB,WACjB,IACIC,EAAQ,EAEZ,OAAO,IAAIlK,SAAQ,SAACC,EAASsJ,GAC5B,OAJkB,MAIGW,EACbX,EAAO,iBAAD,OALI,MAQd,EAAKY,aACDlK,EAAQ,EAAKkK,cAGhB7vB,YAAU8vB,qBAIf,EAAKC,eAAiBC,aAAY,WACjChwB,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAGL,OAFA,EAAKowB,aAAepwB,EACpBwwB,cAAc,EAAKF,gBACZpK,EAAQlmB,MAEfuB,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,MAExB+vB,GAAS,MACP,MAbKX,EAAO,iCArOE,EA4PnBiB,kBAAoB,WACnB,EAAK5tB,SAAS,CACb6tB,aAAc,GACdC,YAAa,GACbC,gBAAiB,GACjBC,mBAAoB,MAjQH,EAqQnBC,mBAAqB,SAACJ,EAAcC,EAAaC,GAChD,EAAK/tB,SAAS,CACb6tB,aAAa,GAAD,oBAAM,EAAKvxB,MAAMuxB,cAAjB,aAAkCA,IAC9CC,YAAY,GAAD,oBAAM,EAAKxxB,MAAMwxB,aAAjB,aAAiCA,IAC5CC,gBAAgB,GAAD,oBAAM,EAAKzxB,MAAMyxB,iBAAjB,aAAqCA,OAzQnC,EA6QnBG,mBAAqB,SAAAL,GACpB,EAAK7tB,SAAS,CACb6tB,aAAa,aAAKA,MA/QD,EAmRnBM,gBAAkB,SAAAN,GACjB,EAAK7tB,SAAS,CACb6tB,aAAa,GAAD,oBAAM,EAAKvxB,MAAMuxB,cAAjB,aAAkCA,OArR7B,EAyRnBO,eAAiB,SAAAN,GAChB,EAAK9tB,SAAS,CACb8tB,YAAY,GAAD,oBAAM,EAAKxxB,MAAMwxB,aAAjB,aAAiCA,OA3R3B,EA+RnBO,mBAAqB,SAAAN,GACpB,EAAK/tB,SAAS,CACb+tB,gBAAgB,GAAD,oBAAM,EAAKzxB,MAAMyxB,iBAAjB,aAAqCA,OAjSnC,EAqSnBO,sBAAwB,SAAAC,GACvB,EAAKvuB,SAAS,CACbguB,mBAAmB,GAAD,oBAAM,EAAK1xB,MAAM0xB,oBAAjB,aAAwCO,OAvSzC,EA2SnBC,yBAA2B,SAAAD,GAC1B,EAAKvuB,SAAS,CACbguB,mBAAmB,aAAKO,MA7SP,EAiTnBE,kBAAoB,SAACjkB,EAAMkkB,GAC1B,EAAK1uB,SAAS,CAAE2uB,eAAe,eAAMnkB,GAAQkkB,cAlT3B,EAqTnB1b,QAAU,SAAAD,GACT,EAAK/S,SAAS,CAAE+S,KAAK,eAAMA,MAtTT,EAyTnB6b,QAAU,SAAAxxB,GACT,EAAK4C,SAAS,CAAE5C,UA1TE,EA6TnByxB,eAAiB,SAACzxB,EAAM2V,GACvB,EAAK/S,SAAS,CAAE+S,KAAK,eAAMA,GAAQ3V,UA9TjB,EAiUnB0xB,kBAAoB,SAAA7hB,GACnB,EAAKjN,SAAS,CAAE+uB,eAAgB9hB,KAlUd,EAqUnB+hB,eAAiB,SAAA/hB,GAChB,EAAKjN,SAAS,CAAEivB,YAAahiB,KAtUX,EAyUnBiiB,eAAiB,SAAAtuB,GAChB,EAAKZ,SAAS,CAAEmvB,YAAavuB,KA1UX,EA6UnBwuB,yBAA2B,SAAAC,GAC1B,EAAKrvB,SAAS,CAAEsvB,sBAAuBD,KA9UrB,EAiVnBE,2BAA6B,SAAC3uB,EAAS4uB,GACtC,EAAKxvB,SAAS,CAAEyvB,wBAAyB7uB,EAAS8uB,8BAA+BF,KAlV/D,EAqVnBG,2BAA6B,WAC5B,IAAIC,EAAS,KAUb,OARIrjB,OAAOC,KAAK,EAAKlQ,MAAMqyB,gBAAgBtiB,QAAW,EAAK/P,MAAMoyB,WAAajkB,GAAA,yBAA8C,EAAKnO,MAAMoyB,WAAajkB,GAAA,0BAElJmlB,EADG,EAAKtzB,MAAMqyB,eAAekB,WAAWC,YAAc,EAAKxzB,MAAMyW,KAAK9F,KAC7DxC,GAAgBtF,MAAhB,wBAEAsF,GAAgBtF,MAAhB,yBAIJyqB,GAhWW,EAmWnBG,qBAAuB,WACtB,QAAIxjB,OAAOC,KAAK,EAAKlQ,MAAMqyB,gBAAgBtiB,QApWzB,EA2WnB2jB,uBAAyB,WACxB,IAAIF,EAC0I,MAEvI,EAFH,EAAKxzB,MAAMoyB,WAAajkB,GAAA,yBAA8C,EAAKnO,MAAMoyB,WAAajkB,GAAA,wBACjGqlB,EAAS,UAAG,EAAKxzB,MAAMqyB,sBAAd,iBAAG,EAA2BnhB,YAA9B,iBAAG,EAAiCqiB,kBAApC,aAAG,EAA6CC,UAEzDA,EAAS,UAAG,EAAKxzB,MAAMqyB,sBAAd,aAAG,EAA2BsB,UAGxC,OAAOH,GAnXW,EAsXnBI,YAAc,SAAC1iB,EAAMoF,GACpB,OAAiC,IAA7BpF,EAAKf,eAAemG,IAAgC,OAAdpF,EAAKoF,SAA+Bud,IAAd3iB,EAAKoF,IApXrE,IAAMwd,EAAW,IAAIvZ,GACfwZ,EAAqB,IAAI/e,GAAmB8e,GAJhC,OAMlB,EAAK9zB,MAAQ,CACZyW,KAAM,GACN3V,KAAM,GACNkzB,aAAcv0B,EAAMu0B,aACpBzC,aAAc9xB,EAAM8xB,aACpBG,mBAAoBjyB,EAAMiyB,mBAC1BF,YAAa/xB,EAAM+xB,YACnBC,gBAAiBhyB,EAAMgyB,gBACvBY,eAAgB5yB,EAAM4yB,eACtBD,SAAU,GACVK,eAAgB,GAChBE,YAAa,GACbE,YAAa,GACboB,eAAgB,GAChBjB,uBAAuB,EACvBG,wBAAyB,GACzBC,8BAA+B,GAC/B7Y,cAAeuZ,EACf9e,mBAAoB+e,EACpBxlB,MAAOA,GACP0H,SAAUxW,EAAMwW,SAChB8Z,OAAK,mBACH3uB,YAAU4uB,mBAAmBC,MAAQja,GAAW0D,UAAU,gBAAiBja,EAAMwW,WAD9E,cAEH7U,YAAU4uB,mBAAmBE,UAAYla,GAAW0D,UAAU,YAAaja,EAAMwW,WAF9E,cAGH7U,YAAU4uB,mBAAmBG,YAAcna,GAAW0D,UAAU,cAAeja,EAAMwW,WAHlF,GAKL8a,gBAAiB,EAAKA,gBACtBc,gBAAiB,EAAKA,gBACtBD,mBAAoB,EAAKA,mBACzBD,mBAAoB,EAAKA,mBACzBG,eAAgB,EAAKA,eACrBC,mBAAoB,EAAKA,mBACzBC,sBAAuB,EAAKA,sBAC5BE,yBAA0B,EAAKA,yBAC/BZ,kBAAmB,EAAKA,kBACxBR,gBAAiB,EAAKA,gBACtBqB,kBAAmB,EAAKA,kBACxBzb,QAAS,EAAKA,QACd4b,QAAS,EAAKA,QACdC,eAAgB,EAAKA,eACrBC,kBAAmB,EAAKA,kBACxBE,eAAgB,EAAKA,eACrBE,eAAgB,EAAKA,eACrBE,yBAA0B,EAAKA,yBAC/BG,2BAA4B,EAAKA,2BACjCI,2BAA4B,EAAKA,2BACjCI,qBAAsB,EAAKA,qBAC3BC,uBAAwB,EAAKA,uBAC7BE,YAAa,EAAKA,YAClB9D,SAAU,EAAKA,UAGhB,EAAKoE,SAAW/zB,IAAMyD,YA1DJ,EAHpB,qDAgEC,WAAqB,IAAD,OAGnB,GAFApE,KAAKuxB,kBAEDvxB,KAAKC,MAAMoB,KAAKiP,OAAOC,OAC1BvQ,KAAK4wB,QAAQ5wB,KAAKC,MAAMoB,KAAKiP,QAC3BzO,MAAK,SAAAR,GACL,EAAKyxB,QAAQlxB,YAAU+yB,YAAYC,WACnC,EAAK1d,QAAQ7V,MAEbuB,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,oBACvE,EAAK0wB,SAAS3b,SAAS8b,WAEnB,GAAI70B,KAAKC,MAAMgR,MAAMX,OAAOC,OAClCvQ,KAAK8wB,SAAS9wB,KAAKC,MAAMgR,MAAMX,QAC7BzO,MAAK,SAAAoP,GACL,EAAK6hB,QAAQlxB,YAAU+yB,YAAYG,YACnC,EAAK5d,QAAQjG,MAEbrO,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,qBACvE,EAAK0wB,SAAS3b,SAAS8b,WAEnB,GAAsC,IAAlC70B,KAAKC,MAAMoB,KAAKiP,OAAOC,QAAmD,IAAnCvQ,KAAKC,MAAMgR,MAAMX,OAAOC,QAAgBvQ,KAAKC,MAAM80B,aAAepmB,GAAA,mBAAuC,CAE1J3O,KAAK00B,SAAS3b,SADI,gCAxFrB,gCA6FC,SAAmB/F,GAAY,IAAD,OAEzBhT,KAAKC,MAAMoB,KAAKiP,OAAOC,QAAUyC,EAAU3R,OAASrB,KAAKC,MAAMoB,KAClErB,KAAK4wB,QAAQ5wB,KAAKC,MAAMoB,MACtBQ,MAAK,SAAAR,GAGL,EAAK0xB,eAAenxB,YAAU+yB,YAAYC,UAAWvzB,MAGrDuB,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,oBACvE,EAAK0wB,SAAS3b,SAAS8b,MAEf70B,KAAKC,MAAMgR,MAAMX,OAAOC,QAAUyC,EAAU/B,QAAUjR,KAAKC,MAAMgR,OAC3EjR,KAAK8wB,SAAS9wB,KAAKC,MAAMgR,OACvBpP,MAAK,SAAAoP,GAGL,EAAK8hB,eAAenxB,YAAU+yB,YAAYG,WAAY7jB,MAGtDrO,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,qBACvE,EAAK0wB,SAAS3b,SAAS8b,MAKtB70B,KAAKQ,MAAMc,OAASM,YAAU+yB,YAAYG,YAAc90B,KAAKQ,MAAMyW,KAAK9F,OAASnR,KAAKQ,MAAMyyB,iBAG/FjzB,KAAK+yB,eAAe,GAAI,IACxB/yB,KAAKgzB,kBAAkB,KAIpBhzB,KAAKQ,MAAMc,OAASM,YAAU+yB,YAAYG,YAAc90B,KAAKQ,MAAMyW,KAAK9F,OAASnR,KAAKQ,MAAM2yB,cAC/FnzB,KAAK+yB,eAAe,GAAI,IACxB/yB,KAAKkzB,eAAe,KAGjBlgB,EAAUyD,WAAazW,KAAKC,MAAMwW,WACrCzW,KAAKkE,SAAS,CAAEuS,SAAUzW,KAAKC,MAAMwW,WACrCzW,KAAKswB,cAzIR,oBAiYC,WAAU,IAAD,OAER,OACC,eAACnb,GAAiB6f,SAAlB,CAA2B9xB,MAAOlD,KAAKQ,MAAvC,UACC,cAAC,GAAD,CAA4B+S,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMwW,SAAU5C,SAAU7T,KAAKC,MAAMg1B,uBAC5Gj1B,KAAKC,MAAMi1B,gBAtYhB,GAA8Cv0B,IAAMC,WA4YpDyvB,GAAyB5c,aAAe,CACvC+gB,aAAc,GACdzC,aAAc,GACdG,mBAAoB,GACpBF,YAAa,GACbC,gBAAiB,GACjBY,eAAgB,GAChBxxB,KAAM,GACN4P,MAAO,GACP8jB,WAAY,GACZte,SAAUD,GAAWe,sBCpaf,IAAM4d,GAAb,iDAAaA,GAEFC,sBAAwB,SAAC9mB,GAC5BhM,OAAO+yB,iBAAiB,UAAW/mB,IAH9B6mB,GAMFG,sBAAwB,SAAChnB,GAC5BhM,OAAOizB,oBAAoB,UAAWjnB,IAPjC6mB,GAUFje,QAAU,SAACse,EAAYC,GAC1B1zB,aAAamV,QAAQse,EAAYE,KAAKC,UAAUF,KAX3CN,GAcF5yB,QAAU,SAACizB,GACd,OAAOE,KAAKE,MAAM7zB,aAAaQ,QAAQizB,KAflCL,GAkBFnzB,WAAa,SAACwzB,GACjBzzB,aAAaC,WAAWwzB,IAnBnBL,GAsBFU,MAAQ,aCpBZ,I,GAAMC,GAAkB,SAAArf,GAC9B,MAAO,CACNsf,oBAAqBvf,GAAW0D,UAAU,sBAAuBzD,GACjEuf,0BAA2Bxf,GAAW0D,UAAU,4BAA6BzD,GAC7Ewf,2BAA4Bzf,GAAW0D,UAAU,6BAA8BzD,GAC/Eyf,YAAa1f,GAAW0D,UAAU,cAAezD,GACjD0f,2BAA4B3f,GAAW0D,UAAU,6BAA8BzD,GAC/E2f,qBAAsB5f,GAAW0D,UAAU,uBAAwBzD,GACnE4f,yBAA0B7f,GAAW0D,UAAU,2BAA4BzD,GAC3E6f,mBAAoB9f,GAAW0D,UAAU,qBAAsBzD,GAC/D8f,iBAAkB/f,GAAW0D,UAAU,mBAAoBzD,GAC3D+f,cAAehgB,GAAW0D,UAAU,gBAAiBzD,GACrDggB,qBAAsBjgB,GAAW0D,UAAU,uBAAwBzD,GACnEigB,eAAgBlgB,GAAW0D,UAAU,iBAAkBzD,GACvDkgB,+BAAgCngB,GAAW0D,UAAU,iCAAkCzD,GACvFmgB,aAAcpgB,GAAW0D,UAAU,eAAgBzD,GACnDogB,mBAAoBrgB,GAAW0D,UAAU,qBAAsBzD,GAC/DqgB,gBAAiBtgB,GAAW0D,UAAU,kBAAmBzD,GACzDsgB,cAAevgB,GAAW0D,UAAU,gBAAiBzD,GACrDugB,qBAAsBxgB,GAAW0D,UAAU,uBAAwBzD,GACnEwgB,oBAAqBzgB,GAAW0D,UAAU,sBAAuBzD,GACjEygB,wBAAyB1gB,GAAW0D,UAAU,0BAA2BzD,GACzE0gB,uBAAwB3gB,GAAW0D,UAAU,yBAA0BzD,GACvE2gB,gBAAiB5gB,GAAW0D,UAAU,kBAAmBzD,GACzD4gB,mBAAoB7gB,GAAW0D,UAAU,qBAAsBzD,GAC/D6gB,qBAAsB9gB,GAAW0D,UAAU,uBAAwBzD,GACnE8gB,wBAAyB/gB,GAAW0D,UAAU,0BAA2BzD,GACzE+gB,oBAAqBhhB,GAAW0D,UAAU,sBAAuBzD,GACjEghB,yBAA0BjhB,GAAW0D,UAAU,2BAA4BzD,GAC3EihB,yBAA0BlhB,GAAW0D,UAAU,2BAA4BzD,GAC3EkhB,0BAA2BnhB,GAAW0D,UAAU,4BAA6BzD,GAC7EmhB,0BAA2BphB,GAAW0D,UAAU,4BAA6BzD,GAC7EohB,oBAAqBrhB,GAAW0D,UAAU,sBAAuBzD,GACjEqhB,yBAA0BthB,GAAW0D,UAAU,2BAA4BzD,GAC3EshB,oBAAqBvhB,GAAW0D,UAAU,sBAAuBzD,GACjEuhB,YAAaxhB,GAAW0D,UAAU,cAAezD,GACjDwhB,iBAAkBzhB,GAAW0D,UAAU,mBAAoBzD,GAC3DyhB,cAAe1hB,GAAW0D,UAAU,gBAAiBzD,GACrD0hB,cAAe3hB,GAAW0D,UAAU,gBAAiBzD,GACrD2hB,cAAe5hB,GAAW0D,UAAU,gBAAiBzD,GACrD4hB,UAAW7hB,GAAW0D,UAAU,YAAazD,GAC7C6hB,KAAM9hB,GAAW0D,UAAU,OAAQzD,GACnC8hB,UAAW/hB,GAAW0D,UAAU,YAAazD,GAC7C+hB,SAAUhiB,GAAW0D,UAAU,WAAYzD,GAC3CgiB,WAAYjiB,GAAW0D,UAAU,aAAczD,GAC/CiiB,aAAcliB,GAAW0D,UAAU,eAAgBzD,GACnDkiB,MAAOniB,GAAW0D,UAAU,QAASzD,GACrCmiB,iBAAkBpiB,GAAW0D,UAAU,mBAAoBzD,GAC3DoiB,8BAA+BriB,GAAW0D,UAAU,gCAAiCzD,GACrFqiB,oBAAqBtiB,GAAW0D,UAAU,sBAAuBzD,GACjEsiB,YAAaviB,GAAW0D,UAAU,cAAezD,GACjDuiB,uBAAwBxiB,GAAW0D,UAAU,yBAA0BzD,GACvEwiB,uBAAwBziB,GAAW0D,UAAU,yBAA0BzD,GACvEyiB,uBAAwB1iB,GAAW0D,UAAU,yBAA0BzD,GACvE0iB,uBAAwB3iB,GAAW0D,UAAU,yBAA0BzD,K,SCtD5D2iB,GAAyB,SAACn5B,EAAOma,GAE1C,IAAMif,EAAgBjf,EAAH,2GAQnB,MAAO,CACHxV,MAAO,OACPoN,OAAQ,oBACR6B,SAAU,WACVC,IAAK,OACLgH,MAAO,IACPwe,OAAQ,IACRvlB,KAAM,IACNxO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBwK,UAChD4D,OAAQ,MACRhP,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5B9K,UAAW,SACXyT,UAAW,aACXihB,UAAU,GAAD,OAAKF,EAAL,eACTrqB,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,IAAK,CACDsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,aAE/B,OAAU,CACNuL,OAAQ,UAkDPif,GAAwB,SAACh5B,GAElC,IAAMi5B,EAAej5B,EAAMk5B,UAAa,GAAK,CACzCh0B,OAAQ,YAGZ,OAAO,aACHR,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,WAChBE,gBAAiB,UACjBX,MAAO,OACPoN,OAAQ,OACR6B,SAAU,WACVC,IAAK,IACLgH,MAAO,IACPwe,OAAQ,IACRvlB,KAAM,IACNJ,OAAQ,cACL8lB,IAwCEE,GAAyB,SAACn5B,GAEnC,IAAMo5B,EAAmBp5B,EAAMk5B,UAAa,CACxCx0B,QAAS,QACV,CACCQ,OAAQ,cACRm0B,SAAU,mCACVC,WAAY,+FAGhB,OAAO,aACHl1B,MAAO,OACPoN,OAAQ,OACR6B,SAAU,WACViH,MAAO,IACPwe,OAAQ,IACR3lB,OAAQ,cACLimB,IAIErhB,GAAY,SAACnH,GAEtB,MAAO,CACHxM,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,UC3KT,OAA0B,wCCA1B,OAA0B,0CC+BnCw0B,G,kDAIF,WAAY95B,GAAQ,IAAD,8BACf,cAAMA,IA6BV+5B,eAAiB,SAACC,GAId,GAFAA,EAAEC,kBAE0C,IAAxC,EAAKC,+BACL,OAAO,EAGX,EAAKj2B,SAAS,CACVk2B,UAAU,EACVC,IAAK,CACDC,EAAGL,EAAEM,MAAQ,EAAK/5B,MAAM85B,EACxBE,EAAGP,EAAEQ,MAAQ,EAAKj6B,MAAMg6B,KAIhC,EAAKE,4BAA2B,GAChC,EAAKC,iCAAgC,GAErC,EAAK/oB,SAASgpB,YAAc,SAACX,GAAD,OAAO,EAAKY,cAAcZ,IACtD,EAAKroB,SAASkpB,UAAY,SAACb,GAAD,OAAO,EAAKc,gBAAgBd,KAlDvC,EAqDnBE,6BAA+B,WAE3B,IAAMa,EAAO,EAAKC,aAAah4B,QAEzBi4B,EAAcF,EAAKG,YACnBC,EAAeJ,EAAKK,aAEpBC,EAAch5B,OAAOi5B,WACrBC,EAAel5B,OAAOm5B,YAE5B,OAAIP,IAAgBI,GAAeF,IAAiBI,GA/DrC,EAsEnBE,6BAA+B,WAE3B,IAAMV,EAAO,EAAKC,aAAah4B,QAEzBi4B,EAAcF,EAAKG,YACnBC,EAAeJ,EAAKK,aAEpBM,EAAe,EAAK17B,MAAM27B,SAC1BC,EAAgB,EAAK57B,MAAMiY,UAEjC,OAAIgjB,IAAgBS,GAAgBP,IAAiBS,GAhFtC,EAuFnBhB,cAAgB,SAACZ,GAEb,GAAK,EAAKz5B,MAAM45B,SAAhB,CAEAH,EAAIA,GAAK33B,OAAOoxB,MAEhB,IAAMsH,EAAO,EAAKC,aAAah4B,QAEzBi4B,EAAcF,EAAKG,YACnBC,EAAeJ,EAAKK,aACpBf,EAAIwB,KAAKC,IACXD,KAAKE,IAAI,EAAG/B,EAAEM,MAAQ,EAAK/5B,MAAM65B,IAAIC,GACrCh4B,OAAOi5B,WAAaL,EAAc,IAEhCV,EAAIsB,KAAKC,IACXD,KAAKE,IAAI,EAAG/B,EAAEQ,MAAQ,EAAKj6B,MAAM65B,IAAIG,GACrCl4B,OAAOm5B,YAAcL,EAAe,IAGxC,EAAKl3B,SAAS,CACVo2B,EAAGA,EACHE,EAAGA,IAGPP,EAAEgC,kBACFhC,EAAEC,mBAhHa,EAmHnBa,gBAAkB,SAACd,GAEf,EAAKroB,SAASgpB,YAAc,KAC5B,EAAKhpB,SAASkpB,UAAY,KAE1B,EAAK52B,SAAS,CAAEk2B,UAAU,IAE1B,EAAKM,4BAA2B,GAChC,EAAKC,iCAAgC,IA3HtB,EA8HnBuB,WAAa,SAACjC,GAIV,GAFAA,EAAEC,kBAE0C,IAAxC,EAAKC,+BACL,OAAO,EAGX,IAAMgC,EAAU,EAAKlB,aAAah4B,QAElC,EAAKm5B,OAASnC,EAAEM,MAChB,EAAK8B,OAASpC,EAAEQ,MAEhB,EAAK6B,WAAaC,WAAWC,iBAAiBL,EAAS,MAAMM,iBAAiB,SAASC,QAAQ,KAAM,KACrG,EAAKC,YAAcC,SAASJ,iBAAiBL,EAAS,MAAMM,iBAAiB,UAAUC,QAAQ,KAAM,KAErG,EAAK9qB,SAASgpB,YAAc,SAACX,GAAD,OAAO,EAAK4C,YAAY5C,IACpD,EAAKroB,SAASkpB,UAAY,SAACb,GAAD,OAAO,EAAK6C,WAAW7C,KA/IlC,EAkJnB4C,YAAc,SAAC5C,GAEX,IAAIr1B,EAAQ,EAAK03B,YAAcrC,EAAEM,MAAQ,EAAK6B,QAC1CpqB,EAAS,EAAK2qB,aAAe1C,EAAEQ,MAAQ,EAAK4B,QAE5Cz3B,EAAQ,EAAK3E,MAAM27B,WACnBh3B,EAAQ,EAAK3E,MAAM88B,WAGnBn4B,EAAQtC,OAAOi5B,aACf32B,EAAQ,EAAK3E,MAAM+Z,UAGnBhI,EAAS,EAAK/R,MAAMiY,YACpBlG,EAAS,EAAK/R,MAAMiY,WAGpBlG,EAAS1P,OAAOm5B,cAChBzpB,EAAS,EAAK/R,MAAM+8B,WAGxB,EAAK/B,aAAah4B,QAAQqQ,MAAM1O,MAAQA,EAAQ,KAChD,EAAKq2B,aAAah4B,QAAQqQ,MAAMtB,OAASA,EAAS,KAElD,EAAKirB,wCAAwC,CAAEr4B,MAAOA,EAAQ,KAAMoN,OAAQA,EAAS,OAErF,EAAK0oB,4BAA2B,GAChC,EAAKC,iCAAgC,IA7KtB,EAgLnBmC,WAAa,WAET,EAAKlrB,SAASgpB,YAAc,KAC5B,EAAKhpB,SAASkpB,UAAY,KAE1B,EAAKJ,4BAA2B,GAChC,EAAKC,iCAAgC,IAEO,IAAxC,EAAKR,gCACL,EAAKj2B,SAAS,CAAEw1B,WAAW,KAEa,IAAxC,EAAKgC,gCACL,EAAKx3B,SAAS,CAAEw1B,WAAW,KA5LhB,EAgMnBgB,2BAA6B,SAACnH,GAEtB,EAAK2J,wBAA0B,EAAKA,uBAAuBj6B,UAC3D,EAAKi6B,uBAAuBj6B,QAAQqQ,MAAMpO,QAAWquB,EAAQ,QAAU,SAnM5D,EAuMnBoH,gCAAkC,SAACpH,GAE3B,EAAK4J,6BAA+B,EAAKA,4BAA4Bl6B,UACrE,EAAKk6B,4BAA4Bl6B,QAAQqQ,MAAMpO,QAAWquB,EAAQ,QAAU,SA1MjE,EA8MnB0J,wCAA0C,SAACh9B,GAEvC,EAAKk9B,4BAA4Bl6B,QAAQqQ,MAAM1O,MAAQ3E,EAAM2E,MAC7D,EAAKu4B,4BAA4Bl6B,QAAQqQ,MAAMtB,OAAS/R,EAAM+R,QAjN/C,EAoNnBorB,uCAAyC,SAACn9B,GAEtC,EAAKk9B,4BAA4Bl6B,QAAQqQ,MAAMQ,IAAM7T,EAAMu6B,EAC3D,EAAK2C,4BAA4Bl6B,QAAQqQ,MAAMS,KAAO9T,EAAMq6B,GAvN7C,EA0NnB+C,SAAW,WAEP,IAAK,EAAKpC,eAAiB,EAAKA,aAAah4B,QACzC,OAAO,EAGX,IAAM2B,EAAQ,EAAK3E,MAAM27B,SAAW,KAC9B5pB,EAAS,EAAK/R,MAAMiY,UAAY,KAEtC,EAAKhU,SAAS,CAAEw1B,WAAW,IAC3B,EAAK4D,gCAAgC,CAAE14B,MAAOA,EAAOoN,OAAQA,IAC7D,EAAKirB,wCAAwC,CAAEr4B,MAAOA,EAAOoN,OAAQA,IACrE,EAAKorB,uCAAuC,CAAE9C,EAAG,MAAOE,EAAG,SAtO5C,EAyOnB+C,SAAW,WAEP,IAAK,EAAKtC,eAAiB,EAAKA,aAAah4B,QACzC,OAAO,EAGX,IAAM2B,EAAQ,EAAK3E,MAAM+Z,SACnBhI,EAAS,EAAK/R,MAAM+8B,UAE1B,EAAK94B,SAAS,CAAEw1B,WAAW,IAC3B,EAAK4D,gCAAgC,CAAE14B,MAAOA,EAAOoN,OAAQA,IAC7D,EAAKirB,wCAAwC,CAAEr4B,MAAOA,EAAOoN,OAAQA,IACrE,EAAKorB,uCAAuC,CAAE9C,EAAG,MAAOE,EAAG,SArP5C,EAwPnB8C,gCAAkC,SAACr9B,GAE/B,EAAKg7B,aAAah4B,QAAQqQ,MAAM1O,MAAQ3E,EAAM2E,MAC9C,EAAKq2B,aAAah4B,QAAQqQ,MAAMtB,OAAS/R,EAAM+R,OAC/C,EAAKipB,aAAah4B,QAAQqQ,MAAMQ,IAAM,MACtC,EAAKmnB,aAAah4B,QAAQqQ,MAAMS,KAAO,OA7PxB,EAgQnBypB,OAAS,SAACvD,GAEN,EAAK/1B,SAAS,CAAEo2B,EAAG,EAAGE,EAAG,IAErB,EAAKh6B,MAAMk5B,UACX,EAAK2D,WAEL,EAAKE,WAGTtD,EAAEgC,kBACFhC,EAAEC,kBA3Qa,EA8QnBuD,gBAAkB,SAAC/uB,GAEf,IAAMylB,EAAYzlB,EAAKgD,KAAKqiB,WAAWC,UACjC7Y,EAAY,EAAKrJ,QAAQiJ,cAAcI,UACvCuiB,EAAsB,EAAK5rB,QAAQiJ,cAAcgL,wBAEjD4X,GAAe,IAAI/7B,YAAUg8B,qBAC9BC,qBAAoB,GACpBC,aAAa3J,GACb4J,oBAAmB,GACnBL,oBAAoBA,GACpBxiB,aAAaC,GACb6iB,yBAAyBlI,GAAgB,EAAK71B,MAAMka,OAAO8jB,QAE1DzqB,EAAK,EAAK0qB,gBAChBt8B,YAAUu8B,UACNR,EACAnqB,EACA,IAAI5R,YAAUw8B,oBAAoB,CAC9BC,YAAa,SAAA3vB,GAEL,EAAKoD,SACL,EAAKA,QAAQ6gB,kBAAkB,GAAI,IAEvCwC,GAAQnzB,WAAW2M,GAAA,YACnB,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,oBAE/B/I,QAAS,SAAAnE,GAED,EAAKqQ,SACL,EAAKA,QAAQ6gB,kBAAkB,KAAM,IAGzC,EAAK1yB,MAAMq+B,gBAAgB3vB,GAAA,mBAC3B,IAAMkmB,EAAapzB,GAASA,EAAMkP,eAAe,QAAWlP,EAAMuC,KAAO,QACzE,EAAK8N,QAAQwf,gBAAgB,QAASuD,QAjTnC,EAuTnB0J,iBAAmB,SAAC7vB,GAEhB,IAAMylB,EAAYzlB,EAAK8vB,eACjB5L,EAAYlkB,EAAKpN,OAASM,YAAU68B,UAAU51B,MAC9CsS,EAAY,EAAKrJ,QAAQiJ,cAAcI,UACvCuiB,EAAsB,EAAK5rB,QAAQiJ,cAAcgL,wBAEjD4X,GAAe,IAAI/7B,YAAUg8B,qBACrCE,aAAa3J,GACb0J,qBAAoB,GACpBa,QAAQ98B,YAAU+8B,UAAUC,SAC5Bb,mBAAmBnL,GACnB8K,oBAAoBA,GACpBxiB,aAAaC,GACb6iB,yBAAyBlI,GAAgB,EAAK71B,MAAMka,OACpD8jB,QAGQzqB,EAAK,EAAK0qB,gBAChBt8B,YAAUu8B,UACNR,EACAnqB,EACA,IAAI5R,YAAUw8B,oBAAoB,CAC9BS,aAAc,SAAAx9B,GAKV,GAAIqN,EAAKowB,cAAc58B,MAAQ,EAAKuvB,aAAavvB,KAAOwM,EAAKowB,cAAc58B,MAAQb,EAAKa,IAAK,CAEzF,IAAM68B,EAAc,CAChB,SAAYrwB,EAAKswB,SACjB,KAAQtwB,EAAKpN,KACb,OAAUoN,EAAKuwB,OACf,OAAUvwB,EAAKqG,OACf,cAAiBrG,EAAKowB,cACtB,aAAgBpwB,EAAKwwB,aACrB,WAAcxwB,EAAKywB,WACnB,aAAgBzwB,EAAK0wB,aACrB,OAAU1wB,EAAK2wB,OACf,OAAS,eAAMh+B,IAEnB,EAAKpB,MAAMq+B,gBAAgB3vB,GAAA,iBAAmCowB,KAGtEO,WAAY,SAAAj+B,GAIR,GAAIqN,EAAKowB,cAAc58B,MAAQ,EAAKuvB,aAAavvB,KAAOwM,EAAKowB,cAAc58B,MAAQb,EAAKa,IAAK,CAEzF,IAAM68B,EAAc,CAChB,SAAYrwB,EAAKswB,SACjB,KAAQtwB,EAAKpN,KACb,OAAU,OACV,OAAUoN,EAAKqG,OACf,cAAiBrG,EAAKowB,cACtB,aAAgBpwB,EAAKwwB,aACrB,WAAcxwB,EAAKywB,WACnB,aAAgBzwB,EAAK0wB,aACrB,OAAU1wB,EAAK2wB,OACf,OAAS,eAAMh+B,IAGnB,EAAKpB,MAAMq+B,gBAAgB3vB,GAAA,eAAiCowB,KAGpEV,YAAa,SAAAkB,GAGL,EAAKztB,SACL,EAAKA,QAAQ6gB,kBAAkB,KAAM,IAEzCwC,GAAQnzB,WAAW2M,GAAA,YACnB,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,oBAAsC4wB,QA9X7E,EAAK/+B,MAAQ,CACT85B,EAAG,EACHE,EAAG,EACHH,IAAK,KACLD,UAAU,EACVV,WAAW,GAGf,EAAKjI,aAAexxB,EAAMwxB,aAE1B,EAAKyL,uBAAyBv8B,IAAMyD,YACpC,EAAK+4B,4BAA8Bx8B,IAAMyD,YACzC,EAAK62B,aAAet6B,IAAMyD,YAC1B,EAAK85B,gBAAkBv9B,IAAMyD,YAhBd,E,qDAmBnB,WAEIpE,KAAK4R,SAAWtP,OAAOsP,SAEnB5R,KAAKC,MAAMyO,KAAKpN,OAASqN,GACzB3O,KAAKy9B,gBAAgBz9B,KAAKC,MAAMyO,MAEhC1O,KAAKu+B,iBAAiBv+B,KAAKC,MAAMyO,Q,oBA8WzC,WAAU,IHvX2BzO,EGuX5B,OAECu/B,EAAahpB,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,MACzDslB,EAAY,iBAAGh7B,IAAK8T,GAAUmnB,IAAezlB,MAAOulB,IAKxD,OAJ6B,IAAzBx/B,KAAKQ,MAAMk5B,YACX+F,EAAY,iBAAGh7B,IAAK8T,GAAUonB,IAAe1lB,MAAOulB,KAIpD,YAAC,IAAMx6B,SAAP,KACI,mBAAKP,KAA+BzE,KAAKQ,MH9Y9C,CACH0E,QAAS,OACTN,MAAO,QACPoN,OAAQ,QACR6B,SAAU,QACVC,IAAK,IACLC,KAAM,IACNulB,OAAQ,IACRxe,MAAO,IACPnH,OAAQ,eGqYiDJ,IAAKvT,KAAKk9B,yBAC3D,mBAAK3pB,IAAKvT,KAAKi7B,aAAc12B,UAAU,wBAAwBE,KHlYtCxE,EGkYoED,KAAKC,MHhYvG,CACH2E,MAAO3E,EAAM+Z,SACbhI,OAAQ/R,EAAM+8B,UACdnpB,SAAU,QACVC,IAAK,IACLC,KAAM,IACNX,SAAU,SACVO,OAAQ,aACR,IAAK,CACD2E,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,eGuXnBsE,MAAO,CAAEQ,IAAK9T,KAAKQ,MAAMg6B,EAAI,KAAMzmB,KAAM/T,KAAKQ,MAAM85B,EAAI,OACxD,mBAAK71B,IHjXd,CACHS,QAAS,OACT2O,SAAU,WACVC,IAAK,IACLC,KAAM,IACNulB,OAAQ,IACRxe,MAAO,IACPnH,OAAQ,cG0WgDJ,IAAKvT,KAAKm9B,8BACtD,mBAAK14B,IAAK+0B,GAAsBx5B,KAAKQ,OAAQ+D,UAAU,qBAAqBq7B,YAAa5/B,KAAKg6B,gBAC1F,mBAAKv1B,IH9UlB,CACHG,MAAO,oBACPa,QAAS,SG4UO,QACA,mBAAKlB,UAAU,qBAAqBE,IHvUjD,CACHG,MAAO,OACPa,QAAS,OACTP,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ,OAAU,CACNmV,OAAQ,OACRuf,WAAY,cACZp0B,OAAQ,UACRJ,QAAS,OACTJ,QAAS,OACTC,cAAe,MACfE,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPa,QAAS,MACTo6B,WAAY,OACZ,IAAO,CACH7lB,SAAU,OACVD,WAAY,OGmT0D5F,QAASnU,KAAKw9B,OAAQoC,YAAa,SAAA3F,GAAC,OAAIA,EAAEgC,oBAAmB,sBAAQ36B,KAAK,SAAS2Y,MAAOulB,GAAaC,KAEzK,mBAAKh7B,IAAK20B,GAAuBp5B,KAAKC,MAAOma,KAAY7V,UAAU,sBAAsBgP,IAAK,SAAAC,GAAQ,EAAK0qB,gBAAkB1qB,KAC7H,mBAAK/O,IAAKk1B,GAAuB35B,KAAKQ,OAAQ+D,UAAU,2BAA2Bq7B,YAAa5/B,KAAKk8B,mB,GA/ZvFv7B,IAAMkF,eAAlCk0B,GAEK+F,YAAc3qB,GAqazB4kB,GAAoBtmB,aAAe,CAC/B0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACP6sB,SAAU,IACV1jB,UAAW,IACX8B,SAAU,OACVgjB,UAAW,OACX1pB,MAAO,IC3cJ,I,GAAMysB,GAAb,iDAAaA,GAELC,kBAAoB,KAFfD,GAGLE,kBAAoB,KAHfF,GAILG,qBAAuB,KAJlBH,GAKLI,qBAAuB,KALlBJ,GAMLK,0BAA4B,KANvBL,GAQLM,KAAO,SAACpB,EAAQntB,GACtB,OAAQmtB,GACP,KAAKtwB,GAAgB9F,MAAhB,cAVKk3B,GAWJO,eAAexuB,GACpB,MACD,KAAKnD,GAAgB9F,MAAhB,cAbKk3B,GAcJQ,eAAezuB,GACpB,MACD,KAAKnD,GAAgB9F,MAAhB,iBAhBKk3B,GAiBJS,kBAAkB1uB,GACvB,MACD,KAAKnD,GAAgB9F,MAAhB,uBAnBKk3B,GAoBJU,uBAAuB3uB,GAC5B,MACD,KAAKnD,GAAgB9F,MAAhB,iBAtBKk3B,GAuBJW,kBAAkB5uB,KAvBdiuB,GA8BLY,MAAQ,SAAC1B,EAAQntB,GACvB,OAAQmtB,GACP,KAAKtwB,GAAgB9F,MAAhB,cAhCKk3B,GAiCJa,kBAAkB9uB,GACvB,MACD,KAAKnD,GAAgB9F,MAAhB,cAnCKk3B,GAoCJc,kBAAkB/uB,GAExB,KAAKnD,GAAgB9F,MAAhB,iBACL,KAAK8F,GAAgB9F,MAAhB,uBACL,KAAK8F,GAAgB9F,MAAhB,oBAxCKk3B,GA8CLS,kBAAoB,SAAA1uB,GA9CfiuB,GA+CNlhB,uBAAuB/M,GAASjQ,MAAK,SAAAwB,IACxB,IAAbA,IAC+B,OAjDzB08B,GAiDAG,qBACR,8BAAiDr+B,MAAK,SAAAwB,GAlD9C08B,GAmDFG,qBAAuB,IAAIY,MAAMz9B,EAAS09B,SAnDxChB,GAoDFiB,iBApDEjB,GAoDoBG,yBApDpBH,GAuDHiB,iBAvDGjB,GAuDmBG,2BAvDnBH,GA6DLU,uBAAyB,SAAA3uB,GA7DpBiuB,GA8DNlhB,uBAAuB/M,GAASjQ,MAAK,SAAAwB,IACxB,IAAbA,IACoC,OAhE9B08B,GAgEAK,0BACR,8BAAsDv+B,MAAK,SAAAwB,GAjEnD08B,GAkEFK,0BAA4B,IAAIU,MAAMz9B,EAAS09B,SAlE7ChB,GAmEFiB,iBAnEEjB,GAmEoBK,8BAnEpBL,GAsEHiB,iBAtEGjB,GAsEmBK,gCAtEnBL,GA4ELW,kBAAoB,SAAA5uB,GA5EfiuB,GA6ENlhB,uBAAuB/M,GAASjQ,MAAK,SAAAwB,IACxB,IAAbA,IAC+B,OA/EzB08B,GA+EAI,qBACR,8BAAiDt+B,MAAK,SAAAwB,GAhF9C08B,GAiFFI,qBAAuB,IAAIW,MAAMz9B,EAAS09B,SAjFxChB,GAkFFiB,iBAlFEjB,GAkFoBI,yBAlFpBJ,GAqFHiB,iBArFGjB,GAqFmBI,2BArFnBJ,GA2FLiB,iBAAmB,SAAAC,GACzBA,EAAaC,YAAc,EAC3BD,EAAaZ,QA7FFN,GAgGLO,eAAiB,SAAAxuB,GAhGZiuB,GAiGNhhB,oBAAoBjN,GAASjQ,MAAK,SAAAwB,IACrB,IAAbA,IAC4B,OAnGtB08B,GAmGAC,kBACR,8BAA8Cn+B,MAAK,SAAAwB,GApG3C08B,GAqGFC,kBAAoB,IAAIc,MAAMz9B,EAAS09B,SArGrChB,GAsGFoB,cAtGEpB,GAsGiBC,sBAtGjBD,GAyGHoB,cAzGGpB,GAyGgBC,wBAzGhBD,GA+GLQ,eAAiB,SAAAzuB,GA/GZiuB,GAgHNhhB,oBAAoBjN,GAASjQ,MAAK,SAAAwB,IACrB,IAAbA,IAC4B,OAlHtB08B,GAkHAE,kBACR,8BAA8Cp+B,MAAK,SAAAwB,GAnH3C08B,GAoHFE,kBAAoB,IAAIa,MAAMz9B,EAAS09B,SApHrChB,GAqHFoB,cArHEpB,GAqHiBE,sBArHjBF,GAwHHoB,cAxHGpB,GAwHgBE,wBAxHhBF,GA8HLoB,cAAgB,SAAAC,GACtB,IACCA,EAAUF,YAAc,EACK,kBAAlBE,EAAUC,KACpBD,EAAUC,MAAO,EAEjBD,EAAU/L,iBACT,SACA,WACCr1B,KAAKkhC,YAAc,EACnBlhC,KAAKqgC,UAEN,GAGFe,EAAUf,OACT,MAAO5+B,MA9IEs+B,GAiJLa,kBAAoB,SAAA9uB,GAjJfiuB,GAkJNhhB,oBAAoBjN,GAASjQ,MAAK,SAAAwB,IACrB,IAAbA,GAnJM08B,GAoJAC,mBApJAD,GAqJHC,kBAAkBW,YArJfZ,GA2JLc,kBAAoB,SAAA/uB,GA3JfiuB,GA4JNhhB,oBAAoBjN,GAASjQ,MAAK,SAAAwB,IACrB,IAAbA,GA7JM08B,GA8JAE,mBA9JAF,GA+JHE,kBAAkBU,YA/JfZ,GAqKLhhB,oBAAsB,SAAAjN,GAC5B,OAAO,IAAIwV,SAAQ,SAAAC,GAClBzV,EAAQ0D,mBAAmB2S,sBACzBtmB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,MACzBT,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UAzKfwY,GA6KLlhB,uBAAyB,SAAA/M,GAC/B,OAAO,IAAIwV,SAAQ,SAAAC,GAClBzV,EAAQ0D,mBAAmB0S,yBACzBrmB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,MACzBT,OAAM,SAAAnB,GAAK,OAAI8lB,GAAQ,UCnLrB,IAAM+Z,GAA2B,SAACrhC,EAAOma,GAE5C,IAAMmnB,EAAYnnB,EAAH,uHAKXonB,EAAgB,WAChBC,EAAU,IACVC,EAAW,IACXC,EAAS,IACTC,EAAY,QACZC,EAAc,MAElB,GAAI5hC,EAAM0Q,eAAe,kBAErB,GAAI1Q,EAAM6hC,eAAenxB,eAAe,eAAiB1Q,EAAM6hC,eAAeC,WAG1E,GAAI9hC,EAAM6hC,eAAenxB,eAAe,aAAe1Q,EAAM6hC,eAAeE,SAOxE,GALAH,EAAc,aACdL,EAAgB,QAChBG,EAAS,QACTC,EAAY,QAER3hC,EAAM6hC,eAAenxB,eAAe,cAAmD,SAAnC1Q,EAAM6hC,eAAeG,UAAsB,CAK/F,GAHAP,EAAW,QACXD,EAAU,OAENxhC,EAAM6hC,eAAenxB,eAAe,UAEhC1Q,EAAM6hC,eAAel9B,MAAM+R,SAAS,MAAO,CAE3C,IAAMurB,EAAcjiC,EAAM6hC,eAAel9B,MAAM83B,QAAQ,KAAM,IAC7DgF,EAAW9E,SAASsF,GAAe,IAAM,GACzCR,GAAsB,KAI9B,GAAIzhC,EAAM6hC,eAAenxB,eAAe,WAEhC1Q,EAAM6hC,eAAe9vB,OAAO2E,SAAS,MAAO,CAE5C,IAAMwrB,EAAeliC,EAAM6hC,eAAe9vB,OAAO0qB,QAAQ,KAAM,IAC/DkF,EAAYhF,SAASuF,GAAgB,IAAM,IAC3CP,GAAwB,UAI7B,CAKH,GAHAH,EAAU,QACVC,EAAW,OAERzhC,EAAM6hC,eAAenxB,eAAe,UAE/B1Q,EAAM6hC,eAAel9B,MAAM+R,SAAS,MAAO,CAE3C,IAAMurB,EAAcjiC,EAAM6hC,eAAel9B,MAAM83B,QAAQ,KAAM,IAC7DgF,EAAW9E,SAASsF,GAAe,IAAM,GACzCR,GAAsB,KAI9B,GAAIzhC,EAAM6hC,eAAenxB,eAAe,WAEhC1Q,EAAM6hC,eAAe9vB,OAAO2E,SAAS,MAAO,CAE5C,IAAMwrB,EAAeliC,EAAM6hC,eAAe9vB,OAAO0qB,QAAQ,KAAM,IAC/DkF,EAAYhF,SAASuF,GAAgB,IAAM,IAC3CP,GAAwB,WAOpCH,EAAU,QACVD,EAAgB,aAGpBK,EAAc,aAItB,MAAO,CACHhuB,SAAU2tB,EACV1tB,IAAK6tB,EACL5tB,KAAM0tB,EACNnI,OAAQsI,EACR9mB,MAAO4mB,EACPl8B,aAAc,OACd8U,OAAQ,OACR/U,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgByK,gBAChD2D,OAAQkuB,EACRl9B,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5B9K,UAAW,SACXyT,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuqB,UAAU,GAAD,OAAKgI,EAAL,eACT38B,MAAO,QACP,IAAK,CACD0T,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,eA0F1BozB,GAAc,SAACniC,EAAOg/B,GAI/B,MAAO,CACHv5B,OAAQ,UACRD,QAAS,WACTF,gBALoB,UAAC05B,EAAah/B,EAAM8O,MAAMxJ,gBAAgBmK,KAAsBzP,EAAM8O,MAAMxJ,gBAAgBqK,IAA5F,cAMpBpK,aAAc,MACdb,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5BjL,SAAU,OACVY,QAAS,IACTiV,OAAQ,IACR3V,MAAO,MACPwO,SAAU,WAILivB,GAAgB,SAACjxB,EAAKU,GAE/B,MAAO,CACHlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBC7N3B,OAA0B,0CCA1B,OAA0B,gDCoCnCozB,G,kDAGL,WAAYriC,GAAQ,IAAD,8BAClB,cAAMA,IAoCPsiC,eAAiB,WAChB,GAAI,EAAKC,eAAiB,EAAKA,cAAcv/B,QAAS,CACrD,IAAIw/B,GAAiB,EACfC,EAAiB,EAAKF,cAAcv/B,QAAQ0/B,iBAAiB,UAEnED,EAAeE,SAAQ,SAAAC,GACOA,EAAW1H,YACf0H,EAAWC,cAGnCL,GAAiB,MAIfA,GACHC,EAAeE,SAAQ,SAAAC,GACtBA,EAAWvvB,MAAM5O,SAAW,WArDb,EA2DnBq+B,kBAAoB,SAACjsB,EAAKpI,GACzB,OAAQoI,GACP,KAAKnI,EACJ,EAAKq0B,qBAAqBt0B,GAC1B,MACD,KAAKC,GACJ,EAAKs0B,sBAAsBv0B,GAC3B,MACD,KAAKC,EACJ,EAAKu0B,qBAAqBx0B,KApEV,EA2EnBs0B,qBAAuB,SAAAG,GAEkB,IAAD,EADnC,EAAK3xB,aACwB,OAA5B,EAAKhR,MAAM2iC,eACE,OAAZA,QAAY,IAAZA,OAAA,EAAAA,EAAcrE,cAAc58B,QAA5B,UAAoC,EAAKuvB,oBAAzC,aAAoC,EAAmBvvB,OAC1D69B,GAAaM,KAAK1xB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAC/D,EAAK5N,SAAS,CAAEi/B,aAAcA,OAhFf,EAsFnBF,sBAAwB,SAAAv0B,GACnB,EAAK8C,aAERuuB,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK5N,SAAS,CAAEi/B,aAAc,SA1Fb,EA8FnBD,qBAAuB,SAAAx0B,GAAS,IAAD,KAE3B,UAAAA,EAAK00B,cAAL,eAAalhC,QAAb,UAAqB,EAAKuvB,oBAA1B,aAAqB,EAAmBvvB,MACtC,EAAKsP,aAERuuB,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK5N,SAAS,CAAEi/B,aAAc,SApGd,EAyGnBE,WAAa,WACZtD,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,IAAIwxB,EAAa,EAAKC,eAAiB3hC,YAAU4hC,YAAYC,KAAO7hC,YAAU4hC,YAAYE,SAE1F9hC,YAAUyhC,WAAW,EAAK7iC,MAAM2iC,aAAahP,UAAWmP,GACtDzhC,MAAK,SAAA8hC,IACuB,IAAxB,EAAKJ,iBACJ,EAAKzxB,SACR,EAAKA,QAAQ6gB,kBAAkB,KAAM,IAEtCwC,GAAQje,QAAQvI,GAAA,WAA+Bg1B,GAC/C,EAAK1jC,MAAMq+B,gBAAgB3vB,GAAA,uBAAyCg1B,GACpE,EAAKz/B,SAAS,CAAE2uB,eAAgB,QAGjC,EAAK3uB,SAAS,CAAEi/B,aAAc,UAE9BvgC,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAEi/B,aAAc,KAAMtQ,eAAgB,OACpD,IAAMgC,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,QACvE,EAAK8N,QAAQwf,gBAAgB,QAASuD,OA7HtB,EAiInB+O,WAAa,WACZ,EAAKC,+BACHhiC,MAAK,SAAAwB,GACL08B,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChElQ,YAAUgiC,WAAW,EAAKpjC,MAAM2iC,aAAahP,WAC3CtyB,MAAK,SAAA6M,GACD,EAAKoD,SACR,EAAKA,QAAQ6gB,kBAAkBjkB,EAAMC,GAAA,0BAEtCwmB,GAAQje,QAAQvI,GAAA,WAA+BD,GAC/C,EAAKzO,MAAMq+B,gBAAgB3vB,GAAA,uBAAyCD,GACpE,EAAKxK,SAAS,CAAEi/B,aAAc,KAAMtQ,eAAgBnkB,OAEpD9L,OAAM,SAAAnB,GACF,EAAKqQ,SACR,EAAKA,QAAQ6gB,kBAAkB,KAAM,IAEtC,EAAKzuB,SAAS,CAAEi/B,aAAc,KAAMtQ,eAAgB,OAEpD,IAAMgC,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,QACvE,EAAK8N,QAAQwf,gBAAgB,QAASuD,SAGxCjyB,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,QACvE,EAAK8N,QAAQwf,gBAAgB,QAASuD,OA1JtB,EA8JnB0O,aAAe,WACd,OAAwD,IAApD9yB,OAAOC,KAAK,EAAKoB,QAAQ+gB,gBAAgBtiB,UAI7B,EAAK2jB,0BAnKH,EA2KnBA,uBAAyB,WACxB,OAAO,EAAKpiB,QAAQoiB,0BA5KF,EA+KnB2P,6BAA+B,WAgB9B,OAfgB,IAAIvc,SAAQ,SAACC,EAASsJ,GACrC,IAA4B,IAAxB,EAAK0S,eACR,OAAOhc,EAAQ,CAAEuc,SAAS,IAG3B,IAAI9P,EAAY,EAAKE,yBACrBtyB,YAAUmiC,QAAQ/P,GAChBnyB,MAAK,SAAAwB,GACL,OAAOkkB,EAAQlkB,MAEfT,OAAM,SAAAnB,GACN,OAAOovB,EAAOpvB,UA3LC,EAkMnBuiC,cAAgB,SAAC/E,EAAQvwB,GACxB,OAAQuwB,GACP,KAAKtwB,GAAA,oBACJ,EAAKzK,SAAS,CAAE2uB,eAAgB,OAChC,MACD,KAAKlkB,GAAA,iBACL,KAAKA,GAAA,eACJ,EAAK1O,MAAMq+B,gBAAgBW,EAAQvwB,KAzMnB,EAgNnBu1B,iBAAmB,SAAAvQ,GAClB,IAAS,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO5c,OAAQnI,GAAA,WAClB,OAAO,EAG+B,IAAD,IACjCD,GADDglB,EAAMwQ,UAAYxQ,EAAMyQ,YAEvBzQ,EAAMwQ,SACTx1B,EAAOgnB,KAAKE,MAAMlC,EAAMwQ,UACdxQ,EAAMyQ,WAChBz1B,EAAOgnB,KAAKE,MAAMlC,EAAMyQ,YAGrB,YAAK3jC,MAAM2iC,oBAAX,eAAyB3E,mBAAzB,UAA4C9vB,SAA5C,aAA4C,EAAMylB,aACrD4L,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK5N,SAAS,CAAEi/B,aAAc,UA7NhC,EAAK3xB,YAAa,EAClB,EAAKhR,MAAQ,CACZ2iC,aAAc,KACdtQ,eAAgB5yB,EAAMkjC,cAGvB,EAAKX,cAAgB7hC,IAAMyD,YAE3BxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GACNiB,QAAQjB,MAAMA,MAbE,E,qDAiBnB,WACCzB,KAAKwR,YAAa,EAElBxR,KAAKkO,iBAAmB,IAAIA,GAC5BlO,KAAKkO,iBAAiBk2B,gBAAgBpkC,KAAK+iC,mBAE3C5N,GAAQC,sBAAsBp1B,KAAKikC,oB,gCAGpC,WACKjkC,KAAKQ,MAAM2iC,cACdnjC,KAAKuiC,mB,kCAIP,WACCviC,KAAKwR,YAAa,EAClB2jB,GAAQG,sBAAsBt1B,KAAKikC,oB,oBAkMpC,WAAU,IAAD,OACJI,EAAa,KAChBC,EAAoB,KACrB,GAAItkC,KAAKQ,MAAM2iC,aAAc,CAC5B,IAAIvQ,EACH,YAAC,IAAM5tB,SAAP,KACC,iBAAGP,IAAK49B,GAAckC,GAAevkC,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,QAClH,wBAAO3D,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,QAG5Dna,KAAKQ,MAAM2iC,aAAa7hC,OAASM,YAAU68B,UAAU+F,QACxD5R,EACC,YAAC,IAAM5tB,SAAP,KACC,iBAAGP,IAAK49B,GAAcoC,GAAezkC,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,QAClH,wBAAO3D,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,SAKjEmqB,EACC,mBAAK7/B,IAAK68B,GAAyBthC,KAAKC,MAAOma,KAAY7V,UAAU,sBACpE,mBAAKE,IHhLC,CACHS,QAAS,OACTC,cAAe,SACfP,MAAO,OACPa,QAAS,QG4KoBlB,UAAU,wBACzC,mBAAKE,IHvKA,CACHG,MAAO,OACPM,QAAS,QGqKqBX,UAAU,qBACzC,mBAAKE,IHhKD,CACHG,MAAO,oBACPM,QAAS,OACTC,cAAe,SACfE,eAAgB,SAChBD,WAAY,SACZP,UAAW,QG0JiBN,UAAU,kBACtC,mBAAKE,IHrJF,CACHC,SAAU,OACV4P,WAAY,MACZpP,QAAS,QACTN,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZpwB,WAAY,QG6IWhQ,UAAU,QAC/BvE,KAAKQ,MAAM2iC,aAAaC,OAAO1/B,MAEjC,mBAAKe,KAAmBzE,KAAKC,MH1I1B,CACHyE,SAAU,OACVE,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZC,cAAe,aACfrwB,WAAY,OACZ5P,MAAO,UACPO,QAAS,OACTG,eAAgB,QAChBD,WAAY,SACZK,QAAS,cACT,KAAQ,CACJA,QAAS,WG4HwBlB,UAAU,YAC7CquB,IAGH,mBAAKnuB,IHzHD,CACHG,MAAO,OACPoN,OAAQ,OACR9M,QAAS,OACTG,eAAgB,UGqHWd,UAAU,qBACrC,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKQ,MAAM2iC,aAAaC,WAGjD,mBAAK3+B,IHnHA,CACHG,MAAO,OACPM,QAAS,OACTG,eAAgB,gBAChBiV,OAAQ,cG+GqB/V,UAAU,qBAAqBgP,IAAKvT,KAAKwiC,eACvE,sBAAQlhC,KAAK,SAASmD,IAAK29B,GAAYpiC,KAAKC,MAAO,GAAIsE,UAAU,yBAAyB4P,QAAS,kBAAM,EAAKkvB,WAAW,EAAK7iC,MAAM2iC,aAAcvhC,YAAU4hC,YAAYE,YACtKltB,GAAW0D,UAAU,UAAWla,KAAKC,MAAMka,OAE7C,sBAAQ7Y,KAAK,SAASmD,IAAK29B,GAAYpiC,KAAKC,MAAO,GAAIsE,UAAU,wBAAwB4P,QAASnU,KAAK4jC,YACrGptB,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,UAYjD,OAJIna,KAAKQ,MAAMqyB,iBACdwR,EAAa,YAAC,GAAD,CAAqB5S,aAAczxB,KAAKyxB,aAAc/iB,KAAM1O,KAAKQ,MAAMqyB,eAAgB1Y,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,iBAIjJ,YAAC,IAAMh/B,SAAP,KACEs/B,EACAD,O,GA9R+B1jC,IAAMkF,eAApCy8B,GACExC,YAAc3qB,GAoStBmtB,GAAsB7uB,aAAe,CACjC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACVo0B,aAAc,MCxUR,I,GAAM0B,GAAb,iDAEC12B,eAAiB,eAAgB,IAAIC,MAAOC,UAF7C,mDAIC,SAAgBC,GAEf1M,YAAU2M,gBACTvO,KAAKmO,eACL,IAAIvM,YAAU4M,aAAa,CAC1BK,uBAAwB,SAAAH,GACvBJ,EAASK,EAA8BD,IAExCo2B,uBAAwB,SAAAp2B,GACvBJ,EAASK,EAA8BD,IAExCE,wBAAyB,SAAAF,GACxBJ,EAASK,GAA+BD,SAhB7C,6BAsBC,WACC9M,YAAUkN,mBAAmB9O,KAAKmO,oBAvBpC,KCJairB,GAAyB,SAACn5B,EAAOma,GAE1C,IAAInV,EAAS,CACTL,MAAO,OACPoN,OAAQ,OACR6B,SAAU,WACVC,IAAK,IACLgH,MAAO,IACPwe,OAAQ,IACRvlB,KAAM,IACNJ,OAAQ,OAGR1T,EAAM6hC,iBAEN78B,EAAS,CACLL,MAAO,OACPoN,OAAQ,OACR6B,SAAU,QACVC,IAAK,IACLgH,MAAO,IACPwe,OAAQ,IACRvlB,KAAM,IACNJ,OAAQ,eAIhB,IAAM0lB,EAAgBjf,EAAH,2GAQnB,OAAO,2BACAnV,GADP,IAEIM,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBwK,UAChDpL,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5B9K,UAAW,SACXyT,UAAW,aACXihB,UAAU,GAAD,OAAKF,EAAL,eACTrqB,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,IAAK,CACDsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,gBC7CxB,OAA0B,qCCmCnC+1B,G,kDAIL,WAAY9kC,GAAQ,IAAD,8BAElB,cAAMA,IA2BP8iC,kBAAoB,SAACjsB,EAAKpI,GAEzB,OAAQoI,GAEP,KAAKnI,EACJ,EAAKu0B,qBAAqBx0B,GAC3B,MACA,KAAKC,EACJ,EAAKq2B,qBAAqBt2B,KArCV,EA4CnBw0B,qBAAuB,SAACx0B,IAEe,IAAlC,EAAKlO,MAAMykC,qBAEd,EAAKhlC,MAAMq+B,gBAAgB3vB,GAAA,uBAAyCD,GAEpEqxB,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK5N,SAAS,CAAE+gC,oBAAoB,EAAOpS,eAAgBnkB,EAAMw2B,aAAa,EAAO1gC,aAAc,OAEhG,EAAKsN,SACP,EAAKA,QAAQ6gB,kBAAkBjkB,EAAMC,GAAA,4BAtDrB,EA2DnBq2B,qBAAuB,SAACt2B,GAGvB,GADAqxB,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAC5DpD,EAAKiC,eAAe,WAAajC,EAAKqG,SAAWnT,YAAU4hC,YAAYC,KAAM,CAGhF,IAAMj/B,EAAY,UAAMkK,EAAK00B,OAAO1/B,KAAlB,YAA0B8S,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,OAC/F,EAAKjW,SAAS,CAAEghC,aAAa,EAAM1gC,aAAcA,IACjD,EAAK2gC,2BAIL,EAAKllC,MAAMq+B,gBAAgB3vB,GAAA,uBAAyCD,GACpE,EAAKxK,SAAS,CAAE+gC,oBAAoB,EAAOpS,eAAgB,KAAMqS,aAAa,EAAO1gC,aAAc,OACnG,EAAK2gC,uBAzEY,EA8EnBhH,UAAY,SAACzvB,GAEZqxB,GAAaM,KAAK1xB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAC/D,EAAK5N,SAAS,CAAE+gC,oBAAoB,EAAMpS,eAAgBnkB,EAAMw2B,aAAa,EAAO1gC,aAAc,QAjFhF,EAoFnBw/B,cAAgB,SAAC/E,EAAQvwB,GAExB,OAAQuwB,GAEP,KAAKtwB,GAAA,oBACJ,EAAKzK,SAAS,CAAE2uB,eAAgB,OACjC,MACA,KAAKlkB,GAAA,iBACL,KAAKA,GAAA,eACJ,EAAK1O,MAAMq+B,gBAAgBW,EAAQvwB,KA7FnB,EAqGnB02B,WAAa,WAEZrF,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAE5D,EAAKtR,MAAM0kC,aAEd,EAAKhhC,SAAS,CAAEghC,aAAa,EAAO1gC,aAAc,KAAMygC,oBAAoB,EAAOpS,eAAgB,OACnG,EAAKsS,sBACL,EAAKllC,MAAMq+B,gBAAgB3vB,GAAA,0BAI3B/M,YAAUyhC,WAAW,EAAK7iC,MAAMqyB,eAAesB,UAAWvyB,YAAU4hC,YAAY6B,WAAWxjC,MAAK,SAAA6M,GAE/F,EAAKxK,SAAS,CAAE+gC,oBAAoB,EAAOpS,eAAgB,OAC3D,EAAKsS,sBACL,EAAKllC,MAAMq+B,gBAAgB3vB,GAAA,4BAEzB/L,OAAM,SAAAnB,GAER,EAAKyC,SAAS,CAAE+gC,oBAAoB,EAAOpS,eAAgB,OAC3D,EAAKsS,0BA1HW,EAgInBA,oBAAsB,WACjB,EAAKrzB,SACR,EAAKA,QAAQ6gB,kBAAkB,KAAM,KA9HtC,EAAKuL,gBAAkBv9B,IAAMyD,YAE7B,EAAK5D,MAAQ,CACZ0kC,aAAa,EACb1gC,aAAc,KACdygC,oBAAoB,EACpBpS,eAAgB,MAGjBjxB,YAAU2vB,kBAAkB1vB,MAAK,SAAAR,GAAI,OAAI,EAAKowB,aAAepwB,KAAMuB,OAAM,SAAAnB,GACxEiB,QAAQjB,MAAMA,MAdG,E,qDAkBnB,WAECzB,KAAK6kC,kBAAoB,IAAIA,GAC7B7kC,KAAK6kC,kBAAkBT,gBAAgBpkC,KAAK+iC,qB,kCAG7C,WACC/iC,KAAK6kC,kBAAkBS,kBACvBtlC,KAAK6kC,kBAAoB,O,oBA4G1B,WAAU,IFhDezzB,EEgDhB,OAEJizB,EAAa,KAAMa,EAAc,KACrC,GAAIllC,KAAKQ,MAAMqyB,eAAgB,CAE9B,IAAIlvB,EAAU,YAAC,GAAD,CAAiBtC,KAAMrB,KAAKQ,MAAMqyB,eAAe0S,WAC3DvlC,KAAKQ,MAAM0kC,cACdA,EACC,mBAAKzgC,IFhCC,CACHE,MAAO,OACPE,UAAW,SACXW,aAAc,MACdC,QAAS,YACTf,SAAU,OACVE,MAAO,OACPoN,OAAQ,MACRzM,gBAAiB,QEwBahB,UAAU,8BAA6B,uBAAMvE,KAAKQ,MAAMgE,gBAK1F6/B,EADGrkC,KAAKQ,MAAMykC,mBAEb,mBAAKxgC,IAAK20B,GAAuBp5B,KAAKC,MAAOma,KAAY7V,UAAU,sBAAsBgP,IAAK,SAAAC,GAAQ,EAAK0qB,gBAAkB1qB,IAC5H,mBAAK/O,IFxIA,CACHS,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRpN,MAAO,QEoI6BL,UAAU,yBAC/C,mBAAKE,IF/HD,CACHgB,QAAS,YACTb,MAAO,OACPoN,OAAQ,OE4HgBzN,UAAU,sBAClC,oBAAME,IFvHH,CACHC,SAAU,OACVQ,QAAS,eACTO,QAAS,OEoHyBlB,UAAU,mBAAmBiS,GAAW0D,UAAU,UAAWla,KAAKC,MAAMka,OAC1G,kBAAI1V,IF/GD,CACH6V,OAAQ,IACRhG,WAAY,MACZswB,cAAe,aACflgC,SAAU,QE2GkBH,UAAU,gBAAgBvE,KAAKQ,MAAMqyB,eAAe0S,SAAS7hC,OAE1F,mBAAKe,IFvGD,CACHG,MAAO,OACPoN,OAAQ,MACR9M,QAAS,OACTG,eAAgB,SAChBD,WAAY,UEkGsBb,UAAU,kCAC5C,mBAAKE,IF7FF,CACHG,MAAO,QACPmV,WAAY,KE2FgBxV,UAAU,yBAAyBZ,IAE/DuhC,EACD,mBAAKzgC,IFxFD,CACHG,MAAO,OACPoN,OAAQ,MACRvM,QAAS,OACTP,QAAS,OACTG,eAAgB,UEmFYd,UAAU,qBACtC,mBAAKE,IF9EF,CACHS,QAAS,QE6EqBX,UAAU,cAAc4P,QAASnU,KAAKolC,YACnE,mBAAK3gC,KF1EY2M,EE0EGo0B,GFxElB,CACH5gC,MAAO,OACPoN,OAAQ,OACRxM,aAAc,OACdD,gBAAiB,MACjBL,QAAS,OACToV,OAAQ,YACR5U,OAAQ,UACRL,eAAgB,SAChBD,WAAY,SACZ,EAAK,CACDoT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,QAChBL,QAAS,eACTN,MAAO,OACPoN,OAAQ,UEyDoBzN,UAAU,kBAAiB,2BAOlD,YAAC,GAAD,CAAqBktB,aAAczxB,KAAKyxB,aAAc/iB,KAAM1O,KAAKQ,MAAMqyB,eAAgB1Y,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,gBAGnJ,OAAOK,M,GA9K2B1jC,IAAMkF,eAApCk/B,GAEEjF,YAAc3qB,GAiLtB4vB,GAAsBtxB,aAAe,CACpC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,ICpND,I,GAAM02B,GAAb,iDAEIC,cAAgB,qBAAsB,IAAIt3B,MAAOC,UAFrD,mDAII,SAAgBC,GAEZ1M,YAAU+jC,mBACN3lC,KAAK0lC,cACL,IAAI9jC,YAAUgkC,gBAAgB,CAC1BC,wBAAyB,SAAAC,GACrBx3B,EAASK,EAA+Bm3B,SAV5D,6BAgBI,WACIlkC,YAAUmkC,sBAAsB/lC,KAAK0lC,mBAjB7C,KCJapE,GAA2B,SAACrhC,EAAOma,GAE5C,IAAMmnB,EAAYnnB,EAAH,uHAKXonB,EAAgB,WAChBC,EAAU,IACVC,EAAW,IACXC,EAAS,IACTC,EAAY,QACZC,EAAc,MAElB,GAAI5hC,EAAM0Q,eAAe,kBAErB,GAAI1Q,EAAM6hC,eAAenxB,eAAe,eAAiB1Q,EAAM6hC,eAAeC,WAG1E,GAAI9hC,EAAM6hC,eAAenxB,eAAe,aAAe1Q,EAAM6hC,eAAeE,SAOxE,GALAH,EAAc,aACdL,EAAgB,QAChBG,EAAS,QACTC,EAAY,QAER3hC,EAAM6hC,eAAenxB,eAAe,cAAmD,SAAnC1Q,EAAM6hC,eAAeG,UAAsB,CAK/F,GAHAP,EAAW,QACXD,EAAU,OAENxhC,EAAM6hC,eAAenxB,eAAe,UAEhC1Q,EAAM6hC,eAAel9B,MAAM+R,SAAS,MAAO,CAE3C,IAAMurB,EAAcjiC,EAAM6hC,eAAel9B,MAAM83B,QAAQ,KAAM,IAC7DgF,EAAW9E,SAASsF,GAAe,IAAM,GACzCR,GAAsB,KAI9B,GAAIzhC,EAAM6hC,eAAenxB,eAAe,WAEhC1Q,EAAM6hC,eAAe9vB,OAAO2E,SAAS,MAAO,CAE5C,IAAMwrB,EAAeliC,EAAM6hC,eAAe9vB,OAAO0qB,QAAQ,KAAM,IAC/DkF,EAAYhF,SAASuF,GAAgB,IAAM,IAC3CP,GAAwB,UAI7B,CAKH,GAHAH,EAAU,QACVC,EAAW,OAEPzhC,EAAM6hC,eAAenxB,eAAe,UAEhC1Q,EAAM6hC,eAAel9B,MAAM+R,SAAS,MAAO,CAE3C,IAAMurB,EAAcjiC,EAAM6hC,eAAel9B,MAAM83B,QAAQ,KAAM,IAC7DgF,EAAW9E,SAASsF,GAAe,IAAM,GACzCR,GAAsB,KAI9B,GAAIzhC,EAAM6hC,eAAenxB,eAAe,WAEhC1Q,EAAM6hC,eAAe9vB,OAAO2E,SAAS,MAAO,CAE5C,IAAMwrB,EAAeliC,EAAM6hC,eAAe9vB,OAAO0qB,QAAQ,KAAM,IAC/DkF,EAAYhF,SAASuF,GAAgB,IAAM,IAC3CP,GAAwB,WAOpCH,EAAU,QACVD,EAAgB,aAGpBK,EAAc,aAItB,MAAO,CACHhuB,SAAU2tB,EACV1tB,IAAK6tB,EACL5tB,KAAM0tB,EACNnI,OAAQsI,EACR9mB,MAAO4mB,EACPl8B,aAAc,OACd8U,OAAQ,OACR/U,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgByK,gBAChD2D,OAAQkuB,EACRl9B,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5B9K,UAAW,SACXyT,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuqB,UAAU,GAAD,OAAKgI,EAAL,eACT38B,MAAO,QACP,IAAK,CACD0T,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,eA0F1BozB,GAAc,SAACniC,EAAOg/B,GAI/B,MAAO,CACRv5B,OAAQ,UACRD,QAAS,WACTF,gBALyB,UAAC05B,EAAah/B,EAAM8O,MAAMxJ,gBAAgBmK,KAAsBzP,EAAM8O,MAAMxJ,gBAAgBqK,IAA5F,cAMzBpK,aAAc,MACdb,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,OAC5BjL,SAAU,OACVY,QAAS,IACTiV,OAAQ,IACR3V,MAAO,MACPwO,SAAU,WCjNE,OAA0B,gDCmCnC4yB,G,kDAGL,WAAY/lC,GAAQ,IAAD,8BAClB,cAAMA,IAqCPsiC,eAAiB,WAChB,GAAI,EAAKC,eAAiB,EAAKA,cAAcv/B,QAAS,CACrD,IAAIw/B,GAAiB,EACfC,EAAiB,EAAKF,cAAcv/B,QAAQ0/B,iBAAiB,UAEnED,EAAeE,SAAQ,SAAAC,GACOA,EAAW1H,YACf0H,EAAWC,cAGnCL,GAAiB,MAIfA,GACHC,EAAeE,SAAQ,SAAAC,GACtBA,EAAWvvB,MAAM5O,SAAW,WAtDb,EA4DnBuhC,wBAA0B,SAACnvB,EAAKhS,GAC/B,GAAQgS,IACFnI,EACJ,EAAKq0B,qBAAqBl+B,IA/DV,EAsEnBk+B,qBAAuB,SAAAl+B,GACtB,GAAI,EAAK0M,WAAY,CAAC,IAAD,EACpB,GAAI1M,EAAQxD,OAASqN,GACpB,OAAO,EAGR,GAAI8B,OAAOC,KAAK,EAAKoB,QAAQ+gB,gBAAgBtiB,QACxC,EAAKuB,QAAQ+hB,8BAAgC,EAAK/hB,QAAQoiB,2BAA6BpvB,EAAQ4M,KAAKqiB,WAAWC,UAClH,OAAO,GAIE,OAAPlvB,QAAO,IAAPA,OAAA,EAAAA,EAASs+B,OAAOlhC,QAAhB,UAAwB,EAAKuvB,oBAA7B,aAAwB,EAAmBvvB,OAC9C69B,GAAaM,KAAK1xB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAC/D,EAAK5N,SAAS,CAACi/B,aAAcr+B,OApFb,EAyFnBohC,SAAW,WACV,EAAKrC,+BACHhiC,MAAK,SAAAwB,GACL08B,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK7R,MAAMq+B,gBAAgB3vB,GAAA,oBAAqC,GAE5D,EAAKmD,SACR,EAAKA,QAAQ6gB,kBAAkB,EAAKnyB,MAAM2iC,aAAcx0B,GAAA,yBAEzDwmB,GAAQje,QAAQvI,GAAA,WAA+B,EAAKnO,MAAM2iC,cAC1D,EAAKj/B,SAAS,CAACi/B,aAAc,KAAMtQ,eAAgB,EAAKryB,MAAM2iC,kBAE9DvgC,OAAM,SAAAnB,GACN,IAAMozB,EAAYpzB,GAASA,EAAMkP,eAAe,QAAUlP,EAAMuC,KAAO,QACvE,EAAK8N,QAAQwf,gBAAgB,QAASuD,OAvGtB,EA2GnBsR,WAAa,WACZpG,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChEqjB,GAAQje,QAAQvI,GAAA,WAA+B,EAAKnO,MAAM2iC,cAC1D,EAAKj/B,SAAS,CAACi/B,aAAc,QA9GX,EAiHnBU,6BAA+B,WAgB9B,OAfgB,IAAIvc,SAAQ,SAACC,EAASsJ,GACrC,IAA4B,IAAxB,EAAK0S,eACR,OAAOhc,EAAQ,CAACuc,SAAS,IAG1B,IAAI9P,EAAY,EAAKE,yBACrBtyB,YAAUmiC,QAAQ/P,GAChBnyB,MAAK,SAAAwB,GACL,OAAOkkB,EAAQlkB,MAEfT,OAAM,SAAAnB,GACN,OAAOovB,EAAOpvB,UA7HC,EAoInB8hC,aAAe,WACd,OAAwD,IAApD9yB,OAAOC,KAAK,EAAKoB,QAAQ+gB,gBAAgBtiB,UAI7B,EAAK2jB,0BAzIH,EAiJnBA,uBAAyB,WACxB,OAAO,EAAKpiB,QAAQoiB,0BAlJF,EAqJnB8P,cAAgB,SAAA/E,GACf,OAAQA,GACP,KAAKtwB,GAAA,kBACL,KAAKA,GAAA,kBACJ,EAAKzK,SAAS,CAAC2uB,eAAgB,SAzJf,EAgKnBoR,iBAAmB,SAAAvQ,GAClB,IAAS,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO5c,OAAQnI,GAAA,WAClB,OAAO,EAG+B,IAAD,IACjCD,GADDglB,EAAMwQ,UAAYxQ,EAAMyQ,YAEvBzQ,EAAMwQ,SACTx1B,EAAOgnB,KAAKE,MAAMlC,EAAMwQ,UACdxQ,EAAMyQ,WAChBz1B,EAAOgnB,KAAKE,MAAMlC,EAAMyQ,YAGrB,YAAK3jC,MAAM2iC,oBAAX,eAAyBhP,cAAzB,UAAuCzlB,SAAvC,aAAuC,EAAMylB,aAChD4L,GAAaY,MAAMhyB,GAAgB9F,MAAhB,cAAwC,EAAKiJ,SAChE,EAAK5N,SAAS,CAACi/B,aAAc,UA7K/B,EAAK3xB,YAAa,EAClB,EAAKhR,MAAQ,CACZ2iC,aAAc,KACdtQ,eAAgB,KAChB0K,UAAU,GAGX,EAAKiF,cAAgB7hC,IAAMyD,YAE3BxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GACNiB,QAAQjB,MAAMA,MAdE,E,qDAkBnB,WACCzB,KAAKwR,YAAa,EAElBxR,KAAKomC,oBAAsB,IAAIX,GAC/BzlC,KAAKomC,oBAAoBhC,gBAAgBpkC,KAAKimC,yBAE9C9Q,GAAQC,sBAAsBp1B,KAAKikC,oB,gCAGpC,WACKjkC,KAAKQ,MAAM2iC,cACdnjC,KAAKuiC,mB,kCAIP,WACCviC,KAAKwR,YAAa,EAClB2jB,GAAQG,sBAAsBt1B,KAAKikC,oB,oBAiJpC,WACC,IFN4B7yB,EAAKU,EEM7BuyB,EAAa,KAChBC,EAAoB,KACrB,GAAItkC,KAAKQ,MAAM2iC,aAAc,CAC5B,IAAIx/B,EACH,mBAAKc,IF9CE,CACHG,MAAO,OACPoN,OAAQ,OACR9M,QAAS,OACTG,eAAgB,UE0CQd,UAAU,qBACrC,YAAC,GAAD,CAAiB4O,aAAa,MAAM9C,MAAOrQ,KAAKQ,MAAM2iC,aAAaC,OAAOz/B,UAItEivB,EACL,YAAC,IAAM5tB,SAAP,KACC,iBAAGP,KFjBsB2M,EEiBHqzB,GFjBQ3yB,EEiBO9R,KAAK8R,QFhBvC,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBEUqB+K,MAAOzD,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,QAClH,wBAAO3D,GAAW0D,UAAU,sBAAuBla,KAAKC,MAAMka,QAIhEmqB,EACC,mBAAK7/B,IAAK68B,GAAyBthC,KAAKC,MAAOma,KAAY7V,UAAU,sBACpE,mBAAKE,IF7HC,CACHS,QAAS,OACTC,cAAe,SACfP,MAAO,OACPa,QAAS,QEyHoBlB,UAAU,wBACzC,mBAAKE,IFpHA,CACHG,MAAO,OACPM,QAAS,QEkHqBX,UAAU,qBACzC,mBAAKE,IF7GD,CACHG,MAAO,oBACPM,QAAS,OACTC,cAAe,SACfE,eAAgB,SAChBD,WAAY,SACZP,UAAW,QEuGiBN,UAAU,kBACtC,mBAAKE,IFlGF,CACHC,SAAU,OACV4P,WAAY,MACZpP,QAAS,QACTN,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZpwB,WAAY,QE0FWhQ,UAAU,QAC/BvE,KAAKQ,MAAM2iC,aAAaC,OAAO1/B,MAEjC,mBAAKe,KAAmBzE,KAAKC,MFvF1B,CACHyE,SAAU,OACVE,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZC,cAAe,aACfrwB,WAAY,OACZ5P,MAAO,UACPO,QAAS,OACTG,eAAgB,QAChBD,WAAY,SACZK,QAAS,cACT,KAAQ,CACJA,QAAS,WEyEwBlB,UAAU,YAC7CquB,IAGFjvB,GAEF,mBAAKc,IF9DA,CACHG,MAAO,OACPM,QAAS,OACTG,eAAgB,gBAChBiV,OAAQ,cE0DqB/V,UAAU,qBAAqBgP,IAAKvT,KAAKwiC,eACvE,sBAAQlhC,KAAK,SAASmD,IAAK29B,GAAYpiC,KAAKC,MAAO,GAAIsE,UAAU,wBAAwB4P,QAASnU,KAAKmmC,YACrG3vB,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,OAE5C,sBAAQ7Y,KAAK,SAASmD,IAAK29B,GAAYpiC,KAAKC,MAAO,GAAIsE,UAAU,sBAAsB4P,QAASnU,KAAKkmC,UACnG1vB,GAAW0D,UAAU,OAAQla,KAAKC,MAAMka,UAY/C,OAJIna,KAAKQ,MAAMqyB,iBACdwR,EAAa,YAAC,GAAD,CAAqB5S,aAAczxB,KAAKyxB,aAAc/iB,KAAM1O,KAAKQ,MAAMqyB,eAAgB1Y,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,iBAIjJ,YAAC,IAAMh/B,SAAP,KACEs/B,EACAD,O,GA1OqC1jC,IAAMkF,eAA1CmgC,GACElG,YAAc3qB,GAgPtB6wB,GAA4BvyB,aAAe,CACvC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,I,wBC5QLs3B,GACI,2DADJA,GAEE,2DAGFC,GAAe,IAAIC,OACrBF,GAAA,mDAEAA,GACA,MAEEG,GAAa,IAAID,OACnBF,GAAA,6FAEAA,GACA,MAEEI,GAAkB,IAAIF,OACxBF,GAAA,2FAEAA,GACA,MAGSK,GAAU,SAAC5hC,GAEpB,IAAI6hC,EAAY7hC,EAAQ43B,QAAQ+J,GAAiB,oEAG3CG,GAFND,EAAYA,EAAUjK,QAAQ4J,GAAc,wEAElBO,MAAML,IAgBhC,OAdAI,GACIA,EAAQhE,SAAQ,SAACkE,GAGb,IAAIC,EADJD,EAAMA,EAAIx2B,OAELw2B,EAAIE,WAAW,UAChBD,EAAa,YAAQD,IAEzBH,EAAYA,EAAUjK,QAClBoK,EADQ,6DAE6CC,EAF7C,aAE+DD,EAF/D,YAMbH,GAGEM,GAAgC,SAACniC,EAASqrB,GAEnD,IAAI2D,EAAS,KAEb,GAAIhvB,EAAQ6L,eAAe,YAAa,CAEpC,IACMu2B,EADWpiC,EAAQqiC,SACO,aAChC,GAAID,GAAkBA,EAAev2B,eAAe,cAAe,CAE/D,IAAMy2B,EAAmBF,EAAc,WACnCE,GAAoBA,EAAiBz2B,eAAewf,KAEpD2D,EAASsT,EAAiBjX,KAKtC,OAAO2D,GAGEuT,GAAyB,SAACviC,EAASwiC,GAE5C,IAAIC,EAAe,KACnB,GAAGziC,EAAQ6L,eAAe,YAAa,CAEnC,IAAMw2B,EAAWriC,EAAO,SACpBqiC,EAASx2B,eAAe22B,KACxBC,EAAeJ,EAASG,IAIhC,OAAOC,GAGEC,GAAK,WAId,MAAO,IAAM1L,KAAK2L,SAASl1B,SAAS,IAAIC,OAAO,EAAG,IAGzCk1B,GAAmB,WAE5B,OAAO5L,KAAK6L,OAAO,IAAIv5B,KAAS,MAG9Bw5B,GAAiB,SAACC,EAAGC,GAEvB,IAGMC,EAAO35B,KAAK45B,IAAIH,EAAEI,cAAeJ,EAAEK,WAAYL,EAAEM,WACjDC,EAAOh6B,KAAK45B,IAAIF,EAAEG,cAAeH,EAAEI,WAAYJ,EAAEK,WAEvD,OAAOrM,KAAKuM,OAAOD,EAAOL,GAzGlB,QAmLCO,GAAuB,SAACC,EAAQC,GACzC,GAAGD,EAAO1wB,MAAM2wB,GAAMj4B,OAAS,GAAK,EAChC,OAAO,EAKP,OAFUg4B,EAAO7L,QAAQ,+CAA+C,IAE7DnsB,OAAO,EACP,EAGAg4B,EAAO1wB,MAAM2wB,GAAMj4B,OAAS,GCtLzCk4B,G,kDAKF,WAAYxoC,GAAQ,IAAD,8BAEf,cAAMA,IAaV+jC,cAAgB,SAAC/E,GAEb,OAAOA,GAEH,KAAKtwB,GAAA,kBACL,KAAKA,GAAA,kBACD,EAAKzK,SAAS,CAAE2uB,eAAgB,SArBzB,EA4BnBsL,UAAY,SAACnK,GAGT,GADA,EAAKA,UAAYA,GACZ,EAAKA,UAAW,CAGjB,OADA,EAAKliB,QAAQwf,gBAAgB,QADX,8BAEX,EAGX,IAAMwU,EAAgB,EAAK4C,2BAC3B,EAAKxkC,SAAS,CAAE2uB,eAAgBiT,IAC7B,EAAKh0B,SACJ,EAAKA,QAAQ6gB,kBAAkBmT,EAAen3B,GAAA,yBAGlD4K,YAAW,WACP,EAAKovB,sBACN,IA7CY,EAgDnBzC,SAAW,SAAClS,GAGR,GADA,EAAKA,UAAYA,EACM,OAAnB,EAAKA,UAAoB,CAGzB,OADA,EAAKliB,QAAQwf,gBAAgB,QADX,8BAEX,EAGX,IAAMwU,EAAgB,EAAK4C,2BAC3B,EAAKxkC,SAAS,CAAE2uB,eAAgBiT,IAC5B,EAAKh0B,SACL,EAAKA,QAAQ6gB,kBAAkBmT,EAAen3B,GAAA,0BA5DnC,EAgEnB+5B,yBAA2B,WAEvB,IAAMtJ,EAAex9B,YAAUgnC,cAAcC,MACvC9U,EAAa,CAAE,UAAa,EAAKC,UAAW,UAAa,EAAKA,UAAW,SAAYpyB,YAAU68B,UAAU+F,OAEzGsE,EAAc,gBAAY,EAAK9U,WAE/B8R,EAAgB,IAAIlkC,YAAUmnC,cAAc,EAAK/U,UAAWoL,EAH/CzwB,UAGyEolB,GAO5F,OANA+R,EAAckD,UAAU,EAAKvX,cAC7BqU,EAAcmD,YAAY7J,GAC1B0G,EAAcoD,kBAAkBJ,GAChChD,EAAcqD,YAAczB,KAC5B5B,EAAcsD,IAAM5B,KAEb1B,GA9EQ,EAiFnB6C,kBAAoB,WAEhB,IAAM7C,EAAgB,EAAK4C,2BAC3B,EAAKzoC,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAACm3B,IAE/DlkC,YAAU+mC,kBAAkB7C,GAAejkC,MAAK,SAAAiD,GAE5C,IAAMukC,EAAa,2BAAQvkC,GAAR,IAAiB,IAAOghC,EAAcsD,MACzD,EAAKnpC,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC06B,OAE5DzmC,OAAM,SAAAnB,GAEL,IAAM4nC,EAAa,2BAAQvD,GAAR,IAAuB,MAASrkC,IACnD,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C,CAAC06B,IAEvE,IAAMxU,EAAapzB,GAASA,EAAMkP,eAAe,QAAWlP,EAAMuC,KAAO,QACzE,EAAK8N,QAAQwf,gBAAgB,QAASuD,OA7F1C,EAAKr0B,MAAQ,CACTqyB,eAAgB,MAGpB,EAAKyW,cAAgB3oC,IAAMyD,YAE3BxC,YAAU2vB,kBAAkB1vB,MAAK,SAAAR,GAAI,OAAI,EAAKowB,aAAepwB,KAAMuB,OAAM,SAAAnB,GACrEiB,QAAQjB,MAAMA,MAXH,E,0CAqGnB,WAAU,IAAD,OAED4iC,EAAa,KAOjB,OANGrkC,KAAKQ,MAAMqyB,iBAEVwR,EACI,YAAC,GAAD,CAAqB9wB,IAAK,SAAAC,GAAE,OAAI,EAAK81B,cAAgB91B,GAAIie,aAAczxB,KAAKyxB,aAAc/iB,KAAM1O,KAAKQ,MAAMqyB,eAAgB1Y,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,iBAGzKK,M,GAnH2B1jC,IAAMC,WAA1C6nC,GAGK3I,YAAc3qB,GAqHzBszB,GAA4Bh1B,aAAe,CACvC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,I,aCrIEw6B,GAAb,WASI,WAAYz3B,GAAU,yBAPtB03B,oBAAsB,KAOD,KALrBC,uBAAyB,aAAc,IAAIr7B,MAAOC,UAK7B,KAJrBq7B,eAAiB,kBAAmB,IAAIt7B,MAAOC,UAI1B,KAHrBs7B,gBAAkB,mBAAoB,IAAIv7B,MAAOC,UAG5B,KAFrBF,eAAiB,kBAAmB,IAAIC,MAAOC,UAI3C,IAAMiO,EAAexK,EAAQiJ,cAAcuB,aACrCD,EAAwBtB,GAAcsB,sBAE5C,OAAQC,GACJ,KAAKD,EAAqB,MACtBrc,KAAKwpC,qBAAsB,IAAI5nC,YAAUgoC,6BAA8BC,oBAAoBjoC,YAAU+yB,YAAYC,WAAWkV,SAAS,IAAI7L,QAC7I,MACA,KAAK5hB,EAAqB,OACtBrc,KAAKwpC,qBAAsB,IAAI5nC,YAAUgoC,6BAA8BC,oBAAoBjoC,YAAU+yB,YAAYG,YAAYgV,SAAS,IAAI7L,QAC1I,MACJ,QACIj+B,KAAKwpC,qBAAsB,IAAI5nC,YAAUgoC,6BAA8BE,SAAS,IAAI7L,SAtBpG,yDA2BI,WACI,OAAOj+B,KAAKwpC,oBAAoBO,cA5BxC,6BA+BI,SAAgBz7B,GAEZ1M,YAAUooC,gBACNhqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CACvBC,aAAc,SAAAC,GAEV77B,EAASK,GAAmBw7B,IAEhCC,cAAe,SAAAC,GAEX/7B,EAASK,GAAoB07B,OAKzCzoC,YAAU0oC,iBACNtqC,KAAK2pC,gBACL,IAAI/nC,YAAU2oC,cAAc,CACxBC,0BAA2B,SAAC1lC,EAAS2lC,EAAaC,EAAUC,EAAUC,GAClEt8B,EAASK,GAAkCi8B,EAAc9lC,EAAS,CAAC,KAAQ2lC,EAAa,MAASC,KAErGG,oBAAqB,SAAC/lC,EAASgmC,EAAYC,EAAUC,GACjD18B,EAASK,GAA2Bq8B,EAAYlmC,EAAS,CAAC,KAAQgmC,EAAY,WAAa,KAE/FG,oBAAqB,SAACnmC,EAASomC,EAAYC,EAAUC,GACjD98B,EAASK,GAA2By8B,EAAYtmC,EAAS,CAAC,KAAQomC,KAEtEG,sBAAuB,SAACvmC,EAASwmC,EAAcC,EAAYC,GACvDl9B,EAASK,GAA6B68B,EAAc1mC,EAAS,CAAC,KAAQwmC,KAE1EG,qBAAsB,SAAC3mC,EAAS4mC,EAAWC,EAAaC,GACpDt9B,EAASK,GAA0Bi9B,EAAa9mC,EAAS,CAAC,KAAQ4mC,EAAW,WAAa,KAE9FG,kBAAmB,SAAC/mC,EAASgnC,EAAa76B,GACtC3C,EAASK,GAAyBsC,EAAOnM,EAAS,CAAC,KAAQgnC,KAE/DC,oBAAqB,SAACjnC,EAASknC,EAAYC,GACvC39B,EAASK,GAA2Bs9B,EAAannC,EAAS,CAAC,KAAQknC,QAK/EpqC,YAAU+jC,mBACN3lC,KAAKypC,uBACL,IAAI7nC,YAAUgkC,gBAAgB,CAC1BsG,sBAAuB,SAAAC,GACnB79B,EAASK,EAA6B,KAAMw9B,IAEhDC,uBAAwB,SAAAC,GACpB/9B,EAASK,EAA8B,KAAM09B,IAEjDxG,wBAAyB,SAAAC,GACrBx3B,EAASK,EAA+B,KAAMm3B,IAElDwG,iBAAkB,SAAAC,GACdj+B,EAASK,EAAuB,KAAM49B,IAE1CC,gBAAiB,SAAAC,GACbn+B,EAASK,EAAsB,KAAM89B,IAEzCC,eAAgB,SAAAC,GACZr+B,EAASK,EAAoB,KAAMg+B,OAK/C/qC,YAAU2M,gBACNvO,KAAKmO,eACL,IAAIvM,YAAU4M,aAAa,CACvBC,uBAAwB,SAAAC,GACtBJ,EAASK,EAA8B,KAAMD,IAE/CE,wBAAyB,SAAAF,GACrBJ,EAASK,GAA+B,KAAMD,SAzGlE,6BA+GI,WACI9M,YAAUmkC,sBAAsB/lC,KAAKypC,wBACrC7nC,YAAUgrC,mBAAmB5sC,KAAK0pC,gBAClC9nC,YAAUirC,oBAAoB7sC,KAAK2pC,iBACnC/nC,YAAUkN,mBAAmB9O,KAAKmO,oBAnH1C,KCLM2+B,G,uFAGL,SAAUpZ,EAAOplB,GACXw+B,EAAeC,UAAUrZ,KAAQoZ,EAAeC,UAAUrZ,GAAS,IACxEoZ,EAAeC,UAAUrZ,GAAOsZ,KAAK1+B,K,4BAGtC,SAAsBolB,EAAOuZ,GAC5B,GAAIH,EAAeC,UAAUrZ,GAC5B,IAAK,IAAMthB,KAAK06B,EAAeC,UAAUrZ,GAAQoZ,EAAeC,UAAUrZ,GAAOthB,GAAG66B,O,KAVjFH,GACEC,UAAY,GCDb,IAAMG,GAAoB,SAACjtC,EAAO8O,GAErC,IAAMmE,EAAiC,KAAlBjT,EAAMktC,QAAkB,CACzC5yB,OAAO,aAAD,OAAexL,EAAMc,YAAYV,UACvC,GAEJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsG,UAAW,cACRpF,GALP,IAMI,IAAK,CACDoF,UAAW,aACX,sBAAuB,CACnB1T,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,aAOnBsT,GAAmB,SAAAr+B,GAE/B,MAAO,CACNtJ,QAAS,OACTP,QAAS,OACTE,WAAY,SACZioC,aAAa,aAAD,OAAet+B,EAAMc,YAAYV,SAC7C6C,OAAQ,SAIGs7B,GAAwB,SAACl8B,EAAKrC,GAE1C,IAAMw+B,EAAE,aAAOx+B,EAAMmB,aAErB,OAAO,aACNxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAME,cAC1B+C,OAAQ,OACRpN,MAAO,OANR,iBAOY2oC,EAAG,IAAO,CACpBroC,QAAS,qBAKCsoC,GAAwB,SAACvtC,GAElC,IAAMgiC,EAAahiC,EAAM0Q,eAAe,oBAAsB1Q,EAAMwtC,gBAAgBl9B,OAAS,EAAK,CAC9F3L,MAAO,MACPC,UAAW,UACX,GAEJ,OAAO,yBACHyV,OAAQ,IACRpV,QAAS,eACTN,MAAO,OACPC,UAAW,OACXH,SAAU,OACV4P,WAAY,MACZC,WAAY,QACT0tB,GARP,IASI,aAAc,CACVp9B,UAAW,YC5ER,OAA0B,iCCiCnC6oC,G,kDAOL,WAAYztC,GAAQ,IAAD,8BAClB,cAAMA,IANPwxB,aAAe,KAKI,EAJnBkc,sBAAuB,EAIJ,EAsInBC,mBAAqB,WAcpB,OAZsB,aAAO,EAAKptC,MAAMqtC,kBACCC,MAAK,SAAAC,GAC7C,OACEA,EAAEC,mBAAqB,EAAKj8B,aAAazQ,MAAQ,EAAKyQ,aAAazQ,OAASM,YAAUgnC,cAAcqF,MAAQF,EAAEG,iBAAiBhsC,MAAQ,EAAK6P,aAAakF,KAAK/U,KAC9J6rC,EAAEC,mBAAqB,EAAKj8B,aAAazQ,MAAQ,EAAKyQ,aAAazQ,OAASM,YAAUgnC,cAAcC,OAASkF,EAAEG,iBAAiB/8B,OAAS,EAAKY,aAAakF,KAAK9F,OAE1J48B,MA9IS,EAuJnBI,kBAAoB,SAAA9a,GAEnB,IAAM+a,EAAgB,aAAO,EAAK5tC,MAAMqtC,kBAClCQ,EAAkBD,EAAiBE,WAAU,SAAAP,GAAC,OAAIA,EAAEjF,iBAAmBzV,EAAYyV,kBAEzF,GAAIuF,GAAmB,EAAG,CACzB,IAAME,EAAkBH,EAAiBC,GACrCG,EAAkB,2BAAQD,GAAR,IAAyBlb,YAAY,eAAMA,KAEzC,IAApBgb,EACHD,EAAiBK,OAAOJ,EAAiB,EAAGG,IAE5CJ,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,IAGtB,EAAKh9B,YACR,EAAKtN,SAAS,CAAE2pC,iBAAkBO,QAE7B,CACN,IAAM9xB,EAAe,EAAKvK,aAAagJ,cAAcuB,aAC/CD,EAAwBtB,GAAcsB,sBAC5C,GAAIC,IAAiBD,EAAqB,mBACpCC,IAAiBD,EAAqB,OAAagX,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,OAAWvsB,IAAiBD,EAAqB,QAAcgX,EAAY+L,eAAiBx9B,YAAUgnC,cAAcqF,MAChO,OAAO,EAIT,IAAIU,EAAkB,IAAI/sC,YAAUgtC,aACpCD,EAAgBzF,kBAAkB7V,EAAYyV,gBAC9C6F,EAAgB9E,oBAAoB,EAAK93B,aAAazQ,MACtDqtC,EAAgBE,oBAAoB,EAAK98B,aAAakF,MACtD03B,EAAgBvb,eAAeC,GAC/Bsb,EAAgBG,sBAAsB,GAEtCV,EAAiBM,QAAQC,GAErB,EAAKn9B,YACR,EAAKtN,SAAS,CAAE2pC,iBAAkBO,MA7LlB,EAkMnBW,kBAAoB,SAAA9B,GAGnB,OADA,EAAKU,sBAAuB,GACrB,GArMW,EAwMnBqB,iBAAmB,SAAA/B,GAElB,EAAKU,sBAAuB,EAE5B,IAAIS,EAAgB,aAAO,EAAK5tC,MAAMqtC,kBAChCU,EAAkB,EAAKX,qBAE7B,GAAIW,GAAmBA,EAAgBU,mBAAqB,EAAG,CAC9D,IAAIZ,EAAkBD,EAAiBx2B,QAAQ22B,GAC3CC,EAAkB,2BAAQD,GAAR,IAAyBU,mBAAoB,IAEnEb,EAAiBK,OAAOJ,EAAiB,EAAGG,GAC5C,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAEnC,OAAO,GAtNW,EAyNnBc,qBAAuB,SAACp4B,EAAKG,EAAMnS,EAASqqC,GAC3C,OAAQr4B,GACP,KAAKnI,GACL,KAAKA,GACJ,EAAKygC,WAAWn4B,GAChB,MACD,KAAKtI,EACL,KAAKA,EACL,KAAKA,EACJ,EAAK0gC,uBAAuBvqC,GAC5B,EAAKwqC,oBAAoBx4B,EAAKhS,EAASqqC,GACvC,MACD,KAAKxgC,EACL,KAAKA,GACL,KAAKA,EACL,KAAKA,EACL,KAAKA,EACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACJ,EAAK2gC,oBAAoBx4B,EAAKhS,EAASqqC,KAjPvB,EAwPnBE,uBAAyB,SAAAvqC,GAGQ,KAA3B,EAAKiN,aAAazQ,MAA8D,IAA/CmP,OAAOC,KAAK,EAAKqB,aAAakF,MAAM1G,SAC7B,IAA1CzL,EAAQ6L,eAAe,gBACzB/O,YAAU2tC,gBAAgBzqC,GAASlC,OAAM,SAAAnB,QA7PxB,EAiQnB6tC,oBAAsB,SAACx4B,EAAKhS,EAASqqC,GACpC,IAAM7yB,EAAe,EAAKvK,aAAagJ,cAAcuB,aAC/CD,EAAwBtB,GAAcsB,sBAE5C,GAAIC,IAAiBD,EAAqB,mBACpCC,IAAiBD,EAAqB,OAAavX,EAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,OAAWvsB,IAAiBD,EAAqB,QAAcvX,EAAQs6B,eAAiBx9B,YAAUgnC,cAAcqF,MACxN,OAAO,EAIT,OAAQn3B,GACP,KAAKnI,EACL,KAAKA,EACL,KAAKA,EACL,KAAKA,EACL,KAAKA,GACJ,EAAK6gC,mBAAmB14B,EAAKhS,GAC7B,MACD,KAAK6J,EACL,KAAKA,EACJ,EAAK8gC,0BAA0B3qC,GAC/B,MACD,KAAK6J,GACJ,EAAK+gC,uBAAuB5qC,EAASqqC,GACrC,MACD,KAAKxgC,GACL,KAAKA,GACL,KAAKA,GACJ,EAAKghC,yBAAyB7qC,EAASqqC,GACvC,MACD,KAAKxgC,GACJ,EAAKihC,8BAA8B9qC,EAASqqC,GAC5C,MACD,KAAKxgC,GACL,KAAKA,GACJ,EAAKkhC,yBAAyB/qC,EAASqqC,GACvC,MACD,KAAKxgC,EACJ,EAAK+9B,eAAe5nC,KAvSJ,EA8SnBsqC,WAAa,SAAA/tC,GACZ,IAAMwsC,EAAgB,aAAO,EAAKrtC,MAAMqtC,kBAClCQ,EAAkBR,EAAiBS,WAAU,SAAAC,GAAe,MAAyC,SAArCA,EAAgBP,kBAA+BO,EAAgBL,iBAAiBhsC,MAAQb,EAAKa,OAEnK,GAAImsC,GAAmB,EAAG,CACzB,IAAIE,EAAe,eAAQV,EAAiBQ,IACxCyB,EAAmB,2BAAQvB,EAAgBL,kBAAxB,IAA0Cn5B,OAAQ1T,EAAK0uC,cAE1EvB,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkB4B,IACjEjC,EAAiBY,OAAOJ,EAAiB,EAAGG,GAC5C,EAAKtqC,SAAS,CAAE2pC,iBAAkBA,MAxTjB,EA4TnBmC,wBAA0B,WACzB,EAAKj+B,aACHyD,mBAAmBkT,+BACnB7mB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMwvC,yBAC3B,EAAK9rC,SAAS,CAAE8rC,wBAAyB3sC,OAG1CT,OAAM,SAAAnB,IACqC,IAAvC,EAAKjB,MAAMwvC,yBACd,EAAK9rC,SAAS,CAAE8rC,yBAAyB,QAtU1B,EA2UnBC,UAAY,SAAAnrC,GACX,GAAIA,EAAQk6B,WAAap9B,YAAUsuC,iBAAmBprC,EAAQxD,OAASM,YAAU+yB,YAAYwb,oBAA4D,IAAvC,EAAK3vC,MAAMwvC,wBAC5H,OAAO,EAMR,IAAM5Q,EAAet6B,EAAQsrC,kBACvBjR,EAAaC,IAAiBx9B,YAAUgnC,cAAcqF,KAAOnpC,EAAQurC,YAAYnuC,IAAM4C,EAAQwrC,gBAEjGlR,IAAiB,EAAKrtB,aAAazQ,OACjC89B,IAAiBx9B,YAAUgnC,cAAcqF,MAAQ9O,IAAe,EAAKptB,aAAakF,KAAK/U,KAASk9B,IAAiBx9B,YAAUgnC,cAAcC,OAAS1J,IAAe,EAAKptB,aAAakF,KAAK9F,MAC5L4uB,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKkJ,cAKnEguB,GAAaM,KAAK1xB,GAAgB9F,MAAhB,uBAAiD,EAAKkJ,eA7VvD,EAiWnB26B,eAAiB,SAAAC,GAChB,IAAMyB,EAAgB,aAAO,EAAK5tC,MAAMqtC,kBACxCO,EAAiBxL,SAAQ,SAAC2N,EAAclC,GAC8B,IAAD,IAApE,IAAgB,OAAZkC,QAAY,IAAZA,OAAA,EAAAA,EAAcvC,oBAAqBrB,EAAevN,gBACpC,OAAZmR,QAAY,IAAZA,OAAA,EAAAA,EAAcvC,oBAAqBpsC,YAAUgnC,cAAcqF,MAAQtB,EAAepH,YAAf,OAA4BgL,QAA5B,IAA4BA,GAA5B,UAA4BA,EAAcrC,wBAA1C,aAA4B,EAAgChsC,OAAqB,OAAZquC,QAAY,IAAZA,OAAA,EAAAA,EAAcvC,oBAAqBpsC,YAAUgnC,cAAcC,OAAS8D,EAAepH,YAAf,OAA4BgL,QAA5B,IAA4BA,GAA5B,UAA4BA,EAAcrC,wBAA1C,aAA4B,EAAgC/8B,OAAO,CAAC,IAAD,EAC/Q89B,EAAqBsB,EAAatB,oBAIpB,OAAdtC,QAAc,IAAdA,OAAA,EAAAA,EAAgB6D,aAAhB,OAA6BD,QAA7B,IAA6BA,GAA7B,UAA6BA,EAAcld,mBAA3C,aAA6B,EAA2Bod,MAC3DxB,EAAqB,GAGtB,IAAIT,EAAkB,2BAAQ+B,GAAR,IAAsBtB,mBAAoBA,IAChEb,EAAiBK,OAAOJ,EAAiB,EAAGG,GAC5C,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,SAhXnB,EAsXnBsC,iBAAmB,SAAA5rC,GAelB,OAdgB,IAAIwiB,SAAQ,SAAAC,GAC3B3lB,YAAU+uC,gBAAgBC,2BAA2B9rC,GAASjD,MAAK,SAAA0uC,GAClE,IAAInC,EAAgB,aAAO,EAAK5tC,MAAMqtC,kBAClCQ,EAAkBD,EAAiBE,WAAU,SAAAP,GAAC,OAAIA,EAAEjF,iBAAmByH,EAAazH,kBAEpFyF,EAAe,eAAQgC,GACvBlC,GAAmB,IACtBE,EAAe,eAAQH,EAAiBC,KAGzC9mB,EAAQ,CAAE8mB,gBAAiBA,EAAiBE,gBAAiBA,EAAiBH,iBAAkBA,WAjYhF,EAwYnByC,uBAAyB,SAAC/rC,GAAgC,IAIb,EAJVyrC,EAAsB,uDAAP,GAIjD,GAAyC,IAArC9/B,OAAOC,KAAK6/B,GAAchgC,OAC7B,OAAIzL,EAAQs+B,OAAOlhC,OAAf,UAAuB,EAAKuvB,oBAA5B,aAAuB,EAAmBvvB,KACtC,EAEA,EAIT,IAAI+sC,EAAqBrS,SAAS2T,EAAatB,oBAa/C,OAPEA,EAJA,EAAKl9B,aAAakF,KAAKtG,eAAe,SAAW4/B,EAAarC,iBAAiBv9B,eAAe,SAAW,EAAKoB,aAAakF,KAAK9F,OAASo/B,EAAarC,iBAAiB/8B,MACvK,EAAKY,aAAakF,KAAKtG,eAAe,QAAU4/B,EAAarC,iBAAiBv9B,eAAe,QAAU,EAAKoB,aAAakF,KAAK/U,MAAQquC,EAAarC,iBAAiBhsC,KAEnI,IAA9B,EAAKyrC,uBACesB,EAEF,EAGD,EAAK6B,qBAAqBhsC,KAAamqC,EAAqBA,GA/ZhE,EAoanB6B,qBAAuB,SAAAC,GAAoB,IAAD,IACrCjd,GAAS,EAWb,OATEid,EAAgB/R,WAAap9B,YAAUovC,kBAAoBD,EAAgB3N,OAAOlhC,OAAvB,UAA+B,EAAKuvB,oBAApC,aAA+B,EAAmBvvB,MAC7G,EAAK6P,aAAaqiB,YAAY2c,EAAiBpiC,KAC/C,EAAKoD,aAAaqiB,YAAY2c,EAAgBpiC,IAAyBA,MACW,IAAlFoiC,EAAgBpiC,IAAwBA,KACxCoiC,EAAgB3N,OAAOlhC,OAAvB,UAA+B,EAAKuvB,oBAApC,aAA+B,EAAmBvvB,QAEnD4xB,GAAS,GAGHA,GAhbW,EAmbnBmd,gBAAkB,SAACnsC,GAAgC,IAC5CosC,EAAazgC,OAAO0gC,OAAO,GAAIrsC,GACrC,OAAOosC,GArbW,EAwbnB1B,mBAAqB,SAAC14B,EAAKhS,GAC1B,EAAK4rC,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAE1C,GAAIC,GAAmB,EAAG,CACzB,IAAIY,EAAqB,EAAK4B,uBAAuB/rC,EAASypC,GAC1D6C,EAAiB,EAAKH,gBAAgBnsC,EAASypC,GAE/CC,EAAkB,2BAAQD,GAAR,IAAyBlb,YAAa+d,EAAgBnC,mBAAoBA,IAEhGb,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAE9Bt3B,IAAQnI,GAAgCmI,IAAQnI,IACnD,EAAKshC,UAAUnrC,OAEV,CACN,IAAImqC,EAAqB,EAAK4B,uBAAuB/rC,EAAS,IAC1DssC,EAAiB,EAAKH,gBAAgBnsC,GAEtC0pC,EAAkB,2BAAQD,GAAR,IAAyBlb,YAAa+d,EAAgBnC,mBAAoBA,IAChGb,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAE9Bt3B,IAAQnI,GAAgCmI,IAAQnI,IACnD,EAAKshC,UAAUnrC,QAldA,EAwdnB2qC,0BAA4B,SAAA3qC,GAC3B,EAAK4rC,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAE1C,GAAIC,GAAmB,EAAG,CACzB,IAAI+C,EAAiB7C,EAAgBlb,YAErC,GAAI+d,EAAeX,KAAO3rC,EAAQ2rC,GAAI,CACrC,IAAMY,EAAoB5gC,OAAO0gC,OAAO,GAAIC,EAAgBtsC,GACxD0pC,EAAqB/9B,OAAO0gC,OAAO,GAAI5C,EAAiB,CAAElb,YAAage,IAC3EjD,EAAiBK,OAAOJ,EAAiB,EAAGG,GAC5C,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,UAnenB,EAyenBsB,uBAAyB,SAAC5qC,EAASqqC,GAClC,EAAKuB,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAE1C,GAAIC,GAAmB,EAAG,CACzB,IAAI+C,EAAiB,EAAKH,gBAAgBnsC,EAASypC,GAC/CuB,EAAmB,eAAQvB,EAAgBL,kBAE3CoD,EAAe1U,SAASkT,EAAoBwB,cAC5CxsC,EAAQ6L,eAAe,cAAgB7L,EAAQysC,UAAU5gC,eAAe,kBAC3E2gC,EAAexsC,EAAQysC,UAAUD,cAGlC,IAAIE,EAAsB,2BAAQ1B,GAAR,IAA6BwB,aAAcA,IAEjE9C,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkBsD,EAAwBne,YAAa+d,IACtGhD,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAClC,EAAK6B,UAAUnrC,QAEf,GAAIqqC,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IAAK,CAC1D,IAAIkvC,EAAiB,EAAKH,gBAAgBnsC,GACtCgrC,EAAmB,eAAQvB,EAAgBL,kBAE3CoD,EAAe1U,SAASkT,EAAoBwB,cAC5CxsC,EAAQ6L,eAAe,cAAgB7L,EAAQysC,UAAU5gC,eAAe,kBAC3E2gC,EAAexsC,EAAQysC,UAAUD,cAElC,IAAIG,EAAQ7vC,YAAU4uB,mBAAmBG,YACrCI,EAAYoe,EAAQpe,UAEpBygB,EAAsB,2BAAQ1B,GAAR,IAA6BwB,aAAcA,EAAcG,MAAOA,EAAO1gB,UAAWA,IACxGyd,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkBsD,EAAwBne,YAAa+d,IAEtGhD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAClC,EAAK6B,UAAUnrC,QA9gBA,EAohBnB6qC,yBAA2B,SAAC7qC,EAASqqC,GACpC,EAAKuB,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAE1C,GAAIC,GAAmB,EACtB,GAAIc,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IACrDksC,EAAiBK,OAAOJ,EAAiB,GACzC,EAAKnqC,SAAS,CAAE2pC,iBAAkBO,QAC5B,CACN,IAAIgD,EAAiB,EAAKH,gBAAgBnsC,EAASypC,GAC/CuB,EAAmB,eAAQvB,EAAgBL,kBAE3CoD,EAAe1U,SAASkT,EAAoBwB,cAC5CxsC,EAAQ6L,eAAe,cAAgB7L,EAAQysC,UAAU5gC,eAAe,kBAC3E2gC,EAAexsC,EAAQysC,UAAUD,cAGlC,IAAIE,EAAsB,2BAAQ1B,GAAR,IAA6BwB,aAAcA,IAEjE9C,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkBsD,EAAwBne,YAAa+d,IACtGhD,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAClC,EAAK6B,UAAUnrC,QA3iBA,EAijBnB8qC,8BAAgC,SAAC9qC,EAASqqC,GACzC,EAAKuB,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAE1C,GAAIC,GAAmB,EAAG,CACzB,IAAI+C,EAAiB,EAAKH,gBAAgBnsC,EAASypC,GAE/CuB,EAAmB,eAAQvB,EAAgBL,kBAC3CoD,EAAe1U,SAASkT,EAAoBwB,cAE5CG,EAAQ3B,EAAoB2B,MAC5BtC,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,MACrDuvC,EAAQtC,EAAQsC,OAGjB,IAAID,EAAsB,2BAAQ1B,GAAR,IAA6BwB,aAAcA,EAAcG,MAAOA,IACtFjD,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkBsD,EAAwBne,YAAa+d,IACtGhD,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAClC,EAAK6B,UAAUnrC,QArkBC,EA0kBnB+qC,yBAA2B,SAAC/qC,EAASqqC,GACpC,EAAKuB,iBAAiB5rC,GAASjD,MAAK,SAAAwB,GACnC,IAAQgrC,EAAuDhrC,EAAvDgrC,gBAAiBE,EAAsClrC,EAAtCkrC,gBAAiBH,EAAqB/qC,EAArB+qC,iBAC1C,GAAIC,GAAmB,GAClBc,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IAAK,CAC1D,IAAIkvC,EAAiB,EAAKH,gBAAgBnsC,EAASypC,GAC/CuB,EAAmB,eAAQvB,EAAgBL,kBAE3CoD,EAAe1U,SAASkT,EAAoBwB,cAC5CxsC,EAAQ6L,eAAe,cAAgB7L,EAAQysC,UAAU5gC,eAAe,kBAC3E2gC,EAAexsC,EAAQysC,UAAUD,cAGlC,IAAIE,EAAsB,2BAAQ1B,GAAR,IAA6BwB,aAAcA,IACjE9C,EAAkB,2BAAQD,GAAR,IAAyBL,iBAAkBsD,EAAwBne,YAAa+d,IACtGhD,EAAiBK,OAAOJ,EAAiB,GACzCD,EAAiBM,QAAQF,GACzB,EAAKtqC,SAAS,CAAE2pC,iBAAkBO,IAClC,EAAK6B,UAAUnrC,QA5lBA,EAkmBnB4sC,aAAe,SAAAzX,GACC6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eACvG,EAAKyW,oBApmBC,EAwmBnBC,YAAc,SAAAxB,GAER,EAAKtwC,MAAM+xC,aAChB,EAAK/xC,MAAM+xC,YAAYzB,EAAarC,iBAAkBqC,EAAavC,mBA3mBjD,EA8mBnBiE,gBAAkB,WACjB,IAAK,EAAKhyC,MAAMq+B,gBACf,OAAO,EAGR,EAAKr+B,MAAMq+B,gBAAgB3vB,GAAA,iBAnnBT,EAsnBnBmjC,iBAAmB,WAElB,EAAKvI,wBAAwB2I,wBAC3BrwC,MAAK,SAAAusC,GAE2B,IAA5BA,EAAiB79B,OACuB,IAAvC,EAAK/P,MAAMqtC,iBAAiBt9B,QAC/B,EAAKrM,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,iBAAkB,EAAKja,MAAMka,QAGrF,EAAKjW,SAAS,CAAEiuC,iBAAkB,KAGnC,IAAIC,EAAa,aAAO,EAAK5xC,MAAMqtC,kBAEnCO,EAAiBxL,SAAQ,SAAAyP,GAExB,IAAIhE,EAAkB+D,EAAc9D,WAAU,SAAAP,GAAC,OAAIA,EAAEjF,iBAAmBuJ,EAAiBvJ,kBACzF,GAAIuF,GAAmB,EAAG,CAEzB,IAAMiE,EAAwBF,EAAc/D,GAAd,mBAAuDgE,EAAgB,mBAC/FE,EAAmB,2BAAQH,EAAc/D,IAAtB,IAAwCY,mBAAoBqD,IACrFF,EAAc3D,OAAOJ,EAAiB,EAAGkE,GAEzCnE,EAAiBK,OAAOJ,EAAiB,OAK3C,EAAKnqC,SAAS,CAAE2pC,iBAAiB,GAAD,oBAAMuE,GAAN,aAAwBhE,SAExDxrC,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,YArpBpF,EAwpBnBpI,WAAa,WACZ,OAAI,EAAK9R,MAAMktC,QAAQ58B,OACf,EAAKuB,QAEL,EAAK0gC,mBAAmBhyC,OA5pBd,EAgqBnBwjC,cAAgB,SAAC/E,EAAQsR,GACxB,OAAQtR,GACP,KAAKtwB,GAAA,qBACJ,EAAK8jC,oBAAoBlC,GACzB,MACD,KAAK5hC,GAAA,oBACJ,EAAK+jC,mBAAmBnC,KAtqBR,EA6qBnBmC,mBAAqB,SAAAnC,GAEf,EAAK/vC,MAAMmyC,mBACf,EAAKzuC,SAAS,CAAEyuC,mBAAmB,EAAMC,wBAAyBrC,KAhrBjD,EAorBnBsC,gBAAkB,SAAA5Y,GAEjB,IAAM6Y,EAAiB7Y,EAAE8Y,OAAO7vC,MAGhC,GADA,EAAKgB,SAAS,CAAEyuC,mBAAmB,IACZ,QAAnBG,EAA0B,CAAC,IAAD,IAEvBvC,EAAe,EAAK/vC,MAAMoyC,wBAC1B1E,EAAmBqC,EAAavC,mBAAqBpsC,YAAUgnC,cAAcC,MAA1D,OAAkE0H,QAAlE,IAAkEA,GAAlE,UAAkEA,EAAcrC,wBAAhF,aAAkE,EAAgC/8B,KAAlG,OAAyGo/B,QAAzG,IAAyGA,GAAzG,UAAyGA,EAAcrC,wBAAvH,aAAyG,EAAgChsC,IAClKN,YAAU8wC,mBAAmBxE,EAAkBqC,EAAavC,kBAC1DnsC,MAAK,SAAAmxC,GACL,EAAKP,oBAAoBlC,MAEzB3tC,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,2BAIxC,EAAK7U,SAAS,CAAEyuC,mBAAmB,EAAOC,wBAAyB,QArsBlD,EAysBnBH,oBAAsB,SAAAlC,GAErB,IAAMnC,EAAgB,aAAO,EAAK5tC,MAAMqtC,kBAClCQ,EAAkBD,EAAiBE,WAAU,SAAAP,GAAC,OAAIA,EAAEjF,iBAAmByH,EAAazH,kBAEtFuF,GAAmB,KAGpBkC,EAAavC,mBAAqB,EAAKj8B,aAAazQ,MAAQ,EAAKyQ,aAAazQ,OAASM,YAAUgnC,cAAcqF,MAAQsC,EAAarC,iBAAiBhsC,MAAQ,EAAK6P,aAAakF,KAAK/U,KACpLquC,EAAavC,mBAAqB,EAAKj8B,aAAazQ,MAAQ,EAAKyQ,aAAazQ,OAASM,YAAUgnC,cAAcC,OAAS0H,EAAarC,iBAAiB/8B,OAAS,EAAKY,aAAakF,KAAK9F,OAEvL,EAAKY,aAAaghB,eAAe,GAAI,IAGtCqb,EAAiBK,OAAOJ,EAAiB,GACzC,EAAKnqC,SAAS,CAAE2pC,iBAAkBO,EAAkBwE,wBAAyB,SAttB9E,EAAKphC,YAAa,EAClB,EAAKhR,MAAQ,CACZqtC,iBAAkB,GAClBmE,YAAa,KACbhC,yBAAyB,EACzB2C,mBAAmB,EACnBR,iBAAkB37B,GAAW0D,UAAU,UAAWja,EAAMka,MACxDy4B,wBAAyB,MAG1B,EAAKJ,mBAAqB7xC,IAAMyD,YAChC,EAAK6uC,YAActyC,IAAMyD,YACzB,EAAKswB,SAAW/zB,IAAMyD,YAEtBxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,WAlBpF,E,qDAqBnB,WAAqB,IAAD,OAEnBna,KAAKwR,YAAa,EAClBxR,KAAKiX,KAAOjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAahzB,YAAU+yB,YAAYG,WAAa90B,KAAK+R,aAAakF,KAAO,KACtIjX,KAAKgwC,0BAELhwC,KAAKkE,SAAS,CAAE2pC,iBAAkB,KAAM,WACvC,EAAKtE,wBAA0B,IAAIA,GAAwB,EAAKx3B,cAChE,EAAK+/B,mBACL,EAAKvI,wBAAwBnF,gBAAgB,EAAK8K,yBAInDpC,GAAeoG,GAAG,qBAAqB,SAAAC,GAAI,OAAI,EAAKhF,kBAAkBgF,MAGtErG,GAAeoG,GAAGvkC,IAA8B,SAAAwkC,GAAI,OAAI,EAAKpE,kBAAkBoE,MAG/ErG,GAAeoG,GAAGvkC,IAAuC,SAAAwkC,GAAI,OAAI,EAAKnE,iBAAiBmE,Q,gCAGxF,WAAsB,IAAD,OAGpB,GAAK1iC,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,QAAUvQ,KAAK+R,aAAazQ,KAAKiP,QAAWvQ,KAAK+R,aAAakF,OAASjX,KAAKiX,KAAM,CAC1H,IAAM42B,EAAgB,aAAO7tC,KAAKQ,MAAMqtC,kBAClCU,EAAkBvuC,KAAK4tC,qBAE7B,GAAIW,GAAmBA,EAAgBU,mBAAqB,IAAmC,IAA9BjvC,KAAK2tC,qBAAgC,CACrG,IAAIU,EAAkBR,EAAiBj2B,QAAQ22B,GAC3CC,EAAkB,2BAAQD,GAAR,IAAyBU,mBAAoB,IAEnEpB,EAAiBY,OAAOJ,EAAiB,EAAGG,GAC5CxuC,KAAKkE,SAAS,CAAE2pC,iBAAkBA,KAKpC,GAAI7tC,KAAKiX,MAAQxG,OAAOC,KAAK1Q,KAAKiX,MAAM1G,QAAUvQ,KAAKiX,KAAKtG,eAAe,QAAU3Q,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAa50B,KAAKiX,KAAK/U,MAAQlC,KAAK+R,aAAakF,KAAK/U,KAAOlC,KAAKiX,KAAKm8B,cAAgBpzC,KAAK+R,aAAakF,KAAKm8B,YAAa,CAChQ,IAAIvF,EAAgB,aAAO7tC,KAAKQ,MAAMqtC,kBAGlCwF,EAAUxF,EAAiBS,WAAU,SAAAP,GAAC,OAAIA,EAAEC,mBAAqBpsC,YAAU+yB,YAAYC,WAAamZ,EAAEG,iBAAiBhsC,MAAQ,EAAK6P,aAAakF,KAAK/U,OAC1J,GAAImxC,GAAW,EAAG,CACjB,IAAMC,EAAUzF,EAAiBwF,GAE7BE,EAAW,eAAQD,EAAQpF,kBAC3BsF,EAAiB/iC,OAAO0gC,OAAO,GAAIoC,EAAa,CAAEH,YAAapzC,KAAK+R,aAAakF,KAAKm8B,cAEtFK,EAAahjC,OAAO0gC,OAAO,GAAImC,EAAS,CAAEpF,iBAAkBsF,IAEhE3F,EAAiBY,OAAO4E,EAAS,EAAGI,GACpCzzC,KAAKkE,SAAS,CAAE2pC,iBAAkBA,KAKpC,GAAI7tC,KAAKiX,MAAQxG,OAAOC,KAAK1Q,KAAKiX,MAAM1G,QAAUvQ,KAAKiX,KAAKtG,eAAe,SAAW3Q,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYG,YAAc90B,KAAKiX,KAAK9F,OAASnR,KAAK+R,aAAakF,KAAK9F,MAAQnR,KAAKiX,KAAKq6B,eAAiBtxC,KAAK+R,aAAakF,KAAKq6B,aAAc,CACtQ,IAAMzD,EAAgB,aAAO7tC,KAAKQ,MAAMqtC,kBAEpCwF,EAAUxF,EAAiBS,WAAU,SAAAP,GAAC,OAAIA,EAAEC,mBAAqBpsC,YAAU+yB,YAAYG,YAAciZ,EAAEG,iBAAiB/8B,OAAS,EAAKY,aAAakF,KAAK9F,QAC5J,GAAIkiC,GAAW,EAAG,CACjB,IAAMC,EAAUzF,EAAiBwF,GAE7BE,EAAW,eAAQD,EAAQpF,kBAC3BsF,EAAiB/iC,OAAO0gC,OAAO,GAAIoC,EAAa,CAAEjC,aAActxC,KAAK+R,aAAakF,KAAKq6B,eAEvFmC,EAAahjC,OAAO0gC,OAAO,GAAImC,EAAS,CAAEpF,iBAAkBsF,IAEhE3F,EAAiBY,OAAO4E,EAAS,EAAGI,GACpCzzC,KAAKkE,SAAS,CAAE2pC,iBAAkBA,KAKpC,GAAI7tC,KAAK+R,aAAakhB,eAAe3iB,OAAOC,OAAQ,CACnD,IAAMY,EAAOnR,KAAK+R,aAAakhB,eAAe3iB,OACxCu9B,EAAgB,aAAO7tC,KAAKQ,MAAMqtC,kBAEpCQ,EAAkBR,EAAiBS,WAAU,SAAAP,GAAC,OAAIA,EAAEC,mBAAqBpsC,YAAU+yB,YAAYG,YAAciZ,EAAEG,iBAAiB/8B,OAASA,KAEzIk9B,GAAmB,IACtBR,EAAiBY,OAAOJ,EAAiB,GACzCruC,KAAKkE,SAAS,CAAE2pC,iBAAkBA,KAKpC,GAAI7tC,KAAK+R,aAAaohB,YAAY7iB,OAAOC,OAAQ,CAChD,IAAMY,EAAOnR,KAAK+R,aAAaohB,YAAY7iB,OACrCu9B,EAAgB,aAAO7tC,KAAKQ,MAAMqtC,kBAEpCQ,EAAkBR,EAAiBS,WAAU,SAAAP,GAAC,OAAIA,EAAEC,mBAAqBpsC,YAAU+yB,YAAYG,YAAciZ,EAAEG,iBAAiB/8B,OAASA,KAEzIk9B,GAAmB,IACtBR,EAAiBY,OAAOJ,EAAiB,GACzCruC,KAAKkE,SAAS,CAAE2pC,iBAAkBA,KAIpC7tC,KAAKiX,KAAOjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAahzB,YAAU+yB,YAAYG,WAAa90B,KAAK+R,aAAakF,KAAO,KACtIjX,KAAKgwC,4B,kCAGN,WAEChwC,KAAKwR,YAAa,EAClBxR,KAAKupC,wBAAwBjE,kBAC7BtlC,KAAKupC,wBAA0B,O,oBA2lBhC,WAAU,IFvqBqBx6B,EEuqBtB,OAEFq/B,EAAmBpuC,KAAKQ,MAAMqtC,iBAAiB6F,KAAI,SAACnD,EAAcz5B,GAEvE,OAAO,YAAC,GAAD,CAA+BA,IAAKy5B,EAAazH,eAAgByH,aAAcA,EAAc9e,aAAc,EAAKA,aAAcsgB,YAAa,EAAKA,YAAazT,gBAAiB,EAAK0F,mBAGvL2P,EAAmB,KACoB,IAAvC3zC,KAAKQ,MAAM2xC,iBAAiB5hC,SAC/BojC,EACC,mBAAKlvC,IF5rBE,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZyO,SAAU,WACVC,IAAK,OEqrBkBvP,UAAU,4BACpC,iBAAGE,KFlrBwBsK,EEkrBFA,GFhrBtB,CACNuL,OAAQ,IACRpC,UAAW,OACXvT,MAAM,GAAD,OAAKoK,EAAMpK,MAAMyK,WACtB1K,SAAU,iBACV4P,WAAY,MACZC,WAAY,OACZq/B,SAAU,aACVnuC,QAAS,WEwqB2BlB,UAAU,qBACzCvE,KAAKQ,MAAM2xC,oBAMhB,IAAI0B,EAAW,mBAAKpvC,IAAK6oC,GAAsBwG,GAAc/kC,IAAQxK,UAAU,gBAAgB4P,QAASnU,KAAKiyC,kBACzGjyC,KAAK+R,cAA+D,IAA/CtB,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,SAC5DsjC,EAAW,MAGZ,IAAIlB,EAAoB,KACpB3yC,KAAKQ,MAAMmyC,oBACdA,EACC,YAAC,GAAD,gBACK3yC,KAAKC,MADV,CAECkU,QAASnU,KAAK6yC,gBACd/tC,QAAS0R,GAAW0D,UAAU,iBAAkBla,KAAK+R,aAAa0E,UAClEkE,kBAAmBnE,GAAW0D,UAAU,SAAUla,KAAK+R,aAAa0E,UACpEmE,iBAAkBpE,GAAW0D,UAAU,SAAUla,KAAK+R,aAAa0E,cAKtE,IAAMs9B,EACL,mBAAKtvC,IAAKyoC,GAAkBltC,KAAKC,MAAO8O,IAAQxK,UAAU,SACzD,mBAAKE,IAAK2oC,GAAiBr+B,IAAQxK,UAAU,iBAC3CsvC,EACD,kBAAIpvC,IAAK+oC,GAAsBxtC,KAAKC,OAAQsE,UAAU,gBAAgByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OAC5G3D,GAAW0D,UAAU,QAASla,KAAKC,MAAMka,QAG3Cw5B,EACD,mBAAKlvC,IFpsBE,CACHuN,OAAQ,oBACRpN,MAAO,OACPsvC,UAAW,OACX55B,OAAQ,IACR7U,QAAS,KE+rBelB,UAAU,cAAc4vC,SAAUn0C,KAAK0xC,aAAcn+B,IAAK,SAAAC,GAAE,OAAK,EAAKy/B,YAAcz/B,IAC9G46B,GAEDuE,EACD,YAAC,GAAD,CAA4Bp/B,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,QAI5Ei6B,EAAkBL,EAMtB,MAJ2B,KAAvB/zC,KAAKC,MAAMktC,UACdiH,EAAkB,YAAC,GAAD,CAA0B7gC,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,IAAMugC,IAGlFK,M,GA/xB+BzzC,IAAMC,WAAxC8sC,GAKE5N,YAAc3qB,GA+xBtBu4B,GAA0Bj6B,aAAe,CACxC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPijC,YAAa,aACb7E,QAAS,ICz0BH,ICAQ,OAA0B,qCCA1B,OAA0B,mCCenCkH,G,kDAGL,WAAYp0C,GAAQ,IAAD,8BAClB,cAAMA,IAePq0C,cAAgB,SAAC5gB,EAAOH,GACvB,IAAMyH,EAAOtH,EAAMqf,OAEfxf,EACHyH,EAAKuZ,aAAa,QAASvZ,EAAKwZ,QAAQv6B,OAExC+gB,EAAKyZ,gBAAgB,UAtBJ,EA0BnB/B,mBAAqB,SAAAhf,GAEpB,EAAKzzB,MAAMq+B,gBAAgB3vB,GAAA,oBAAsC,EAAK1O,MAAMswC,cAC5E7c,EAAMuI,mBA3BN,EAAKzqB,YAAa,EAClB,EAAKhR,MAAQ,CACZk0C,kBAAkB,GAJD,E,qDAQnB,WACC10C,KAAKwR,YAAa,I,kCAGnB,WACCxR,KAAKwR,YAAa,I,oBAmBnB,WAAU,IHjCsBmjC,EAAkBC,EAAcC,EAjB1B/iC,EGkD7B,OACF4gC,EACL,sBACC,sBACApxC,KAAK,SACLmD,KHtC6BkwC,EGsCP30C,KAAKQ,MAAMk0C,iBHtCcE,EGsCIE,GHtCUD,EGsCGE,GHlC5D,CACNzvC,QAAS,IACTiV,OAAQ,IACRvI,OAAQ,OACRpN,MAAO,OACPY,aAAc,MACdJ,WAAY,SACZF,QAAS,cACTG,eAAgB,SAChBwO,SAAU,WACVimB,WAAW,OAAD,OAZa6a,EAAmBC,EAAeC,EAY/C,+BGyBRtwC,UAAU,+BACV,aAAYiS,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UACxDu+B,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDvf,QAASnU,KAAK0yC,sBAIhB,OACC,kBAAIjuC,KHjEgCqN,EGiEH9R,KAAK8R,QHhEjC,CACN5M,QAAS,OACTgwC,cAAe,OACfzvC,QAAS,MACT6U,OAAQ,IACR1V,MAAO,OACPW,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,SAClD3J,aAAc,MACdJ,WAAY,SACZC,eAAgB,WAChBwO,SAAU,WACViH,MAAO,OACP9I,OAAQ,SGoDyCzN,UAAU,uBACxDmuC,O,GAnD0C/xC,IAAMkF,eAA/CwuC,GACEvU,YAAc3qB,GChBf,I,GAAMggC,GAAW,SAACl1C,GAErB,IAAMm1C,EAAiBn1C,EAAMo1C,sBAAwBp1C,EAAMo1C,qBAAqBvM,iBAAmB7oC,EAAMswC,aAAazH,eAAkB,CACpIvjC,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgB4J,UAChD,GAEJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,MACfE,eAAgB,OAChBD,WAAY,SACZM,OAAQ,UACRd,MAAO,OACPa,QAAS,WACToO,SAAU,YACPuhC,GATP,IAUI,UAAW,CACP7vC,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgB4J,aAqC/CmmC,GAAgB,SAACr1C,GAE1B,MAAO,CACHyE,SAAU,OACV4P,WAAY,MACZpP,QAAS,QACTN,MAAO,oBACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZpwB,WAAY,OACZ5P,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMwK,WAIvBomC,GAAmB,SAACt1C,GAE7B,MAAO,CACHqa,OAAQ,IACR5V,SAAU,OACV4P,WAAY,MACZ1P,MAAO,oBACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZpwB,WAAY,OACZ5P,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAM8K,YCrD9B+lC,G,kDAGL,WAAYv1C,GAAQ,IAAD,8BAClB,cAAMA,IAmCPw1C,eAAiB,WAChB,IAAkD,IAA9C,EAAKx1C,MAAM0Q,eAAe,gBAC7B,OAAO,EAGR,IAA8D,IAA1D,EAAK1Q,MAAMswC,aAAa5/B,eAAe,eAC1C,OAAO,EAGR,IAAI7L,EAAU,KACRuuB,EAAc,EAAKpzB,MAAMswC,aAAald,YAE5C,GAAIA,EAAY1iB,eAAe,aAE7B7L,EADG,EAAKtE,MAAMk1C,0BACJ,GAEA,EAAKz1C,MAAMwxB,aAAavvB,MAAQmxB,EAAY+P,OAAOlhC,IAAnD,UAA4DsU,GAAW0D,UAAU,2BAA4B,EAAKpI,QAAQ2E,WAA1H,UAA2ID,GAAW0D,UAAU,uBAAwB,EAAKpI,QAAQ2E,gBAGhN,OAAQ4c,EAAY2L,UACnB,KAAKp9B,YAAUovC,iBACdlsC,EAAU,EAAK6wC,WAAWtiB,GAC1B,MACD,KAAKzxB,YAAUg0C,cACd9wC,EAAU,EAAK+wC,eAAexiB,GAC9B,MACD,KAAKzxB,YAAUsuC,gBACdprC,EAAU,EAAKgxC,iBAAiBziB,GAChC,MACD,KAAKzxB,YAAUm0C,gBACdjxC,EAAU,EAAKkxC,iBAAiB3iB,GAMnC,OAAOvuB,GAxEW,EA2EnBmxC,wBAA0B,WACzB,IAAkD,IAA9C,EAAKh2C,MAAM0Q,eAAe,gBAC7B,OAAO,EAGR,IAA8D,IAA1D,EAAK1Q,MAAMswC,aAAa5/B,eAAe,eAC1C,OAAO,EAGR,IAAqE,IAAjE,EAAK1Q,MAAMswC,aAAald,YAAY1iB,eAAe,YAA6F,IAAtE,EAAK1Q,MAAMswC,aAAald,YAAY1iB,eAAe,eAChI,OAAO,EAGR,IAAIulC,EAAY,EAAKj2C,MAAMswC,aAAald,YAAY8V,aAAe,EAAKlpC,MAAMswC,aAAald,YAAYgM,OAGvG,OAFA6W,EZFwC,SAACA,EAAW/7B,GAElD,IAEMg8B,EAAmB,IAAI/nC,KAFe,IAAZ8nC,GAG1BE,EAAmB,IAAIhoC,KAAKA,KAAKioC,OAEjCC,EAAuB1O,GAAeuO,EAAkBC,GAoB9D,OAlBIE,EAAuB,EAEvBJ,EAAYK,KAAWJ,EAAkB,aAElCG,EAAuB,EAE9BJ,EAAY1/B,GAAW0D,UAAU,YAAaC,GAEvCm8B,EAAuB,GAE9BJ,EAAYK,KAAWJ,EAAkB,QACzCD,EAAY1/B,GAAW0D,UAAUg8B,EAAW/7B,IAI5C+7B,EAAYK,KAAWJ,EAAkB,UAGtCD,EYzBGM,CAA2BN,EAAW,EAAKpkC,QAAQ2E,WAzF7C,EA8FnBu/B,iBAAmB,SAAA3iB,GAClB,IAAIvuB,EAAU,KACRs+B,EAAS,EAAKnjC,MAAMwxB,aAAavvB,MAAQmxB,EAAY+P,OAAOlhC,IAAnD,UAA4DmxB,EAAY+P,OAAO1/B,KAA/E,SAEf,OAAQ2vB,EAAY/xB,MACnB,KAAKqN,GAEH,IAAM8nC,EAAcjgC,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,UAC7E3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EqT,GAA1E,UAA6FA,GAExG,MACD,KAAK9nC,GAEH,IAAM+nC,EAAiBlgC,GAAW0D,UAAU,yBAA0B,EAAKpI,QAAQ2E,UACnF3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EsT,GAA1E,UAAgGA,GAE3G,MACD,KAAK/nC,GAEH,IAAMgoC,EAAangC,GAAW0D,UAAU,0BAA2B,EAAKpI,QAAQ2E,UAChF3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EuT,GAA1E,UAA4FA,GAEvG,MACD,KAAKhoC,GAEH,IAAMioC,EAAoBpgC,GAAW0D,UAAU,4BAA6B,EAAKpI,QAAQ2E,UACzF3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EwT,GAA1E,UAAmGA,GAE9G,MACD,KAAKjoC,GAEH,IAAMkoC,EAAiBrgC,GAAW0D,UAAU,aAAc,EAAKpI,QAAQ2E,UACvE3R,EAAO,UAAMs+B,EAAN,YAAgByT,GAM1B,OAAO/xC,GApIW,EAuInBgyC,eAAiB,SAAAhyC,GAChB,IAAIiyC,EAAcjyC,EAAQkyC,KAGpBC,EAAUhQ,GAA8BniC,EAAS,cACnDmyC,GAAWA,EAAQtmC,eAAe,oBACrComC,EAAcE,EAAQC,gBAIvB,IAAMC,EAAalQ,GAA8BniC,EAAS,gBACtDqyC,GAAcA,EAAWxmC,eAAe,SAAWwmC,EAAWzlC,KAAKf,eAAe,mBAAqBwmC,EAAWzlC,KAAKf,eAAe,mBAAwD,QAAnCwmC,EAAWzlC,KAAK0lC,iBAC9KL,EAAcI,EAAWzlC,KAAK2lC,gBAI/B,IAAMC,EAAcrQ,GAA8BniC,EAAS,oBAK3D,OAJIwyC,GAAeA,EAAY3mC,eAAe,cAAgB2mC,EAAY3mC,eAAe,kBAA8C,QAA1B2mC,EAAYC,YACxHR,EAAcO,EAAYE,eAGpBT,GA5JW,EA+JnBpB,WAAa,SAAAtiB,GAAgB,IAAD,QACvBvuB,EAAU,KACRs+B,GAAS,YAAKnjC,aAAL,mBAAYwxB,oBAAZ,eAA0BvvB,QAA1B,OAAkCmxB,QAAlC,IAAkCA,GAAlC,UAAkCA,EAAa+P,cAA/C,aAAkC,EAAqBlhC,KAAvD,iBAAgEmxB,QAAhE,IAAgEA,GAAhE,UAAgEA,EAAa+P,cAA7E,aAAgE,EAAqB1/B,KAArF,SAEf,OAAQ2vB,EAAY/xB,MACnB,KAAKM,YAAU61C,aAAaC,KAE1B,IAAMvL,EAAc,EAAK2K,eAAezjB,GACxCvuB,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E+I,GAA1E,UAA6FA,GAExG,MACD,KAAKvqC,YAAU61C,aAAaE,MAE1B,IAAMtL,EAAe71B,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UACxE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EiJ,GAA1E,UAA8FA,GAEzG,MACD,KAAKzqC,YAAU61C,aAAaG,MAE1B,IAAMC,EAAerhC,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UACxE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0EyU,GAA1E,UAA8FA,GAEzG,MACD,KAAKj2C,YAAU61C,aAAaK,KAE1B,IAAMC,EAAcvhC,GAAW0D,UAAU,eAAgB,EAAKpI,QAAQ2E,UACtE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E2U,GAA1E,UAA6FA,GAExG,MACD,KAAKn2C,YAAU61C,aAAajT,MAE1B,IAAMwT,EAAexhC,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UACxE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E4U,GAA1E,UAA8FA,GAEzG,MACD,KAAKp2C,YAAU61C,aAAa5uC,MAE1B,IAAMovC,EAAezhC,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UACxE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E6U,GAA1E,UAA8FA,GAEzG,MACD,KAAKr2C,YAAU61C,aAAaS,OAE1B,IAAMpS,EAAgBtvB,GAAW0D,UAAU,iBAAkB,EAAKpI,QAAQ2E,UAC1E3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E0C,GAA1E,UAA+FA,GAO5G,OAAOhhC,GAlNW,EAqNnB+wC,eAAiB,SAAAxiB,GAChB,IAAIvuB,EAAU,KACRs+B,EAAS,EAAKnjC,MAAMwxB,aAAavvB,MAAQmxB,EAAY+P,OAAOlhC,IAAnD,UAA4DmxB,EAAY+P,OAAO1/B,KAA/E,SAEf,OAAQ2vB,EAAY/xB,MACnB,KAAKM,YAAU61C,aAAajT,MAE1B,IAAMwT,EAAexhC,GAAW0D,UAAU,aAAc,EAAKpI,QAAQ2E,UACrE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E4U,GAA1E,UAA8FA,GAEzG,MACD,KAAKp2C,YAAU61C,aAAa5uC,MAE1B,IAAMovC,EAAezhC,GAAW0D,UAAU,aAAc,EAAKpI,QAAQ2E,UACrE3R,EAAUuuB,EAAY+L,eAAiBx9B,YAAUgnC,cAAcC,MAArD,UAAgEzF,EAAhE,YAA0E6U,GAA1E,UAA8FA,GAO3G,OAAOnzC,GA1OW,EA6OnBgxC,iBAAmB,SAAAhxC,GAClB,IAAIqzC,EAAgB,KAEpB,IAA2C,IAAvCrzC,EAAQ6L,eAAe,cAAgE,IAAvC7L,EAAQ6L,eAAe,YAC1E,OAAOwnC,EAGR,GAAIrzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAYyjB,eAAiBtzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAY0jB,eAA4D,IAA5CvzC,EAAQwzC,SAAS3nC,eAAe,UAAiE,IAA5C7L,EAAQyzC,SAAS5nC,eAAe,SAC3M,OAAOwnC,EAGR,GAAIrzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAY6jB,qBAAsB,CAClE,IAAI1zC,EAAQ6L,eAAe,UAAW7L,EAAQ4M,KAAKf,eAAe,UASjE,OAAOwnC,EARP,IAAIrzC,EAAQ4M,KAAK+mC,OAAO9nC,eAAe,SAKtC,OAAOwnC,EAJP,IAAwD,IAApDrzC,EAAQ4M,KAAK+mC,OAAOhH,MAAM9gC,eAAe,OAC5C,OAAOwnC,EAUX,GAAIrzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAY6jB,uBAAwE,IAAhD1zC,EAAQ4M,KAAK+mC,OAAO9nC,eAAe,SACvG,OAAOwnC,EAGR,GAAIrzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAY6jB,uBAA4E,IAApD1zC,EAAQ4M,KAAK+mC,OAAOhH,MAAM9gC,eAAe,OAC7G,OAAOwnC,EAGR,IAAMO,EAAW5zC,EAAQwzC,SACnBK,EAAW7zC,EAAQyzC,SAEnBK,EAAWF,EAASh1C,KACpBm1C,EAAY/zC,EAAQm6B,SAAWr9B,YAAU+yB,YAAYyjB,eAAiBtzC,EAAQm6B,SAAWr9B,YAAU+yB,YAAY0jB,YAAcM,EAASj1C,KAAO,GAEnJ,OAAQoB,EAAQm6B,QACf,KAAKr9B,YAAU+yB,YAAYmkB,aAC1BX,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,UAA7D,YAA0EoiC,GACvF,MACD,KAAKj3C,YAAU+yB,YAAYyjB,cAC1BD,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,WAC3E,MACD,KAAK7U,YAAU+yB,YAAY0jB,YAC1BF,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,WACzE,MACD,KAAK7U,YAAU+yB,YAAYokB,cAC1BZ,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,UAA9D,YAA2EoiC,GACxF,MACD,KAAKj3C,YAAU+yB,YAAYqkB,cAC1Bb,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,UAA9D,YAA2EoiC,GACxF,MACD,KAAKj3C,YAAU+yB,YAAYskB,gBAC1Bd,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,WAAY,EAAKpI,QAAQ2E,UAAhE,YAA6EoiC,GAC1F,MACD,KAAKj3C,YAAU+yB,YAAY6jB,qBAC1B,IAAM9N,EAAW5lC,EAAO,KAAP,iBACjBqzC,EAAa,UAAMS,EAAN,YAAkBpiC,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,UAA5D,YAAyEoiC,EAAzE,YAAsFriC,GAAW0D,UAAUwwB,EAAU,EAAK54B,QAAQ2E,WAOjJ,OAAO0hC,GAhTW,EAmTnB7D,cAAgB,SAAC5gB,EAAOH,GACvB,IAAMyH,EAAOtH,EAAMqf,OAKnB,GAHoB/X,EAAK8H,aACL9H,EAAKG,YAGxB,OAAO,EAGJ5H,EACHyH,EAAKuZ,aAAa,QAASvZ,EAAKke,aAEhCle,EAAKyZ,gBAAgB,UAhUJ,EAoUnB0E,kBAAoB,WACnB,EAAKrnC,QAAQ0D,mBAAmByW,uBAC9BpqB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM24C,mBAC3B,EAAKj1C,SAAS,CAAEi1C,kBAAmB91C,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM24C,mBACd,EAAKj1C,SAAS,CAAEi1C,mBAAmB,QAhVpB,EAqVnBzD,0BAA4B,WAC3B,EAAK5jC,QAAQ0D,mBAAmBqT,+BAC9BhnB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMk1C,2BAC3B,EAAKxxC,SAAS,CAAEwxC,0BAA2BryC,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAMk1C,2BACd,EAAKxxC,SAAS,CAAEwxC,2BAA2B,QA9V5B,EAmWnB0D,iBAAmB,SAAAC,GACdA,IAAe,EAAK74C,MAAM84C,WAC7B,EAAKp1C,SAAS,CAAEo1C,YAAY,KACjBD,GAAc,EAAK74C,MAAM84C,YACpC,EAAKp1C,SAAS,CAAEo1C,YAAY,KApW7B,EAAK94C,MAAQ,CACZ6yB,YAAa,GACbkmB,qBAAsB,GACtBJ,mBAAmB,EACnBG,YAAY,EACZ5D,2BAA2B,GARV,E,qDAYnB,WACC,IAAM5wC,EAAU9E,KAAKy1C,iBACfS,EAAYl2C,KAAKi2C,0BACvBj2C,KAAKm5C,oBACLn5C,KAAK01C,4BAEL11C,KAAKkE,SAAS,CAAEmvB,YAAavuB,EAASy0C,qBAAsBrD,M,gCAG7D,SAAmBljC,GAIlB,GAHqB0iB,KAAKC,UAAU3iB,EAAUu9B,gBAC1B7a,KAAKC,UAAU31B,KAAKC,MAAMswC,cAEZ,CACjC,IAAMzrC,EAAU9E,KAAKy1C,iBACfS,EAAYl2C,KAAKi2C,0BAEvBj2C,KAAKkE,SAAS,CAAEmvB,YAAavuB,EAASy0C,qBAAsBrD,IAG7Dl2C,KAAKm5C,oBACLn5C,KAAK01C,8B,oBA0UN,WAAU,IDrT0Bz1C,EC+T/BoV,EAVI,OACJmkC,EAAuB,KAU3B,GATIx5C,KAAKQ,MAAM6yB,cACdmmB,EACC,oBAAM/0C,KDzT2BxE,ECyTDD,KAAKC,MDvT9B,CACHyE,SAAU,OACVE,MAAO,OACPC,UAAW,QACXF,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAM8K,YCmTalL,UAAU,4BACrDvE,KAAKQ,MAAM+4C,uBAMXv5C,KAAKC,MAAMswC,aAAavC,mBAAqBpsC,YAAUgnC,cAAcqF,KAAM,CAC9E,IAAMl5B,EAAS/U,KAAKC,MAAMswC,aAAarC,iBAAiBn5B,OACxDM,EAAW,YAAC,GAAD,CAAuBN,OAAQA,EAAQlF,YAAa7P,KAAKC,MAAM8O,MAAMc,YAAYV,UAG7F,IAAIxL,EAAS,KACT3D,KAAKC,MAAMswC,aAAavC,mBAAqBpsC,YAAUgnC,cAAcqF,KACxEtqC,EAAS,YAAC,GAAD,CAAiBtC,KAAMrB,KAAKC,MAAMswC,aAAarC,mBAC9CluC,KAAKC,MAAMswC,aAAavC,mBAAqBpsC,YAAUgnC,cAAcC,QAC/EllC,EAAS,YAAC,GAAD,CAAiBsN,MAAOjR,KAAKC,MAAMswC,aAAarC,oBAG1D,IAAIrrB,EAAc,KACd7iB,KAAKQ,MAAM24C,oBACdt2B,EAAc,YAAC,GAAD,CAAqBjO,MAAO5U,KAAKC,MAAMswC,aAAatB,sBAGnE,IAAIwK,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,gBAAsCz5C,KAAKC,MAA3C,CAAkDswC,aAAcvwC,KAAKC,MAAMswC,iBAIzF,mBAAK9rC,IAAK0wC,GAASn1C,KAAKC,OAAQsE,UAAU,aAAaywC,aAAc,kBAAM,EAAKoE,kBAAiB,IAAOnE,aAAc,kBAAM,EAAKmE,kBAAiB,IAAQjlC,QAAS,kBAAM,EAAKlU,MAAM8xC,YAAY,EAAK9xC,MAAMswC,gBAC1M,mBAAK9rC,IDpZE,CACHS,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACR+H,WAAY,KCgZgBxV,UAAU,yBACxCZ,EACA0R,GAEF,mBAAK5Q,ID9YE,CACHG,MAAO,oBACP80C,SAAU,IACVC,YAAa,OACb,aAAc,CACVC,aAAc,OACdD,YAAa,MCwYQp1C,UAAU,sBAAsByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WACtG,mBAAKhS,IDlYC,CACHS,QAAS,OACTG,eAAgB,gBAChBD,WAAY,YC+XWb,UAAU,2BACnC,mBAAKE,IAAK6wC,GAAct1C,KAAKC,OAAQsE,UAAU,sBAAsBywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KAC5K1zB,KAAKC,MAAMswC,aAAarC,iBAAiBxqC,MAE1C81C,GAEF,mBAAK/0C,IDxYC,CACHS,QAAS,OACTG,eAAgB,gBAChBD,WAAY,YCqYWb,UAAU,2BACnC,mBAAKE,IAAK8wC,GAAiBv1C,KAAKC,OAAQsE,UAAU,8BAA8BywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KACvL1zB,KAAKQ,MAAM6yB,aAEZxQ,IAGF42B,O,GAnauC94C,IAAMkF,eAA5C2vC,GACE1V,YAAc3qB,GAyatBqgC,GAA8B/hC,aAAe,CAC5C1E,MAAOA,GACP0iB,aAAc,KACd8e,aAAc,CACbrC,iBAAkB,KCzcb,I,GAAM2L,GAAsB,SAAC/nC,EAASsI,GAE5C,IAAM0/B,EAAiB1/B,EAAH,6GAQpB,MAAO,CACN3U,QAAS,mBACHwS,aAAc,OACpB1S,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClD4K,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,SAC/CzK,SAAU,OACVQ,QAAS,OACTC,cAAe,cACfE,eAAgB,gBAChBk0B,UAAU,GAAD,OAAKugB,EAAL,kBACTjmC,SAAU,aAcCkmC,GAAoB,SAAC3oC,EAAKU,GAEnC,MAAO,CACHlN,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdgT,KAAK,OAAD,OAASpH,EAAT,6BACV7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAC5BvJ,OAAQ,YAcHs0C,GAAqB,SAAAloC,GAEjC,MAAO,CACNrM,QAAS,MACT6U,OAAQ,QACR/U,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBiK,MAClD+K,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,SAC/C3J,aAAc,OACdE,OAAQ,UACRsM,OAAQ,OACRnN,UAAW,WClEE,OAA0B,kCCqBnCo1C,GAA6B,SAACh6C,GAEhC,IAAM6R,EAAUoD,qBAAWC,IAErBg6B,EAAUlvC,EAAMkvC,QAAQuE,KAAI,SAACx3B,EAAQpF,GAEvC,OAAQ,mBAAKA,IAAKA,EAAKrS,IAAKu1C,GAAmBloC,GAAUvN,UAAU,SAAS4P,QAAS,kBAAMlU,EAAMmU,QAAQ8H,KAAUA,MAGvH,OACI,mBAAKzX,IAAKo1C,GAAoB/nC,EAASsI,KAAY7V,UAAU,2BACzD,mBAAKE,IFNN,CACHy1C,UAAW,aACXh1C,QAAS,OACTE,WAAY,WACZC,eAAgB,iBEEqBd,UAAU,oBACvC,mBAAKE,IAAKs1C,GAAkBv/B,GAAW1I,GAAUqC,QAASlU,EAAM4a,MAAOtW,UAAU,oBAErF,mBAAKE,IFaN,CACHS,QAAS,OACTE,WAAY,SACZC,eAAgB,eAChBT,MAAO,QEjBqCL,UAAU,oBAAoB4qC,KAMlF8K,GAA2BxmC,aAAe,CACtC1E,MAAOA,IC1CJ,IAAMorC,GAAsB,SAACroC,EAASsI,GAE5C,IAAM0/B,EAAiB1/B,EAAH,6GAQpB,MAAO,CACN7U,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBiK,MAClD+K,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,SAC/Ck+B,aAAc,OACd9T,UAAU,GAAD,OAAKugB,EAAL,kBACTt0C,aAAc,gBACdwM,OAAQ,QACR9M,QAAS,OACTC,cAAe,SACfE,eAAgB,WAIL+0C,GAA0B,SAAAtoC,GAEtC,MAAO,CACNuoC,UAAU,aAAD,OAAevoC,EAAQ/C,MAAMc,YAAYV,SAClD5J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB0K,QAClD/K,QAAS,OACTG,eAAgB,gBAChBD,WAAY,SACZw/B,cAAe,YACf0V,UAAW,OACXpG,UAAW,SACXzuC,QAAS,OACT,sBAAuB,CACtBq0B,WAAW,GAAD,OAAKhoB,EAAQ/C,MAAMxJ,gBAAgB4J,UAE9C,4BAA6B,CAC5B2qB,WAAW,GAAD,OAAKhoB,EAAQ/C,MAAMxJ,gBAAgB0K,WAgCnCsqC,GAAmB,SAAAzoC,GAE/B,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACN0rB,SAAU,OACV1jB,UAAW,OACX8B,SAAU,OACVgjB,UAAW,OACXt3B,OAAQ,UACRqU,WAAY,IACZtF,YAAa,QAPd,iBAQY84B,EAAG,GARf,aAQsBA,EAAG,GARzB,aAQgCA,EAAG,IAAO,CACxCvzB,SAAU,OACVgjB,UAAW,UA6BDwd,GAAoB,SAACppC,EAAKU,GAEtC,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACd00C,UAAW,WACX1hC,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCvJ,OAAQ,UACR4U,OAAQ,gBC5HK,OAA0B,kCC0BnCmgC,G,kDAIF,WAAYx6C,EAAO6R,GAAU,IAAD,8BAExB,cAAM7R,EAAO6R,IAgBjB4oC,YAAc,WAEV94C,YAAU+4C,cAAc,WAAY,MAAO,WAAY,MAAM94C,MAAK,SAAA+4C,GAG9D,IAAIC,EAAmB,KACjBC,EAAkBF,EAASjqC,eAAe,kBAAqBiqC,EAAQ,eAAqB,GAC5FG,EAAmBH,EAASjqC,eAAe,mBAAsBiqC,EAAQ,gBAAsB,GAErGG,EAAgBC,MAAK,SAAUnT,EAAGC,GAC9B,OAAOD,EAAEoT,gBAAkBnT,EAAEmT,mBAGjCH,EAAeE,MAAK,SAAUnT,EAAGC,GAC7B,OAAOD,EAAEoT,gBAAkBnT,EAAEmT,mBAGjC,IAAMC,EAAW,uBAAOH,GAAP,aAA2BD,IAEjB,IAAvBI,EAAY3qC,SACZ,EAAK4hC,iBAAmB37B,GAAW0D,UAAU,oBAAqB,EAAKpI,QAAQ2E,WAGnF,IAAM0kC,EAAaD,EAAYE,QAAO,SAACC,EAAGttB,EAASutB,GAE/C,IAAQC,EAAmBxtB,EAAnBwtB,eAOR,OANc,IAAVD,IACAT,EAAmBU,GAGvBF,EAAEE,GAAF,uBAAwBF,EAAEE,IAAmB,IAA7C,gBAAsDxtB,KAE/CstB,IACR,IAECG,EAAoB,GACpB/qC,OAAOC,KAAKyqC,GAAY5qC,SAExBE,OAAOC,KAAKyqC,GAAYvY,SAAQ,SAAA9rB,GAC5BqkC,EAAWrkC,GAAKkkC,MAAK,SAAUnT,EAAGC,GAC9B,OAAOD,EAAE4T,aAAe3T,EAAE2T,mBAIlCD,EAAoBL,EAAWN,IAGnC,EAAK32C,SAAS,CACV,YAAeg3C,EACf,WAAcC,EACd,kBAAqBK,EACrB,iBAAoBX,OAGzBj4C,OAAM,SAAAnB,GAEL,EAAK0wC,iBAAmB37B,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,UAC7E,EAAKvS,SAAS,CAAE,kBAAqB,GAAI,WAAc,SA3EnC,EA+E5Bw3C,mBAAqB,SAACC,GAClB,EAAK17C,MAAMq+B,gBAAgB3vB,GAAA,aAA+BgtC,IAhFlC,EAmF5BC,oBAAsB,SAACC,GAEnB,EAAK33C,SAAS,CAAE43C,kBAAmB,KAAM,WAErC,IACMN,EADU,eAAQ,EAAKh7C,MAAMu7C,YACEF,GACrC,EAAK33C,SAAS,CAAE,iBAAoB23C,EAAa,kBAAqBL,QAzFlD,EA6F5BQ,qBAAuB,WACnB,EAAK/7C,MAAMq+B,gBAAgB3vB,GAAA,yBA1F3B,EAAKwjC,iBAAmB37B,GAAW0D,UAAU,UAAWpI,EAAQ2E,UAEhE,EAAKjW,MAAQ,CACTy7C,YAAa,GACbF,WAAY,GACZD,kBAAmB,GACnBI,iBAAkB,MAVE,E,qDAc5B,WACIl8C,KAAK06C,gB,oBAkFT,WAAU,IFxBoB5oC,EEwBrB,OAED6hC,EAAmB,KACqB,IAAxC3zC,KAAKQ,MAAMs7C,kBAAkBvrC,SAC7BojC,EACI,mBAAKlvC,IFxCV,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZyO,SAAU,WACVC,IAAK,OEiCgCvP,UAAU,+BACnC,iBAAGE,KF9BWqN,EE8Ba9R,KAAK8R,QF5B5C,CACNwI,OAAQ,IACRtI,OAAQ,OACRrN,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9B1K,SAAU,iBACV4P,WAAY,QEuBgD/P,UAAU,qBAAqBvE,KAAKmyC,oBAK1F,IAAIyI,EAAW,KACf,GAAInqC,OAAOC,KAAK1Q,KAAKQ,MAAMu7C,YAAYxrC,OAAQ,CAE3C,IAAM4rC,EAAe1rC,OAAOC,KAAK1Q,KAAKQ,MAAMu7C,YAAYrI,KAAI,SAACmI,EAAa/kC,GAEtE,IAAMslC,EAAsB,EAAK57C,MAAMu7C,WAAWF,GAAa,GAAnC,WAC5B,OAAQ,mBAAM/kC,IAAKA,EAAMvS,UAAU,wBAAwBE,IFlGhE,CAEHuN,OAAQ,OACRpN,MAAO,OACPc,OAAQ,UACRqU,WAAY,IACZ,uBAAwB,CACpBvF,WAAY,SE2FiFL,QAAS,kBAAM,EAAKynC,oBAAoBC,KAC7H,mBAAKvqC,IAAK8qC,EAAqB/oC,IAAKwoC,QAKxCL,EAAoB,GACxB,GAAIx7C,KAAKQ,MAAMs7C,kBAAkBvrC,OAG7BirC,EADiB,aAAOx7C,KAAKQ,MAAMs7C,mBACHpI,KAAI,SAACiI,EAAa7kC,GAE9C,OACI,mBAAKA,IAAKA,EAAKrS,IAAK81C,GAAiB,EAAKzoC,SAAUqC,QAAS,kBAAM,EAAKunC,mBAAmBC,IAAcp3C,UAAU,sBAC/G,mBAAK+M,IAAKqqC,EAAYU,WAAYhpC,IAAKsoC,EAAYW,kBAMnE1B,EACI,YAAC,IAAM51C,SAAP,KACI,mBAAKP,IAAK+1C,GAAkBhgC,GAAWxa,KAAK8R,SAAUvN,UAAU,kBAAkB4P,QAASnU,KAAKg8C,uBAChG,mBAAKv3C,KAAsBzE,KAAKC,MF3GzC,CACH+R,OAAQ,oBACR9M,QAAS,OACTo1C,UAAW,SACXpG,UAAW,OACXqI,SAAU,OACVl3C,eAAgB,gBAChBD,WAAY,WEoGwCb,UAAU,kBAC7Ci3C,GAEL,mBAAK/2C,IAAK21C,GAAwBp6C,KAAK8R,SAAUvN,UAAU,sBACtD43C,IAMjB,OACI,mBAAK13C,IAAK01C,GAAoBn6C,KAAK8R,QAASsI,KAAY7V,UAAU,YAC7DovC,EACAiH,O,GA1JsBj6C,IAAMkF,eAAvC40C,GAEK3a,YAAc3qB,GA+JzBslC,GAAyBhnC,aAAe,CACpC1E,MAAOA,I,aC5LEytC,GAAwB,SAACv8C,EAAOw8C,EAAc3qC,EAAS2f,GAEnE,IAAMvvB,EAAG,OAAGuvB,QAAH,IAAGA,OAAH,EAAGA,EAAcvvB,IACtBgR,EAAc,GACdwpC,EAAqB,GAkBzB,OAhBID,EAAa9rC,eAAezO,IAC/BgR,EAAc,CACbqH,OAAO,aAAD,OAAezI,EAAQ/C,MAAME,eAGpCytC,EAAkB,eAAQxpC,KAE1BA,EAAc,CACbqH,OAAQ,yBAGTmiC,EAAqB,CACpBniC,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,WAI1C,yBACNzK,SAAU,OACVe,QAAS,UACTP,QAAS,cACTE,WAAY,SACZu3C,cAAe,MACfp3C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD5J,aAAc,OACd8U,OAAQ,eACLpH,GATJ,IAUC,oBAAqB,CACpBhO,QAAS,cACTE,WAAY,SACZC,eAAgB,SAChBK,OAAQ,WAET,UAAU,eACNg3C,MAKOE,GAAmB,SAACxrC,EAAKU,GAElC,MAAO,CACHxM,QAAS,IACTiV,OAAQ,IACR/U,aAAc,MACdJ,WAAY,SACZF,QAAS,cACTG,eAAgB,SAChBwO,SAAU,WACV,EAAK,CACD7B,OAAQ,OACRpN,MAAO,OACP4T,KAAK,OAAD,OAASpH,EAAT,6BACb7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,uBAKxB2tC,GAAqB,SAAA/qC,GAEjC,MAAO,CACNnN,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9B1J,QAAS,gBCnEI,OAA0B,sCCuBnCq3C,G,kDAIL,WAAY78C,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAoBdirC,sBAAwB,WAIvB,EAAKjrC,QAAQ0D,mBAAmB4X,qBAC9BvrB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMu8C,uBAAyB,EAAKvrC,YACzD,EAAKtN,SAAS,CAAE64C,sBAAuB15C,OAGxCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAMu8C,uBACd,EAAK74C,SAAS,CAAE64C,uBAAuB,QAjCf,EAsC5BC,gBAAkB,SAAAC,GAEjB,IAAIC,EAAa,eAAQ,EAAKj9C,MAAM6E,gBAC7Bo4C,EAAa,SAAa,aAA1B,qBAAkED,EAAME,QAAQ,EAAK1rB,aAAavvB,KACzG,EAAKjC,MAAMq+B,gBAAgB3vB,GAAA,eAAiCuuC,GAE5Dt7C,YAAU+4C,cAAc,YAAa,OAAQ,WAAY,CACxDyC,MAAO,EAAKn9C,MAAM6E,QAAQ2rC,GAC1BwM,MAAOA,EAAME,SACXt7C,MAAK,SAAAwB,GAGFA,GAAaA,EAASygC,UAAgC,IAArBzgC,EAASygC,SAC9C,EAAK7jC,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAGxD/L,OAAM,SAAAnB,GACN,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBAvD7B,EA2D5B0uC,oBAAsB,SAAAC,GAErB,OAAiB,OAAbA,EACI,KAGiB7sC,OAAOC,KAAK4sC,GAAU5J,KAAI,SAAChiC,EAAMoF,GACzD,IAAM2lC,EAAea,EAAS5rC,GACxB6rC,EAAe7rC,EAAK8rC,WAAW,IAAK,IACpCC,EAAgBhtC,OAAOC,KAAK+rC,GAAclsC,OAEhD,IAAKktC,EACJ,OAAO,KAGR,IAAMC,EAAW,GACbC,EAAgB,GAEpB,IAAK,IAAMt8C,KAAQo7C,EAClBiB,EAAS1Q,KAAKyP,EAAap7C,GAAb,MAGf,GAAIq8C,EAASntC,OAAQ,CACpBotC,EAAgBD,EAASE,KAAK,MAC9B,IAAM1rC,EAAG,WAAOsE,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,WAC7DknC,EAAgBA,EAAcE,OAAO3rC,GAGtC,IAAM4rC,EAAiB,6BAAyBP,GAChD,OACC,mBAAKzmC,IAAKA,EAAKrS,IAAK+3C,GAAsB,EAAKv8C,MAAOw8C,EAAc,EAAK3qC,QAAS,EAAK2f,cAAeltB,UAAWu5C,EAAmB7jC,MAAO0jC,GAC1I,YAAC,KAAD,CAAOV,MAAO,CAAExM,GAAI8M,GAAgBQ,KAAM,GAAIC,QAAM,EAAC7pC,QAAS,EAAK6oC,kBACnE,oBAAMv4C,IAAKo4C,GAAmB,EAAK/qC,SAAUvN,UAAU,mBACrDk5C,QA5FsB,EAqG5BQ,mBAAqB,WAEpB,OAAyC,IAArC,EAAKz9C,MAAMu8C,sBACP,KAIP,mBAAKjmC,IAAI,KAAKrS,IAAK+3C,GAAsB,EAAKv8C,MAAO,GAAI,EAAK6R,SAAUvN,UAAU,yBAAyB0V,MAAOzD,GAAW0D,UAAU,eAAgB,EAAKpI,QAAQ2E,WACnK,sBAAQnV,KAAK,SAASmD,IAAKm4C,GAAiBsB,GAAW,EAAKpsC,SAAUvN,UAAU,yBAAyB4P,QAAS,kBAAM,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,EAAK1O,MAAM6E,WAChM,yBA5GH,EAAK0M,YAAa,EAClB,EAAKhR,MAAQ,CACZu8C,uBAAuB,GAGxB,EAAKjrC,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAKowB,aAAL,eAAyBpwB,MARC,E,qDAY5B,WACCrB,KAAKwR,YAAa,EAClBxR,KAAK+8C,0B,kCAGN,WACC/8C,KAAKwR,YAAa,I,oBAoGnB,WACC,IAKuF,MALjF8rC,EAAWrW,GAA8BjnC,KAAKC,MAAM6E,QAAS,aAC7Dq5C,EAAmBn+C,KAAKq9C,oBAAoBC,GAE5Cc,EAAmBp+C,KAAKi+C,qBAEL,OAArBE,GAA6BA,EAAiB5tC,QAA+B,OAArB6tC,KACvD,UAAAp+C,KAAKC,MAAM6E,eAAX,mBAAoBs+B,cAApB,eAA4BlhC,QAA5B,UAAoClC,KAAKyxB,oBAAzC,aAAoC,EAAmBvvB,KAC1Di8C,EAAiBnR,KAAKoR,GAEtBD,EAAiBzP,QAAQ0P,IAI3B,OAAOD,M,GAxI+Bx9C,IAAMC,WAAxCk8C,GACEhd,YAAc3qB,GA4ItB2nC,GAA0BrpC,aAAe,CACxC1E,MAAOA,GACPuvB,gBAAiB,cCtKX,IAAM+f,GAAoB,SAAAvsC,GAEhC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACN0rB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,OACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAfV,iBAgBYqoC,EAAG,GAhBf,aAgBsBA,EAAG,IAAO,CAC9B3oC,MAAO,OACPoN,OAAQ,UA6BEssC,GAAkB,SAACxsC,GAE5B,MAAO,CACHpN,SAAU,OAChBC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXyV,OAAQ,QACR1V,MAAO,SAII25C,GAAkB,SAAAzsC,GAE9B,MAAO,CACN0sC,eAAgB,WAChBlkC,OAAQ,IACR7U,QAAS,IACTb,MAAO,OACPoN,OAAQ,MACRysC,GAAI,CACHpR,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,QACTN,MAAO,OACP85C,YAAa,WA8CHC,GAAiB,SAAC7sC,EAAStR,EAAO4Q,GAE9C,IAAIwtC,EAAe,GACfC,EAAa,GAcjB,OAZIr+C,EAAMs+C,eACTF,EAAe,CACdG,SAAU,OACV/mC,cAAe,OACf8hB,WAAW,OAAD,OAAS1oB,EAAT,yCAA6CU,EAAQ/C,MAAME,eAGtE4vC,EAAa,CACZpqC,YAAa,SAIR,CACNvP,QAAS,eACTu5C,GAAI,CACHlkC,OAAQ,OACRykC,GAAI,CACHn6C,UAAW,SACXo6C,OAAO,yBACNv5C,OAAQ,UACRD,QAAS,WACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCzJ,aAAc,MACdb,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BjL,SAAU,OACVY,QAAS,IACTiV,OAAQ,KACLqkC,GATE,IAULM,KAAK,eACDL,SAeIM,GAAqB,SAAC/tC,EAAKU,GAEpC,MAAO,CACHstC,eAAgB,YAChB15C,OAAQ,UACRR,QAAS,QACT8M,OAAQ,OACRpN,MAAO,OACb4T,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBClLrB,OAA0B,qCCA1B,OAA0B,8CCA1B,OAA0B,kCCiCnCmwC,G,kDAKF,WAAYp/C,GAAQ,IAAD,8BAEf,cAAMA,IALVwxB,aAAe,KAGI,EAenB6tB,cAAgB,WAEZ,IAAMnQ,EAAO,aAAO,EAAK3uC,MAAM2uC,SAC/BA,EAAQnC,KAAK,CAAE9pC,MAAO,GAAIutC,IAAI,IAAIriC,MAAOC,YACzC,EAAKnK,SAAS,CAACirC,QAASA,KAnBT,EAsBnBoQ,iBAAmB,SAACrjC,GAEhB,IAAMizB,EAAO,aAAO,EAAK3uC,MAAM2uC,SACzBqQ,EAAYrQ,EAAQb,WAAU,SAAAmR,GAAG,OAAIA,EAAIhP,KAAOv0B,EAAOu0B,MACzD+O,GAAa,IAEbrQ,EAAQV,OAAO+Q,EAAW,GAC1B,EAAKt7C,SAAS,CAAEirC,QAASA,MA7Bd,EAiCnBuQ,oBAAsB,SAAChsB,EAAOxX,GAE1B,IAAMizB,EAAO,aAAO,EAAK3uC,MAAM2uC,SACzBqQ,EAAYrQ,EAAQb,WAAU,SAAAmR,GAAG,OAAIA,EAAIhP,KAAOv0B,EAAOu0B,MAC7D,GAAI+O,GAAa,EAAG,CAEhB,IAAMG,EAAS,2BAAQzjC,GAAR,IAAgBhZ,MAAOwwB,EAAMqf,OAAO7vC,QACnDisC,EAAQV,OAAO+Q,EAAW,EAAGG,GAC7B,EAAKz7C,SAAS,CAAEirC,QAASA,MAzCd,EA6CnByQ,WAAa,WAET,IAqBIzgB,EArBE0gB,EAAW,EAAKC,YAAY78C,QAAQC,MAAMoN,OAC1CyvC,EAAc,EAAKC,aAAa/8C,QAAQC,MAAMoN,OAC9C2vC,EAAe,EAAKC,aAAaj9C,QAAQC,MAAMoN,OAC/C6vC,EAAc,CAACJ,EAAaE,GAElC,GAAwB,IAApBJ,EAAStvC,OAGT,OADA,EAAKrM,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,wBAAyB,EAAKpI,QAAQ2E,aAClF,EAGX,GAA2B,IAAvBspC,EAAYxvC,QAAwC,IAAxB0vC,EAAa1vC,OAGzC,OADA,EAAKrM,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,aAChF,EAGX,EAAKjW,MAAM2uC,QAAQvM,SAAQ,SAAU1mB,GACjCikC,EAAYnT,KAAK9wB,EAAOhZ,UAI5B,IAAIk8B,EAAe,EAAKttB,QAAQxQ,KAC5B,EAAKwQ,QAAQxQ,OAASM,YAAUgnC,cAAcqF,KAC9C9O,EAAa,EAAKrtB,QAAQmF,KAAK/U,IACxB,EAAK4P,QAAQxQ,OAASM,YAAUgnC,cAAcC,QACrD1J,EAAa,EAAKrtB,QAAQmF,KAAK9F,MAGnC,EAAKjN,SAAS,CAAE46C,cAAc,EAAMt6C,aAAc,KAElD5C,YAAU+4C,cAAc,QAAS,OAAQ,YAAa,CAClD,SAAYkF,EACZ,QAAWM,EACX,SAAYhhB,EACZ,aAAgBC,IACjBv9B,MAAK,SAAAwB,GAEAA,GAAYA,EAASsN,eAAe,aAAsC,IAAxBtN,EAAQ,SAE1D,EAAKa,SAAS,CAAE46C,cAAc,IAC9B,EAAK7+C,MAAMq+B,gBAAgB3vB,GAAA,eAG3B,EAAKzK,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGxF7T,OAAM,SAAAnB,GAEL,EAAKyC,SAAS,CAAE46C,cAAc,IAC9B,EAAK56C,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBA9FvF,EAAKjW,MAAQ,CACTgE,aAAc,GACd2qC,QAAS,GACT2P,cAAc,GAGlB,EAAKgB,YAAcn/C,IAAMyD,YACzB,EAAK47C,aAAer/C,IAAMyD,YAC1B,EAAK87C,aAAev/C,IAAMyD,YAC1B,EAAKg8C,UAAYz/C,IAAMyD,YAZR,E,0CAqGnB,WAAU,IJhHkBgN,EAAKU,EIgHxB,OAGCuuC,EADU,aAAOrgD,KAAKQ,MAAM2uC,SACAuE,KAAI,SAACx3B,EAAQo/B,GAC3C,OACI,YAAC,GAAD,CACAxkC,IAAKwkC,EACLp/B,OAAQA,EACRokC,SAAUhF,EAAM,EAChBnhC,KAAM,EAAKrI,QAAQ2E,SACnBipC,oBAAqB,EAAKA,oBAC1BH,iBAAkB,EAAKA,sBAIzBgB,EAAcvgD,KAAKQ,MAAMs+C,aAAgBtoC,GAAW0D,UAAU,WAAYla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UACrJ,OACI,YAAC,IAAMzR,SAAP,KACI,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,IAAK45C,GAAkBr+C,KAAK8R,SAAUvN,UAAU,qBACjD,oBAAME,KJpIM2M,EIoIeovC,GJpIV1uC,EIoIqB9R,KAAK8R,QJlIpD,CACH+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACV7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAC5BvJ,OAAQ,YIyHyDnB,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAC3J,mBAAKhS,IJpHd,CACHgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,QIiHiCL,UAAU,eAClC,qBAAOE,IAAK85C,GAAgBv+C,KAAK8R,UAC7B,uBAASrN,IJjF1B,CACHC,SAAU,OACVuT,aAAc,OACd3D,WAAY,OACZzP,UAAW,QI6E4CN,UAAU,gBAAgBiS,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,WAC9G,qBAAOhS,IJxExB,CACHuN,OAAQ,oBACRkiC,UAAW,OACXhvC,QAAS,QACT,GAAM,CACF,GAAM,CACFO,QAAS,WACTf,SAAU,OACV,MAAS,CACLE,MAAO,OACP2V,OAAQ,OACR9U,QAAS,WACTf,SAAU,OACV,UAAW,CACPY,QAAS,SAGjB,MAAS,CACLG,QAAS,YAEb,iBAAkB,CACdb,MAAO,aIoDK,kBAAIL,UAAU,SACV,kBAAIk8C,QAAQ,KAAI,mBAAKh8C,IAAK65C,GAAgBt+C,KAAK8R,UAAW9R,KAAKQ,MAAMgE,gBAEzE,kBAAID,UAAU,kBACV,sBAAI,yBAAQiS,GAAW0D,UAAU,WAAYla,KAAK8R,QAAQ2E,YAC1D,kBAAIgqC,QAAQ,KACR,qBAAOn/C,KAAK,OAAOo/C,WAAS,EAACJ,SAAS,IAAIK,YAAanqC,GAAW0D,UAAU,sBAAuBla,KAAK8R,QAAQ2E,UAAWlD,IAAKvT,KAAK8/C,gBAG7I,kBAAIv7C,UAAU,iBACV,sBACI,yBAAQiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,YAEzD,kBAAIgqC,QAAQ,KACR,qBAAOn/C,KAAK,OAAOg/C,SAAS,IAAIK,YAAanqC,GAAW0D,UAAU,oBAAqBla,KAAK8R,QAAQ2E,UAAWlD,IAAKvT,KAAKggD,iBAGjI,kBAAIzsC,IAAKvT,KAAKogD,UAAW77C,UAAU,iBAC/B,8BACA,kBAAIk8C,QAAQ,KACR,qBAAOn/C,KAAK,OAAOg/C,SAAS,IAAIK,YAAanqC,GAAW0D,UAAU,oBAAqBla,KAAK8R,QAAQ2E,UAAWlD,IAAKvT,KAAKkgD,iBAGhIG,EACD,sBACI,8BACA,sBACI,yBAAQ7pC,GAAW0D,UAAU,iBAAkBla,KAAK8R,QAAQ2E,YAEhE,kBAAIhS,IJ7B7B,CACHG,MAAO,SI6ByB,iBAAG07C,SAAS,MAAM77C,IAAK06C,GAAmByB,GAAS5gD,KAAK8R,SAAUvN,UAAU,cAAc4P,QAASnU,KAAKs/C,mBAIpH,qBAAO76C,IAAKk6C,GAAe3+C,KAAK8R,QAAS9R,KAAKQ,MAAOqgD,KACjD,kBAAIt8C,UAAU,cACV,kBAAIk8C,QAAQ,KACR,sBAAQn/C,KAAK,SAAS6S,QAASnU,KAAK4/C,YAChC,wBAAOW,e,GAzKjB5/C,IAAMC,WAAlCy+C,GAGKvf,YAAc3qB,GAoLzBkqC,GAAoB5rC,aAAe,CAClC1E,MAAOA,ICzND,IAAM+xC,GAAwB,SAAC1vC,EAAKU,GAE1C,MAAO,CACN0G,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMiL,KACxClK,OAAQ,UACRR,QAAS,QACT8M,OAAQ,OACRpN,MAAO,SCRM,OAA0B,mCCcnCm8C,GAA6B,SAAC9gD,GAEhC,IAAM6R,EAAUoD,qBAAWC,IAE3B,OACI,kBAAI5Q,UAAU,iBACV,8BACA,sBACI,qBACAm8C,WAAS,EACTJ,SAAUrgD,EAAMqgD,SAChBh/C,KAAK,OACL0/C,aAAa,MACbL,YAAanqC,GAAW0D,UAAU,oBAAqBpI,EAAQ2E,UAC/DvT,MAAOjD,EAAMiD,MACb+9C,SAAU,SAACvtB,GAAD,OAAWzzB,EAAMy/C,oBAAoBhsB,EAAOzzB,EAAMic,YAEhE,kBAAIzX,IPqIL,CACHG,MAAO,QOtI0BL,UAAU,kBACnC,oBAAME,IAAKq8C,GAAsBI,GAAYpvC,GAAUqC,QAAS,kBAAMlU,EAAMs/C,iBAAiBt/C,EAAMic,cCNtGilC,GAAwB,WAEjC,MAAO,CACHv8C,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,MAaPqnC,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEC,GAAyB,SAAAxvC,GAErC,MAAO,CACN5M,QAAS,OACTC,cAAe,SACfK,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,OACTy0C,UAAW,aACXt1C,MAAO,SAII28C,GAAuB,SAAAzvC,GAEnC,MAAO,CACN5M,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZT,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,WAiBnBoJ,GAAY,SAACnH,EAAKU,GAE9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,gBAIvBuyC,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACRmnC,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPc,OAAQ,UACRmO,SAAU,WACVyG,OAAQ,aACR7U,QAAS,MACT,MAAO,CACNq0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACPM,QAAS,eACTR,SAAU,OACV4P,WAAY,MACZgG,OAAQ,QCpJG,OAA0B,mDCqCnConC,G,kDAGL,WAAYzhD,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA1BF,EA8BnBsI,4BAA8B,WAC7B,IAAIC,EAAc,KACdC,EAAe7a,GAA8B,EAAKhnC,MAAM6E,QAAS,YACjEg9C,GAAgBA,EAAanxC,eAAe,iBAAmBmxC,EAAaC,aAAaxxC,SAC5FsxC,EAAcC,EAAaC,aAC3Bz/C,OAAO0/C,KAAKH,EAAa,GAAI,qCAhC9B,EAAKrhD,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAyB9C,WACC,IFtBuBxnC,EEsBnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IAAK08C,GAAuB58C,UAAU,sBAC1C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KFjCcqN,EEiCC9R,KAAK8R,QF/BvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UE6BS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFiEC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QEvE4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IAAM8jB,EAAa,UAAMpiD,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,KAAhC,YAAwC8S,GAAW0D,UAAU,gCAAiCla,KAAK8R,QAAQ2E,WAE9H,OACC,mBAAKhS,IFpHG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KE0GkBxV,UAAU,iDAAiDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACrJ,mBAAK30C,IFrGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEiGoBX,UAAU,oBACzCZ,EACD,mBAAKc,IFlFC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UE+EcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IFxDA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEoD2BX,UAAU,gCAC/C,mBAAKE,IAAK68C,GAAuBthD,KAAK8R,SAAUvN,UAAU,8BACzD,mBAAKE,IAAK88C,GAAqBvhD,KAAK8R,SAAUvN,UAAU,4BACvD,iBAAGE,IAAK8T,GAAU+pC,GAActiD,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,yBAA0Bla,KAAK8R,QAAQ2E,YAClH,iBAAGhS,IF3BD,CACH6V,OAAQ,IACRqqB,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,oBACPF,SAAU,OACV8P,WAAY,OEoBgBjQ,UAAU,mBACnC69C,IAIH,kBAAI39C,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,oBACjD,kBAAI4P,QAASnU,KAAK4hD,6BACjB,qBAAIprC,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,eAMjD0nC,EAED,mBAAK15C,IFaA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QEnB2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GA5GtD39B,IAAMC,WAA9C8gD,GACE5hB,YAAc3qB,GAqHtBusC,GAAgCjuC,aAAe,CAC9C1E,MAAOA,GACPuvB,gBAAiB,cC5JX,IA0BM6iB,GAAwB,WAEjC,MAAO,CACHv8C,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,MAcPqnC,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEC,GAAyB,SAAAxvC,GAErC,MAAO,CACN5M,QAAS,OACTC,cAAe,SACfK,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,WACTy0C,UAAW,aACXt1C,MAAO,SAgBI29C,GAAkB,SAAAzwC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACRmnC,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClD2K,OAAQ,SACR9U,aAAc,MACdN,QAAS,OACTN,MAAO,OACPc,OAAQ,UACRmO,SAAU,cAcA2uC,GAAmB,SAAC1wC,EAASlN,GAEtC,IAAM69C,EAA2B,SAAV79C,EAAoB,CAAEY,aAAc,OAAU,CACjEA,aAAc,eAGlB,OAAO,yBACHwU,SAAU,OACVpV,MAAOA,GACJ69C,GAHP,IAIIl9C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,SAClD+I,UAAW,OACXlG,OAAQ,OACR6B,SAAU,WACVF,OAAQ,OAIH+uC,GAAqB,SAACliD,EAAOmiD,EAAY7wC,GAAa,IAAD,EAG1D8wC,EAAY,oBAMnB,OALID,EAAWhyC,eAAe,WAAagyC,EAAWE,OAAOlyC,eAAlB,OAAiCnQ,QAAjC,IAAiCA,GAAjC,UAAiCA,EAAOixB,oBAAxC,aAAiC,EAAqBvvB,OAEhG0gD,EAAY,qBAGN,CACNh+C,MAAO,OACPD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9BjK,QAAS,OACTE,WAAY,SACZ8S,UAAW,OACJzS,QAAS,SAChBuM,OAAQ,OACR2B,OAAQ,IACRmvC,EAAG,CACFxoC,OAAQ,IACR1V,MAAOg+C,EACPje,WAAY,WACZiP,SAAU,aACVlvC,SAAU,QAEXw6C,KAAM,CACLt6C,MAAO,OACPa,QAzBiB,mBA0BjB6O,WAAY,OACZpP,QAAS,eACTR,SAAU,UAKAq+C,GAAiB,SAAC3xC,EAAKU,GAEnC,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACRwG,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBC7LrB,OAA0B,sCCwCnC8zC,G,kDAKL,WAAY/iD,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IA2BdmxC,mBAAqB,SAACvvB,EAAOwvB,GAC5BthD,YAAU+4C,cAAc,QAAS,OAAQ,UAAW,CACnDwI,KAAMD,EACNzS,GAAI,EAAK2S,SAERvhD,MAAK,SAAAwB,KACsC,IAAvCA,EAASsN,eAAe,YAAyBtN,EAASsN,eAAe,aAAsC,IAAxBtN,EAAQ,UAClG,EAAKpD,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAGxD/L,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBAtC7C,EAyC5ByqC,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA1CQ,EA6C5BA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA5CpB,EAAK94C,MAAQ,CACZ84C,YAAY,EACZ7nB,aAAc,MALY,E,qDAS5B,WAAqB,IAAD,OAEnBzxB,KAAK8R,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAK6C,SAAS,CAAEutB,aAAa,eAAKpwB,U,mCAIpC,SAAsB4gD,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBA6B9C,WAAU,IAAD,OACF+J,EAAoBpc,GAA8BjnC,KAAKC,MAAM6E,QAAS,SAC5E,IAAKu+C,EACJ,OAAO,KAmBR,IF1DuBvxC,EE0DnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IAAK08C,GAAuB58C,UAAU,sBAC1C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KFrEcqN,EEqEC9R,KAAK8R,QFnEvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UEiES/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAM4/C,EAAc,GAGpBtjD,KAAKojD,OAASC,EAAkB5S,GAChC,IAAM8S,EAAQF,EAAkBzc,QAAQ2c,MACpCC,EAAYhtC,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,UAE/C,IAAV8sC,EACHC,EAAS,UAAMD,EAAN,YAAe/sC,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,WACxD8sC,EAAQ,IAClBC,EAAS,UAAMD,EAAN,YAAe/sC,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAlD5D,eAqDGyF,GArDH,MAsDDymC,EAAaU,EAAkBzc,QAAQuI,QAAQjzB,GAC/CinC,EAAOR,EAAU,MAEnB/9C,EAAQ,KACR2+C,IAEH3+C,GADiBu+C,EAAOI,GACPE,eAAe,KAAM,CAAEnwC,MAAO,aAGhD,IAAIowC,EAAY,KACZf,EAAWhyC,eAAe,WAAagyC,EAAWE,OAAOlyC,eAAlB,UAAiC,EAAKnQ,MAAMixB,oBAA5C,aAAiC,EAAyBvvB,OACpGwhD,EAAY,iBAAGj/C,IAAKs+C,GAAeY,GAAU,EAAK7xC,YAGnD,IAAM8xC,EACL,kBAAI9sC,IAAKoF,EAAQ/H,QAAS,SAAAuf,GAAK,OAAI,EAAKuvB,mBAAmBvvB,EAAOxX,KACjE,mBAAKzX,IAAK+9C,GAAiB,EAAK1wC,QAASlN,IAAzC,KACA,mBAAKH,IAAKi+C,GAAmB,EAAKliD,MAAOmiD,EAAY,EAAK7wC,UACxD4xC,EACD,wBAAO9+C,GACP,qBAAI+9C,EAAW3L,QAIlBsM,EAAYtW,KAAK4W,IAzBlB,IAAK,IAAM1nC,KAAUmnC,EAAkBlU,QAAU,EAAtCjzB,GA4BX,IAAIiiC,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFyBC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QE/B4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IFhMG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEsLkBxV,UAAU,6CAA6CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACjJ,mBAAK30C,IFjLE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QE6KoBX,UAAU,oBACzCZ,EACD,mBAAKc,IF9JC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,SACtBP,MAAO,qBE0J6BL,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IFnIA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QE+H2BX,UAAU,4BAC/C,mBAAKE,IAAK68C,GAAuBthD,KAAK8R,SAAUvN,UAAU,0BACzD,iBAAGE,IF9GA,CACH6V,OAAQ,IACRqqB,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,OACPF,SAAU,QEwGmBH,UAAU,kBACrC8+C,EAAkBxD,UAEpB,kBAAIp7C,IAAK89C,GAAgBviD,KAAK8R,SAAUvN,UAAU,iBAChD++C,GAEF,iBAAG7+C,IFtFA,CACHC,SAAU,OACV4V,OAAQ,IACR4/B,UAAW,YEmFe31C,UAAU,eAClCi/C,KAKHrF,EAED,mBAAK15C,IFtBA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QEgB2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAnLnD39B,IAAMC,WAAjDoiD,GAEEljB,YAAc3qB,GA2LtB6tC,GAAmCvvC,aAAe,CACjD1E,MAAOA,GACPuvB,gBAAiB,cCvOX,IA8CM8iB,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEwC,GAAyB,SAAA/xC,GAErC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACNhL,QAAS,eACTg1C,UAAW,aACXlgC,SAAU,QACVhI,OAAQ,QACRtM,OAAQ,WALT,iBAMY6nC,EAAG,GANf,aAMsBA,EAAG,IAAO,CAC9BvzB,SAAU,QACVhI,OAAQ,QACRvM,QAAS,aC3DNq+C,G,kDAGL,WAAY7jD,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgB9C,WACC,IDNuBxnC,ECMnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IDxCE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KCmCmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KDjBcqN,ECiBC9R,KAAK8R,QDfvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UCaS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIqgD,EAAc,KACdC,EAAa,KACjB,GAAIhkD,KAAKC,MAAM6E,QAAQ6L,eAAe,SAAW3Q,KAAKC,MAAM6E,QAAQ4M,KAAKf,eAAe,gBACvFozC,EAAc/jD,KAAKC,MAAM6E,QAAQ4M,KAAKqiB,YAEtBpjB,eAAe,eAAgB,CAC9C,IAAM2rC,EAAcyH,EAAYpzC,eAAe,gBAAkBozC,EAAYE,aAAeztC,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,UACzIutC,EAAa,mBAAK1yC,IAAKyyC,EAAYG,YAAa7wC,IAAKipC,IAIvD,IAAI6B,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDUC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QChB4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,ID7GG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KCmGkBxV,UAAU,gDAAgDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACpJ,mBAAK30C,ID9FE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC0FoBX,UAAU,oBACzCZ,EACD,mBAAKc,ID3EC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UCwEkBZ,UAAU,oBAC5Cb,EACA+1C,EACD,mBAAKh1C,IDjDA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC6C2BX,UAAU,6BAC/C,mBAAKE,IAAKo/C,GAAuB7jD,KAAK8R,SAAUvN,UAAU,2BACxDy/C,IAIF7F,EAED,mBAAK15C,ID7BA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QCuB2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAjGhD39B,IAAMC,WAApDkjD,GACEhkB,YAAc3qB,GA0GtB2uC,GAAsCrwC,aAAe,CACpD1E,MAAOA,GACPuvB,gBAAiB,cC3IX,IA0BM6iB,GAAwB,WAEjC,MAAO,CACHv8C,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,MAaPqnC,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEC,GAAyB,SAAAxvC,GAErC,MAAO,CACN5M,QAAS,OACTC,cAAe,SACfK,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,OACTy0C,UAAW,aACXt1C,MAAO,SAII28C,GAAuB,SAAAzvC,GAEnC,MAAO,CACN5M,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZT,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,WAiBnBoJ,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,gBAIvBuyC,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACRmnC,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPc,OAAQ,UACRmO,SAAU,WACVyG,OAAQ,aACR7U,QAAS,MACT,MAAO,CACNq0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACPM,QAAS,eACTR,SAAU,OACV4P,WAAY,MACZgG,OAAQ,QCnJG,OAA0B,qDCoCnC6pC,G,kDAIL,WAAYlkD,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAqBdsyC,8BAAgC,WAC/B,IAAIC,EAAgB,KAChBC,EAAiBrd,GAA8B,EAAKhnC,MAAM6E,QAAS,cACvE,GAAIw/C,GAAkBA,EAAe3zC,eAAe,cAAgB2zC,EAAeC,UAAUh0C,OAAQ,CAAC,IAAD,EAChGi0C,EAAQ,UAAG,EAAK/yB,oBAAR,aAAG,EAAmB/tB,KAAKmU,MAAM,KAAK+lC,KAAK,KAEvDyG,EAAgBC,EAAeC,UAAY,aAAeC,EAC1DliD,OAAO0/C,KAAKqC,EAAe,GAAI,qCA7BL,EAiC5BjL,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBAlCQ,EAqC5BA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aApCpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAGb,EAAKxnC,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAKowB,aAAL,eAAyBpwB,MARC,E,yDAY5B,SAAsB4gD,EAAWC,GAIhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAEJ9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBA2BjF,WACC,IF1BuBxnC,EE0BnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IAAK08C,GAAuB58C,UAAU,sBAC1C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KFrCcqN,EEqCC9R,KAAK8R,QFnCvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UEiCS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IF6DC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QEnE4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IAAM8jB,EAAa,UAAMpiD,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,KAAhC,YAAwC8S,GAAW0D,UAAU,kCAAmCla,KAAK8R,QAAQ2E,WAEhI,OACC,mBAAKhS,IFxHG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KE8GkBxV,UAAU,mDAAmDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACvJ,mBAAK30C,IFzGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEqGoBX,UAAU,oBACzCZ,EACD,mBAAKc,IFtFC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UEmFcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IF5DA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEwD2BX,UAAU,kCAC/C,mBAAKE,IAAK68C,GAAuBthD,KAAK8R,SAAUvN,UAAU,gCACzD,mBAAKE,IAAK88C,GAAqBvhD,KAAK8R,SAAUvN,UAAU,8BACvD,iBAAGE,IAAK8T,GAAUksC,GAAgBzkD,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,YACtH,iBAAGhS,IF/BD,CACH6V,OAAQ,IACRqqB,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,oBACPF,SAAU,OACV8P,WAAY,OEwBgBjQ,UAAU,qBACnC69C,IAIH,kBAAI39C,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,sBACjD,kBAAI4P,QAASnU,KAAKokD,+BACjB,qBAAI5tC,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,eAMjD0nC,EAED,mBAAK15C,IFSA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QEf2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAjHpD39B,IAAMC,WAAhDujD,GACErkB,YAAc3qB,GA0HtBgvC,GAAkC1wC,aAAe,CAChD1E,MAAOA,GACPuvB,gBAAiB,cCjKX,IA6DM/lB,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMgL,SAI7B6xC,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACR1V,MAAO,OACP68C,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPiP,SAAU,WACVyG,OAAQ,aACR7U,QAAS,MACTC,OAAQ,UACR,MAAO,CACNo0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACP0P,WAAY,MACZpP,QAAS,eACTR,SAAU,OACV4V,OAAQ,QCjGG,OAA0B,mDC6BnCoqC,G,kDAGL,WAAYzkD,GAAQ,IAAD,8BAClB,cAAMA,IAoBP2hD,4BAA8B,WAC7B,IAAIC,EAAc,KACdC,EAAe7a,GAA8B,EAAKhnC,MAAM6E,QAAS,YACjEg9C,GAAgBA,EAAanxC,eAAe,iBAAmBmxC,EAAaC,aAAaxxC,SAC5FsxC,EAAcC,EAAaC,aAC3Bz/C,OAAO0/C,KAAKH,EAAa,GAAI,qCA1BZ,EA8BnBzI,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA/BD,EAkCnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAjCpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBA0B9C,WACC,IAAI6E,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFuCC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QE7C4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IFhEoCxsB,EEgE9BswC,EAAgB5rC,GAAW0D,UAAU,mBAAoBla,KAAK8R,QAAQ2E,UAC5E,OACC,mBAAKhS,IF1FG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEgFkBxV,UAAU,+CAA+CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAClJK,EAED,mBAAKh1C,IF7EE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QEyEoBX,UAAU,oBAC1C,mBAAKE,KFtE4BqN,EEsEA9R,KAAK8R,QFpEnC,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,OACTy0C,UAAW,WACXt1C,MAAO,SE6D4CL,UAAU,8BACzD,mBAAKE,IFxDA,CACHS,QAAS,OACTG,eAAgB,SAChBD,WAAY,UEqDwBb,UAAU,gCAC/C,iBAAGE,IAAK8T,GAAU+pC,GAActiD,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,yBAA0Bla,KAAK8R,QAAQ2E,YAClH,iBAAGhS,IFjDC,CACH6V,OAAQ,IACRqqB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,oBACPF,SAAU,OACV8P,WAAY,OE0CcjQ,UAAU,mBACnC69C,IAGH,kBAAI39C,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,oBACjD,kBAAI4P,QAASnU,KAAK4hD,6BACjB,qBAAIprC,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,eAMnD0nC,EAED,mBAAK15C,IFRE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZK,QAAS,UACTuM,OAAQ,QEEyBzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GAtFHnE,IAAMC,WAA5C8jD,GACE5kB,YAAc3qB,GA6FtBuvC,GAA8BjxC,aAAe,CAC5C1E,MAAOA,GACPuvB,gBAAiB,cC7HX,IA0BMgjB,GAAyB,SAAAxvC,GAErC,MAAO,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,WACTy0C,UAAW,WACXt1C,MAAO,SAgBI29C,GAAkB,SAAAzwC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACR1V,MAAO,OACP68C,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClD2K,OAAQ,SACR9U,aAAc,MACdN,QAAS,OACTN,MAAO,OACPiP,SAAU,cAcA2uC,GAAmB,SAAC1wC,EAASlN,GAEtC,IAAM69C,EAA2B,SAAV79C,EAAoB,CAAEY,aAAc,OAAU,CACjEA,aAAc,eAGlB,OAAO,yBACHwU,SAAU,OACVpV,MAAOA,GACJ69C,GAHP,IAIIl9C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,SAClD+I,UAAW,OACXlG,OAAQ,OACR6B,SAAU,WACVF,OAAQ,OChEVixC,G,kDAIL,WAAY3kD,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgB9C,WACC,IAAM+J,EAAoBpc,GAA8BjnC,KAAKC,MAAM6E,QAAS,SAC5E,IAAKu+C,EACJ,OAAO,KAGR,IAAMC,EAAc,GAEpBtjD,KAAKojD,OAASC,EAAkB5S,GAChC,IDyBiC3+B,ECzB3ByxC,EAAQF,EAAkBzc,QAAQ2c,MACpCC,EAAYhtC,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,UAQ7D,IAAK,IAAMyF,KANG,IAAVqnC,EACHC,EAAS,UAAMD,EAAN,YAAe/sC,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,WACxD8sC,EAAQ,IAClBC,EAAS,UAAMD,EAAN,YAAe/sC,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAG/C4sC,EAAkBzc,QAAQuI,QAAS,CACvD,IAAMwT,EAAaU,EAAkBzc,QAAQuI,QAAQjzB,GAC/CinC,EAAOR,EAAU,MAEnB/9C,EAAQ,KACZ,GAAI2+C,EAEH3+C,GADiBu+C,EAAOI,GACPE,eAAe,KAAM,CAAEnwC,MAAO,YAGhD,IAAMswC,EACL,kBAAI9sC,IAAKoF,GACR,mBAAKzX,IAAK+9C,GAAiBxiD,KAAK8R,QAASlN,IAAzC,KACA,mBAAKH,KDGyBqN,ECHD9R,KAAK8R,QDK5B,CACHlN,MAAO,OACPD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9BjK,QAAS,OACTE,WAAY,SACZ8S,UAAW,OACXzS,QAAS,SACTuM,OAAQ,OACR2B,OAAQ,IACR,EAAK,CACD2G,OAAQ,IACR1V,MAAO,oBACP+/B,WAAY,WACZiP,SAAU,aACVlvC,SAAU,QAEd,KAAQ,CACJsV,SAAU,OACVvU,QAAS,mBACT6O,WAAY,OACZpP,QAAS,eACTR,SAAU,WCzBhB,wBAAOE,GACP,qBAAI+9C,EAAW3L,QAIlBsM,EAAYtW,KAAK4W,GAGlB,IAAIzF,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,ID+BC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QCrC4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDtHG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC4GkBxV,UAAU,2CAA2CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC9IK,EAED,mBAAKh1C,IDzGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QCqGoBX,UAAU,oBAC1C,mBAAKE,IAAK68C,GAAuBthD,KAAK8R,SAAUvN,UAAU,0BACzD,iBAAGE,IDpFE,CACH6V,OAAQ,IACRqqB,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,OACPF,SAAU,QC8EiBH,UAAU,kBACrC8+C,EAAkBxD,UAEpB,kBAAIp7C,IAAK89C,GAAgBviD,KAAK8R,SAAUvN,UAAU,iBAChD++C,GAEF,iBAAG7+C,ID5DE,CACHC,SAAU,OACV4V,OAAQ,IACR4/B,UAAW,YCyDa31C,UAAU,eAClCi/C,KAKHrF,EAED,mBAAK15C,IDbE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZK,QAAS,UACTuM,OAAQ,QCOyBzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GAjHAnE,IAAMC,WAA/CgkD,GAEE9kB,YAAc3qB,GAuHtByvC,GAAiCnxC,aAAe,CAC/C1E,MAAOA,GACPuvB,gBAAiB,cCvJX,IA0BMumB,GAAoB,SAAA/yC,GAEhC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACNhL,QAAS,eACTg1C,UAAW,WACXlgC,SAAU,QACVhI,OAAQ,QACRtM,OAAQ,UACRqU,WAAY,KANb,iBAOYwzB,EAAG,GAPf,aAOsBA,EAAG,IAAO,CAC9BvzB,SAAU,QACVhI,OAAQ,QACRvM,QAAS,aCjBNq/C,G,kDAGL,WAAY7kD,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgBxC,WACC,IAAIyK,EAAc,KACdC,EAAa,KACjB,GAAIhkD,KAAKC,MAAM6E,QAAQ6L,eAAe,SAAW3Q,KAAKC,MAAM6E,QAAQ4M,KAAKf,eAAe,gBACvFozC,EAAc/jD,KAAKC,MAAM6E,QAAQ4M,KAAKqiB,YAEtBpjB,eAAe,eAAgB,CAC9C,IAAM2rC,EAAcyH,EAAYpzC,eAAe,gBAAkBozC,EAAYE,aAAeztC,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,UACzIutC,EAAa,mBAAK1yC,IAAKyyC,EAAYG,YAAa7wC,IAAKipC,IAIvD,IAAI6B,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDdC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QCQ4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDpFG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC0EkBxV,UAAU,8CAA8CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACjJK,EAED,mBAAKh1C,IDvEE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QCmEoBX,UAAU,oBAC1C,mBAAKE,IAAKogD,GAAkB7kD,KAAK8R,SAAUvN,UAAU,yBACnDy/C,EAAY,MAId7F,EAED,mBAAK15C,IDlDE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZK,QAAS,UACTuM,OAAQ,QC4CyBzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GA5EJnE,IAAMC,WAA3CkkD,GACEhlB,YAAc3qB,GAmFtB2vC,GAA6BrxC,aAAe,CAC3C1E,MAAOA,GACPuvB,gBAAiB,cC7GX,IAgEMymB,GAAsB,SAAC3zC,EAAKU,GAErC,MAAO,CACH0G,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMgL,OACxC/K,MAAO,OACPoN,OAAQ,SAIHwvC,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,IACR1V,MAAO,OACP68C,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPiP,SAAU,WACVyG,OAAQ,aACR7U,QAAS,MACTC,OAAQ,UACR,MAAO,CACNo0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACK0P,WAAY,MACxBpP,QAAS,eACTR,SAAU,OACV4V,OAAQ,QCpGG,OAA0B,qDC6BnC0qC,G,kDAIL,WAAY/kD,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAqBdsyC,8BAAgC,WAC/B,IAAIC,EAAgB,KAChBC,EAAiBrd,GAA8B,EAAKhnC,MAAM6E,QAAS,cACvE,GAAIw/C,GAAkBA,EAAe3zC,eAAe,cAAgB2zC,EAAeC,UAAUh0C,OAAQ,CAAC,IAAD,EAChGi0C,EAAQ,UAAG,EAAK/yB,oBAAR,aAAG,EAAmB/tB,KAAKmU,MAAM,KAAK+lC,KAAK,KAEvDyG,EAAgBC,EAAeC,UAAY,aAAeC,EAC1DliD,OAAO0/C,KAAKqC,EAAe,GAAI,qCA7BL,EAiC5BjL,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBAlCQ,EAqC5BA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aApCpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAGb,EAAKxnC,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAKowB,aAAL,eAAyBpwB,MARC,E,yDAY5B,SAAsB4gD,EAAWC,GAIhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAEJ9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBA2BjF,WACC,IAAI6E,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFsCC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QE5C4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IFpEoCxsB,EEoE9BswC,EAAgB5rC,GAAW0D,UAAU,qBAAsBla,KAAK8R,QAAQ2E,UAC9E,OACC,mBAAKhS,IF9FG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEoFkBxV,UAAU,iDAAiDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACpJK,EAED,mBAAKh1C,IFjFE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QE6EoBX,UAAU,oBAC1C,mBAAKE,KF1E4BqN,EE0EA9R,KAAK8R,QFxEnC,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,OACTy0C,UAAW,WACXt1C,MAAO,SEiE4CL,UAAU,gCACzD,mBAAKE,IF5DA,CACHS,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ,QAAS,CACLG,gBAAiB,UEuDehB,UAAU,kCAC/C,iBAAGE,IAAKsgD,GAAoBN,GAAgBzkD,KAAK8R,WACjD,iBAAGrN,IFlDC,CACH6V,OAAQ,IACRqqB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,oBACPF,SAAU,OACVi1C,YAAa,OE2Cap1C,UAAU,mBACnC69C,IAGH,kBAAI39C,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,oBACjD,kBAAI4P,QAASnU,KAAKokD,+BACjB,qBAAI5tC,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,eAMnD0nC,EAED,mBAAK15C,IFTE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZK,QAAS,UACTuM,OAAQ,QEGyBzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GA1FDnE,IAAMC,WAA9CokD,GACEllB,YAAc3qB,GAiGtB6vC,GAAgCvxC,aAAe,CAC9C1E,MAAOA,GACPuvB,gBAAiB,cCjIX,ICcD2mB,G,kDAIL,WAAYhlD,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAOdozC,qBAAuB,SAAApgD,GACtB,IAAM4J,EAAO5J,EACTqzC,EAAgB,KAEpB,OAAQzpC,EAAKqG,QACZ,KAAKnT,YAAU4hC,YAAY2hB,UAGgC,IAAD,EADzD,GADAhN,EAAgB3hC,GAAW0D,UAAU,iBAAkB,EAAKpI,QAAQ2E,UAChE/H,EAAKpN,OAASM,YAAU68B,UAAU51B,OACrC,GAAI6F,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcqF,KACjDkK,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,eAC5L,GAAI/H,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcC,MAAO,CACT,IAAD,EAArD,GAAIn6B,EAAKuwB,SAAWr9B,YAAU4hC,YAAY2hB,UACzChN,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,eAC5L,GAAI/H,EAAKuwB,SAAWr9B,YAAU4hC,YAAYE,SAAU,CAAC,IAAD,EAC1DyU,EAAgBzpC,EAAK00B,OAAOlhC,OAAZ,UAAoB,EAAKuvB,oBAAzB,aAAoB,EAAmBvvB,KAAMsU,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UAAhG,UAA+G/H,EAAK00B,OAAO1/B,KAA3H,YAAmI8S,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,kBAGlM,GAAI/H,EAAKpN,OAASM,YAAU68B,UAAU+F,MAAO,CACM,IAAD,EAAxD,GAAI91B,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcqF,KACjDkK,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,eAC5L,GAAI/H,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcC,MAAO,CACT,IAAD,EAArD,GAAIn6B,EAAKuwB,SAAWr9B,YAAU4hC,YAAY2hB,UACzChN,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,sBAAuB,EAAKpI,QAAQ2E,eAC5L,GAAI/H,EAAKuwB,SAAWr9B,YAAU4hC,YAAYE,SAAU,CAAC,IAAD,EAC1DyU,EAAgBzpC,EAAK00B,OAAOlhC,OAAZ,UAAoB,EAAKuvB,oBAAzB,aAAoB,EAAmBvvB,KAAMsU,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UAAhG,UAA+G/H,EAAK00B,OAAO1/B,KAA3H,YAAmI8S,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,aAIzM,MAED,KAAK7U,YAAU4hC,YAAY4hB,QAC1B,GAAI12C,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcqF,KACjDkK,EAAgB3hC,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,eAC7D,GAAI/H,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcC,MAAO,CACX,IAAD,EAAnD,GAAIn6B,EAAKuwB,SAAWr9B,YAAU4hC,YAAY4hB,QACzCjN,EAAgBzpC,EAAK00B,OAAOlhC,OAAZ,UAAoB,EAAKuvB,oBAAzB,aAAoB,EAAmBvvB,KAAMsU,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UAAhG,UAA+G/H,EAAK00B,OAAO1/B,KAA3H,YAAmI8S,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,gBACzL,GAAI/H,EAAKuwB,SAAWr9B,YAAU4hC,YAAYE,SAAU,CAAC,IAAD,EAC1DyU,EAAgBzpC,EAAK00B,OAAOlhC,OAAZ,UAAoB,EAAKuvB,oBAAzB,aAAoB,EAAmBvvB,KAAMsU,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UAAhG,UAA+G/H,EAAK00B,OAAO1/B,KAA3H,YAAmI8S,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,gBAChM,GAAoB,SAAhB/H,EAAKuwB,OAAmB,CAAC,IAAD,EAEjCkZ,EADGzpC,EAAK00B,OAAOlhC,OAAZ,UAAoB,EAAKuvB,oBAAzB,aAAoB,EAAmBvvB,KAC7B,UAAMsU,GAAW0D,UAAU,MAAO,EAAKpI,QAAQ2E,UAA/C,YAA4DD,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,WAE/G,UAAM/H,EAAK00B,OAAO1/B,KAAlB,YAA0B8S,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,YAI7F,MAED,KAAK7U,YAAU4hC,YAAY6hB,WAGmI,IAAD,EAA5J,GAFAlN,EAAgB3hC,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,UAEjE/H,EAAKpN,OAASM,YAAU68B,UAAU51B,OAAU6F,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcqF,MAAQv/B,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcC,OAE7I,GAAIn6B,EAAKpN,OAASM,YAAU68B,UAAU+F,QAAU91B,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcqF,MAAQv/B,EAAK0wB,eAAiBx9B,YAAUgnC,cAAcC,OAAQ,CAAC,IAAD,EAClKsP,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,wBAAyB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,oBAAqB,EAAKpI,QAAQ2E,gBAFlM0hC,EAAgBzpC,EAAKowB,cAAc58B,OAAnB,UAA2B,EAAKuvB,oBAAhC,aAA2B,EAAmBvvB,KAAMsU,GAAW0D,UAAU,wBAAyB,EAAKpI,QAAQ2E,UAAYD,GAAW0D,UAAU,oBAAqB,EAAKpI,QAAQ2E,UAInM,MAED,KAAK7U,YAAU4hC,YAAYE,SAC1ByU,EAAgB3hC,GAAW0D,UAAU,gBAAiB,EAAKpI,QAAQ2E,UACnE,MACD,KAAK7U,YAAU4hC,YAAY8hB,MAC1BnN,EAAgB3hC,GAAW0D,UAAU,aAAc,EAAKpI,QAAQ2E,UAChE,MACD,KAAK7U,YAAU4hC,YAAY6B,UAC1B8S,EAAgB3hC,GAAW0D,UAAU,iBAAkB,EAAKpI,QAAQ2E,UACpE,MACD,KAAK7U,YAAU4hC,YAAYC,KAC1B0U,EAAgB3hC,GAAW0D,UAAU,YAAa,EAAKpI,QAAQ2E,UAMjE,OAAO0hC,GAlFoB,EAqF5BrC,iBAAmB,SAAAhxC,GAAY,IAAD,IACzBqzC,EAAgB,KAEdoN,EAAM,OAAGzgD,QAAH,IAAGA,GAAH,UAAGA,EAASwzC,gBAAZ,aAAG,EAAmB50C,KAC5B8hD,EAAM,OAAG1gD,QAAH,IAAGA,GAAH,UAAGA,EAASyzC,gBAAZ,aAAG,EAAmB70C,KAElC,OAAQoB,EAAQm6B,QACf,KAAKr9B,YAAU+yB,YAAYyjB,cAC1BD,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,WACzE,MACD,KAAK7U,YAAU+yB,YAAY0jB,YAC1BF,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,WACvE,MACD,KAAK7U,YAAU+yB,YAAYmkB,aAC1BX,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,UAA3D,YAAwE+uC,GACrF,MACD,KAAK5jD,YAAU+yB,YAAYokB,cAC1BZ,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,UAA5D,YAAyE+uC,GACtF,MACD,KAAK5jD,YAAU+yB,YAAYqkB,cAC1Bb,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,UAA5D,YAAyE+uC,GACtF,MACD,KAAK5jD,YAAU+yB,YAAYskB,gBAC1Bd,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,WAAY,EAAKpI,QAAQ2E,UAA9D,YAA2E+uC,GACxF,MACD,KAAK5jD,YAAU+yB,YAAY6jB,qBAC1B,IAAM9N,EAAQ,OAAG5lC,QAAH,IAAGA,OAAH,EAAGA,EAAS4lC,SAC1ByN,EAAa,UAAMoN,EAAN,YAAgB/uC,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,UAA1D,YAAuE+uC,EAAvE,YAAiFhvC,GAAW0D,UAAUwwB,EAAU,EAAK54B,QAAQ2E,WAO5I,OAAO0hC,GAvHoB,EA0H5BxC,WAAa,SAAA7wC,GACZ,IAAIqzC,EAAgB,KAQpB,OANIrzC,EAAQk6B,WAAap9B,YAAUg0C,cAClCuC,EAAgB,EAAK+M,qBAAqBpgD,GAChCA,EAAQk6B,WAAap9B,YAAUsuC,kBACzCiI,EAAgB,EAAKrC,iBAAiBhxC,IAGhCqzC,GAhIP,EAAKrmC,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAKowB,aAAL,eAAyBpwB,MAJC,E,0CAsI5B,WAEC,OACC,mBAAKoD,IDzJG,CACHgB,QAAS,WACTwS,aAAc,OACdpT,UAAW,SACXmN,OAAQ,QCqJmBzN,UAAU,mBACzC,iBAAGE,IDhJI,CACHC,SAAU,SACV4V,OAAQ,IACR/F,WAAY,SC6IkBvU,KAAK21C,WAAW31C,KAAKC,MAAM6E,e,GA9ItBnE,IAAMC,WAA3CqkD,GACEnlB,YAAc3qB,GAoJtB8vC,GAA6BxxC,aAAe,CACxC1E,MAAOA,IClKJ,IAAM02C,GAAwB,SAACxlD,EAAOwxB,GAAkB,IAAD,IAEpDwQ,GAAa,UAAAhiC,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CACnEg4C,UAAW,YACX,CACAA,UAAW,cAGf,OAAO,aACHjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACP9b,WAAY,KACTkoB,IAIEyjB,GAAsB,SAACzlD,EAAOwxB,GAAkB,IAAD,IAElDwQ,GAAa,UAAAhiC,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CACnEgD,QAAS,OACTC,cAAgB,UAChB,GAEJ,OAAO,aACHk9C,KAAM,MACNxuC,SAAU,WACVjP,MAAO,QACJq9B,IAIEqf,GAAyB,SAACrhD,EAAO6R,EAAS2f,GAAkB,IAAD,IAG9DwQ,GAAa,UAAAhiC,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CACnEg4C,UAAW,YACX,CACAA,UAAW,cAGf,OAAO,aACHh1C,QAAS,eACTM,aAAc,OACdC,QAAS,WACTy0C,UAAW,WACXyL,MAAO,OACPpgD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClDw2C,UAAW,UACR3jB,IAIE4jB,GAAkB,SAAA/zC,GAE9B,MAAO,CACNpN,SAAU,iBACV4V,OAAQ,IACR/F,WAAY,iBACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,YAInBq2C,GAA0B,SAAC7lD,EAAOwxB,GAAkB,IAAD,IAEtDwQ,GAAa,UAAAhiC,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CACnEg4C,UAAY,YACZ,CACAA,UAAW,cAGf,OAAO,eACAjY,IAIE8jB,GAAwB,SAAAj0C,GAEpC,MAAO,CACN5M,QAAS,eACTR,SAAU,OACV4P,WAAY,IACZC,WAAY,OACZqwB,cAAe,YACfjgC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,YAcnBu2C,GAAqB,SAAC/lD,EAAOwxB,GAAkB,IAAD,IAEtDw0B,EAAe,GAOnB,OANI,UAAAhmD,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,MAAOjC,EAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC9God,EAAe,CACdtM,YAAa,QAIR,aACN0I,KAAM,MACNn9C,QAAS,OACTC,cAAe,SACf0O,SAAU,YACPoyC,IAIQ7E,GAAmB,SAACnhD,EAAOwxB,GAAkB,IAAD,IAEpDw0B,EAAe,GAOnB,OANI,UAAAhmD,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,MAAOjC,EAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC9God,EAAe,CACdxgD,QAAS,YAIJ,aACNy0C,UAAW,cACR+L,IAIQC,GAAY,SAAAp0C,GACxB,MAAO,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,YC9G1B02C,GAA+B,SAAClmD,GAAW,IAAD,IAEtC6R,EAAUoD,qBAAWC,IAE9B,EAAwCC,mBAAS,MAAjD,oBAAOqc,EAAP,KAAqB20B,EAArB,KAEA7wC,qBAAU,WACTzD,EAAQyf,kBAAkB1vB,MAAK,SAAAR,GAC9B+kD,EAAgB,eAAK/kD,SAEpB,CAACyQ,IAED,IAAIhN,EAAU,KACRuhD,EAAsC,IAAvBpmD,EAAM6E,QAAQu6B,OACnC,IAAI,UAAAp/B,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAElD4C,EACC,YAAC,IAAME,SAAP,KACC,mBAAKP,IAAK68C,GAAuBrhD,EAAO6R,EAAS2f,GAAeltB,UAAU,yBACzE,iBAAGE,IAAKohD,GAAgB/zC,GAAUvN,UAAU,gBAC1CiS,GAAW0D,UAAU,2BAA4BpI,EAAQ2E,YAG5D,mBAAKhS,IAAKqhD,GAAwB7lD,EAAOwxB,GAAeltB,UAAU,0BACjE,oBAAME,IAAKshD,GAAsBj0C,GAAUvN,UAAU,sBACnDgyC,KAAW8P,EAAa,oBAMvB,CAEN,IAAI1iD,EAAS,KACZD,EAAO,KACJzD,EAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC1DllC,EACC,mBAAKc,ID6BC,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,SACRtF,MAAO,QCjCyBzQ,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMpB,EAAM6E,QAAQs+B,UAGvC1/B,EACC,mBAAKe,IAAK28C,GAAiBnhD,EAAOwxB,GAAeltB,UAAU,0BAC1D,oBAAME,IAAKyhD,GAAUp0C,GAAUvN,UAAU,iBACvCtE,EAAM6E,QAAQs+B,OAAO1/B,QAM1BoB,EACC,YAAC,IAAME,SAAP,KACErB,EACD,mBAAKc,IAAKuhD,GAAmB/lD,EAAOwxB,GAAeltB,UAAU,oBAC3Db,EACD,mBAAKe,IAAK68C,GAAuBrhD,EAAO6R,EAAS2f,GAAeltB,UAAU,yBACzE,iBAAGE,IAAKohD,GAAgB/zC,GAAUvN,UAAU,gBAC1CiS,GAAW0D,UAAU,uBAAwBpI,EAAQ2E,YAGxD,mBAAKhS,IAAKqhD,GAAwB7lD,EAAOwxB,GAAeltB,UAAU,0BACjE,oBAAME,IAAKshD,GAAsBj0C,GAAUvN,UAAU,sBACnDgyC,KAAW8P,EAAa,iBAQ7B,OACI,mBAAK5hD,IAAKghD,GAAsBxlD,EAAOwxB,GAAeltB,UAAU,oBAC5D,mBAAKE,IAAKihD,GAAoBzlD,EAAOwxB,GAAeltB,UAAU,oBAAoBO,KAM9FqhD,GAA6B1yC,aAAe,CACxC1E,MAAOA,IC3GJ,ICaDu3C,G,kDAKF,WAAYrmD,GAAQ,IAAD,uBAEf,cAAMA,IALVsmD,WAAa,GAGM,EAFnBtsC,MAAQ,GAMJ,IAAMssC,EAAa,CACfC,OAAQhwC,GAAW0D,UAAU,gBAAiBja,EAAMka,MACpDssC,OAAQjwC,GAAW0D,UAAU,kBAAmBja,EAAMka,MACtDusC,MAAOlwC,GAAW0D,UAAU,aAAcja,EAAMka,MAChDwsC,SAAUnwC,GAAW0D,UAAU,WAAYja,EAAMka,MACjDysC,OAAQpwC,GAAW0D,UAAU,gBAAiBja,EAAMka,MACpD0sC,QAASrwC,GAAW0D,UAAU,UAAWja,EAAMka,MAC/C2sC,QAAStwC,GAAW0D,UAAU,UAAWja,EAAMka,MAC/C4sC,MAAOvwC,GAAW0D,UAAU,QAASja,EAAMka,OAGzCF,EAAQzD,GAAW0D,UAAU,kBAAmBja,EAAMka,MAf7C,OAiBf,EAAK3Z,MAAQ,CACT+lD,WAAYA,EACZtsC,MAAOA,GAnBI,E,sDAuBnB,SAAmBjH,GAEf,GAAGA,EAAUmH,OAASna,KAAKC,MAAMka,KAAM,CAEnC,IAAMosC,EAAa,CACfj3C,OAAQkH,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,MAClDqsC,OAAQhwC,GAAW0D,UAAU,gBAAiBla,KAAKC,MAAMka,MACzDssC,OAAQjwC,GAAW0D,UAAU,kBAAmBla,KAAKC,MAAMka,MAC3DusC,MAAOlwC,GAAW0D,UAAU,aAAcla,KAAKC,MAAMka,MACrDwsC,SAAUnwC,GAAW0D,UAAU,WAAYla,KAAKC,MAAMka,MACtDysC,OAAQpwC,GAAW0D,UAAU,gBAAiBla,KAAKC,MAAMka,MACzD0sC,QAASrwC,GAAW0D,UAAU,UAAWla,KAAKC,MAAMka,MACpD2sC,QAAStwC,GAAW0D,UAAU,UAAWla,KAAKC,MAAMka,MACpD4sC,MAAOvwC,GAAW0D,UAAU,QAASla,KAAKC,MAAMka,OAG9CF,EAAQzD,GAAW0D,UAAU,kBAAmBla,KAAKC,MAAMka,MAEjEna,KAAKkE,SAAS,CAAEqiD,WAAW,eAAMA,GAAatsC,MAAOA,O,oBAI7D,WAGI,OACI,mBAAKxV,IDjEN,CACHS,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChB,cAAe,CACXG,aAAc,cACd6nC,aAAc,MACd,4BAA6B,CACzB,QAAS,CACLzoC,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,MACR,oBAAqB,CACjB1V,MAAO,OACPoN,OAAQ,OACRvM,QAAS,MACT,UAAW,CACPb,MAAO,iBACPoN,OAAQ,iBACRtM,OAAQ,eAM5B,qBAAsB,CAClBsM,OAAQ,SAEZ,0CAA2C,CACvC9M,QAAS,QAEb,uBAAwB,CACpB,iCAAkC,CAC9B40B,WAAY,OACZt0B,aAAc,UCgClB,YAAC,KAAD,CACAyU,MAAOja,KAAKQ,MAAMyZ,MAClBgjC,MAAM,WACNe,QAAM,EACN7pC,QAASnU,KAAKC,MAAM+mD,aACpBC,aAAa,EACbC,QATY,CAAC,SAAU,UAUvBC,KAAM,CAAEZ,WAAYvmD,KAAKQ,MAAM+lD,YAC/BjzC,MAAO,CAAEgmB,OAAQ,QAAS,OAAU,IAAK,MAAS,OAAQtnB,OAAQ,gB,GA/DzCrR,IAAMC,WAsE3C0lD,GAAuB7yC,aAAe,CAClC0G,KAAM3D,GAAWe,sBCpFd,IAAM6vC,GAAoB,SAACt1C,EAAS0I,EAAWpJ,GAElD,IAAMi2C,EAAej2C,EAAO,CACxBY,OAAQ,QACR,CACAA,OAAQ,QAGTu7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE1B,OAAO,yBACT2D,SAAU,WACVC,IAAK,IACLC,KAAM,IACNulB,OAAQ,IACRxe,MAAO,IACPlW,MAAO,OACPa,QAAS,YACTkO,OAAQ,OACRzO,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ00B,WAAW,OAAD,OAAStf,EAAT,6BACV9U,OAAQ,WACL2hD,GAdD,mCAeS9Z,EAAG,GAfZ,aAemBA,EAAG,IAAO,CAC9Bv7B,OAAQ,WAKEs1C,GAAW,SAAAj3C,GAEpB,IAAMk3C,EAAcl3C,EAGhB,CACN2sB,UAAW,QAJoB,CACzBp4B,MAAO,OACPoN,OAAQ,QAKf,OAAO,aACNw1C,UAAW,WACRD,IC1CU,OAA0B,iCCA1B,OAA0B,kCCiBnCE,GAAuB,SAACxnD,GAE1B,IAAM6R,EAAUoD,qBAAWC,IAC3B,EAA0BxU,IAAMyU,SAAS,MAAzC,oBAAO/E,EAAP,KAAcq3C,EAAd,KAEIt2C,EAAM,IAAIC,MACdD,EAAIE,IAAMrR,EAAM6E,QAAQ4M,KAAKo1B,IAE7B11B,EAAIG,OAAS,WACTm2C,EAASt2C,EAAIE,MAGjB,IAAIq2C,EAAY,KAOhB,OALIA,EADAt3C,GAGYykC,GAIZ,YAAC,IAAM9vC,SAAP,KACI,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASnU,EAAM4a,QAC9C,mBAAKpW,IAAK2iD,GAAkBt1C,EAAS0I,GAAWnK,GAAQ8D,QAASlU,EAAM4a,MAAOtW,UAAU,kBACpF,mBAAK+M,IAAKq2C,EAAWljD,IAAK6iD,GAASj3C,GAAQgD,IAAKs0C,OAQhEF,GAAqBh0C,aAAe,CACnCmB,MAAO,EACPiG,MAAO,cClDD,IA8BM+sC,GAAmB,SAAA91C,GAE/B,MAAO,CACNuoC,UAAU,cAAD,OAAgBvoC,EAAQ/C,MAAMc,YAAYV,SACnDk+B,aAAa,cAAD,OAAgBv7B,EAAQ/C,MAAMc,YAAYV,SACtD1J,QAAS,SAIEoiD,GAAoB,SAAA/1C,GAEhC,MAAO,CACN6yB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,OACPD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9B6E,WAAY,MACZ2D,aAAc,QAIH6vC,GAAmB,SAAAh2C,GAE/B,MAAO,CACN6yB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,OACPD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9Bm2C,UAAW,SACXlhD,SAAU,SAICqjD,GAAmB,SAAAj2C,GAE/B,MAAO,CACN6yB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,OACP,yBAA0B,CACzBW,gBAAiB,cACjBZ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9Bm2C,UAAW,SACXngD,QAAS,WAKCuiD,GAAmB,SAAAl2C,GAE/B,MAAO,CACN5M,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBI,QAAS,OACT,MAAO,CACNP,QAAS,eACTP,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM+K,MAC9B4E,WAAY,SCnET2zC,G,4JAIF,WAEI,IDV0B72C,EApBUU,EC+B9Bo2C,EADkBjhB,GAA8BjnC,KAAKC,MAAM6E,QAAS,gBACxC,MAAU,GAGtCqjD,EAAYD,EAAU,IAAQrhB,MADpB,2DACsCrwB,GAAW0D,UAAU,kBAAmBla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,UAElK,OACI,mBAAKhS,KDrC2BqN,ECqCO9R,KAAK8R,QDnChD,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDwI,UAAW,mCACX+hC,UAAW,aACXt1C,MAAO,SC6ByDL,UAAU,oBAC5D,mBAAKE,IDxBV,CACHS,QAAS,OACTC,cAAe,UCsBiCZ,UAAU,iBAC9C,mBAAKE,KDnBS2M,ECmBc82C,EAAU,MDjB/C,CACHpuB,WAAW,OAAD,OAAS1oB,EAAT,6BACVguC,eAAgB,UAChBptC,OAAQ,QACRsI,OAAQ,WCasD/V,UAAU,gBAC5D,mBAAKE,IAAKmjD,GAAiB5nD,KAAK8R,SAAUvN,UAAU,cAChD,mBAAKE,IAAKojD,GAAkB7nD,KAAK8R,SAAUvN,UAAU,eAAc,wBAAO2jD,EAAU,QACpF,mBAAKzjD,IAAKqjD,GAAiB9nD,KAAK8R,SAAUvN,UAAU,cAAa,wBAAO2jD,EAAU,cAClF,mBAAKzjD,IAAKsjD,GAAiB/nD,KAAK8R,SAAUvN,UAAU,cAAcvE,KAAKC,MAAM82C,cAEjF,mBAAKtyC,IAAKujD,GAAiBhoD,KAAK8R,SAAUvN,UAAU,cAChD,iBAAG6jD,KAAMF,EAAU,IAASnV,OAAO,SAAS1Y,IAAI,uBAAuB8tB,U,GAtB5DxnD,IAAMkF,eAAnCoiD,GAEKnoB,YAAc3qB,GA6BzB8yC,GAAqBx0C,aAAe,CAChC1E,MAAOA,I,aCxCLs5C,G,kDAIL,WAAYpoD,GAAQ,IAAD,uBAClB,cAAMA,IA2BPqoD,YAAc,WAAO,IAAD,oBAGbnhB,EAAW,CAAE7lC,KAAMqN,GAAA,2BAA+C2uC,SAAU,EAAKr9C,MAAMq9C,UAEjFle,GAAe,oDAAMttB,eAAN,eAAexQ,QAASM,YAAU+yB,YAAYC,UAAYhzB,YAAU+yB,YAAYC,UAAYhzB,YAAU+yB,YAAYG,WACjIqK,GAAc,oDAAMrtB,eAAN,eAAexQ,QAASM,YAAU+yB,YAAYC,UAA/C,kDAA4D,EAAM9iB,eAAlE,iBAA4D,EAAemF,YAA3E,aAA4D,EAAqB/U,IAAjF,kDAAuF,EAAM4P,eAA7F,iBAAuF,EAAemF,YAAtG,aAAuF,EAAqB9F,KAEjIo3C,EAAmB,IAAI3mD,YAAU4mD,iBAAiBrpB,EAAYC,EAAc+H,GAChFvlC,YAAU6mD,qBAAqBF,IArCb,EAwCnBG,SAAW,WAMV,IALA,IAAM9jD,EAAQ,EAAK+jD,cAAcC,YAC3B52C,EAAS,EAAK22C,cAAcE,aAE5BC,EAAW,EAAKH,cAAchmB,iBAAiB,UAJrC,WAMPvwB,GACR,IAAM+pB,EAAU2sB,EAAS12C,GACxB22C,EAAe5sB,EAAQysB,YACvBI,EAAgB7sB,EAAQ0sB,aAEnB5xC,EAAO,CACZklB,QAASA,EACT6sB,cAAeA,EACfD,aAAcA,EACdE,QAAS,EAAKC,cACdC,MAAQ,EAAIrtB,KAAKstB,GAAK,EAAKC,iBAA4B,GAARzkD,GAC/C6iC,QAAS3L,KAAK2L,SAAW,EAAI,IAAOr1B,EAAI,IACxCkoB,EAAG,SAAUgvB,GACZ,OAASxtB,KAAKytB,IAAIvpD,KAAKmpD,OAASG,EAAOtpD,KAAKynC,SAAW,GAAK,GAAM7iC,EAAQmkD,IAE3EvuB,EAAGxoB,GAAU8pB,KAAK2L,SAAW,GAAKr1B,EAAI42C,GAGvC,EAAKQ,MAAMxc,KAAK/1B,IAlBR7E,EAAI,EAAGA,EAAI02C,EAASv4C,OAAQ6B,IAAM,EAAlCA,IA9CS,EAoEnBq3C,iBAAmB,WAClB,EAAKj4B,MAAQjY,WAAW,EAAKmwC,QAAS,IAAO,KArE3B,EAwEnBA,QAAU,WACT,IAAK,EAAKf,cACT,OAAO,EAMR,IAHA,IAAM32C,EAAS,EAAK22C,cAAcE,aAC5BS,GAAQ,IAAIl7C,KAETgE,EAAI,EAAGA,EAAI,EAAKo3C,MAAMj5C,OAAQ6B,IAAK,CAC3C,IAAM6E,EAAO,EAAKuyC,MAAMp3C,GAElBu3C,EAAkB,eAAiB1yC,EAAKqjB,EAAEgvB,GAAQ,OAASryC,EAAKujB,EAAI,WAC1EvjB,EAAKklB,QAAQ7oB,MAAM+G,UAAYsvC,EAE/B1yC,EAAKklB,QAAQ7oB,MAAMs2C,WAAa,UAE5B3yC,EAAKujB,GAAKxoB,GACbiF,EAAKklB,QAAQ0tB,UAAUC,IAAI,QAG5B7yC,EAAKujB,GAAKvjB,EAAKgyC,OAGhB,EAAKQ,oBA5FL,EAAKd,cAAgBhoD,IAAMyD,YAE3B,EAAK2lD,QAAU,EACf,EAAKb,cAAgB,EACrB,EAAKG,gBAAkB,EACvB,EAAKG,MAAQ,GAEb,EAAKQ,OAAS57C,KAAKioC,MAEnB,IAAMiH,EAAWr9C,EAAMq9C,SAAW3uC,GAAA,eAAkC1O,EAAMq9C,UAAY3uC,GAAA,qBAChFs7C,EAAc,mBAAK34C,ICjCZ,ymCDiC4B+B,IAAKiqC,IAb5B,OAclB,EAAKptB,OAASg6B,MAAM,GAAGC,KAAKF,GAdV,E,qDAiBnB,WAGCjqD,KAAK0oD,WACL1oD,KAAKypD,qB,kCAGN,WACCzpD,KAAKwxB,MAAQ,O,oBAyEd,WAAU,IAAD,OACFtB,EAASlwB,KAAKkwB,OAAOwjB,KAAI,SAACuJ,EAAO3B,GAAR,OAC9B,oBAAM/2C,UAAU,QAAQE,IE1GhB,CACHoP,SAAU,WACVlP,MAAO,UACPilD,WAAY,SACZhlD,MAAO,OACPoN,OAAQ,OACR4B,QAAS,IACTI,WAAY,aACZ,SAAU,CACNJ,QAAS,MFiGiCkD,IAAKwkC,GACtD2B,MAGH,OACC,mBAAK1pC,IAAK,SAAAC,GAAE,OAAK,EAAKm1C,cAAgBn1C,GAAK/O,IE3HnC,CACHG,MAAO,QACPoN,OAAQ,qBACRoB,SAAU,SACVS,SAAU,WACVC,IAAK,OACLgH,MAAO,MFsHVoV,O,GA9GgCvvB,IAAMkF,eAArCwiD,GAEKvoB,YAAc3qB,GGhBlB,IAAMi1C,GAAqB,SAACnqD,EAAO6R,EAAS2f,GAAkB,IAAD,UAE1DkQ,GAAU,UAAA1hC,EAAM6E,QAAQs+B,cAAd,eAAsBlhC,QAAtB,OAA8BuvB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAcvvB,MAAOjC,EAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,MAAS,CAAE/0B,IAAK,QAAW,CAAEA,IAAK,SAEtJmuB,GAAa,UAAAhiC,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CAAEg4C,UAAW,YAAe,CAAEA,UAAW,cAC1GmQ,GAAa,UAAApqD,EAAM6E,eAAN,mBAAes+B,cAAf,eAAuBlhC,QAAvB,OAA+BuvB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcvvB,KAAO,CACnE,wBAAyB,CACrBuS,YAAa,QAGjB,CACAtP,cAAe,cACf,yBAA0B,CACtBsP,YAAa,QAKrB,OAAO,qCACHZ,SAAU,WACVF,OAAQ,IACRzO,QAAS,OACTgwC,cAAe,OACfzvC,QAAS,MACT6U,OAAQ,IACRtI,OAAQ,OACRuI,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,SAC/C5J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdJ,WAAY,SACZC,eAAgB,UACb48B,GACAN,GACA0oB,IAYEC,GAAmB,SAACl5C,EAAKU,EAASy4C,GAE3C,IAAMC,EAAkBD,EAAgB,CACpChlD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMiL,IAAzB,eACf,CACArK,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,mBAAnB,eAGnB,OAAO,aACH5J,QAAS,IACTiV,OAAQ,IACRvI,OAAQ,OACRpN,MAAO,OACPY,aAAc,MACdJ,WAAY,SACZF,QAAS,cACTG,eAAgB,SAChBwO,SAAU,WACV2E,KAAK,OAAD,OAASpH,EAAT,8BACDo5C,IClEI,OAA0B,6CCA1B,OAA0B,mCCA1B,OAA0B,iCCA1B,OAA0B,sCCA1B,OAA0B,8CCA1B,OAA0B,oDC2BnCC,G,kDAGL,WAAYxqD,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAgCdwiC,cAAgB,SAAC5gB,EAAOH,GACvB,IAAMyH,EAAOtH,EAAMqf,OAEfxf,EACHyH,EAAKuZ,aAAa,QAASvZ,EAAKwZ,QAAQv6B,OAExC+gB,EAAKyZ,gBAAgB,UAvCK,EA2C5BsI,sBAAwB,WAIvB,EAAKjrC,QAAQ0D,mBAAmB4X,qBAC9BvrB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAE64C,uBAAuB,IAEvC,EAAK74C,SAAS,CAAE64C,uBAAuB,OAGxCn6C,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAE64C,uBAAuB,QAxDd,EA4D5B2N,oBAAsB,WAIrB,IAA6D,IAAzD,EAAKzqD,MAAM6E,QAAQ6L,eAAe,mBACrC,OAAO,EAMR,EAAKmB,QAAQ0D,mBAAmB2V,4BAC9BtpB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAEwmD,qBAAqB,IAErC,EAAKxmD,SAAS,CAAEwmD,qBAAqB,OAGtC9nD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAEwmD,qBAAqB,QAhFZ,EAoF5BC,oBAAsB,WACrB,EAAK74C,QAAQ0D,mBAAmBoT,yBAC9B/mB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAEymD,qBAAqB,IAErC,EAAKzmD,SAAS,CAAEymD,qBAAqB,OAGtC/nD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAEymD,qBAAqB,QA9FZ,EAkG5BC,gCAAkC,WACjC,EAAK94C,QAAQ0D,mBAAmByU,+BAC9BpoB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAE0mD,iCAAiC,IAEjD,EAAK1mD,SAAS,CAAE0mD,iCAAiC,OAGlDhoD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAE0mD,iCAAiC,QA5GxB,EAgH5BC,kBAAoB,WAAO,IAAD,IAIzB,IAAI,YAAK5qD,MAAM6E,QAAQs+B,cAAnB,eAA2BlhC,QAA3B,UAAmC,EAAK1B,MAAMixB,oBAA9C,aAAmC,EAAyBvvB,MAAO,EAAKjC,MAAM6E,QAAQxD,OAASM,YAAU61C,aAAaC,KACzH,OAAO,EAGR,EAAK5lC,QAAQ0D,mBAAmBkS,uBAC9B7lB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAE2mD,mBAAmB,IAEnC,EAAK3mD,SAAS,CAAE2mD,mBAAmB,OAGpCjoD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAE2mD,mBAAmB,QAjIV,EAqI5BC,uBAAyB,WAIxB,GAAI,EAAK7qD,MAAM6E,QAAQxD,OAASM,YAAU61C,aAAaC,KACtD,OAAO,EAGR,EAAK5lC,QAAQ0D,mBAAmByX,8BAC9BprB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAE4mD,wBAAwB,IAExC,EAAK5mD,SAAS,CAAE4mD,wBAAwB,OAGzCloD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAE4mD,wBAAwB,QAtJf,EA6J5BC,uBAAyB,WACxB,EAAKj5C,QAAQ0D,mBAAmBuT,4BAC9BlnB,MAAK,SAAAwB,IACY,IAAbA,EACH,EAAKa,SAAS,CAAE6mD,wBAAwB,IAExC,EAAK7mD,SAAS,CAAE6mD,wBAAwB,OAGzCnoD,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAE6mD,wBAAwB,QAvKf,EA2K5BC,qBAAuB,WAAO,IAAD,EAEtB/zC,EAAI,UAAG,EAAKhX,MAAM6E,eAAd,aAAG,EAAoBs+B,OAC3B9hC,EAAOM,YAAU+yB,YAAYC,UAEnC,EAAK9iB,QAAQihB,eAAezxB,EAAM2V,IAhLP,EAmL5Bg0C,eAAiB,WAChB,EAAKhrD,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,EAAK1O,MAAM6E,UApL9C,EAuL5BomD,WAAa,WACZ,EAAKjrD,MAAMq+B,gBAAgB3vB,GAAA,sBAAwC,EAAK1O,MAAM6E,UAxLnD,EA2L5Bic,cAAgB,WACf,EAAK9gB,MAAMq+B,gBAAgB3vB,GAAA,eAAiC,EAAK1O,MAAM6E,UA5L5C,EA+L5BuY,YAAc,WACb,EAAKpd,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,EAAK1O,MAAM6E,UAhM1C,EAmM5BqmD,iBAAmB,WAClB,EAAKlrD,MAAMq+B,gBAAgB3vB,GAAA,kBAAoC,EAAK1O,MAAM6E,UAjM1E,EAAKtE,MAAQ,CACZixB,aAAc,KACdsrB,uBAAuB,EACvB2N,qBAAqB,EACrBC,qBAAqB,EACrBE,mBAAmB,EACnBC,wBAAwB,EACxBC,wBAAwB,EACxBH,iCAAiC,GAXP,E,qDAe5B,WAAqB,IAAD,OAEnB5qD,KAAK8R,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GAEnC,EAAK6C,SAAS,CAACutB,aAAa,eAAMpwB,QAEhCQ,MAAK,WAEP,EAAKk7C,wBACL,EAAK2N,sBACL,EAAKC,sBACL,EAAKC,kCACL,EAAKC,oBACL,EAAKC,yBACL,EAAKC,8B,oBA0KP,WAAU,IAAD,qBAER,IAAoD,IAAhD/qD,KAAKC,MAAM6E,QAAQ6L,eAAe,UACrC,OAAO,EAGR,IAAIs6C,EAAiB,KACjBjrD,KAAKQ,MAAMu8C,wBACdkO,EACC,kBAAIxmD,IPrMG,CACHS,QAAS,OACT2O,SAAU,YOmMetP,UAAU,iBACtC,sBACCjD,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBpM,GAAWl+C,KAAK8R,SACtCvN,UAAU,uCACV,aAAYiS,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAC9DtC,QAASnU,KAAKirD,mBAKlB,IAAIhqC,EAAgB,KAChBjhB,KAAKQ,MAAMkqD,sBACdzpC,EACC,kBAAIxc,IPrNG,CACHS,QAAS,OACT2O,SAAU,YOmNetP,UAAU,iBACtC,sBACCjD,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBc,GAAiBprD,KAAK8R,SAC5CvN,UAAU,sCACV,aAAYvE,KAAKC,MAAM6E,QAAQumD,WAAa70C,GAAW0D,UAAU,kBAAmBla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,kBAAmBla,KAAK8R,QAAQ2E,UAClKtC,QAASnU,KAAKkrD,eASlB,IAAInqC,EAAgB,OAElB,UAAA/gB,KAAKC,MAAM6E,QAAQs+B,cAAnB,eAA2BlhC,QAA3B,UAAmClC,KAAKQ,MAAMixB,oBAA9C,aAAmC,EAAyBvvB,MAAOlC,KAAKQ,MAAMmqD,qBAC9E3qD,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aAC5C,UAAA90B,KAAKC,MAAM6E,QAAQs+B,cAAnB,eAA2BlhC,QAA3B,UAAmClC,KAAKQ,MAAMixB,oBAA9C,aAAmC,EAAyBvvB,MAC5DlC,KAAK8R,QAAQmF,KAAKtG,eAAe,UACjC3Q,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,aACzD3wB,KAAKQ,MAAMoqD,iCACX5qD,KAAKQ,MAAMmqD,uBAEZ5pC,EACC,kBAAItc,IPjPG,CACHS,QAAS,OACT2O,SAAU,YO+OetP,UAAU,iBACtC,sBACCjD,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBvV,GAAY/0C,KAAK8R,QAAS,GAChDvN,UAAU,+BACV,aAAYiS,GAAW0D,UAAU,iBAAkBla,KAAK8R,QAAQ2E,UAChEtC,QAASnU,KAAK+gB,kBAKlB,IAAI1D,EAAc,KACdrd,KAAKQ,MAAMqqD,oBACdxtC,EACC,kBAAI5Y,IPjQG,CACHS,QAAS,OACT2O,SAAU,YO+PetP,UAAU,iBACtC,sBACCjD,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBgB,GAAUtrD,KAAK8R,SACrCvN,UAAU,6BACV,aAAYiS,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAC9DtC,QAASnU,KAAKqd,gBAKlB,IAAI8tC,EAAmB,KACnBnrD,KAAKQ,MAAMsqD,yBACdK,EACC,kBAAI1mD,IPjRG,CACHS,QAAS,OACT2O,SAAU,YO+QetP,UAAU,iBACtC,sBACAjD,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBiB,GAAevrD,KAAK8R,SAC1CvN,UAAU,kCACV,aAAYiS,GAAW0D,UAAU,oBAAqBla,KAAK8R,QAAQ2E,UACnEtC,QAASnU,KAAKmrD,qBAQjB,IAAItlC,EAAmB,MACmB,IAAtC7lB,KAAKQ,MAAMuqD,wBAAmC/qD,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aAAc,UAAA90B,KAAKC,MAAM6E,eAAX,mBAAoBs+B,cAApB,eAA4BlhC,QAA5B,UAAoClC,KAAKQ,MAAMixB,oBAA/C,aAAoC,EAAyBvvB,OACxK2jB,EACC,sBACC,sBACCvkB,KAAK,SACL0zC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDjvB,IAAK6lD,GAAiBkB,GAA0BxrD,KAAK8R,SACrDvN,UAAU,kCACV,aAAYiS,GAAW0D,UAAU,0BAA2Bla,KAAK8R,QAAQ2E,UACzEtC,QAASnU,KAAKgrD,yBAKlB,IAAIS,EACH,kBAAIhnD,IAAK2lD,GAAmBpqD,KAAKC,MAAOD,KAAK8R,QAAS9R,KAAKQ,MAAMixB,cAAeltB,UAAU,oBACxF0mD,EACAhqC,EACA5D,EACA0D,EACA8E,EACAslC,GAQH,OAJsB,OAAlBlqC,GAA4C,OAAlBF,GAA0C,OAAhB1D,GAA2C,OAAnB4tC,GAAgD,OAArBE,GAAkD,OAArBtlC,IACvI4lC,EAAU,MAGJA,M,GA9U6B9qD,IAAMkF,eAAtC4kD,GACE3qB,YAAc3qB,GAkVtBs1C,GAAwBh3C,aAAe,CACtC1E,MAAOA,GACPuvB,gBAAiB,c,aChXLotB,GAAoB,SAAA55C,GAEhC,MAAO,CACNrM,QAAS,OACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDgE,OAAQ,IACRg4C,MAAO,IACP93C,SAAU,WACVwuC,KAAM,OACNnqC,UAAW,UAIA0zC,GAA4B,SAAC95C,EAASsI,GAElD,IAAM0/B,EAAiB1/B,EAAH,6GAQpB,MAAO,CACN3U,QAAS,MACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDE,YAAY,GAAD,OAAKiC,EAAQ/C,MAAMc,YAAYV,SAC1C8D,YAAa,kBACbC,YAAa,QACbvO,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9B/K,SAAU,OACV60B,UAAU,GAAD,OAAKugB,EAAL,kBACTjmC,SAAU,aAoBCkmC,GAAoB,SAAC3oC,EAAKU,GAEnC,MAAO,CACHlN,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdE,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,gBAkB7B48C,GAAkB,SAAC5rD,EAAOO,EAAOsR,GAE1C,IAAMg6C,EAAmBtrD,EAAMurD,aAAevrD,EAAMwrD,cAAiB,CACjExmD,aAAc,eACd,CACAA,aAAc,OAGlB,OAAO,aACH68C,KAAM,WACNxuC,SAAU,WACVvO,QAAS,OACTiV,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,SAC/C5J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDzK,QAAS,OACTC,cAAe,SACfP,MAAO,OACPsT,UAAW,QACR4zC,IAIEG,GAAoB,SAAClN,GAE9B,IAAMmN,EAAiBnN,EAAY,CAC/B/mC,cAAgB,OAChBpE,QAAS,OACT,GAEJ,OAAO,yBACHhP,MAAO,OACPF,SAAU,OACV6P,WAAY,OACZD,WAAY,MACZ7O,QAAS,OACTH,QAAS,OACTg1C,UAAW,SACXpG,UAAW,OACXrgC,SAAU,WACV8wB,WAAY,WACZiP,SAAU,aACVjgC,OAAQ,IACRuE,UAAW,OACX8kB,UAAW,QACX6C,WAAY,QACTqsB,GAhBP,IAiBI,iBAAkB,CACdC,QAAS,oBACTxnD,MAAO,qBACPqT,cAAe,OACf9S,QAAS,YAKRknD,GAAmB,SAACrN,EAAUsN,EAAav6C,GAEpD,IAAMo6C,EAAiBnN,EAAY,CAC/B/mC,cAAe,QACf,GAEEs0C,EAAqC,OAAhBD,EAAwB,CAC/ClnD,cAAe,eACf,GAEJ,OAAO,qCACHM,QAAS,WAET40C,UAAU,aAAD,OAAevoC,EAAQ/C,MAAMc,YAAYV,SAClD5J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBiK,MAClDtK,QAAS,OACTG,eAAgB,iBACbinD,GACAJ,GARP,IASI,iBAAkB,CACdl0C,cAAe,WAuBdu0C,GAAkB,SAAC/rD,GAE5B,IAAMgsD,EAAUhsD,EAAMisD,eAAkB,CACpC7nD,MAAO,oBACPgP,QAAS,KACT,GAEJ,OAAO,aACHhP,MAAO,IACPY,aAAc,MACd4N,SAAU,SACVO,OAAQ,IACRC,QAAS,IACTI,WAAY,qBACTw4C,IAeEE,GAAgB,SAACt7C,EAAKU,GAE/B,MAAO,CACHE,OAAQ,OACRtM,OAAQ,UACRR,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZkV,OAAQ,aACR,OAAQ,CACJ1V,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,qBAEtC,WAAY,CACRhK,QAAS,UAKRynD,GAA0B,SAACv7C,EAAKU,GAEzC,MAAO,CACH5M,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBK,OAAQ,UACRd,MAAO,OACP,EAAK,CACDA,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,uBAKjC09C,GAAoB,SAACpsD,GAE9B,IAAMgsD,EAAUhsD,EAAMisD,eAAkB,CACpCvnD,QAAS,QACT,CACAA,QAAS,QAGb,OAAO,aACHA,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBK,OAAQ,UACRd,MAAO,QACJ4nD,IAuBEK,GAAkB,SAACz7C,EAAKU,GAEjC,MAAO,CACHE,OAAQ,OACRtM,OAAQ,UACRR,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBiV,OAAQ,aACR,EAAK,CACD1V,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,iBAiBjC69C,GAAkB,SAAC17C,EAAKU,GAEjC,MAAO,CACHpM,OAAQ,UACRsM,OAAQ,OACR9M,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBiV,OAAQ,aACR,EAAK,CACD1V,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,uBCvU/B,OAA0B,8CCA1B,OAA0B,kCCA1B,OAA0B,uCCA1B,OAA0B,wCCA1B,OAA0B,kCCA1B,OAA0B,kCCA1B,OAA0B,yCCA1B,OAA0B,kCCA1B,OAA0B,qCCA1B,OAA0B,kCCA1B,OAA0B,mDCA1B,OAA0B,qDCwDnC69C,G,kDAGL,WAAY9sD,GAAQ,IAAD,8BAClB,cAAMA,IAgHP+sD,mBAAqB,WACpB,EAAKl7C,QAAQ0D,mBAAmBiW,yBAC9B5pB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMwsD,oBAC3B,EAAK9oD,SAAS,CAAE8oD,mBAAoB3pD,OAGrCT,OAAM,SAAAnB,IACgC,IAAlC,EAAKjB,MAAMwsD,oBACd,EAAK9oD,SAAS,CAAE8oD,oBAAoB,QA1HrB,EAkInBC,YAAc,WACb,EAAKn7C,QAAQ0D,mBAAmB0Y,iBAC9BrsB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMysD,aAC3B,EAAK/oD,SAAS,CAAE+oD,YAAa5pD,OAG9BT,OAAM,SAAAnB,IACyB,IAA3B,EAAKjB,MAAMysD,aACd,EAAK/oD,SAAS,CAAE+oD,aAAa,QA3Id,EAmJnBC,sBAAwB,WACvB,EAAKp7C,QAAQ0D,mBAAmBwV,4BAC9BnpB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM0sD,uBAC3B,EAAKhpD,SAAS,CAAEgpD,sBAAuB7pD,OAGxCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAM0sD,uBACd,EAAKhpD,SAAS,CAAEgpD,uBAAuB,QA5JxB,EAoKnBC,eAAiB,WAChB,EAAKr7C,QAAQ0D,mBAAmBqY,oBAC9BhsB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM2sD,gBAC3B,EAAKjpD,SAAS,CAAEipD,eAAgB9pD,OAGjCT,OAAM,SAAAnB,IAC4B,IAA9B,EAAKjB,MAAM2sD,gBACd,EAAKjpD,SAAS,CAAEipD,gBAAgB,QA7KjB,EAqLnBC,mBAAqB,WACpB,EAAKt7C,QAAQ0D,mBAAmBiV,wBAC9B5oB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM4sD,oBAC3B,EAAKlpD,SAAS,CAAEkpD,mBAAoB/pD,OAGrCT,OAAM,SAAAnB,IACgC,IAAlC,EAAKjB,MAAM4sD,oBACd,EAAKlpD,SAAS,CAAEkpD,oBAAoB,QA9LrB,EAsMnBC,YAAc,WACb,EAAKv7C,QAAQ0D,mBAAmB+U,iBAC9B1oB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM6sD,aAC3B,EAAKnpD,SAAS,CAAEmpD,YAAahqD,OAG9BT,OAAM,SAAAnB,IACyB,IAA3B,EAAKjB,MAAM6sD,aACd,EAAKnpD,SAAS,CAAEmpD,aAAa,QA/Md,EAuNnBC,aAAe,WACd,EAAKx7C,QAAQ0D,mBAAmB6U,kBAC9BxoB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM8sD,cAC3B,EAAKppD,SAAS,CAAEopD,aAAcjqD,OAG/BT,OAAM,SAAAnB,IAC0B,IAA5B,EAAKjB,MAAM8sD,cACd,EAAKppD,SAAS,CAAEopD,cAAc,QAhOf,EAwOnBC,4BAA8B,WAC7B,EAAKz7C,QAAQ0D,mBAAmBkY,iCAC9B7rB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM+sD,6BAC3B,EAAKrpD,SAAS,CAAEqpD,4BAA6BlqD,OAG9CT,OAAM,SAAAnB,IACyC,IAA3C,EAAKjB,MAAM+sD,6BACd,EAAKrpD,SAAS,CAAEqpD,6BAA6B,QAjP9B,EAyPnBC,8BAAgC,WAC/B,EAAK17C,QAAQ0D,mBAAmB+X,mCAC9B1rB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMgtD,+BAC3B,EAAKtpD,SAAS,CAAEspD,8BAA+BnqD,OAGhDT,OAAM,SAAAnB,IAC2C,IAA7C,EAAKjB,MAAMgtD,+BACd,EAAKtpD,SAAS,CAAEspD,+BAA+B,QAlQhC,EAuQnBC,uBAAyB,WACpB,EAAKC,iBAAmB,EAAKA,gBAAgBzqD,SAChD,EAAKyqD,gBAAgBzqD,QAAQ0qD,SAzQZ,EA+TnB3G,aAAe,SAAC/J,EAAOvpB,GACtB,GAAI,EAAKlzB,MAAMotD,eACd,EAAK5Q,gBAAgBC,OADtB,CAKA,IAAM9gB,EAAU,EAAKuxB,gBAAgBzqD,QACrCk5B,EAAQwxB,QACR,EAAKE,iBAAiB5Q,EAAMe,QAAQ,GACpC,EAAK95C,SAAS,CAAE4pD,aAAc3xB,EAAQ4xB,UAAWC,YAAa,WAxU5C,EA2UnBC,cAAgB,SAAAv6B,GACf,EAAKw6B,cAEL,IAAMlzB,EAAOtH,EAAMie,cACfmc,EAAe9yB,EAAKke,YAAY5oC,OAE/Bw9C,EAAav9C,SACjBmjB,EAAMie,cAAcuH,YAAc4U,GAInC,EAAK5pD,SAAS,CAAE4pD,aAAc9yB,EAAK+yB,UAAWC,YAAa,UAtVzC,EAyVnBG,iBAAmB,WAClB,IAAMC,GAAgB,EAAK5tD,MAAMisD,eACjC,EAAKvoD,SAAS,CAAEuoD,eAAgB2B,KA3Vd,EA8VnBC,iBAAmB,SAAAC,GAClB,OAAQA,GACP,IAAK,QACJ,EAAKC,iBAAiBtrD,QAAQurD,QAC9B,MACD,IAAK,OACJ,EAAKC,gBAAgBxrD,QAAQurD,QAC7B,MACD,IAAK,QACJ,EAAKE,iBAAiBzrD,QAAQurD,QAC9B,MACD,IAAK,QACJ,EAAKG,iBAAiB1rD,QAAQurD,UA1Wd,EAiXnBI,cAAgB,SAAA30B,GACf,IAAK,EAAKs0B,iBAAiBtrD,QAAQ4rD,MAAM,GACxC,OAAO,EAGR,IAAMC,EAAe,EAAKP,iBAAiBtrD,QAAQ4rD,MAAM,GAErDE,EAAS,IAAIC,WACjBD,EAAO15B,iBACN,QACA,SAAA3B,GAGC,IAAMu7B,EAAU,IAAIC,KAAK,CAACH,EAAOI,QAASL,EAAaprD,KAAMorD,GAC7D,EAAKM,iBAAiBH,EAASrtD,YAAU61C,aAAaG,UAEvD,GAGDmX,EAAOM,kBAAkBP,IApYP,EAuYnBQ,aAAe,SAAAr1B,GACd,IAAK,EAAKw0B,gBAAgBxrD,QAAQ4rD,MAAM,GACvC,OAAO,EAGR,IAAMC,EAAe,EAAKL,gBAAgBxrD,QAAQ4rD,MAAM,GAEpDE,EAAS,IAAIC,WACjBD,EAAO15B,iBACN,QACA,SAAA3B,GAGC,IAAMu7B,EAAU,IAAIC,KAAK,CAACH,EAAOI,QAASL,EAAaprD,KAAMorD,GAC7D,EAAKM,iBAAiBH,EAASrtD,YAAU61C,aAAaK,SAEvD,GAGDiX,EAAOM,kBAAkBP,IA1ZP,EA6ZnBS,cAAgB,SAAAt1B,GACf,IAAK,EAAKy0B,iBAAiBzrD,QAAQ4rD,MAAM,GACxC,OAAO,EAGR,IAAMC,EAAe,EAAKJ,iBAAiBzrD,QAAQ4rD,MAAM,GAErDE,EAAS,IAAIC,WACjBD,EAAO15B,iBACN,QACA,WAGC,IAAM45B,EAAU,IAAIC,KAAK,CAACH,EAAOI,QAASL,EAAaprD,KAAMorD,GAC7D,EAAKM,iBAAiBH,EAASrtD,YAAU61C,aAAa5uC,UAEvD,GAGDkmD,EAAOM,kBAAkBP,IAhbP,EAmbnBU,cAAgB,SAAAv1B,GACf,IAAK,EAAK00B,iBAAiB1rD,QAAQ4rD,MAAM,GACxC,OAAO,EAGR,IAAMC,EAAe,EAAKH,iBAAiB1rD,QAAQ4rD,MAAM,GAErDE,EAAS,IAAIC,WACjBD,EAAO15B,iBACN,QACA,WAGC,IAAM45B,EAAU,IAAIC,KAAK,CAACH,EAAOI,QAASL,EAAaprD,KAAMorD,GAC7D,EAAKM,iBAAiBH,EAASrtD,YAAU61C,aAAajT,UAEvD,GAGDuqB,EAAOM,kBAAkBP,IAtcP,EAycnBW,mBAAqB,WACpB,IAAItwB,EACAC,EAUJ,OARI,EAAKttB,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAC/CuK,EAAa,EAAKrtB,QAAQmF,KAAK/U,IAC/Bk9B,EAAex9B,YAAUgnC,cAAcqF,MAC7B,EAAKn8B,QAAQxQ,OAASM,YAAU+yB,YAAYG,aACtDqK,EAAa,EAAKrtB,QAAQmF,KAAK9F,KAC/BiuB,EAAex9B,YAAUgnC,cAAcC,OAGjC,CAAE1J,WAAYA,EAAYC,aAAcA,IArd7B,EAwdnBgwB,iBAAmB,SAACtB,EAAcE,GACjC,EAAKG,mBACL,EAAKuB,UAAU,KAAM,MAErB,MAAqC,EAAKD,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aAEhBiN,EAAe,IAAIzqC,YAAU+tD,aAAaxwB,EAAY2uB,EAAcE,EAAa5uB,GACjF,EAAKn/B,MAAM2vD,iBACdvjB,EAAawjB,mBAAmB,EAAK5vD,MAAM2vD,iBAG5CvjB,EAAarD,UAAU,EAAKvX,cAC5B4a,EAAapD,YAAY,EAAKn3B,QAAQxQ,MACtC+qC,EAAavZ,QAAQk7B,GACrB3hB,EAAayjB,YAAb,eACEnhD,GAAA,cAAmCm/C,IAErCzhB,EAAalD,YAAczB,KAC3B2E,EAAajD,IAAM5B,KAEnBzH,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKiJ,SAClE,EAAK7R,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAAC09B,IAE/DzqC,YAAU0mD,YAAYjc,GACpBxqC,MAAK,SAAAiD,GACL,IAAMukC,EAAa,2BAAQvkC,GAAR,IAAiBskC,IAAKiD,EAAajD,MACtD,EAAKnpC,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC06B,OAE3DzmC,OAAM,SAAAnB,GACN,IAAM4nC,EAAa,2BAAQgD,GAAR,IAAsB5qC,MAAOA,IAChD,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C,CAAC06B,QAtfvD,EA0fnB0mB,mBAAqB,SAAAr8B,GACpB,GAAsB,KAAlBA,EAAMs8B,UAAmBt8B,EAAMu8B,SAGlC,OAFAv8B,EAAMwG,iBACN,EAAKg2B,mBACE,GA9fU,EAkgBnBA,gBAAkB,WAKjB,GAJI,EAAK1vD,MAAMurD,aACd,EAAK7nD,SAAS,CAAE6nD,aAAa,KAGzB,EAAKvrD,MAAMstD,aAAax9C,OAAOC,OACnC,OAAO,EAGR,GAAI,EAAK/P,MAAM2vD,kBAEd,OADA,EAAK9yC,eACE,EAGR,EAAKqyC,UAAU,KAAM,MAErB,MAAmC,EAAKD,qBAAlCtwB,EAAN,EAAMA,WAAYC,EAAlB,EAAkBA,aACd0uB,EAAe,EAAKttD,MAAMstD,aAAax9C,OAEvC67B,EAAc,IAAIvqC,YAAUwuD,YAAYjxB,EAAY2uB,EAAc1uB,GAClE,EAAKn/B,MAAM2vD,iBACdzjB,EAAY0jB,mBAAmB,EAAK5vD,MAAM2vD,iBAE3CzjB,EAAYnD,UAAU,EAAKvX,cAC3B0a,EAAYlD,YAAY,EAAKn3B,QAAQxQ,MACrC6qC,EAAYkkB,QAAQvC,GACpB3hB,EAAYhD,YAAczB,KAC1ByE,EAAY/C,IAAM5B,KAElB,EAAKvnC,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAACw9B,IAC/D,EAAKjoC,SAAS,CAAE4pD,aAAc,GAAIwC,cAAc,IAEhD,EAAK5C,gBAAgBzqD,QAAQi2C,YAAc,GAC3CnZ,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKiJ,SAElElQ,YAAU0mD,YAAYnc,GACpBtqC,MAAK,SAAAiD,GACL,IAAMukC,EAAa,2BAAQvkC,GAAR,IAAiBskC,IAAK+C,EAAY/C,MACrD,EAAKnpC,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC06B,OAE3DzmC,OAAM,SAAAnB,GACN,IAAM4nC,EAAa,2BAAQ8C,GAAR,IAAqB1qC,MAAOA,IAC/C,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C,CAAC06B,IAEnE5nC,GAASA,EAAMkP,eAAe,SAAWlP,EAAMuC,SA9iBnC,EAojBnBqZ,YAAc,WACb,EAAKqyC,UAAU,KAAM,MAErB,IAAMS,EAAoB,EAAKlwD,MAAMkwD,kBAErC,EAAmC,EAAKV,qBAAlCtwB,EAAN,EAAMA,WAAYC,EAAlB,EAAkBA,aACd2X,EAAc,EAAKv2C,MAAMstD,aAAax9C,OACtC67B,EAAc,IAAIvqC,YAAUwuD,YAAYjxB,EAAY4X,EAAa3X,GACrE+M,EAAYokB,MAAMJ,EAAkB1f,IAEpC,IAAMS,EAAazgC,OAAO0gC,OAAO,GAAIhF,EAAa,CAAEqkB,YAAaL,EAAkBK,cACnF,EAAKvwD,MAAMq+B,gBAAgB3vB,GAAA,eAAiCuiC,GAE5D,EAAKhtC,SAAS,CAAE4pD,aAAc,KAC9B,EAAKJ,gBAAgBzqD,QAAQi2C,YAAc,GAC3CnZ,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKiJ,SAElE,EAAK2+C,mBAEL7uD,YAAUyb,YAAY8uB,GACpBtqC,MAAK,SAAAiD,GACL,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,eAA3B,eAAiE7J,OAEjElC,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBA3kBtD,EA8kBnB8hD,iBAAmB,WAClB,EAAKxwD,MAAMq+B,gBAAgB3vB,GAAA,qBA/kBT,EAklBnBu/C,YAAc,SAAC18B,EAAO2V,GACrB,IAAIupB,EAAiBl/B,GAAS,IAG9B,IAAyC,IAArC,EAAKhxB,MAAM0sD,sBACd,OAAO,EAGR,GAAI,EAAKyD,SACR,OAAO,EAGR,MAAmC,EAAKlB,qBAAlCtwB,EAAN,EAAMA,WAAYC,EAAlB,EAAkBA,aACdwxB,EAAiBzpB,QAAY9S,EAE7Bw8B,EAAqB,IAAIjvD,YAAUkvD,gBAAgB3xB,EAAYC,EAAcwxB,GACjFhvD,YAAUssD,YAAY2C,GAEtB,EAAKF,SAAWp3C,YAAW,WAC1B,EAAKm2C,UAAU,KAAMkB,KACnBF,IAtmBe,EAymBnBhB,UAAY,SAACh8B,EAAOyT,GAOnB,GALIzT,GACHA,EAAMq9B,WAIkC,IAArC,EAAKvwD,MAAM0sD,sBACd,OAAO,EAGR,MAAmC,EAAKuC,qBAAlCtwB,EAAN,EAAMA,WAAYC,EAAlB,EAAkBA,aAEdwxB,EAAiBzpB,QAAY9S,EAE7Bw8B,EAAqB,IAAIjvD,YAAUkvD,gBAAgB3xB,EAAYC,EAAcwxB,GACjFhvD,YAAU8tD,UAAUmB,GAEpBn3C,aAAa,EAAKi3C,UAClB,EAAKA,SAAW,MA5nBE,EA+nBnBK,oBAAsB,WACrB,IAAMhF,EAAgB,EAAKxrD,MAAMwrD,cACjC,EAAK9nD,SAAS,CAAE8nD,eAAgBA,EAAeD,aAAa,KAjoB1C,EAooBnBkF,kBAAoB,WACnB,IAAMlF,EAAc,EAAKvrD,MAAMurD,YAC/B,EAAK7nD,SAAS,CAAE6nD,aAAcA,EAAaC,eAAe,KAtoBxC,EAyoBnBkF,iBAAmB,WAClB,IAAMtR,EAAa,EAAKp/C,MAAMo/C,WAC9B,EAAK17C,SAAS,CAAE07C,YAAaA,KA3oBX,EA8oBnBuR,4BAA8B,WAC7B,MAAqC,EAAK1B,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aACpBx9B,YAAU+4C,cAAc,WAAY,OAAQ,YAAa,CACxDpV,SAAUpG,EACVC,aAAcA,IAEbv9B,MAAK,SAAAwB,GAEDA,GAAYA,EAASsN,eAAe,gBACvC,EAAKmB,QAAQwf,gBAAgB,UAAW,oBAExC,EAAKxf,QAAQwf,gBAAgB,QAAS,oBAGvC1uB,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBA5pBtD,EA+pBnByiD,yBAA2B,WAC1B,MAAqC,EAAK3B,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aACpBx9B,YAAU+4C,cAAc,aAAc,OAAQ,YAAa,CAC1DpV,SAAUpG,EACVC,aAAcA,IAEbv9B,MAAK,SAAAwB,GAEDA,GAAYA,EAASsN,eAAe,aACvC,EAAKmB,QAAQwf,gBAAgB,UAAW,sBAExC,EAAKxf,QAAQwf,gBAAgB,QAAS,sBAGvC1uB,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBA7qBtD,EAgrBnB0iD,gBAAkB,WACjB,EAAKH,mBACL,EAAK/C,oBAlrBa,EAqrBnBnqB,cAAgB,SAAC/E,EAAQn6B,GACxB,OAAQm6B,GACP,KAAKtwB,GAAA,aACJ,EAAKuiD,mBACL,EAAK/C,mBACL,MACD,KAAKx/C,GAAA,aACJ,EAAK2iD,YAAYxsD,GACjB,MACD,KAAK6J,GAAA,uBACJ,EAAKqiD,wBA/rBW,EAssBnBM,YAAc,SAAA5a,GACb,MAAqC,EAAK+Y,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aAEdrL,EAAa,CAAEmwB,YAAaxN,EAAe2F,WAAY4H,aAAcvN,EAAe4F,aAGpFxW,EAAgB,IAAIlkC,YAAUmnC,cAAc5J,EAAYC,EAF3CzwB,oBAEqEolB,GACpF,EAAK9zB,MAAM2vD,iBACd9pB,EAAc+pB,mBAAmB,EAAK5vD,MAAM2vD,iBAE7C9pB,EAAckD,UAAU,EAAKvX,cAC7BqU,EAAcmD,YAAY,EAAKn3B,QAAQxQ,MACvCwkC,EAAcgqB,YAAY,CAAEniB,sBAAsB,IAClD7H,EAAcqD,YAAczB,KAC5B5B,EAAcsD,IAAM5B,KAEpB,EAAKvnC,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAACm3B,IAC/D/F,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKiJ,SAElElQ,YAAU+mC,kBAAkB7C,GAC1BjkC,MAAK,SAAAiD,GACL,IAAMukC,EAAa,2BAAQvkC,GAAR,IAAiBskC,IAAKtD,EAAcsD,MACvD,EAAKnpC,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC06B,OAE3DzmC,OAAM,SAAAnB,GACN,IAAM4nC,EAAa,2BAAQvD,GAAR,IAAuBrkC,MAAOA,IACjD,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C,CAAC06B,QAhuBvD,EAouBnBkoB,iBAAmB,SAAAzD,GAClB,MAAmC,EAAK2B,qBAAlCtwB,EAAN,EAAMA,WAAYC,EAAlB,EAAkBA,aAEd+M,EAAc,IAAIvqC,YAAUwuD,YAAYjxB,EAAY2uB,EAAc1uB,GAClE,EAAKn/B,MAAM2vD,iBACdzjB,EAAY0jB,mBAAmB,EAAK5vD,MAAM2vD,iBAE3CzjB,EAAYnD,UAAU,EAAKvX,cAC3B0a,EAAYlD,YAAY,EAAKn3B,QAAQxQ,MACrC6qC,EAAYhD,YAAczB,KAC1ByE,EAAY/C,IAAM5B,KAElB,EAAKvnC,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAACw9B,IAE/DpM,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKiJ,SAClE,EAAK5N,SAAS,CAAEosD,aAAc,OAE9B1uD,YAAU0mD,YAAYnc,GACpBtqC,MAAK,SAAAiD,GACL,IAAMukC,EAAa,2BAAQvkC,GAAR,IAAiBskC,IAAK+C,EAAY/C,MACrD,EAAKnpC,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC06B,OAE3DzmC,OAAM,SAAAnB,GACN,IAAM4nC,EAAa,2BAAQ8C,GAAR,IAAqB1qC,MAAOA,IAC/C,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C,CAAC06B,QA5vBvD,EAgwBnBmoB,kBAAoB,WACnB,EAAKttD,SAAS,CAAEosD,aAAc,QAjwBZ,EAowBnBmB,kBAAoB,SAAA/9B,GAEnB,IAAiC,IAA7B,EAAKg+B,oBACR,OAAO,EAGJ,EAAKC,SACRj4C,aAAa,EAAKi4C,SAInB,IAAMC,EAAuBjjD,GAAA,uBAG7B,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,oBAC3B,EAAK85C,uBAGL,EAAKkJ,QAAUp4C,WAAW,EAAKs4C,iBAAkBD,IAtxB/B,EAyxBnBC,iBAAmB,WAGlB,EAAK5xD,MAAMq+B,gBAAgB3vB,GAAA,oBAG3B,EAAK+iD,qBAAsB,GA/xBT,EAmyBnBjJ,qBAAuB,WAAO,IAAD,oBAEtBthB,EAAW,CAAE7lC,KAAMqN,GAAA,2BAA+C2uC,SAAU,EAAKr9C,MAAMq9C,UAEvFle,GAAe,oDAAMttB,eAAN,eAAexQ,QAASM,YAAU+yB,YAAYC,UAAYhzB,YAAU+yB,YAAYC,UAAYhzB,YAAU+yB,YAAYG,WACjIqK,GAAa,oDAAMrtB,eAAN,eAAexQ,QAASM,YAAU+yB,YAAYC,UAA9C,kDAA0D,EAAM9iB,eAAhE,iBAA0D,EAAemF,YAAzE,aAA0D,EAAqB/U,IAA/E,kDAAqF,EAAM4P,eAA3F,iBAAqF,EAAemF,YAApG,aAAqF,EAAqB9F,KAEzHo3C,EAAmB,IAAI3mD,YAAU4mD,iBAAiBrpB,EAAYC,EAAc+H,GAChFvlC,YAAU6mD,qBAAqBF,IA3yBb,EA8yBnBvL,gBAAkB,SAAAC,GAGjB,EAAKgU,oBAGL,IACIa,EADA5U,EAAa,eAAQ,EAAK18C,MAAMotD,gBAEhCmE,EAAiB,GAEfC,EAAa,GACf,EAAKvgC,aAAa9tB,QAAU,EAAK8tB,aAAa9tB,OAAO4M,QACxDyhD,EAAU,KAAW,EAAKvgC,aAAa/tB,KACvCsuD,EAAU,OAAa,EAAKvgC,aAAa9tB,QAEzCquD,EAAU,KAAW,EAAKvgC,aAAa/tB,KAGxC,IAAMuuD,EAAW,eACfhV,EAAME,OADS,eACG,EAAK1rB,aAAavvB,IAAM8vD,IAGtCE,EAAyBjrB,GAA8BiW,EAAe,aAExEgV,EAECA,EAAuBjV,EAAME,QAE5B+U,EAAuBjV,EAAME,QAAQ,EAAK1rB,aAAavvB,YAC1D6vD,EAAc,eACV7U,EAAa,SAAa,aAA1B,uBAEkBD,EAAME,QAAQ,EAAK1rB,aAAavvB,KAEtD6vD,EAAc,2BACV7U,EAAa,SAAa,aAA1B,sBADU,kBAEZD,EAAME,OAFM,2BAGTD,EAAa,SAAa,aAA1B,qBAAkED,EAAME,SAH/D,kBAIX,EAAK1rB,aAAavvB,IAAM8vD,MAK5BD,EAAc,2BACV7U,EAAa,SAAa,aAA1B,sBACA+U,KAI4C,IAA7C/U,EAAcvsC,eAAe,cAChCusC,EAAa,SAAe,KAGiC,IAA1DA,EAAa,SAAavsC,eAAe,eAC5CusC,EAAa,SAAa,aAAe,KAGkC,IAAxEA,EAAa,SAAa,aAAavsC,eAAe,gBACzDusC,EAAa,SAAa,aAA1B,WAAuD,KAGiC,IAArFA,EAAa,SAAa,aAA1B,WAAqDvsC,eAAe,eACvEusC,EAAa,SAAa,aAA1B,qBAAoE,IAGrE6U,EAAc,eACVE,IAIL,IAAME,EAAgB,CACrBhrB,SAAS,2BACL+V,EAAa,UADT,IAEP,YAAY,2BACRA,EAAa,SAAa,cAD9B,IAECkV,WAAW,2BACPlV,EAAa,SAAa,aAA1B,YADM,IAET5vB,UAAU,eACNykC,UAORD,EAAgB,2BACZ5U,GADY,IAEfxrC,KAAK,2BACDwrC,GACAiV,IAEDA,GAGJ,EAAKlyD,MAAMq+B,gBAAgB3vB,GAAA,eAAiCmjD,GAE5DlwD,YAAU+4C,cAAc,YAAa,OAAQ,WAAY,CACxDyC,MAAO,EAAK58C,MAAMotD,eAAend,GACjCwM,MAAOA,EAAME,SAEbt7C,MAAK,SAAAwB,GAEAA,GAAaA,EAASygC,UAAgC,IAArBzgC,EAASygC,SAC9C,EAAK7jC,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAGxD/L,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBAr5BvE,EAAK4/C,iBAAmB5tD,IAAMyD,YAC9B,EAAKqqD,gBAAkB9tD,IAAMyD,YAC7B,EAAKsqD,iBAAmB/tD,IAAMyD,YAC9B,EAAKuqD,iBAAmBhuD,IAAMyD,YAC9B,EAAKspD,gBAAkB/sD,IAAMyD,YAC7B,EAAKiuD,wBAAyB,EAC9B,EAAK1B,UAAW,EAEhB,EAAKnwD,MAAQ,CACZisD,gBAAgB,EAChBqB,aAAc,GACdE,YAAa,GACbjC,aAAa,EACbnM,YAAY,EACZuQ,kBAAmB,GACnBG,aAAc,KACdtE,eAAe,EACf4B,eAAgB,GAChB0E,eAAe,EACfC,iBAAiB,EACjBvF,oBAAoB,EACpBC,aAAa,EACbC,uBAAuB,EACvBC,gBAAgB,EAChBC,oBAAoB,EACpBC,aAAa,EACbC,cAAc,EACdC,6BAA6B,EAC7BC,+BAA+B,GA/Bd,E,qDAmCnB,WAAqB,IAAD,OACnB5rD,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAExE3O,KAAKiX,KAAOjX,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa50B,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,WAAa90B,KAAK8R,QAAQmF,KAAO,KAClJjX,KAAKgtD,qBACLhtD,KAAKitD,cACLjtD,KAAKktD,wBACLltD,KAAKmtD,iBACLntD,KAAKotD,qBACLptD,KAAKqtD,cACLrtD,KAAKstD,eACLttD,KAAKutD,8BACLvtD,KAAKwtD,kC,gCAGN,SAAmBx6C,EAAWw/C,GAC7B,GAAIx/C,EAAUm9C,oBAAsBnwD,KAAKC,MAAMkwD,kBAAmB,CACjE,IAAMA,EAAoBnwD,KAAKC,MAAMkwD,kBAErCnwD,KAAKkE,SAAS,CAAE4pD,aAAcqC,EAAmBA,kBAAmBA,IAEpE,IAAMh0B,EAAUn8B,KAAK0tD,gBAAgBzqD,QACrC,GAAIktD,EAAmB,CACtB,IAAIpZ,EAAcoZ,EAAkBnZ,KAG9BC,EAAUhQ,GAA8BkpB,EAAmB,cAC7DlZ,GAAWA,EAAQtmC,eAAe,mBAAqBsmC,EAAQtmC,eAAe,WAAgC,QAAnBsmC,EAAQwb,SACtG1b,EAAcE,EAAQC,gBAGvB/a,EAAQwxB,QACRxxB,EAAQ+c,YAAc,GACtBl5C,KAAK6tD,iBAAiB9W,GAAa,QAEnC5a,EAAQ+c,YAAc,GAIpBlmC,EAAUs9C,eAAiBtwD,KAAKC,MAAMqwD,cACzCtwD,KAAKkE,SAAS,CAAEosD,aAActwD,KAAKC,MAAMqwD,eAGf56B,KAAKC,UAAU3iB,EAAU46C,kBAC1Bl4B,KAAKC,UAAU31B,KAAKC,MAAM2tD,iBAGnD5tD,KAAKkE,SAAS,CAAE0pD,eAAgB5tD,KAAKC,MAAM2tD,iBAGxC5tD,KAAK8R,QAAQmF,OAASjX,KAAKiX,OAC9BjX,KAAK0tD,gBAAgBzqD,QAAQi2C,YAAc,GAC3Cl5C,KAAKkE,SAAS,CAAE8nD,eAAe,EAAOD,aAAa,EAAOuE,aAAc,KAAMH,kBAAmB,GAAIrC,aAAc,KAEnH9tD,KAAKytD,0BAGF+E,EAAU1E,eAAiB9tD,KAAKQ,MAAMstD,cACzC9tD,KAAKytD,yBAGNztD,KAAKiX,KAAOjX,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa50B,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,WAAa90B,KAAK8R,QAAQmF,KAAO,KAClJjX,KAAKgtD,qBACLhtD,KAAKitD,cACLjtD,KAAKktD,wBACLltD,KAAKmtD,iBACLntD,KAAKotD,qBACLptD,KAAKqtD,cACLrtD,KAAKstD,eACLttD,KAAKutD,8BACLvtD,KAAKwtD,kC,8BAkKN,SAAiBkF,EAAMC,GACtB,IAAIC,EAAKC,EACH5sC,EAAajmB,KAAK8R,QAAQiJ,cAAckL,WAC9C,GAAIA,EAAW6sC,cAGd,IADAF,EAAM3sC,EAAW6sC,gBACTC,YAAcH,EAAII,WAAY,EACrCH,EAAQD,EAAIG,WAAW,IACjBE,iBAKN,IAAIz/C,EAAK5B,SAASC,cAAc,OAChC2B,EAAGu6C,UAAY2E,EAIf,IAHA,IACCQ,EACAC,EAFGC,EAAOxhD,SAASyhD,yBAGZH,EAAO1/C,EAAG8/C,YACjBH,EAAWC,EAAKG,YAAYL,GAE7B,IAAIM,EAAYJ,EAAKE,WACrBT,EAAMY,WAAWL,GAGbD,KACHN,EAAQA,EAAMa,cACRC,cAAcR,GAChBR,EACHE,EAAMe,eAAeJ,GAErBX,EAAMgB,UAAS,GAEhBjB,EAAIkB,kBACJlB,EAAImB,SAASlB,UAGT,IAAKD,EAAMhhD,SAASoiD,YAA2B,YAAbpB,EAAItxD,KAAoB,CAEhE,IAAI2yD,EAAgBrB,EAAIsB,cACxBD,EAAcJ,UAAS,GACvBjB,EAAIsB,cAAcC,UAAUzB,GACxBC,KACHE,EAAQD,EAAIsB,eACNE,YAAY,eAAgBH,GAClCpB,EAAMwB,a,oBAimBT,WAAU,IAAD,OACJC,EAAkB,KAChBC,EAAmB/9C,GAAW0D,UAAU,gBAAiBla,KAAK8R,QAAQ2E,UAC5E,GAAI9H,GAAA,eAAkCgC,eAAe3Q,KAAKC,MAAMq9C,UAAW,CAC1E,IAAMC,EAAev9C,KAAKC,MAAMq9C,SAChCgX,EACC,mBAAKr6C,MAAOs6C,EAAkB9vD,Ib7qBvB,CACHiB,OAAQ,UACRsM,OAAQ,OACR9M,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBiV,OAAQ,cauqB2C/V,UAAU,oBAAoB4P,QAASnU,KAAKyxD,mBAClG,mBAAKngD,IC79BK,ymCD69BW+B,IAAKkqC,KAK7B,IAAI2O,GAAgB,EAChBlsD,KAAK8R,QAAQmF,KAAKm8B,cACrB8Y,GAAgB,GAGjB,IbhuB+B96C,EAAKU,EaguB9B0iD,EAAUh+C,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,UAC7Dg+C,EACH,mBACCx6C,MAAOu6C,EACP/vD,IAAKioD,GAAcgI,GAAS10D,KAAK8R,SACjCvN,UAAU,4BACV4P,QAAS,WACR,EAAKk6C,iBAAiB,UAEvB,sBACA,qBAAOpN,SAAUjhD,KAAKsvD,aAAchuD,KAAK,OAAOmvC,GAAG,OAAOl9B,IAAKvT,KAAKyuD,mBAIhEkG,EAAYn+C,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAC9Dm+C,EAAYp+C,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAC9Do+C,EAAYr+C,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAChEq+C,EACH,YAAC,IAAM9vD,SAAP,KACC,mBACCiV,MAAO06C,EACPlwD,IAAKioD,GAAcqI,GAAW/0D,KAAK8R,SACnCvN,UAAU,6BACV4P,QAAS,WACR,EAAKk6C,iBAAiB,WAEvB,sBACA,qBAAOpN,SAAUjhD,KAAKwvD,cAAewF,OAAO,UAAU1zD,KAAK,OAAOiS,IAAKvT,KAAK2uD,oBAE7E,mBACC10C,MAAO26C,EACPnwD,IAAKioD,GAAcuI,GAAWj1D,KAAK8R,SACnCvN,UAAU,6BACV4P,QAAS,WACR,EAAKk6C,iBAAiB,WAEvB,sBACA,qBAAOpN,SAAUjhD,KAAKuvD,cAAeyF,OAAO,UAAU1zD,KAAK,OAAOiS,IAAKvT,KAAK0uD,oBAE7E,mBACCz0C,MAAO46C,EACPpwD,IAAKioD,GAAc/E,GAAW3nD,KAAK8R,SACnCvN,UAAU,6BACV4P,QAAS,WACR,EAAKk6C,iBAAiB,WAEvB,sBACA,qBAAOpN,SAAUjhD,KAAK4uD,cAAeoG,OAAO,UAAU1zD,KAAK,OAAOiS,IAAKvT,KAAKuuD,qBAKzE2G,EAAW1+C,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,UAC9D0+C,EACH,mBAAKl7C,MAAOi7C,EAAUzwD,IAAKioD,GAAc0I,GAAUp1D,KAAK8R,SAAUvN,UAAU,4BAA4B4P,QAASnU,KAAKkxD,kBACrH,uBAIImE,EAAuB7+C,GAAW0D,UAAU,6BAA8Bla,KAAK8R,QAAQ2E,UACzF6+C,EACH,mBAAKr7C,MAAOo7C,EAAsB5wD,IAAKioD,GAAcpK,GAActiD,KAAK8R,SAAUvN,UAAU,gCAAgC4P,QAASnU,KAAKmxD,6BACzI,uBAIIoE,EAAyB/+C,GAAW0D,UAAU,+BAAgCla,KAAK8R,QAAQ2E,UAC7F++C,EACH,mBAAKv7C,MAAOs7C,EAAwB9wD,IAAKioD,GAAcjI,GAAgBzkD,KAAK8R,SAAUvN,UAAU,kCAAkC4P,QAASnU,KAAKoxD,0BAC/I,uBAIIqE,EAAYj/C,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,UACzDi/C,EACH,mBACCz7C,MAAOw7C,EACPhxD,Kb7yB6B2M,Ea6yBPukD,Gb7yBY7jD,Ea6yBI9R,KAAK8R,Qb3yBpC,CACHE,OAAQ,OACRtM,OAAQ,UACRR,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBiV,OAAQ,aACR,EAAK,CACD1V,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,uBagyB1C3K,UAAU,gBACV4P,QAAS,WACR,EAAK88C,oBACL,EAAK/sD,SAAS,CAAE0pD,eAAgB,OAEjC,uBAIIgI,EAAcp/C,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,UAC7Do/C,EACH,mBAAK57C,MAAO27C,EAAanxD,IAAKqoD,GAAgBgJ,GAAa91D,KAAK8R,SAAUvN,UAAU,kBAAkB4P,QAASnU,KAAKgxD,qBACnH,uBAII+E,EAAkBv/C,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UACtEu/C,EACH,mBAAK/7C,MAAO87C,EAAiBtxD,IAAKooD,GAAgBoJ,GAAUj2D,KAAK8R,SAAUvN,UAAU,eAAe4P,QAASnU,KAAKkwD,iBACjH,wBAKoC,IAAlClwD,KAAKQ,MAAM4sD,qBACd0H,EAAM,OAIwB,IAA3B90D,KAAKQ,MAAM6sD,cACdoH,EAAO,QAIuB,IAA3Bz0D,KAAKQ,MAAMysD,aAAyBjtD,KAAKC,MAAM2vD,mBAClDuF,EAAgB,QAI8B,IAA3Cn1D,KAAKQ,MAAM+sD,6BAAyCvtD,KAAKC,MAAM2vD,mBAClE0F,EAAsB,QAI0B,IAA7Ct1D,KAAKQ,MAAMgtD,+BAA2CxtD,KAAKC,MAAM2vD,mBACpE4F,EAAwB,OAIO,IAA5Bx1D,KAAKQ,MAAM8sD,eACdoI,EAAW,QAI0B,IAAlC11D,KAAKQ,MAAMwsD,oBAAgChtD,KAAKQ,MAAMstD,aAAav9C,QAAUvQ,KAAKC,MAAM2vD,mBAC3F0E,EAAkB,OAIe,IAA9Bt0D,KAAKQ,MAAM2sD,iBACd0I,EAAa,MAGT71D,KAAKQ,MAAMstD,aAAav9C,SAC5BylD,EAAU,MAGX,IAAME,EAAa1/C,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UAC3D0/C,EACH,mBAAK1xD,Ib19BG,CACHS,QAAS,OACTN,MAAO,Qaw9BuBL,UAAU,6BAC5C,mBAAKE,IAAKkoD,GAAwByJ,GAAap2D,KAAK8R,SAAUvN,UAAU,mBAAmB4P,QAASnU,KAAKmuD,iBAAkBl0C,MAAOi8C,GACjI,uBAED,mBAAKzxD,IAAK8nD,GAAgBvsD,KAAKQ,OAAQ+D,UAAU,yBAAyByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WACnH,mBAAKhS,Ib37BC,CACHG,MAAO,OACPM,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChBI,QAAS,cas7BelB,UAAU,wBACnCuwD,EACAL,EACAU,EACAG,EACAE,KAMO,OAARV,GAAyB,OAATL,GAAmC,OAAlBU,GAAkD,OAAxBG,GAA0D,OAA1BE,IAC9FW,EAAS,MAGV,IAAIvW,EAAa,KACb5/C,KAAKQ,MAAMo/C,aACdA,EAAa,YAAC,GAAD,CAAqB/kC,MAAO7a,KAAKqxD,gBAAiB/yB,gBAAiBt+B,KAAKgkC,iBAGtF,IAAIqyB,EAAc,KAClB,GAAIr2D,KAAKQ,MAAM2vD,kBAAmB,CACjC,IAAIpZ,EAAc/2C,KAAKQ,MAAM2vD,kBAAkBnZ,KAGzCC,EAAUhQ,GAA8BjnC,KAAKQ,MAAM2vD,kBAAmB,cACxElZ,GAAWA,EAAQtmC,eAAe,mBAAqBsmC,EAAQtmC,eAAe,WAAgC,QAAnBsmC,EAAQwb,SACtG1b,EAAcE,EAAQC,gBAIvB,IAAMC,EAAalQ,GAA8BjnC,KAAKQ,MAAM2vD,kBAAmB,gBAC3EhZ,GAAcA,EAAWxmC,eAAe,SAAWwmC,EAAWzlC,KAAKf,eAAe,mBAAqBwmC,EAAWzlC,KAAKf,eAAe,mBAAwD,QAAnCwmC,EAAWzlC,KAAK0lC,iBAC9KL,EAAcI,EAAWzlC,KAAK2lC,gBAI/B,IAAMC,EAAcrQ,GAA8BjnC,KAAKQ,MAAM2vD,kBAAmB,oBAC5E7Y,GAAeA,EAAY3mC,eAAe,cAAgB2mC,EAAY3mC,eAAe,kBAA8C,QAA1B2mC,EAAYC,YACxHR,EAAcO,EAAYE,eAG3B6e,EACC,mBAAK5xD,IAAKmnD,GAA0B5rD,KAAK8R,QAASsI,MACjD,mBAAK3V,IbroCC,CACHS,QAAS,OACTE,WAAY,SACZC,eAAgB,kBamoClB,mBAAKZ,Ib7nCA,CACHgB,QAAS,Ua4nCoB+Q,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,WACjF,oBAAMhS,IAAKs1C,GAAkBv/B,GAAWxa,KAAK8R,SAAUqC,QAASnU,KAAKywD,oBAEtE,uBAAM1Z,IAKT,IAAIuf,EAAoB,KACxB,GAAIt2D,KAAKQ,MAAM8vD,aAAc,CAC5B,IAAMxrD,EAAU9E,KAAKQ,MAAM8vD,aAErBiG,EAAiBtvB,GAA8BniC,EAAS,eAC9D,GAAIyxD,IAA6D,IAA3CA,EAAe5lD,eAAe,SAAoB,CACvE,IAAMw+B,EAAU,CAAConB,EAAc,eAAoBA,EAAc,cAAmBA,EAAc,gBAClGD,EAAoB,YAAC,GAAD,CAA4BnnB,QAASA,EAAS/6B,QAASpU,KAAKuxD,iBAAkB12C,MAAO7a,KAAKwxD,qBAIhH,IAAIxF,EAAgB,KAChBhsD,KAAKQ,MAAMwrD,gBACdA,EAAgB,YAAC,GAAD,CAA0B1tB,gBAAiBt+B,KAAKgkC,iBAGjE,IAAI+nB,EAAc,KAKlB,OAJI/rD,KAAKQ,MAAMurD,cACdA,EAAc,YAAC,GAAD,CAAwB/E,aAAchnD,KAAKgnD,aAAc7sC,KAAMna,KAAK8R,QAAQ2E,YAI1F,mBAAKhS,IAAKinD,GAAkB1rD,KAAK8R,SAAUvN,UAAU,kBACnD8xD,EACAC,EACAtK,EACAD,EACD,mBAAKtnD,Ib7oCE,CACHS,QAAS,OACTN,MAAO,OACPO,cAAe,MACfC,WAAY,WACZyO,SAAU,WACVF,OAAQ,IACRlO,QAAS,IACTyS,UAAW,QaqoCiB3T,UAAU,mBACzC,mBAAK+7C,SAAS,KAAK77C,IAAKonD,GAAgB7rD,KAAKC,MAAOD,KAAKQ,MAAOR,KAAK8R,SAAUvN,UAAU,gBACxF,mBACCE,IAAKwnD,GAAkBC,GACvB3nD,UAAU,uBACViyD,gBAAgB,OAChB7V,YAAanqC,GAAW0D,UAAU,0BAA2Bla,KAAK8R,QAAQ2E,UAC1Eu9B,IAAKx9B,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,UAC1CggD,QAASz2D,KAAKiuD,cACdyI,OAAQ,SAAAhjC,GAAK,OAAI,EAAKg8B,UAAUh8B,IAChCijC,UAAW32D,KAAK+vD,mBAChBx8C,IAAKvT,KAAK0tD,kBACX,mBAAKjpD,IAAK2nD,GAAiBF,EAAeiK,EAAQn2D,KAAK8R,SAAUvN,UAAU,iBACzE4xD,EACD,mBAAK1xD,IAAKmoD,GAAkB5sD,KAAKQ,OAAQ+D,UAAU,0BACjDsxD,EACAH,EACAM,EACA1B,MAKJ1U,O,GA9qCkCj/C,IAAMkF,eAAvCknD,GACEjtB,YAAc3qB,GAorCtB43C,GAAyBt5C,aAAe,CACtC1E,MAAOA,GACPuuC,SAAU,SE3uCL,IAAMsZ,GAAb,iDAEIltB,eAAiB,cAAe,IAAIt7B,MAAOC,UAF/C,KAGIq3B,cAAgB,iBAAkB,IAAIt3B,MAAOC,UAHjD,KAIIs7B,gBAAkB,eAAgB,IAAIv7B,MAAOC,UAJjD,mDAMI,SAAgBC,GAEZ1M,YAAUooC,gBACNhqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CACvBC,aAAc,SAAAC,GAEV77B,EAASK,GAAmBw7B,IAEhCC,cAAe,SAAAC,GAEX/7B,EAASK,GAAoB07B,OAKzCzoC,YAAU+jC,mBACN3lC,KAAK0lC,cACL,IAAI9jC,YAAUgkC,gBAAgB,CAC1BixB,gBAAiB,SAAAC,GACbxoD,EAASK,GAAsBmoD,IAEnCC,cAAe,SAAAD,GACXxoD,EAASK,GAAoBmoD,OAKzCl1D,YAAU0oC,iBACNtqC,KAAK2pC,gBACL,IAAI/nC,YAAU2oC,cAAc,CACxBM,oBAAqB,SAAC/lC,EAASgmC,EAAYC,EAAUC,GACjD18B,EAASK,GAA2Bq8B,EAAYF,IAEpDG,oBAAqB,SAACnmC,EAASomC,EAAYC,EAAUC,GACjD98B,EAASK,GAA2By8B,EAAYF,IAEpDO,qBAAsB,SAAC3mC,EAAS4mC,EAAWC,EAAaC,GACpDt9B,EAASK,GAA0Bi9B,IAEvCC,kBAAmB,SAAC/mC,EAASgnC,EAAa76B,GACtC3C,EAASK,GAAyBsC,EAAO66B,IAE7CC,oBAAqB,SAACjnC,EAASknC,EAAYC,GACvC39B,EAASK,GAA2Bs9B,SAlDxD,6BAyDI,WAEIrqC,YAAUgrC,mBAAmB5sC,KAAK0pC,gBAClC9nC,YAAUmkC,sBAAsB/lC,KAAK0lC,eACrC9jC,YAAUirC,oBAAoB7sC,KAAK2pC,qBA7D3C,KCsBaqtB,GAAsB,SAAC5lD,EAAKnR,EAAO6R,GAE5C,IAAMmlD,EAAgBh3D,EAAM0Q,eAAe,YAAgC,IAAlB1Q,EAAMi3D,QAAiB,CAAEhyD,QAAS,kBAAoB,GAEzGqoC,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,yBACHxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCrK,MAAO,OACPoN,OAAQ,OACRgD,MAAO,QAPX,iBAQeu4B,EAAG,GARlB,aAQyBA,EAAG,IAAO,CACpCroC,QAAS,UAED+xD,IAeEE,GAAgB,SAAArlD,GAEzB,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAEhC,OAAO,aACNtL,MAAO,oBACPa,QAAS,IACTi0C,SAAU,IACVx0C,QAAS,OACTC,cAAe,UALhB,iBAMYooC,EAAG,GANf,aAMsBA,EAAG,IAAO,CAC9B3oC,MAAO,iCAKGwyD,GAAgB,SAACtlD,GAE1B,MAAO,CACHwI,OAAQ,IACR5V,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ3P,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZhgC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMI,WAInBkoD,GAAkB,SAAC72D,EAAOsR,GAEnC,IAAIiD,EAAS,GAqCb,OApCIjD,EAAQxQ,OAASM,YAAU+yB,YAAYC,WAEvC7f,EAAS,CACLpQ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM+K,MAC9Bk1B,cAAe,cAGI,YAAnBpkC,EAAM6U,WACNN,EAAS,CACLpQ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9Bm1B,cAAe,eAInBpkC,EAAM82D,SACNviD,EAAS,CACLpQ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9Bm1B,cAAe,OACfghB,UAAW,YAIZ9zC,EAAQxQ,OAASM,YAAU+yB,YAAYG,aAE9C/f,EAAS,CACLpQ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,WAG9BjP,EAAM82D,SACNviD,EAAS,CACLpQ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9Bm2C,UAAW,YAKhB,aACHlhD,SAAU,OACVE,MAAO,QACJmQ,IAeEwiD,GAAkB,SAACnmD,EAAKU,EAAS0lD,GAE1C,IAAMC,EAAWD,EAAe,CAC5BjyD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,qBAClC,CACA3J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,eAGtC,MAAO,CACHrK,MAAO,OACPoN,OAAQ,OACRtM,OAAQ,UACRR,QAAS,OACTE,WAAY,SACZkV,OAAQ,aACR,EAAI,aACA1V,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,8BACDqmD,KCtKA,OAA0B,iCCA1B,OAA0B,uCCA1B,OAA0B,uCCA1B,OAA0B,iCCmCnCC,G,kDAIL,WAAYz3D,GAAQ,IAAD,8BAClB,cAAMA,IAqFP03D,iBAAmB,WAClB,IAAI5iD,EAAS,GACPM,EAAW,EAAKvD,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYC,OAASj2D,YAAUg2D,YAAYC,OAASj2D,YAAUg2D,YAAYE,QAElI,GAAI,EAAKhmD,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYE,SAAW,EAAKhmD,QAAQmF,KAAK8gD,aAAc,CACjG,IAAMC,EAA8C,IAAjC,EAAKlmD,QAAQmF,KAAK8gD,aAC/B1R,EAAc9P,KAAWyhB,EAAY,wBAE3CjjD,EAAM,UAAMyB,GAAW0D,UAAU,iBAAkB,EAAKja,MAAMka,MAAxD,aAAkEksC,QAC9D,EAAKv0C,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYE,QAC7D/iD,EAASyB,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,MAC1C,EAAKrI,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYC,SAC7D9iD,EAASyB,GAAW0D,UAAU,SAAU,EAAKja,MAAMka,OAGpD,EAAKjW,SAAS,CAAC6Q,OAAQA,EAAQM,SAAUA,KArGvB,EAwGnB4iD,kBAAoB,WACnB,IAAIC,EAAc1hD,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,MACvDpF,EAAM,UAAM,EAAKjD,QAAQmF,KAAKq6B,aAAxB,YAAwC4mB,GACpD,EAAKh0D,SAAS,CAAC6Q,OAAQA,KA3GL,EAmHnBojD,aAAe,SAACrhD,EAAKG,EAAMmhD,GAAe,IAAD,EACxC,OAAQthD,GACP,KAAKnI,GACL,KAAKA,GACJ,GAAI,EAAKmD,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa,EAAK9iB,QAAQmF,KAAK/U,MAAQ+U,EAAK/U,IAAK,CAGhG,IAAsC,IAAlC,EAAK1B,MAAM63D,mBACd,OAAO,EAGR,IAAItjD,EAAS,GACTkC,EAAKlC,SAAWnT,YAAUg2D,YAAYE,QACzC/iD,EAASyB,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,UAC5CQ,EAAKlC,SAAWnT,YAAUg2D,YAAYC,SAChD9iD,EAASyB,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,WAEtD,EAAKvS,SAAS,CAAC6Q,OAAQA,EAAQM,SAAU4B,EAAKlC,SAE/C,MAED,KAAKpG,GACL,KAAKA,GACL,KAAKA,GACJ,GAAI,EAAKmD,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQmF,KAAK9F,OAAS8F,EAAK9F,OAAQ,YAAKsgB,oBAAL,eAAmBvvB,QAAnB,OAA2Bk2D,QAA3B,IAA2BA,OAA3B,EAA2BA,EAAWl2D,KAAK,CAChJ,IAAIovC,EAAe1U,SAAS3lB,EAAKq6B,cAC3Bv8B,EAAM,UAAMu8B,EAAN,YAAsB96B,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,WAC/E,EAAKvS,SAAS,CAAC6Q,OAAQA,IAExB,MACD,KAAKpG,GACJ,GAAI,EAAKmD,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQmF,KAAK9F,OAAS8F,EAAK9F,KAAM,CACnG,IAAImgC,EAAe1U,SAAS3lB,EAAKq6B,cAC3Bv8B,EAAM,UAAMu8B,EAAN,YAAsB96B,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,WAC/E,EAAKvS,SAAS,CAAC6Q,OAAQA,IAExB,MACD,KAAKpG,GACJ,GAAI,EAAKmD,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQmF,KAAK9F,OAAS8F,EAAK9F,KAAM,CACnG,IAAImgC,EAAe1U,SAAS3lB,EAAKq6B,cAC3Bv8B,EAAM,UAAMu8B,EAAN,YAAsB96B,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,WAC/E,EAAKvS,SAAS,CAAC6Q,OAAQA,IAExB,MACD,KAAKpG,GACJ,EAAKkoD,gBAAgB5/C,GACrB,MACD,KAAKtI,GACJ,EAAKooD,cAAc9/C,KAnKH,EA0KnB4/C,gBAAkB,SAAA5/C,GAEjB,IAAMqhD,EAAa,SAAAC,IASwB,IAArC,EAAK/3D,MAAM0sD,uBACd,EAAKhpD,SAAS,CAACozD,OAAQiB,KAK1B,GAAI,EAAKzmD,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQxQ,OAAS2V,EAAKmoB,cAAgB,EAAKttB,QAAQmF,KAAK9F,OAAS8F,EAAKkoB,WAExIm5B,EADgB,UAAMrhD,EAAKmsB,OAAO1/B,KAAlB,YAA0B8S,GAAW0D,UAAU,YAAa,EAAKpI,QAAQ2E,iBAEnF,GAAI,EAAK3E,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa,EAAK9iB,QAAQxQ,OAAS2V,EAAKmoB,cAAgB,EAAKttB,QAAQmF,KAAK/U,MAAQ+U,EAAKmsB,OAAOlhC,IAAK,CAEzJo2D,EADgB,UAAM9hD,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,cA/LjD,EAoMnBsgD,cAAgB,SAAA9/C,GAEf,IAAMy4C,EAAY,YAQyB,IAArC,EAAKlvD,MAAM0sD,uBACd,EAAKhpD,SAAS,CAACozD,OAAQ,QAKtB,EAAKxlD,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQxQ,OAAS2V,EAAKmoB,cAAgB,EAAKttB,QAAQmF,KAAK9F,OAAS8F,EAAKkoB,YAExI,EAAK84B,oBACLvI,KAEU,EAAK59C,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa,EAAK9iB,QAAQxQ,OAAS2V,EAAKmoB,cAAgB,EAAKttB,QAAQmF,KAAK/U,MAAQ+U,EAAKmsB,OAAOlhC,MAEhJ,EAAK1B,MAAM6U,WAAazT,YAAUg2D,YAAYC,OACjD,EAAK3zD,SAAS,CAAC6Q,OAAQyB,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,UAAWpB,SAAUzT,YAAUg2D,YAAYC,SAE9G,EAAKF,mBAGNjI,MAjOiB,EAqOnBpb,cAAgB,SAAC5gB,EAAOH,GACvB,IAAMyH,EAAOtH,EAAMqf,OAInB,GAHoB/X,EAAK8H,aACL9H,EAAKG,YAGxB,OAAO,EAGJ5H,EACHyH,EAAKuZ,aAAa,QAASvZ,EAAKke,aAEhCle,EAAKyZ,gBAAgB,UAjPJ,EAqPnB+jB,UAAY,WACX,EAAK1mD,QAAQoF,QAAQ,IACrB,EAAKjX,MAAMq+B,gBAAgB3vB,GAAA,iBAvPT,EA6PnBu+C,sBAAwB,WACvB,EAAKp7C,QAAQ0D,mBAAmBwV,4BAC9BnpB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM0sD,uBAC3B,EAAKhpD,SAAS,CAACgpD,sBAAuB7pD,OAGvCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAM0sD,uBACd,EAAKhpD,SAAS,CAACgpD,uBAAuB,QAtQvB,EA2QnBuL,qBAAuB,aA3QJ,EA6QnBC,qBAAuB,WACtB,EAAK5mD,QAAQ0D,mBAAmB+T,0BAC9B1nB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMk4D,sBAC3B,EAAKx0D,SAAS,CAACw0D,qBAAsBr1D,OAGtCT,OAAM,SAAAnB,IACkC,IAApC,EAAKjB,MAAMk4D,sBACd,EAAKx0D,SAAS,CAACw0D,sBAAsB,QAzRtB,EA8RnBC,wBAA0B,WACzB,EAAK7mD,QAAQ0D,mBAAmBiU,6BAC9B5nB,MAAK,SAAAwB,GAIL,IAAMu1D,EAAmBv1D,IAAa,EAAKyO,QAAQmF,KAAKm8B,YACpDwlB,IAAqB,EAAKp4D,MAAMm4D,yBACnC,EAAKz0D,SAAS,CAACy0D,wBAAyBC,OAGzCh2D,OAAM,SAAAnB,IACqC,IAAvC,EAAKjB,MAAMm4D,yBACd,EAAKz0D,SAAS,CAACy0D,yBAAyB,QA3SzB,EAgTnBE,wBAA0B,WACzB,EAAK/mD,QAAQ0D,mBAAmB6T,6BAC9BxnB,MAAK,SAAAwB,GAIL,IAAMu1D,EAAmBv1D,IAAa,EAAKyO,QAAQmF,KAAKm8B,YACpDwlB,IAAqB,EAAKp4D,MAAMq4D,yBACnC,EAAK30D,SAAS,CAAC20D,wBAAyBD,OAGzCh2D,OAAM,SAAAnB,IACqC,IAAvC,EAAKjB,MAAMq4D,yBACd,EAAK30D,SAAS,CAAC20D,yBAAyB,QA7TzB,EAkUnBR,mBAAqB,WACpB,EAAKvmD,QAAQ0D,mBAAmBC,wBAC9B5T,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM63D,oBAC3B,EAAKn0D,SAAS,CAACm0D,mBAAoBh1D,OAGpCT,OAAM,SAAAnB,IACgC,IAAlC,EAAKjB,MAAM63D,oBACd,EAAKn0D,SAAS,CAACm0D,oBAAoB,QA3UpB,EAgVnBS,sBAAwB,WACvB,EAAKhnD,QAAQ0D,mBAAmBgT,8BAC9B3mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMs4D,uBAC3B,EAAK50D,SAAS,CAAC40D,sBAAuBz1D,OAGvCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAMs4D,uBACd,EAAK50D,SAAS,CAAC40D,uBAAuB,QA5VvB,EAiWnBC,kBAAoB,WACnB,EAAKjnD,QAAQ0D,mBAAmB+S,oCAC9B1mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMu4D,mBAC3B,EAAK70D,SAAS,CAAC60D,kBAAmB11D,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMu4D,mBACd,EAAK70D,SAAS,CAAC60D,mBAAmB,QA7WnB,EAkXnBC,uBAAyB,WACxB,EAAKlnD,QAAQ0D,mBAAmBkV,+BAC9B7oB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMw4D,wBAC3B,EAAK90D,SAAS,CAAC80D,uBAAwB31D,OAGxCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAMw4D,wBACd,EAAK90D,SAAS,CAAC80D,wBAAwB,QA9XxB,EAmYnBC,sBAAwB,WACvB,EAAKnnD,QAAQ0D,mBAAmBoV,+BAC9B/oB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMy4D,uBAC3B,EAAK/0D,SAAS,CAAC+0D,sBAAuB51D,OAGvCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAMy4D,uBACd,EAAK/0D,SAAS,CAAC+0D,uBAAuB,QA/YvB,EAoZnBC,kBAAoB,WACnB,EAAKpnD,QAAQ0D,mBAAmB8S,yBAC9BzmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM04D,mBAC3B,EAAKh1D,SAAS,CAACg1D,kBAAmB71D,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM04D,mBACd,EAAKh1D,SAAS,CAACg1D,mBAAmB,QAhanB,EAqanBC,uBAAyB,WACxB,EAAKrnD,QAAQ0D,mBAAmB4S,+BAC9BvmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM24D,wBAC3B,EAAKj1D,SAAS,CAACi1D,uBAAwB91D,OAGxCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAM24D,wBACd,EAAKj1D,SAAS,CAACi1D,wBAAwB,QAjbxB,EAsbnBC,iBAAmB,WAClB,EAAKtnD,QAAQ0D,mBAAmBqS,2BAC9BhmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM44D,kBAC3B,EAAKl1D,SAAS,CAACk1D,iBAAkB/1D,OAGlCT,OAAM,SAAAnB,IAC8B,IAAhC,EAAKjB,MAAM44D,kBACd,EAAKl1D,SAAS,CAACk1D,kBAAkB,QAlclB,EAucnBC,kBAAoB,WACnB,EAAKvnD,QAAQ0D,mBAAmByS,uBAC9BpmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM64D,mBAC3B,EAAKn1D,SAAS,CAACm1D,kBAAmBh2D,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM64D,mBACd,EAAKn1D,SAAS,CAACm1D,mBAAmB,QAndnB,EAwdnBC,gBAAkB,WACjB,EAAKxnD,QAAQ0D,mBAAmB2U,qBAC9BtoB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM84D,iBAC3B,EAAKp1D,SAAS,CAACo1D,gBAAiBj2D,OAGjCT,OAAM,SAAAnB,IAC6B,IAA/B,EAAKjB,MAAM84D,iBACd,EAAKp1D,SAAS,CAACo1D,iBAAiB,QApejB,EAyenBC,kBAAoB,WACnB,EAAKt5D,MAAMq+B,gBAAgB3vB,GAAA,sBA1eT,EA6enB6qD,kBAAoB,WACnB,EAAKv5D,MAAMq+B,gBAAgB3vB,GAAA,sBA9eT,EAifnB8qD,WAAa,WACZ,EAAKx5D,MAAMq+B,gBAAgB3vB,GAAA,cA/e3B,EAAKnO,MAAQ,CACZuU,OAAQ,GACRM,SAAU,UACViiD,OAAQ,KACRmB,sBAAsB,EACtBC,sBAAsB,EACtBC,yBAAyB,EACzBE,yBAAyB,EACzBR,oBAAoB,EACpBS,uBAAuB,EACvBC,mBAAmB,EACnBC,wBAAwB,EACxBC,uBAAuB,EACvBC,mBAAmB,EACnBC,wBAAwB,EACxBC,kBAAkB,EAClBC,mBAAmB,EACnBC,iBAAiB,EACjBpM,uBAAuB,GArBN,E,qDAyBnB,WAAqB,IAAD,OAEnBtrD,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAExE3O,KAAK42D,qBAAuB,IAAIA,GAChC52D,KAAK42D,qBAAqBxyB,gBAAgBpkC,KAAKm4D,cAE3Cn4D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,UAC/C50B,KAAK23D,mBACK33D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,YACtD90B,KAAKi4D,oBAGNj4D,KAAKiX,KAAOjX,KAAK8R,QAAQmF,KAEzBjX,KAAKy4D,uBACLz4D,KAAK04D,uBACL14D,KAAK24D,0BACL34D,KAAK64D,0BACL74D,KAAKq4D,qBACLr4D,KAAK84D,wBACL94D,KAAK+4D,oBACL/4D,KAAKg5D,yBACLh5D,KAAKi5D,wBACLj5D,KAAKm5D,yBACLn5D,KAAKk5D,oBACLl5D,KAAKo5D,mBACLp5D,KAAKq5D,oBACLr5D,KAAKs5D,kBACLt5D,KAAKktD,0B,gCAGN,SAAmBl6C,EAAWw/C,GAEzBxyD,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAc50B,KAAKiX,OAASjX,KAAK8R,QAAQmF,MAAQjE,EAAUmH,OAASna,KAAKC,MAAMka,KAEpHna,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAe90B,KAAKiX,OAASjX,KAAK8R,QAAQmF,MAAQjE,EAAUmH,OAASna,KAAKC,MAAMka,MACtIna,KAAKi4D,oBAFLj4D,KAAK23D,mBAKN33D,KAAKiX,KAAOjX,KAAK8R,QAAQmF,KAEzBjX,KAAKy4D,uBACLz4D,KAAK04D,uBACL14D,KAAK24D,0BACL34D,KAAK64D,0BACL74D,KAAKq4D,qBACLr4D,KAAK84D,wBACL94D,KAAK+4D,oBACL/4D,KAAKg5D,yBACLh5D,KAAKi5D,wBACLj5D,KAAKm5D,yBACLn5D,KAAKk5D,oBACLl5D,KAAKo5D,mBACLp5D,KAAKq5D,oBACLr5D,KAAKs5D,kBACLt5D,KAAKktD,0B,kCA2BN,WACCltD,KAAK42D,qBAAqBtxB,kBAC1BtlC,KAAK42D,qBAAuB,O,oBAqY7B,WAAU,IAELjzD,EAAQ0R,EAFJ,OAGJqkD,EAAqB,yBACrBC,EAAqB,yBACrBC,EAAsB,0BACtBC,EAAoB,aACpBC,EAAoB,aACpBC,EAAsB,eAEtB/5D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAC/CjxB,EAAS,YAAC,GAAD,CAAiBtC,KAAMrB,KAAK8R,QAAQmF,OAC7C5B,EAAW,YAAC,GAAD,CAAuBN,OAAQ/U,KAAKQ,MAAM6U,SAAUxF,YAAa7P,KAAKC,MAAM8O,MAAMc,YAAYV,WAC/FnP,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aACtD+kC,EAAoB,cACpBC,EAAoB,cACpBC,EAAsB,iBACtBL,EAAqB,0BACrBC,EAAqB,0BACrBC,EAAsB,2BACtBj2D,EAAS,YAAC,GAAD,CAAiBsN,MAAOjR,KAAK8R,QAAQmF,QAG/C,IAAIqgD,EAAS,KACVt3D,KAAKQ,MAAM82D,SACbA,EACC,oBAAM7yD,IAAK4yD,GAAgBr3D,KAAKQ,MAAOR,KAAK8R,SAAUvN,UAAWw1D,GAC/D/5D,KAAKQ,MAAM82D,SAKf,IAAIviD,EACH,oBAAMtQ,IAAK4yD,GAAgBr3D,KAAKQ,MAAOR,KAAK8R,SAAUvN,UAAWw1D,GAC/D/5D,KAAKQ,MAAMuU,QAIRilD,EAAgBxjD,GAAW0D,UAAU,aAAcla,KAAK8R,QAAQ2E,UAClEwjD,EACH,mBAAK11D,UAAWo1D,EAAoBl1D,IAAK8yD,GAAgBhzB,GAAevkC,KAAK8R,QAAS,GAAImI,MAAO+/C,EAAe7lD,QAASnU,KAAKu5D,mBAC7H,uBAIF,GAAIv5D,KAAK8R,QAAQmiB,uBAAwB,CACxC,IAAM+lC,EAAgBxjD,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,UACpFwjD,EACC,mBAAK11D,UAAWo1D,EAAoBl1D,IAAK8yD,GAAgBhzB,GAAevkC,KAAK8R,QAAS,GAAImI,MAAO+/C,GAChG,uBAKH,IAAME,EAAgB1jD,GAAW0D,UAAU,aAAcla,KAAK8R,QAAQ2E,UAClE0jD,EACH,mBAAK51D,UAAWm1D,EAAoBj1D,IAAK8yD,GAAgB9yB,GAAezkC,KAAK8R,QAAS,GAAImI,MAAOigD,EAAe/lD,QAASnU,KAAKw5D,mBAC7H,uBAIF,GAAIx5D,KAAK8R,QAAQmiB,uBAAwB,CACxC,IAAMimC,EAAgB1jD,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,UACpF0jD,EACC,mBAAK51D,UAAWm1D,EAAoBj1D,IAAK8yD,GAAgB9yB,GAAezkC,KAAK8R,QAAS,GAAImI,MAAOigD,GAChG,uBAKH,ILhmB6BpoD,EKgmBvBsoD,EAAiB5jD,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,UACpE4jD,EACH,mBAAK91D,UAAWq1D,EAAqBn1D,IAAK8yD,GAAgB+C,GAAgBt6D,KAAK8R,QAAS,GAAImI,MAAOmgD,EAAgBjmD,QAASnU,KAAKy5D,YAChI,uBAOF,GAAIz5D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WACZ,IAA/B50B,KAAKQ,MAAM84D,kBAA8D,IAAjCt5D,KAAKQ,MAAM64D,oBACtDgB,EAAgB,WAEX,GAAIr6D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,WAAY,CAAC,IAAD,OAI9D,UAAA90B,KAAK8R,QAAQmF,YAAb,eAAmBw6B,SAAU7vC,YAAU4uB,mBAAmBG,aAIzB,IAAhC3wB,KAAKQ,MAAM44D,mBAA+D,IAAjCp5D,KAAKQ,MAAM64D,oBAAqE,IAAtCr5D,KAAKQ,MAAM24D,yBACjGkB,EAAgB,OAEP,UAAAr6D,KAAK8R,QAAQmF,YAAb,eAAmBw6B,SAAU7vC,YAAU4uB,mBAAmBE,WAIhC,IAAhC1wB,KAAKQ,MAAM44D,mBAA+D,IAAjCp5D,KAAKQ,MAAM64D,oBAAqE,IAAtCr5D,KAAKQ,MAAM24D,yBAA0E,IAAtCn5D,KAAKQ,MAAMw4D,yBAAyE,IAArCh5D,KAAKQ,MAAMy4D,wBAAoE,IAAjCj5D,KAAKQ,MAAMu4D,oBAC7OsB,EAAgB,OAEP,UAAAr6D,KAAK8R,QAAQmF,YAAb,eAAmBw6B,SAAU7vC,YAAU4uB,mBAAmBC,QAKnC,IAAhCzwB,KAAKQ,MAAM44D,mBACsB,IAAjCp5D,KAAKQ,MAAM64D,oBAC2B,IAAtCr5D,KAAKQ,MAAM24D,yBAC2B,IAAtCn5D,KAAKQ,MAAMw4D,yBAC0B,IAArCh5D,KAAKQ,MAAMy4D,wBACsB,IAAjCj5D,KAAKQ,MAAMu4D,oBACsB,IAAjC/4D,KAAKQ,MAAM04D,oBAC0B,IAArCl5D,KAAKQ,MAAMs4D,wBAEXuB,EAAgB,MAoBnB,OAdKr6D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,YAAoD,IAAvC50B,KAAKQ,MAAMm4D,yBAAuC34D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aAAkD,IAApC90B,KAAKQ,MAAMi4D,wBACpLwB,EAAe,OAIXj6D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,YAAoD,IAAvC50B,KAAKQ,MAAMq4D,yBAAuC74D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aAAkD,IAApC90B,KAAKQ,MAAMk4D,wBACpLyB,EAAe,OAIsB,IAAlCn6D,KAAKQ,MAAM63D,oBAAgCr4D,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,YAC1F7f,EAAS,MAIT,mBAAKtQ,KLnqBuBqN,EKmqBF9R,KAAK8R,QLjqB1B,CACNrM,QAAS,OACTb,MAAO,OACPW,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDgE,OAAQ,IACR05B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,OACTC,cAAe,MACfE,eAAgB,kBKypB0Bd,UAAU,gBAClD,mBAAKE,ILppBE,CACHS,QAAS,OACTC,cAAe,MACfC,WAAY,SACZR,MAAO,sBKgpBkBL,UAAU,iBACtC,mBAAKE,IAAKuyD,GAAoBuD,GAAUv6D,KAAKC,MAAOD,KAAK8R,SAAUvN,UAAU,qBAAqB4P,QAASnU,KAAKw4D,YAChH,mBAAK/zD,ILvnBC,CACHS,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACR+H,WAAY,IACZO,OAAQ,UKknBqB/V,UAAU,mBACxCZ,EACA0R,GAEF,mBAAK5Q,IAAK0yD,GAAcn3D,KAAK8R,SAAUvN,UAAWs1D,GACjD,kBAAIp1D,IAAK2yD,GAAcp3D,KAAK8R,SAAUvN,UAAWu1D,EAAmB9kB,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KAC3K1zB,KAAK8R,QAAQmF,KAAKvT,MAEnB4zD,GAAkBviD,IAGrB,mBAAKtQ,IL1iBE,CACHS,QAAS,OACTC,cAAe,MACfE,eAAgB,gBAChBD,WAAY,SACZR,MAAO,QKqiBsBL,UAAU,iBACzC41D,EACAF,EACAI,Q,GAnpB+B15D,IAAMC,WAArC82D,GAEE53B,YAAc3qB,GAypBtBuiD,GAAuBjkD,aAAe,CACpC1E,MAAOA,GACPkI,KAAM,GACN3V,KAAM,I,ICpnBOk5D,G,aAnEd,WAAY1oD,GAAU,IAAD,oCAJrBy0C,WAAa,GAIQ,KAHrB3sC,MAAQ,KAGa,KA4BrB6gD,cAAgB,WAEf,IAAMlU,EAAU,eAAO,EAAKA,YAE5B,OAAO,IAAIj/B,SAAQ,SAAAC,GAClB,EAAKzV,QAAQ0D,mBAAmBkT,+BAC9B7mB,MAAK,SAAAwB,GAIL,OAHiB,IAAbA,UACIkjD,EAAW3kD,YAAUsuC,iBAEtBqW,KAEP3jD,OAAM,SAAAnB,GAEN,cADO8kD,EAAW3kD,YAAUsuC,iBACrBqW,KAEP1kD,MAAK,SAAA0kD,GACL,EAAKz0C,QAAQ0D,mBAAmB6S,8BAC9BxmB,MAAK,SAAAwB,IACY,IAAbA,UACIkjD,EAAW3kD,YAAUg0C,eAE7BruB,EAAQg/B,MAER3jD,OAAM,SAAAnB,UACC8kD,EAAW3kD,YAAUg0C,eAC5BruB,EAAQg/B,aAtDO,KA4DrBmU,SAAW,WAEJ,IAAM9gD,EAAK,eAAO,EAAKA,OACvB,OAAO,IAAI0N,SAAQ,SAAAC,GAAO,OAAIA,EAAQ3N,OA7DtC5Z,KAAK8R,QAAUA,EAErB9R,KAAKumD,YAAL,mBACE3kD,YAAUovC,iBAAmBpvC,YAAUovC,kBADzC,cAEEpvC,YAAUm0C,gBAAkBn0C,YAAUm0C,iBAFxC,cAGEn0C,YAAUsuC,gBAAkBtuC,YAAUsuC,iBAHxC,cAIEtuC,YAAUg0C,cAAgBh0C,YAAUg0C,eAJtC,GAOA51C,KAAK4Z,OAAL,mBACEhY,YAAU61C,aAAaC,KAAO91C,YAAU61C,aAAaC,MADvD,cAEE91C,YAAU61C,aAAaG,MAAQh2C,YAAU61C,aAAaG,OAFxD,cAGEh2C,YAAU61C,aAAajT,MAAQ5iC,YAAU61C,aAAajT,OAHxD,cAIE5iC,YAAU61C,aAAa5uC,MAAQjH,YAAU61C,aAAa5uC,OAJxD,cAKEjH,YAAU61C,aAAaK,KAAOl2C,YAAU61C,aAAaK,MALvD,cAMEnpC,GAAyBA,IAN3B,cAOEA,GAA4BA,IAP9B,cAQEA,GAA6BA,IAR/B,cASEA,GAA+BA,IATjC,cAUEA,GAA4BA,IAV9B,cAWE/M,YAAU+yB,YAAYwb,kBAAoBvuC,YAAU+yB,YAAYwb,mBAXlE,cAYEvuC,YAAU68B,UAAU51B,MAAQjH,YAAU68B,UAAU51B,OAZlD,cAaEjH,YAAU68B,UAAU+F,MAAQ5iC,YAAU68B,UAAU+F,OAblD,MChBWm2B,GAAb,WAYI,WAAY7oD,EAASmF,EAAM3V,EAAMsuD,GAAkB,IAAD,gCAVlD34C,KAAO,GAU2C,KATlD3V,KAAO,GAS2C,KARlDsuD,gBAAkB,KAQgC,KAPlDgL,eAAiB,KAOiC,KANlDC,MAAQ,GAM0C,KAJlDn1B,cAAgB,YAAa,IAAIt3B,MAAOC,UAIU,KAHlDs7B,gBAAkB,UAAW,IAAIv7B,MAAOC,UAGU,KAFlDF,eAAiB,SAAU,IAAIC,MAAOC,UAEY,KAQlDysD,yBAA2B,WAEvB,OAAO,IAAIxzC,SAAQ,SAAAC,GAEf,IAAIg/B,EAAa,GACb3sC,EAAQ,GAERmhD,EAAuB,IAAIP,GAAc,EAAK1oD,SAElDipD,EACKN,gBACA54D,MAAK,SAAAm5D,GAAY,OAAIzU,EAAa91C,OAAOC,KAAKsqD,MAC9Cn5D,MAAK,kBAAMk5D,EAAqBL,cAChC74D,MAAK,SAAAo5D,GAAQ,OAAIrhD,EAAQnJ,OAAOC,KAAKuqD,MACrCp5D,MAAK,kBAAM,EAAKiQ,QAAQ0D,mBAAmBqT,kCAC3ChnB,MAAK,SAAA0f,GACE,EAAKjgB,OAASM,YAAU+yB,YAAYC,WAChC,EAAKg7B,gBACL,EAAKgL,gBAAiB,IAAIh5D,YAAUs5D,wBAAyBC,OAAO,EAAKlkD,KAAK/U,KAAK2tD,mBAAmB,EAAKD,iBAAiBwL,cAAc7U,GAAY8U,SAASzhD,GAAO2H,oBAAoBA,GAAqBuoB,SAAS,EAAK+wB,OAAO58B,QAEpO,EAAK28B,gBAAiB,IAAIh5D,YAAUs5D,wBAAyBC,OAAO,EAAKlkD,KAAK/U,KAAKk5D,cAAc7U,GAAY8U,SAASzhD,GAAO0hD,aAAY,GAAM/5C,oBAAoBA,GAAqBuoB,SAAS,EAAK+wB,OAAO58B,QAEjN1W,EAAQ,EAAKqzC,iBACN,EAAKt5D,OAASM,YAAU+yB,YAAYG,aACvC,EAAK86B,gBACL,EAAKgL,gBAAiB,IAAIh5D,YAAUs5D,wBAAyBK,QAAQ,EAAKtkD,KAAK9F,MAAM0+C,mBAAmB,EAAKD,iBAAiBwL,cAAc7U,GAAY8U,SAASzhD,GAAO2H,oBAAoBA,GAAqBuoB,SAAS,EAAK+wB,OAAO58B,QAEtO,EAAK28B,gBAAiB,IAAIh5D,YAAUs5D,wBAAyBK,QAAQ,EAAKtkD,KAAK9F,MAAMiqD,cAAc7U,GAAY8U,SAASzhD,GAAO0hD,aAAY,GAAM/5C,oBAAoBA,GAAqBuoB,SAAS,EAAK+wB,OAAO58B,QAEnN1W,EAAQ,EAAKqzC,wBAnC7B56D,KAAKiX,KAAOA,EACZjX,KAAKsB,KAAOA,EACZtB,KAAK4vD,gBAAkBA,EACvB5vD,KAAK8R,QAAUA,EAjBvB,yDAwDI,WACI,OAAO9R,KAAK46D,eAAeY,kBAzDnC,6BA4DI,SAAgBltD,GAEZ1M,YAAU+jC,mBACN3lC,KAAK0lC,cACL,IAAI9jC,YAAUgkC,gBAAgB,CAC1BsG,sBAAuB,SAAAC,GACnB79B,EAASK,EAA6Bw9B,IAE1CC,uBAAwB,SAAAC,GACpB/9B,EAASK,EAA8B09B,IAE3CxG,wBAAyB,SAAAC,GACrBx3B,EAASK,EAA+Bm3B,IAE5C21B,oBAAqB,SAAA9uB,GACjBr+B,EAASK,EAAyBg+B,IAEtCD,eAAgB,SAAAC,GACZr+B,EAASK,EAAoBg+B,IAEjCL,iBAAkB,SAAAC,GACdj+B,EAASK,EAAuB49B,IAEpCC,gBAAiB,SAAAC,GACbn+B,EAASK,EAAsB89B,IAEnCivB,2BAA4B,SAAAnT,GACxBj6C,EAASK,EAAkC45C,OAKvD3mD,YAAU0oC,iBACNtqC,KAAK2pC,gBACL,IAAI/nC,YAAU2oC,cAAc,CACxBC,0BAA2B,SAAC1lC,EAAS2lC,EAAaC,EAAUC,EAAUC,GAClEt8B,EAASK,GAAkC7J,EAAS8lC,EAAc,CAAC,KAAQH,EAAa,MAASC,KAErGG,oBAAqB,SAAC/lC,EAASgmC,EAAYC,EAAUC,GACjD18B,EAASK,GAA2B7J,EAASkmC,EAAY,CAAC,KAAQF,EAAY,WAAa,KAE/FG,oBAAqB,SAACnmC,EAASomC,EAAYC,EAAUC,GACjD98B,EAASK,GAA2B7J,EAASsmC,EAAY,CAAC,KAAQF,KAEtEG,sBAAuB,SAACvmC,EAASwmC,EAAcC,EAAYC,GACvDl9B,EAASK,GAA6B7J,EAAS0mC,EAAc,CAAC,KAAQF,KAE1EG,qBAAsB,SAAC3mC,EAAS4mC,EAAWC,EAAaC,GACpDt9B,EAASK,GAA0B7J,EAAS8mC,EAAa,CAAC,KAAQF,EAAW,WAAa,KAE9FG,kBAAmB,SAAC/mC,EAASgnC,EAAa76B,GACtC3C,EAASK,GAAyB7J,EAASmM,EAAO,CAAC,KAAQ66B,KAE/DC,oBAAqB,SAACjnC,EAASknC,EAAYC,GACvC39B,EAASK,GAA2B7J,EAASmnC,EAAa,CAAC,KAAQD,QAK/EpqC,YAAU2M,gBACNvO,KAAKmO,eACL,IAAIvM,YAAU4M,aAAa,CACvBC,uBAAwB,SAAAC,GACtBJ,EAASK,EAA8BD,IAEzCE,wBAAyB,SAAAF,GACrBJ,EAASK,GAA+BD,IAE5CG,uBAAwB,SAAAH,GACpBJ,EAASK,EAA8BD,IAE3Co2B,uBAAwB,SAAAp2B,GACtBJ,EAASK,EAA8BD,SApIzD,6BA0II,WAEI9M,YAAUmkC,sBAAsB/lC,KAAK0lC,eACrC9jC,YAAUirC,oBAAoB7sC,KAAK2pC,iBACnC/nC,YAAUkN,mBAAmB9O,KAAKmO,oBA9I1C,KCLawtD,GAAgB,SAAA7pD,GAE5B,MAAO,CACNvM,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDgE,OAAQ,IACR/O,MAAO,OACPy9C,KAAM,QACNsJ,MAAO,IACP93C,SAAU,aAiCC+nD,GAAmB,SAAA9pD,GAE/B,MAAO,CACNrM,QAAS,WACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClDzK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9B3J,aAAc,SCJVq2D,G,kDAQL,WAAY57D,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IARd2f,aAAe,KAOa,EAN5BqqC,cAAgB,EAMY,EAL5BC,MAAQ,EAKoB,EAJ5B9kD,KAAO,GAIqB,EA+F5B+kD,eAAiB,WAAuB,IAAtBpqB,EAAqB,uDAAN,EAE5B,EAAKqqB,cACR,EAAKA,YAAYpqB,UAAY,EAAKoqB,YAAYrqB,aAAeA,IAlGnC,EAsG5BsqB,eAAiB,SAACjlD,GAA+D,IAAzDqnB,EAAwD,uDAAtC3vB,GAAA,iBACzC,EAAKwtD,gBACHt6D,MAAK,SAAAu6D,GACsB,IAAvBA,EAAY7rD,OACf,EAAKrM,SAAS,CAAEiuC,iBAAkB,sBAElC,EAAKjuC,SAAS,CAAEiuC,iBAAkB,KAInC,EAAKkqB,aAAeD,EAAY7rD,OAEhC6rD,EAAYx5B,SAAQ,SAAA99B,GAAY,IAAD,EAE1BA,EAAQurC,YAAYisB,YAApB,UAAiC,EAAK97D,MAAMixB,oBAA5C,aAAiC,EAAyBvvB,OAE7D,EAAKmtC,uBAAuBvqC,IAGa,IAArCA,EAAQ6L,eAAe,YAC1B/O,YAAU26D,WAAWz3D,GAASlC,OAAM,SAAAnB,OACpC,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,aAA+B7J,QAK7D,EAAKg3D,cAAgB,EAAKG,YAAYrqB,cAGjC36B,EAAKtG,eAAe,QAAU,EAAKmB,QAAQmF,KAAKtG,eAAe,QAAUsG,EAAK/U,MAAQ,EAAK4P,QAAQmF,KAAK/U,KAAS+U,EAAKtG,eAAe,SAAW,EAAKmB,QAAQmF,KAAKtG,eAAe,SAAWsG,EAAK9F,OAAS,EAAKW,QAAQmF,KAAK9F,OAChO,EAAKlR,MAAMq+B,gBAAgBA,EAAiB89B,MAG7Cx5D,OAAM,SAAAnB,GAC6B,IAA/B,EAAKxB,MAAMu8D,SAASjsD,QACvB,EAAKrM,SAAS,CAAEiuC,iBAAkB,oBAG/B1wC,GAASA,EAAMkP,eAAe,SAAWlP,EAAMuC,SA5I1B,EAkJ5Bm4D,cAAgB,WASf,OARgB,IAAI70C,SAAQ,SAACC,EAASsJ,GACrC,EAAK8pC,mBAAmB8B,wBACtB56D,MAAK,SAAAu6D,GACL70C,EAAQ60C,MAERx5D,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,UAxJE,EA+J5Bi7D,eAAiB,SAAC5lD,EAAKhS,EAASmM,EAAOk+B,GAEtC,OAAQr4B,GAEP,KAAKnI,EACJ,EAAK29B,iBAAiBxnC,GACtB,MACD,KAAK6J,EACJ,EAAK69B,gBAAgB1nC,GACrB,MACD,KAAK6J,EACL,KAAKA,EACJ,EAAKguD,0BAA0B73D,GAC/B,MACD,KAAK6J,EACL,KAAKA,EACJ,EAAKiuD,kBAAkB93D,GACvB,MACD,KAAK6J,EACJ,EAAKk3B,wBAAwB/gC,GAC7B,MACD,KAAK6J,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACJ,EAAKkuD,eAAe/lD,EAAKhS,EAASmM,EAAOk+B,GACzC,MACD,KAAKxgC,EACL,KAAKA,GACL,KAAKA,EACL,KAAKA,EACJ,EAAKmuD,cAAchmD,EAAKhS,GACxB,MACD,KAAK6J,EACJ,EAAK+sD,2BAA2B5kD,EAAKhS,KApMZ,EA2M5BwnC,iBAAmB,SAAAxnC,IACd,EAAKgN,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MAE7J,EAAKW,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,MAAQnpC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,MAD5K,EAAKjC,MAAMq+B,gBAAgB3vB,GAAA,mBAAqC,CAAC7J,KA7MvC,EAmN5B0nC,gBAAkB,SAAA1nC,GAAY,IAAD,IACtBs3D,EAAW,aAAO,EAAKn8D,MAAMu8D,UAC7BO,EAAsB,SAAAj4D,GAC3B,IAAIk4D,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ2rC,MAE7D,GAAIusB,GAAc,EAAG,CACpB,IAAME,EAAad,EAAYY,GACzB3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAYp4D,GAEpDs3D,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKppC,MAAMq+B,gBAAgB3vB,GAAA,kBAAoCytD,EAAa/yB,MAI1E,EAAKv3B,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MAE7J,EAAKW,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,OAAQ,YAAKztC,MAAMixB,oBAAX,eAAyBvvB,OAAQ4C,EAAQwrC,iBAAmBxrC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,KAE9N,EAAK4P,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,OAAQ,YAAKztC,MAAMixB,oBAAX,eAAyBvvB,OAAQ4C,EAAQurC,YAAYnuC,KAAO4C,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK/U,MAHxO66D,EAAoBj4D,IAlOM,EA0O5B63D,0BAA4B,SAAA73D,GAAY,IAAD,EAGtC,GAAIA,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,MAAQnpC,EAAQurC,YAAYisB,WAAa,EAAKxqD,QAAQmF,KAAK/U,KAAO4C,EAAQq4D,iBAAR,UAA0B,EAAK38D,MAAMixB,oBAArC,aAA0B,EAAyBvvB,KAAK,CACnL,IAAIk6D,EAAW,aAAO,EAAKn8D,MAAMu8D,UAEjC,GAAiC,aAA7B13D,EAAQs4D,iBAAiC,CAG5C,IAAIJ,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ0rC,aAE7D,GAAIwsB,GAAc,EAAG,CACpB,IAAIE,EAAad,EAAYY,GACzB3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY,CAAEG,YAAav4D,EAAQw4D,mBAEzElB,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKppC,MAAMq+B,gBAAgB3vB,GAAA,0BAA4CytD,SAElE,GAAiC,SAA7Bt3D,EAAQs4D,iBAA6B,CAE/C,IAAIJ,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ0rC,aAE7D,GAAIwsB,GAAc,EAAG,CACpB,IAAIE,EAAU,eAAQd,EAAYY,IAC9B3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY,CAAEK,OAAQz4D,EAAQ04D,cAEpEpB,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKppC,MAAMq+B,gBAAgB3vB,GAAA,0BAA4CytD,UAG/Dt3D,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,QAAS/jC,EAAQq4D,cAAkB,EAAKrrD,QAAQmF,KAAK9F,OAxQ3F,EA6Q5BssD,2BAA6B,YACyB,IAAjD,EAAKx9D,MAAM0Q,eAAe,qBAC7B,EAAK0rD,aAAe,GAGrB,EAAKp8D,MAAMq+B,gBAAgB3vB,GAAA,oBAAsC,IACjE,EAAKzK,SAAS,CAAEiuC,iBAAkB,YAClC,EAAKwoB,mBAAmBr1B,kBAEpB,EAAKrlC,MAAM2vD,gBACd,EAAK+K,mBAAqB,IAAIA,GAAmB,EAAK7oD,QAAS,EAAKA,QAAQmF,KAAM,EAAKnF,QAAQxQ,KAAM,EAAKrB,MAAM2vD,iBAEhH,EAAK+K,mBAAqB,IAAIA,GAAmB,EAAK7oD,QAAS,EAAKA,QAAQmF,KAAM,EAAKnF,QAAQxQ,MAGhG,EAAKq5D,mBAAmBG,2BAA2Bj5D,MAAK,WACvD,EAAKq6D,eAAe,EAAKpqD,QAAQmF,KAAMtI,GAAA,oBACvC,EAAKgsD,mBAAmBv2B,gBAAgB,EAAKs4B,oBA9RnB,EAmS5BrtB,uBAAyB,SAAAvqC,GAAY,IAAD,KAE/B,UAAAA,EAAQs+B,cAAR,eAAgBlhC,QAAhB,UAAwB,EAAK1B,MAAMixB,oBAAnC,aAAwB,EAAyBvvB,OAAiD,IAA1C4C,EAAQ6L,eAAe,gBAClF/O,YAAU2tC,gBAAgBzqC,GAASlC,OAAM,SAAAnB,QAtSf,EA0S5Bi8D,kBAAoB,SAAC54D,EAASxD,IACY,IAArCwD,EAAQ6L,eAAe,WAC1B/O,YAAU26D,WAAWz3D,GAASlC,OAAM,SAAAnB,QA5SV,EAgT5Bm7D,kBAAoB,SAAA93D,GAQnB,GALA,EAAKuqC,uBAAuBvqC,GAKxB,EAAKgN,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,KACvK,EAAKwsD,uBAAuB74D,EAASlD,YAAUgnC,cAAcC,YACvD,GAAI,EAAK/2B,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,KAAM,CAAC,IAAD,KAMvHnpC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,KAAO4C,EAAQwrC,mBAAR,UAA4B,EAAK9vC,MAAMixB,oBAAvC,aAA4B,EAAyBvvB,MAAS4C,EAAQurC,YAAYnuC,OAApB,UAA4B,EAAK1B,MAAMixB,oBAAvC,aAA4B,EAAyBvvB,MAAO4C,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK/U,MACjO,EAAKy7D,uBAAuB74D,EAASlD,YAAUgnC,cAAcqF,QAjUpC,EAsU5B0vB,uBAAyB,SAAC74D,EAASxD,IAEgB,IAA9CwD,EAAQ6L,eAAe,qBAAiF,IAAjD,EAAK1Q,MAAM0Q,eAAe,sBAClF,EAAK0rD,aAEH,EAAKJ,YAAYrqB,aAAe,EAAKqqB,YAAYpqB,UAAY,EAAKoqB,YAAY5gC,cAAgB,EAC7F,EAAKghC,aAAe1tD,GAAA,kBACvB,EAAK8uD,8BAEL,EAAKC,kBAAkB54D,EAASxD,GAChC,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAAC7J,KAIhE,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC7J,MAEJ,IAA9CA,EAAQ6L,eAAe,qBAAgF,IAAjD,EAAK1Q,MAAM0Q,eAAe,oBACtF7L,EAAQ8qD,kBAAoB,EAAK3vD,MAAM2vD,iBAC1C,EAAK8N,kBAAkB54D,EAASxD,GAGjC,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAAC7J,KAE/D,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,CAAC7J,KA7VrC,EAkW5B+gC,wBAA0B,SAAA/gC,GAAY,IAAD,IAEpC,EAAKuqC,uBAAuBvqC,GAI3B,EAAKgN,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAC9C/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,QACtD,YAAKroC,MAAMixB,oBAAX,eAAyBvvB,OAAQ4C,EAAQurC,YAAYnuC,KACrD4C,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MAC7CrM,EAAQxD,OAASqN,IAA0B7J,EAAQxD,OAASqN,IAA8B7J,EAAQxD,OAASqN,GAIlG,EAAKmD,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,KAC9K,EAAKysD,6BAA6B94D,EAASlD,YAAUgnC,cAAcC,OACzD,EAAK/2B,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,MAAQnpC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,IAC5K,EAAK07D,6BAA6B94D,EAASlD,YAAUgnC,cAAcqF,MAEnE,EAAKn8B,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAC9CnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,OACtD,YAAKztC,MAAMixB,oBAAX,eAAyBvvB,OAAQ4C,EAAQurC,YAAYnuC,KACrD4C,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK/U,KAC7C4C,EAAQxD,OAASqN,IAA0B7J,EAAQxD,OAASqN,IAA8B7J,EAAQxD,OAASqN,IAG5G,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C,CAAC7J,IAbtE,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C,CAAC7J,KA/W5C,EAgY5B84D,6BAA+B,SAAC94D,EAASxD,IAEU,IAA9CwD,EAAQ6L,eAAe,qBAAiF,IAAjD,EAAK1Q,MAAM0Q,eAAe,sBAClF,EAAK0rD,aAGH,EAAKJ,YAAYrqB,aAAe,EAAKqqB,YAAYpqB,UAAY,EAAKoqB,YAAY5gC,cAAgB,EAC7F,EAAKghC,aAAe1tD,GAAA,kBACvB,EAAK8uD,8BAEL,EAAKC,kBAAkB54D,EAASxD,GAChC,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C,CAAC7J,KAKvE,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,aAA+B,CAAC7J,MAEJ,IAA9CA,EAAQ6L,eAAe,qBAAgF,IAAjD,EAAK1Q,MAAM0Q,eAAe,oBACtF7L,EAAQ8qD,kBAAoB,EAAK3vD,MAAM2vD,iBAC1C,EAAK8N,kBAAkB54D,EAASxD,GAEjC,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C,CAAC7J,KAEtE,EAAK7E,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C,CAAC7J,KAxZ5C,EA4Z5Bg4D,cAAgB,SAAChmD,EAAKhS,IACjB,EAAKgN,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MAE7J,EAAKW,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,MAAQnpC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,MAD5K,EAAKjC,MAAMq+B,gBAAgBxnB,EAAKhS,IA9ZN,EAoa5B42D,2BAA6B,SAAC5kD,EAAKhS,IAE9B,EAAKgN,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MAE7J,EAAKW,QAAQxQ,OAASM,YAAUgnC,cAAcqF,MAAQnpC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcqF,MAAQnpC,EAAQurC,YAAYnuC,MAAQ,EAAK4P,QAAQmF,KAAK/U,MAD5K,EAAKjC,MAAMq+B,gBAAgBxnB,EAAKhS,IAvaN,EA6a5B+3D,eAAiB,SAAC/lD,EAAKhS,EAASmM,EAAOk+B,GAClC,EAAKr9B,QAAQxQ,OAASM,YAAUgnC,cAAcC,OAAS/jC,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OAAS/jC,EAAQwrC,kBAAoB,EAAKx+B,QAAQmF,KAAK9F,MACvK,EAAKlR,MAAMq+B,gBAAgBxnB,EAAKhS,EAAS,KAAMmM,EAAOk+B,IA/a5B,EAmb5BuC,aAAe,SAAAzX,GAEd,IAAM4X,EAAY5X,EAAE0X,cAAcE,UAC5BD,EAAe3X,EAAE0X,cAAcC,aAC/BvW,EAAepB,EAAE0X,cAActW,aAErC,EAAKygC,cAAgBlqB,EAAeC,EAEhC,EAAKiqB,gBAAkBzgC,GAC1B,EAAKp7B,MAAMq+B,gBAAgB3vB,GAAA,uBAGU,IAA1BmtB,KAAK6L,MAAMkK,IACZ,EAAK5xC,MAAMu8D,SAASjsD,QAC9B,EAAK2rD,eAAe,EAAKpqD,QAAQmF,OAjcP,EAqc5B4mD,0BAA4B,SAAA/4D,GAE3B,IAAIzE,EACE28D,EAAal4D,EAAQskC,IAAMtkC,EAAQskC,IAAMtkC,EAAQ2rC,GAEvD,GAAI3rC,EAAQ6L,eAAe,aAC1BtQ,EAAY,YAAC,GAAD,CAA8ByW,IAAKkmD,EAAYl4D,QAASA,SAEpE,OAAQA,EAAQxD,MACf,KAAKM,YAAU61C,aAAaC,KAC3Br3C,EAAY,YAAC,GAAD,CAAkCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC7G,MACD,KAAK18B,YAAU61C,aAAaG,MAC3Bv3C,EAAY,YAAC,GAAD,CAAmCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC9G,MACD,KAAK18B,YAAU61C,aAAaK,KAC3Bz3C,EAAY,YAAC,GAAD,CAAkCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC7G,MACD,KAAK18B,YAAU61C,aAAajT,MAC3BnkC,EAAY,YAAC,GAAD,CAAmCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC9G,MACD,KAAK18B,YAAU61C,aAAa5uC,MAC3BxI,EAAY,YAAC,GAAD,CAAmCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAOjH,OAAOj+B,GAleoB,EAqe5By9D,4BAA8B,SAAAh5D,GAE7B,IAAIzE,EACE28D,EAAal4D,EAAQskC,IAAMtkC,EAAQskC,IAAMtkC,EAAQ2rC,GAEvD,GAAI3rC,EAAQ6L,eAAe,aAC1BtQ,EAAY,YAAC,GAAD,CAA8ByW,IAAKkmD,EAAYl4D,QAASA,SAEpE,OAAQA,EAAQxD,MACf,KAAKM,YAAU61C,aAAaC,KAC3Br3C,EAAYyE,EAAQkyC,KAAO,YAAC,GAAD,CAAoClgC,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAAsB,KACpJ,MACD,KAAK18B,YAAU61C,aAAaG,MAC3Bv3C,EAAYyE,EAAQ4M,KAAKo1B,IAAM,YAAC,GAAD,CAAqChwB,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAAsB,KACzJ,MACD,KAAK18B,YAAU61C,aAAaK,KAC3Bz3C,EAAYyE,EAAQ4M,KAAK26C,YAAc,YAAC,GAAD,CAAoCv1C,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAAsB,KAChK,MACD,KAAK18B,YAAU61C,aAAa5uC,MAC3BxI,EAAYyE,EAAQ4M,KAAKo1B,IAAM,YAAC,GAAD,CAAqChwB,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAAsB,KACzJ,MACD,KAAK18B,YAAU61C,aAAajT,MAC3BnkC,EAAYyE,EAAQ4M,KAAKo1B,IAAM,YAAC,GAAD,CAAqChwB,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAAsB,KAM5J,OAAOj+B,GAjgBoB,EAogB5B09D,gCAAkC,SAAAj5D,GAEjC,IAAIzE,EACE28D,EAAal4D,EAAQskC,IAAMtkC,EAAQskC,IAAMtkC,EAAQ2rC,GAEvD,GAAI3rC,EAAQ6L,eAAe,aAC1BtQ,EAAY,YAAC,GAAD,CAA8ByW,IAAKkmD,EAAYl4D,QAASA,SAEpE,OAAQA,EAAQxD,MACf,KAAKqN,GACJtO,EAAY,YAAC,GAAD,CAAkCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC7G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAA8ByW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBACzG,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAA+ByW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC1G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC5G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAO/G,OAAOj+B,GAjiBoB,EAoiB5B29D,kCAAoC,SAAAl5D,GAEnC,IAAIzE,EACE28D,EAAal4D,EAAQskC,IAAMtkC,EAAQskC,IAAMtkC,EAAQ2rC,GAEvD,GAAI3rC,EAAQ6L,eAAe,aAC1BtQ,EAAY,YAAC,GAAD,CAA8ByW,IAAKkmD,EAAYl4D,QAASA,SAEpE,OAAQA,EAAQxD,MACf,KAAKqN,GACJtO,EAAY,YAAC,GAAD,CAAoCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC/G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAuCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAClH,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC5G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAmCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC9G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAmCyW,IAAKkmD,EAAYl4D,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAOjH,OAAOj+B,GAjkBoB,EAokB5B49D,0BAA4B,SAAAn5D,GAE3B,IAAMk4D,EAAal4D,EAAQskC,IAAMtkC,EAAQskC,IAAMtkC,EAAQ2rC,GACvD,OAAO,YAAC,GAAD,CAA8B35B,IAAKkmD,EAAYl4D,QAASA,KAvkBpC,EA0kB5Bo5D,aAAe,SAACp5D,EAASgS,GAAS,IAAD,QAC5BzW,EAEJ,OAAQyE,EAAQk6B,UACf,KAAKp9B,YAAUsuC,gBACf,KAAKtuC,YAAUg0C,cACdv1C,EAAY,EAAK49D,0BAA0Bn5D,GAC3C,MACD,KAAKlD,YAAUovC,iBAEb3wC,GADG,YAAKG,MAAMixB,oBAAX,eAAyBvvB,QAAzB,UAAiC4C,EAAQs+B,cAAzC,aAAiC,EAAgBlhC,KACxC,EAAK27D,0BAA0B/4D,GAE/B,EAAKg5D,4BAA4Bh5D,GAE9C,MACD,KAAKlD,YAAUm0C,gBAEb11C,GADG,YAAKG,MAAMixB,oBAAX,eAAyBvvB,QAAzB,UAAiC4C,EAAQs+B,cAAzC,aAAiC,EAAgBlhC,KACxC,EAAK67D,gCAAgCj5D,GAErC,EAAKk5D,kCAAkCl5D,GAOtD,OAAOzE,GAlmBP,EAAKG,MAAQ,CACZwxC,YAAa,KACbvgB,aAAc,KACd0gB,iBAAkB,WAGnB,EAAK8pB,YAAct7D,IAAMyD,YARE,E,qDAW5B,WAAqB,IAAD,OAUnB,GARAxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GACL,EAAK6C,SAAS,CACbutB,aAAcpwB,OAGfuB,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,sBAE1B,IAA1C8B,OAAOC,KAAK1Q,KAAK8R,QAAQmF,MAAM1G,QAAoD,IAApCvQ,KAAK8R,QAAQxQ,KAAKgP,OAAOC,OAC3E,OAAO,EAGRvQ,KAAKiX,KAAOjX,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAahzB,YAAU+yB,YAAYG,WAAa90B,KAAK8R,QAAQmF,KAAO,GAExHjX,KAAKC,MAAM2vD,gBACd5vD,KAAK26D,mBAAqB,IAAIA,GAAmB36D,KAAK8R,QAAS9R,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,KAAMtB,KAAKC,MAAM2vD,iBAEhH5vD,KAAK26D,mBAAqB,IAAIA,GAAmB36D,KAAK8R,QAAS9R,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,MAIhGtB,KAAK26D,mBAAmBG,2BAA2Bj5D,MAAK,WACvD,EAAKq6D,eAAe,EAAKpqD,QAAQmF,KAAMtI,GAAA,wBACvC,EAAKgsD,mBAAmBv2B,gBAAgB,EAAKs4B,qB,gCAI/C,SAAmB1pD,EAAWw/C,GAAY,IAeL,EAfI,QAeV,IAbF,WAC3B,IAAI1+B,GAAS,EASb,OAPI,EAAKhiB,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAc,EAAK9iB,QAAQmF,KAAK/U,MAAQ,EAAK+U,KAAK/U,KAAO,EAAK4P,QAAQmF,KAAKm8B,cAAgB,EAAKn8B,KAAKm8B,aAE1I,EAAKthC,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAKhjB,QAAQmF,KAAK9F,OAAS,EAAK8F,KAAK9F,MAE/F6B,EAAU48C,kBAAoB,EAAK3vD,MAAM2vD,mBADnD97B,GAAS,GAFTA,GAAS,EAMHA,EAGJqqC,KACHn+D,KAAKq8D,aAAe,EACpBr8D,KAAKkE,SAAS,CAAEiuC,iBAAkB,YAElC,UAAAnyC,KAAK26D,0BAAL,SAAyBr1B,kBAErBtlC,KAAKC,MAAM2vD,gBACd5vD,KAAK26D,mBAAqB,IAAIA,GAAmB36D,KAAK8R,QAAS9R,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,KAAMtB,KAAKC,MAAM2vD,iBAEhH5vD,KAAK26D,mBAAqB,IAAIA,GAAmB36D,KAAK8R,QAAS9R,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,MAGhGtB,KAAK26D,mBAAmBG,2BAA2Bj5D,MAAK,WAAO,IAAD,EAC7D,EAAKq6D,eAAe,EAAKpqD,QAAQmF,KAAMtI,GAAA,wBACvC,YAAKgsD,0BAAL,SAAyBv2B,gBAAgB,EAAKs4B,oBAIrBhnC,KAAKC,UAAU3iB,EAAUwpD,YAC1B9mC,KAAKC,UAAU31B,KAAKC,MAAMu8D,YAG/Cx8D,KAAKC,MAAM+7D,eACdh8D,KAAKg8D,iBAELh8D,KAAKg8D,eAAeh8D,KAAK87D,gBAI3B97D,KAAKiX,KAAOjX,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAahzB,YAAU+yB,YAAYG,WAAa90B,KAAK8R,QAAQmF,KAAO,GACxHjX,KAAK8R,QAAQqhB,YAAY7iB,OAAOC,SACnCvQ,KAAKiX,KAAO,M,kCAId,WAAwB,IAAD,EACtB,UAAAjX,KAAK26D,0BAAL,SAAyBr1B,kBACzBtlC,KAAK26D,mBAAqB,O,oBA2gB3B,WAAU,ID1lB6B7oD,EC0lB9B,OAEJ6hC,EAAmB,KACoB,IAAvC3zC,KAAKQ,MAAM2xC,iBAAiB5hC,QAA+C,IAA/BvQ,KAAKC,MAAMu8D,SAASjsD,SACnEojC,EACC,mBAAKlvC,ID1mBE,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZyO,SAAU,WACVC,IAAK,OCmmB0BvP,UAAU,+BAC5C,iBAAGE,KDhmBgCqN,ECgmBF9R,KAAK8R,QD9lBnC,CACNwI,OAAQ,IACRtI,OAAQ,OACRrN,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9B1K,SAAU,iBACV4P,WAAY,MACZC,WAAY,SCwlBuChQ,UAAU,qBACxDiS,GAAW0D,UAAUla,KAAKQ,MAAM2xC,iBAAkBnyC,KAAKC,MAAMka,SAMlE,IAAIikD,EAAQ,KACN5B,EAAWx8D,KAAKC,MAAMu8D,SAAS9oB,KAAI,SAAC5uC,EAASgS,GAClD,IAAIunD,EAAgB,KAEdC,EAAYx5D,EAAQqkC,aAAerkC,EAAQu6B,OAE3CgnB,EAA+B,IAAjBvhD,EAAQu6B,OACtBk/B,EAAkBhoB,KAAW8P,EAAa,cAWhD,OATI+X,IAAUG,IACbF,EACC,mBAAK55D,IDlpBC,CACHwT,aAAc,OACd/S,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChB2M,OAAQ,QC6oB4BzN,UAAU,iBAChD,oBAAME,IAAKm3D,GAAiB,EAAK9pD,UnGthBT,SAACokC,EAAW/7B,GAEtC,IAAMqkD,EAAsC,IAAZtoB,EAE1BC,EAAmB,IAAI/nC,KAAKowD,GAC5BpoB,EAAmB,IAAIhoC,KAAKA,KAAKioC,OAEjCC,EAAuB1O,GAAeuO,EAAkBC,GAoB9D,OAlBIE,EAAuB,EAEvBJ,EAAY1/B,GAAW0D,UAAU,QAASC,GAEnCm8B,EAAuB,EAE9BJ,EAAY1/B,GAAW0D,UAAU,YAAaC,GAEvCm8B,EAAuB,GAE9BJ,EAAYK,KAAWJ,EAAkB,QACzCD,EAAY1/B,GAAW0D,UAAUg8B,EAAW/7B,IAI5C+7B,EAAYK,KAAWioB,EAAyB,gBAG7CtoB,EmG2fuCuoB,CAAeH,EAAW,EAAKxsD,QAAQ2E,aAItF2nD,EAAQG,EAGP,YAAC,IAAMv5D,SAAP,CAAgB8R,IAAKA,GACnBunD,EACA,EAAKH,aAAap5D,EAASgS,OAK/B,OACC,mBAAKvS,UAAU,aAAaE,IAAKk3D,GAAc37D,KAAK8R,UAClD6hC,EACD,mBACCpvC,UAAU,gBACVE,IDxrBM,CACH6T,UAAW,aACXpT,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsoC,UAAW,SACXpG,UAAW,SACXrgC,SAAU,WACVC,IAAK,IACLE,WAAY,8BACZpP,MAAO,OACP+O,OAAQ,MACR+qD,WAAY,QC6qBfnrD,IAAK,SAAAC,GACJ,EAAKyoD,YAAczoD,GAEpB2gC,SAAUn0C,KAAK0xC,cACd8qB,Q,GAhqB6B77D,IAAMkF,eAAnCg2D,GAME/7B,YAAc3qB,GAkqBtB0mD,GAAqBpoD,aAAe,CAClC1E,MAAOA,IChtBF,IAAM4vD,GAAb,WAKI,WAAY1nD,EAAM3V,EAAMs9D,GAAc,yBAHtCC,wBAAyB,IAAIzwD,MAAOC,UAGC,KAFrCywD,oBAAsB,KAMd9+D,KAAK8+D,oBAFG,SAATx9D,GAE4B,IAAIM,YAAUs5D,wBACxCC,OAAOlkD,EAAK/U,KACZ4nC,SAAS,IAAIi1B,YAAY,WAAWjsC,QAAQ8rC,GAAa3gC,SAI/B,IAAIr8B,YAAUs5D,wBACxCK,QAAQtkD,EAAK9F,MACb24B,SAAS,IAAIi1B,YAAY,WAAWjsC,QAAQ8rC,GAAa3gC,QAjBtE,yDAqBI,WACI,OAAOj+B,KAAK8+D,oBAAoBtD,kBAtBxC,6BAyBI,SAAgBltD,GAEZ1M,YAAU+jC,mBACN3lC,KAAK0lC,cACL,IAAI9jC,YAAUgkC,gBAAgB,CAC1BwG,uBAAwB,SAAAC,GACpB/9B,EAASK,EAA8B09B,IAE3CC,iBAAkB,SAAAC,GACdj+B,EAASK,EAAuB49B,SAlCpD,6BAwCI,WACI3qC,YAAUmkC,sBAAsB/lC,KAAK6+D,4BAzC7C,KCJaG,GAAe,SAAC/+D,GAEzB,IAAMg/D,EAAuBh/D,EAAMi/D,gBAAmB,CAClDltD,OAAO,eAAD,OAAiB/R,EAAMi/D,gBAAvB,MACN,CACAltD,OAAQ,qBAIZ,OAAO,aACHpN,MAAO,QACJq6D,IAwCEE,GAAc,SAAC3+D,EAAOc,GAE/B,IAAM89D,EAAa5+D,EAAMo+D,cAAgBt9D,EAAQ,CAC7CiE,gBAAkB,OAClB4S,UAAW,qEACX3S,aAAc,MACd,YAAa,CACTN,QAAS,SAEb,GAEJ,OAAO,yBACHA,QAAS,eACTN,MAAO,SACPoQ,MAAO,OACPtQ,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ9O,QAAS,MACToO,SAAU,WACVhP,UAAW,SACXa,OAAQ,WACL05D,GAXP,IAYI,WAAY,CACR,YAAa,GACbvrD,SAAU,WACV3O,QAAS,QACTN,MAAO,MACPoN,OAAQ,OACRzM,gBAAiB,yBACjBuV,MAAO,OACPhH,IAAK,OAET,yBAA0B,CACtB5O,QAAS,WAiBRm6D,GAAY,SAAC7+D,EAAOP,EAAOmR,EAAKU,GAEzC,IAAIwtD,EAAgB,GAChB7H,EAAO,UAAMx3D,EAAM8O,MAAMxJ,gBAAgBuK,WA4D7C,MA1D0B,UAAtBtP,EAAMo+D,YAENU,EAAgB,CACZttD,OAAQ,QACRpN,MAAO,QACPW,gBAAiBkyD,EACjB,QAAS,CACLvyD,QAAS,QACTN,MAAO,OACPoN,OAAQ,OACRw1C,UAAW,YAIU,UAAtBhnD,EAAMo+D,YAEbU,EAAgB,CACZ,UAAW,CACPttD,OAAQ,QACRpN,MAAO,QACP0V,OAAQ,SAIa,SAAtB9Z,EAAMo+D,cAEbU,EAAgB,CACZ/5D,gBAAiBkyD,EACjB,MAAO,CACHz9C,SAAU,OACVgjB,UAAW,OACX1iB,OAAQ,OACRpV,QAAS,OACTO,QAAS,MACT,qBAAsB,CAClBd,MAAM,GAAD,OAAK1E,EAAM8O,MAAMG,qBAE1B,MAAO,CACHtK,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,2BACV7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,qBAEhC,SAAU,CACNxK,SAAU,OACVC,MAAM,GAAD,OAAK1E,EAAM8O,MAAMG,oBACtBy1B,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,wBAQhB,yBACH0V,OAAQ,SACRzV,UAAW,SACXw9C,KAAM,YACHid,GAJP,IAKI,4BAA6B,CACzB,uBAAwB,CACxBtlD,SAAU,YC5KP,OAA0B,wCC6BnCulD,G,kDAIF,WAAYt/D,GAAQ,IAAD,8BACf,cAAMA,IAwCVy8D,eAAiB,SAAC5lD,EAAKhS,GAEnB,OAAOgS,GAEH,KAAKnI,EACH,EAAK6wD,eAAe16D,GACpB,MACF,KAAK6J,EACH,EAAK8wD,gBAAgB36D,KAjDZ,EAwDnB06D,eAAiB,SAACjzB,GAEd,IAAMyhB,EAAczhB,EAAe76B,KAAKpQ,KACxC,GAAI,EAAKwQ,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAC7CyX,EAAe6D,oBAAsBxuC,YAAUgnC,cAAcC,OAC7D0D,EAAe4wB,cAAchsD,OAAS,EAAKW,QAAQmF,KAAK9F,MACxD68C,IAAgB,EAAKxtD,MAAMo+D,YAAa,CAEvC,IACMc,EADW,aAAO,EAAKl/D,MAAM47D,aACEuD,QAAO,SAAA76D,GAAO,OAAIA,EAAQ2rC,KAAOlE,EAAekE,MACrF,EAAKvsC,SAAS,CAAEk4D,YAAasD,EAAkB1D,gBAAgB,MAlEpD,EAuEnByD,gBAAkB,SAAC36D,GAEf,IAAMkpD,EAAclpD,EAAQ4M,KAAKpQ,KACjC,GAAI,EAAKwQ,QAAQxQ,OAASM,YAAU+yB,YAAYG,YAC7ChwB,EAAQsrC,oBAAsBxuC,YAAUgnC,cAAcC,OACtD/jC,EAAQq4D,cAAchsD,OAAS,EAAKW,QAAQmF,KAAK9F,MACjD68C,IAAgB,EAAKxtD,MAAMo+D,YAAa,CAEvC,IAAIpC,EAAQ,aAAO,EAAKh8D,MAAM47D,aAC9BI,EAAWA,EAAS3e,OAAO/4C,GAC3B,EAAKZ,SAAS,CAAEk4D,YAAaI,EAAUR,gBAAgB,MAjF5C,EAqFnB4D,YAAc,WAA6B,IAA5B5D,EAA2B,wDAEtC,EAAK2C,mBAAmBlC,wBAAwB56D,MAAK,SAAA26D,GAEjD,IAAMJ,EAAW,uBAAOI,GAAP,aAAoB,EAAKh8D,MAAM47D,cAC5C,EAAK5qD,aAEL,EAAKtN,SAAS,CAACk4D,YAAaA,IACzBJ,GACC,EAAKA,qBAIdp5D,OAAM,SAAAnB,GAEL,IAAMozB,EAAapzB,GAASA,EAAMkP,eAAe,QAAWlP,EAAMuC,KAAO,QACzE,EAAK8N,QAAQwf,gBAAgB,QAASuD,OArG3B,EAyGnBmnC,eAAiB,WAET,EAAKroB,mBACL,EAAKA,iBAAiB9B,UAAY,EAAK8B,iBAAiB/B,eA5G7C,EAgHnBF,aAAe,SAACzX,GAE0C,IAA1C6B,KAAK6L,MAAM1N,EAAE0X,cAAcE,YAC5B,EAAKrxC,MAAM47D,YAAY7rD,QAC9B,EAAKqvD,eApHM,EAwHnBC,kBAAoB,SAACv+D,GACjB,EAAK4C,SAAS,CAAC06D,YAAat9D,EAAM86D,YAAa,MAvH/C,EAAK5qD,YAAa,EAClB,EAAKhR,MAAQ,CACTo+D,YAAa,QACbxC,YAAa,IAGjB,EAAKzoB,iBAAmBhzC,IAAMyD,YAE9BxC,YAAU2vB,kBAAkB1vB,MAAK,SAAAR,GAAI,OAAI,EAAKowB,aAAepwB,KAAMuB,OAAM,SAAAnB,GACrEiB,QAAQjB,MAAMA,MAXH,E,qDAenB,WAEIzB,KAAKwR,YAAa,EAClBxR,KAAK2+D,mBAAqB,IAAIA,GAAmB3+D,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,KAAMtB,KAAKQ,MAAMo+D,aAClG5+D,KAAK4/D,aAAY,GACjB5/D,KAAK2+D,mBAAmBv6B,gBAAgBpkC,KAAK08D,kB,gCAGjD,SAAmB1pD,EAAWw/C,GAEvBA,EAAUoM,cAAgB5+D,KAAKQ,MAAMo+D,cAEpC5+D,KAAK2+D,mBAAqB,KAC1B3+D,KAAK2+D,mBAAqB,IAAIA,GAAmB3+D,KAAK8R,QAAQmF,KAAMjX,KAAK8R,QAAQxQ,KAAMtB,KAAKQ,MAAMo+D,aAClG5+D,KAAK4/D,aAAY,GACjB5/D,KAAK2+D,mBAAmBv6B,gBAAgBpkC,KAAK08D,mB,kCAIrD,WACI18D,KAAK2+D,mBAAmBr5B,kBACxBtlC,KAAK2+D,mBAAqB,KAC1B3+D,KAAKwR,YAAa,I,oBAuFtB,WAAU,IF9IqBvR,EE8ItB,OAoCCm8D,EADQ,aAAOp8D,KAAKQ,MAAM47D,aACH1oB,KAAI,SAAC5uC,EAASgS,GACvC,OAnCa,SAAChS,EAASgS,GAEvB,MAA8B,UAA3B,EAAKtW,MAAMo+D,aAA2B95D,EAAQ4M,KAAKo1B,IAG9C,mBAAK2J,GAAI3rC,EAAQ2rC,GAAI35B,IAAKA,EAAKrS,IAAK46D,GAAU,EAAK7+D,MAAO,EAAKP,MAAO6/D,GAAU,EAAKhuD,SAAUvN,UAAU,oBACrG,mBAAK+M,IAAKxM,EAAQ4M,KAAKo1B,IAAKzzB,IAAKmD,GAAW0D,UAAU,eAAgB,EAAKja,MAAMka,SAIvD,UAA3B,EAAK3Z,MAAMo+D,aAA2B95D,EAAQ4M,KAAKo1B,IAGtD,mBAAK2J,GAAI3rC,EAAQ2rC,GAAI35B,IAAKA,EAAKrS,IAAK46D,GAAU,EAAK7+D,MAAO,EAAKP,MAAO6/D,GAAU,EAAKhuD,SAAUvN,UAAU,oBACrG,qBAAO+M,IAAKxM,EAAQ4M,KAAKo1B,OAIC,SAA3B,EAAKtmC,MAAMo+D,aAA0B95D,EAAQ4M,KAAK26C,YAGrD,mBAAK5b,GAAI3rC,EAAQ2rC,GAAI35B,IAAKA,EAAKrS,IAAK46D,GAAU,EAAK7+D,MAAO,EAAKP,MAAO6/D,GAAU,EAAKhuD,SAAUvN,UAAU,mBACrG,iBAAG6jD,KAAMtjD,EAAQ4M,KAAK26C,YAAY,GAAGvlB,IACrCiM,OAAO,SACP1Y,IAAI,uBACA,sBACD,wBAAOv1B,EAAQ4M,KAAK26C,YAAY,GAAG3oD,aAR3C,EAiBCkgD,CAAS9+C,EAASgS,MAG9B,OACI,mBAAKrS,IAAKu6D,GAAah/D,KAAKC,OAAQsE,UAAU,gCAC1C,kBAAIE,KFxLexE,EEwLSD,KAAKC,MFtLtC,CACHqa,OAAQ,IACR1V,MAAO,OACPF,SAAU,OACV4P,WAAY,gBACZC,WAAY,OACZ5P,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMyK,WAC5Bw1B,cAAe,cE+KkCrgC,UAAU,mBAAmBiS,GAAW0D,UAAU,eAAgBla,KAAKC,MAAMka,OACtH,mBAAK1V,KAAyBzE,KAAKC,MF1KxC,CACH2E,MAAO,OACP0V,OAAQ,QACRpV,QAAS,OACTC,cAAe,SACf6M,OAAQ,sBEqK2C,UAAQ,cAAczN,UAAU,oBACvE,mBAAKE,IFhKd,CACHe,aAAc,MACdD,gBAAiB,yBACjBX,MAAO,OACPa,QAAS,MACT6U,OAAQ,QACRub,MAAO,QE0JgCtxB,UAAU,iBACjC,oBAAME,IAAK06D,GAAYn/D,KAAKQ,MAAO,SAAU2T,QAAS,kBAAM,EAAK0rD,kBAAkB,WAAWrpD,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,OACxI,oBAAM1V,IAAK06D,GAAYn/D,KAAKQ,MAAO,SAAU2T,QAAS,kBAAM,EAAK0rD,kBAAkB,WAAWrpD,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,OACxI,oBAAM1V,IAAK06D,GAAYn/D,KAAKQ,MAAO,QAAS2T,QAAS,kBAAM,EAAK0rD,kBAAkB,UAAUrpD,GAAW0D,UAAU,OAAQla,KAAKC,MAAMka,QAExI,mBAAK1V,IFlHd,CACHuN,OAAQ,oBACRkiC,UAAW,OACXoG,UAAW,SACXp1C,QAAS,OACTq3C,SAAU,OACV73C,SAAU,QE4G8BH,UAAU,cACtCgP,IAAK,SAAAC,GAAE,OAAI,EAAKmgC,iBAAmBngC,GACnC2gC,SAAUn0C,KAAK0xC,cAAgB0qB,EAAY7rD,OAAU6rD,EAAc5lD,GAAW0D,UAAU,mBAAoBla,KAAKC,MAAMka,a,GAnLpGxZ,IAAMC,WAAvC2+D,GAEKz/B,YAAc3qB,GA0LzBoqD,GAAyB9rD,aAAe,CACpC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,ICvNJ,IAAMgxD,GAAb,iDACCr2B,eAAiB,gBAAiB,IAAIt7B,MAAOC,UAD9C,mDAGC,SAAgBC,GACf1M,YAAUooC,gBACThqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CAC1BC,aAAc,SAAAC,GAEb77B,EAASK,GAAmBw7B,IAE7BC,cAAe,SAAAC,GAEd/7B,EAASK,GAAoB07B,SAblC,6BAmBC,WACCzoC,YAAUgrC,mBAAmB5sC,KAAK0pC,oBApBpC,KCDas2B,GAAkB,SAAAluD,GAC9B,MAAO,CACN5M,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACR6B,SAAU,WACVyE,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,YAC7B,IAAK,CACJsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,eAKnBixD,GAAc,SAAAnuD,GAC1B,MAAO,CACNrM,QAAS,OACToO,SAAU,WACVw5B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,OACTG,eAAgB,aAChBD,WAAY,SACZ4M,OAAQ,SAIGkuD,GAAmB,SAAC9uD,EAAKU,GAErC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACNxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCrK,MAAO,OACPoN,OAAQ,QANT,iBAOYu7B,EAAG,GAPf,aAOsBA,EAAG,GAPzB,aAOgCA,EAAG,GAPnC,aAO0CA,EAAG,IAAO,CAClDroC,QAAS,WAsCCi7D,GAAsB,SAAAruD,GAClC,MAAO,CACNlN,MAAO,OACP,QAAS,CACRD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B0E,WAAY,MACZ5O,OAAQ,UACRhB,SAAU,UAkBA07D,GAAqB,SAAAtuD,GACjC,MAAO,CACNwI,OAAQ,IACR1V,MAAO,OACPF,SAAU,OACV4P,WAAY,gBACZC,WAAY,OACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9Bw1B,cAAe,cAoBJy7B,GAAgB,SAAAvuD,GAC5B,MAAO,CACNpN,SAAU,OACV6P,WAAY,OACZD,WAAY,MACZpP,QAAS,eACTP,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,OAyCnB0wD,GAAoB,SAACxuD,EAAStR,GAE1C,IAAIuU,EAASvU,EAAMuU,OAASvU,EAAMuU,OAAO2C,cAAgB,GAIzD,OAFA3C,EAASA,IADOyB,GAAW0D,UAAWtY,YAAUg2D,YAAYC,OAAQ9mD,cAAee,EAAQ2E,UAAUiB,cACrE,CAAE/S,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM+K,OAAW,CAAE/K,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,WAEpG,aACN7K,MAAO,oBACPggC,cAAe,aACflgC,SAAU,OACV4P,WAAY,MACZC,WAAY,QACTQ,IChMU,OAA0B,iCC0CnCwrD,G,kDAGL,WAAYtgE,GAAQ,IAAD,8BAClB,cAAMA,IAqDPo4D,mBAAqB,WACpB,EAAKvmD,QAAQ0D,mBAAmBC,wBAC9B5T,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM63D,oBAAsB,EAAK7mD,YACtD,EAAKtN,SAAS,CAAEm0D,mBAAoBh1D,OAGrCT,OAAM,SAAAnB,IACgC,IAAlC,EAAKjB,MAAM63D,oBACd,EAAKn0D,SAAS,CAAEm0D,oBAAoB,QA/DrB,EAoEnBjpB,WAAa,SAACt4B,EAAKzV,GAClB,OAAQyV,GACP,KAAKnI,GACL,KAAKA,GACJ,GAAI,EAAKmD,QAAQxQ,OAASM,YAAU+yB,YAAYC,WAAa,EAAK9iB,QAAQmF,KAAK/U,MAAQb,EAAKa,IAAK,CAEhG,IAAsC,IAAlC,EAAK1B,MAAM63D,mBACd,OAAO,EAGR,IAAItjD,EAAS,GACT1T,EAAK0T,SAAWnT,YAAUg2D,YAAYE,QACzC/iD,EAASyB,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,MAC1C9Y,EAAK0T,SAAWnT,YAAUg2D,YAAYC,SAChD9iD,EAASyB,GAAW0D,UAAU,SAAU,EAAKja,MAAMka,OAEpD,EAAKjW,SAAS,CAAE6Q,OAAQA,OApFT,EA6FnB4iD,iBAAmB,WAClB,IAAI5iD,EAAS,KACb,GAAI,EAAKjD,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYE,SAAW,EAAKhmD,QAAQmF,KAAK8gD,aAAc,CACjG,IAAMC,EAA8C,IAAjC,EAAKlmD,QAAQmF,KAAK8gD,aAC/B1R,EAAc9P,KAAWyhB,EAAY,wBAE3CjjD,EAAM,UAAMyB,GAAW0D,UAAU,iBAAkB,EAAKja,MAAMka,MAAxD,aAAkEksC,QAC9D,EAAKv0C,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYE,QAC7D/iD,EAASyB,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,MAC1C,EAAKrI,QAAQmF,KAAKlC,SAAWnT,YAAUg2D,YAAYC,SAC7D9iD,EAASyB,GAAW0D,UAAU,SAAU,EAAKja,MAAMka,OAGpD,EAAKjW,SAAS,CAAE6Q,OAAQA,KA1GN,EA6GnBskD,kBAAoB,WACnB,EAAKvnD,QAAQ0D,mBAAmByS,uBAC9BpmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM64D,mBAAqB,EAAK7nD,YACrD,EAAKtN,SAAS,CAAEm1D,kBAAmBh2D,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM64D,mBAA+B,EAAK7nD,YAClD,EAAKtN,SAAS,CAAEm1D,mBAAmB,QAzHpB,EA8HnBC,gBAAkB,WACjB,EAAKxnD,QAAQ0D,mBAAmB2U,qBAC9BtoB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM84D,iBAAmB,EAAK9nD,YACnD,EAAKtN,SAAS,CAAEo1D,gBAAiBj2D,OAGlCT,OAAM,SAAAnB,IAC6B,IAA/B,EAAKjB,MAAM84D,iBAA6B,EAAK9nD,YAChD,EAAKtN,SAAS,CAAEo1D,iBAAiB,QA1IlB,EA+InBkH,kBAAoB,WACnB,EAAK1uD,QAAQ0D,mBAAmBsT,uBAC9BjnB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMggE,mBAAqB,EAAKhvD,YACrD,EAAKtN,SAAS,CAAEs8D,kBAAmBn9D,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMggE,mBAA+B,EAAKhvD,YAClD,EAAKtN,SAAS,CAAEs8D,mBAAmB,QAxJpB,EA6JnB3iD,UAAY,WACX,IAAI3b,EAAM,EAAK4P,QAAQmF,KAAK/U,IACxBu+D,EAAY,CAACv+D,GACjBN,YAAU8+D,WAAWD,GACnB5+D,MAAK,SAAAwB,GACL,GAAIA,GAAYA,EAASsN,eAAezO,IAAQmB,EAASnB,GAAKyO,eAAe,aAA2C,IAA7BtN,EAASnB,GAAT,QAAmC,CAE7H,IAAMy+D,EAAU/+D,YAAU+yB,YAAYC,UAChCgsC,EAAUnwD,OAAO0gC,OAAO,GAAI,EAAKr/B,QAAQmF,KAAM,CAAEm8B,aAAa,IACpE,EAAKthC,QAAQihB,eAAe4tC,EAASC,QAGrC,EAAKlsC,SAAS3b,SAAS,sBAGxBnW,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBA5KtB,EA+KnB8nD,YAAc,WACb,IAAI3+D,EAAM,EAAK4P,QAAQmF,KAAK/U,IACxBu+D,EAAY,CAACv+D,GACjBN,YAAUk/D,aAAaL,GACrB5+D,MAAK,SAAAwB,GACL,GAAIA,GAAYA,EAASsN,eAAezO,IAAQmB,EAASnB,GAAKyO,eAAe,aAA2C,IAA7BtN,EAASnB,GAAT,QAAmC,CAE7H,IAAMy+D,EAAU/+D,YAAU+yB,YAAYC,UAChCgsC,EAAUnwD,OAAO0gC,OAAO,GAAI,EAAKr/B,QAAQmF,KAAM,CAAEm8B,aAAa,IACpE,EAAKthC,QAAQihB,eAAe4tC,EAASC,QAGrC,EAAKlsC,SAAS3b,SAAS,sBAGxBnW,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBA9LtB,EAiMnB4M,YAAc,WACb,IAAMo7C,EAAc,EAAKjvD,QAAQmF,KAAK+pD,KACtC1+D,OAAO0/C,KAAK+e,EAAa,GAAI,oCAnMX,EAsMnBE,gBAAkB,WACjB,EAAKhhE,MAAMq+B,gBAAgB3vB,GAAA,oBArM3B,EAAK6C,YAAa,EAClB,EAAKhR,MAAQ,CACZixB,aAAc,KACd1c,OAAQ,KACRskD,mBAAmB,EACnBC,iBAAiB,EACjBkH,mBAAmB,EACnBnI,oBAAoB,GAGrB,EAAK3jC,SAAW/zB,IAAMyD,YAZJ,E,qDAenB,WAAqB,IAAD,OACnBxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GACD,EAAKmQ,YACR,EAAKtN,SAAS,CAAEutB,aAAcpwB,OAG/BuB,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,sBAExC/Y,KAAKwR,YAAa,EAClBxR,KAAK00B,SAAW/zB,IAAMyD,YAEtBpE,KAAK+/D,kBAAoB,IAAIA,GAC7B//D,KAAK+/D,kBAAkB37B,gBAAgBpkC,KAAKovC,YAE5CpvC,KAAK23D,mBACL33D,KAAKq5D,oBACLr5D,KAAKs5D,kBACLt5D,KAAKwgE,oBACLxgE,KAAKq4D,uB,gCAGN,SAAmBrlD,GAClBhT,KAAKq5D,oBACLr5D,KAAKs5D,kBACLt5D,KAAKwgE,oBACLxgE,KAAKq4D,qBAEDrlD,EAAUmH,OAASna,KAAKC,MAAMka,MACjCna,KAAK23D,qB,kCAIP,WACC33D,KAAKwR,YAAa,EAClBxR,KAAK+/D,kBAAkBz6B,kBACvBtlC,KAAK+/D,kBAAoB,O,oBAuJ1B,WAAU,IAAD,OACR,GAAgC,OAA5B//D,KAAKQ,MAAMixB,aACd,OAAO,KAGR,IF1LgC3f,EE8M5BovD,EApBAv7C,EAAc,MACmB,IAAjC3lB,KAAKQ,MAAMggE,mBAA8BxgE,KAAK8R,QAAQmF,KAAKtG,eAAe,SAAW3Q,KAAK8R,QAAQmF,KAAK+pD,MAAQhhE,KAAK8R,QAAQmF,KAAK+pD,KAAK1wD,OAAOC,SAChJoV,EACC,mBAAKlhB,IFvMD,CACN6V,OAAQ,IACR7U,QAAS,mBACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,gBAChBD,WAAY,cEiMgBb,UAAU,uBACnC,mBAAKE,KF9LwBqN,EE8LA9R,KAAK8R,QF7L/B,CACNlN,MAAO,OACP,QAAS,CACR0P,WAAY,MACZ5O,OAAQ,UACRhB,SAAU,QAEX,cAAe,CACdC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM+K,SEqLgBnL,UAAU,gCACrD,kBAAIE,IAAK27D,GAAmBpgE,KAAKC,OAAQsE,UAAU,mBACjDiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAE/C,mBAAKhS,IF9IH,CACNG,MAAO,OACP0V,OAAQ,SE4I6B/V,UAAU,oBAC1C,mBAAKE,IFxIJ,CACN,MAAS,IACT,2CAA4C,CAC3CgB,QAAS,UEqIyBlB,UAAU,iBACvC,mBAAKE,IAAK47D,GAAcrgE,KAAK8R,SAAUvN,UAAU,aAAa4P,QAASnU,KAAK2lB,aAC1EnP,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,gBAWzDyqD,EADGlhE,KAAK8R,QAAQmF,KAAKm8B,YAEpB,mBAAK3uC,IAAK47D,GAAcrgE,KAAK8R,SAAUvN,UAAU,aAAa4P,QAASnU,KAAK6gE,aAC1ErqD,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,WAKpD,mBAAKhS,IAAK47D,GAAcrgE,KAAK8R,SAAUvN,UAAU,aAAa4P,QAASnU,KAAK6d,WAC1ErH,GAAW0D,UAAU,aAAcla,KAAK8R,QAAQ2E,WAKpD,IAAI0qD,EACH,mBAAK18D,IFxOA,CACN6V,OAAQ,IACR7U,QAAS,mBACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,gBAChBD,WAAY,cEkOeb,UAAU,uBACnC,mBAAKE,IAAK07D,GAAoBngE,KAAK8R,SAAUvN,UAAU,4BACtD,kBAAIE,IAAK27D,GAAmBpgE,KAAK8R,SAAUvN,UAAU,mBACnDiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAE/C,mBAAKhS,IF/KF,CACNG,MAAO,OACP0V,OAAQ,SE6K4B/V,UAAU,oBAC1C,mBAAKE,IFzKH,CACN,MAAS,IACT,2CAA4C,CAC3CgB,QAAS,UEsKwBlB,UAAU,iBACtC28D,OAQ6B,IAA/BlhE,KAAKQ,MAAM84D,kBACd6H,EAAgB,MAGjB,IAAIC,EACH,mBAAK38D,IFvNA,CACNuN,OAAQ,qBACRpN,MAAO,OACP0V,OAAQ,IACR7U,QAAS,mBACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,gBAChBD,WAAY,cE+MoBb,UAAU,uBACxC,YAAC,GAAD,CAA0BwK,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAK8R,QAAQ2E,YASxE,OAJqC,IAAjCzW,KAAKQ,MAAM64D,oBACd+H,EAAkB,MAIlB,mBAAK38D,IAAKu7D,GAAgBhgE,KAAK8R,SAAUvN,UAAU,+BAClD,mBAAKE,IAAKw7D,GAAYjgE,KAAK8R,SAAUvN,UAAU,sBAC9C,mBAAKE,IAAKy7D,GAAiBpsB,GAAc9zC,KAAK8R,SAAUvN,UAAU,gBAAgB4P,QAASnU,KAAKihE,kBAChG,kBAAIx8D,IFlRD,CACN6V,OAAQ,IACRhG,WAAY,MACZ5P,SAAU,QE+QsBH,UAAU,iBACrCiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,YAGhD,mBAAKhS,IF9QD,CACN6V,OAAQ,IACR7U,QAAS,mBACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,gBAChBD,WAAY,cEwQgBb,UAAU,uBACnC,mBAAKE,IFvLF,CACNS,QAAS,OACTE,WAAY,SACZC,eAAgB,cEoLqBd,UAAU,6BAC3C,mBAAKE,IFhLH,CACNG,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACT6U,WAAY,IACZO,OAAQ,cE2K4B/V,UAAU,mBACzC,YAAC,GAAD,CAAiBlD,KAAMrB,KAAK8R,QAAQmF,QAErC,mBAAKxS,IF5JH,CACNG,MAAO,qBE2J0BL,UAAU,gBACtC,kBAAIE,IF1KH,CACN6V,OAAQ,IACR5V,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ3P,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,WEkKoB3kC,KAAK8R,QAAQmF,KAAKvT,MAC7C,oBAAMe,IAAK67D,GAAkBtgE,KAAK8R,QAAS9R,KAAKQ,QAASR,KAAKQ,MAAMuU,WAIvE,YAAC,GAAD,CAA4BxB,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,OAC7EwL,EACAw7C,EACAC,O,GA1S8BzgE,IAAMC,WAAnC2/D,GACEzgC,YAAc3qB,GAgTtBorD,GAAqB9sD,aAAe,CACnC1E,MAAOA,ICxVD,IAAMsyD,GAAb,WAKI,WAAYvvD,EAASwvD,GAAY,IAAD,gCAHhCC,YAAc,KAGkB,KAFhC73B,eAAiB,aAAc,IAAIt7B,MAAOC,UAEV,KAMhCmzD,uBAAyB,WAErB,IAAM9kD,EAAe,EAAK5K,QAAQiJ,cAAc2B,aAChD+kD,EAAsB1mD,GAAc0B,sBAEpC,OAAO,IAAI6K,SAAQ,SAACC,EAASsJ,GACzB,OAAInU,IAAiB+kD,EAAmB,KAChC,EAAKH,UACL,EAAKI,cAAe,IAAI9/D,YAAU+/D,qBAAsB73B,SAAS,IAAI83B,iBAAiB,EAAKN,WAAWrjC,QAEtG,EAAKyjC,cAAe,IAAI9/D,YAAU+/D,qBAAsB73B,SAAS,IAAI7L,QAGlE1W,EAAQ,EAAKm6C,eACbhlD,IAAiB+kD,EAAmB,SACvC,EAAKH,UACL,EAAKI,cAAe,IAAI9/D,YAAU+/D,qBAAsB73B,SAAS,IAAI+3B,aAAY,GAAMD,iBAAiB,EAAKN,WAAWrjC,QAExH,EAAKyjC,cAAe,IAAI9/D,YAAU+/D,qBAAsB73B,SAAS,IAAI+3B,aAAY,GAAM5jC,QAGpF1W,EAAQ,EAAKm6C,eAEb7wC,EAAO,CAAC/rB,QAAS,oCA3BhC9E,KAAK8R,QAAUA,EACf9R,KAAKshE,UAAYA,EARzB,kDAuCI,WACI,OAAOthE,KAAK0hE,aAAa33B,cAxCjC,6BA2CI,SAAgBz7B,GAEZ1M,YAAUooC,gBACNhqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CACvBC,aAAc,SAAAC,GAEV77B,EAAS67B,IAEbC,cAAe,SAAAC,GAEX/7B,EAAS+7B,SAtD7B,6BA4DI,WAEIzoC,YAAUgrC,mBAAmB5sC,KAAK0pC,oBA9D1C,KCJao4B,GAAsB,SAAC7hE,EAAO8O,GAEvC,IAAMmE,EAAiC,KAAlBjT,EAAMktC,QAAkB,CACzC5yB,OAAO,aAAD,OAAexL,EAAMc,YAAYV,UACvC,GAGJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsG,UAAW,cACRpF,GALP,IAMI,IAAK,CACDoF,UAAW,aACX,sBAAuB,CACnB1T,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,aAOnBioC,GAAqB,SAAAhzD,GAEjC,MAAO,CACNtJ,QAAS,OACToO,SAAU,WACV3O,QAAS,OACTE,WAAY,SACZioC,aAAa,aAAD,OAAet+B,EAAMc,YAAYV,SAC7C6C,OAAQ,SAIGgwD,GAA0B,SAAC5wD,EAAKrC,GAE5C,IAAMw+B,EAAE,aAAOx+B,EAAMmB,aAErB,OAAO,aACNxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAMG,oBAC1B8C,OAAQ,OACRpN,MAAO,OANR,iBAOY2oC,EAAG,GAPf,aAOsBA,EAAG,IAAO,CAC9BroC,QAAS,qBAKC+8D,GAA0B,SAAChiE,GAEpC,IAAMgiC,EAAahiC,EAAM0Q,eAAe,oBAAsB1Q,EAAMwtC,gBAAgBl9B,OAAS,EAAK,CAC9F3L,MAAO,MACPC,UAAW,UACX,GAEJ,OAAO,yBACHyV,OAAQ,IACRhG,WAAY,MACZpP,QAAS,eACTN,MAAO,OACPC,UAAW,OACXH,SAAU,OACV6P,WAAY,QACT0tB,GARP,IASI,aAAc,CACVp9B,UAAW,YAoBVq9D,GAA2B,SAAC9wD,EAAKrC,GAE7C,MAAO,CACNnK,MAAO,OACPoN,OAAQ,OACRvM,QAAS,gBACTC,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAMG,mBAAX,gBC1GF,OAA0B,mCCA1B,OAA0B,iCCkCnCizD,G,kDAML,WAAYliE,GAAQ,IAAD,8BAElB,cAAMA,IA8DPmiE,iBAAmB,WAElB,EAAKrwD,aAAayD,mBAAmB2W,sBAAsBtqB,MAAK,SAAAwB,GAK3DA,IAAa,EAAK7C,MAAM6hE,kBAC3B,EAAKn+D,SAAS,CAACm+D,iBAAkBh/D,OAGhCT,OAAM,SAAAnB,IAE4B,IAAhC,EAAKjB,MAAM6hE,kBACd,EAAKn+D,SAAS,CAACm+D,kBAAkB,QA9EjB,EAoFnBC,YAAc,SAACjhE,GAEd,IAAIkhE,EAAQ,aAAO,EAAK/hE,MAAM+hE,UAG1BC,EAAUD,EAASj0B,WAAU,SAAAm0B,GAAC,OAAIA,EAAEvgE,MAAQb,EAAKa,OAGrD,GAAGsgE,GAAW,EAAG,CAEhB,IAAIE,EAAO,eAAOH,EAASC,IACvBG,EAAU,2BAAOD,GAAYrhE,GACjCkhE,EAAS9zB,OAAO+zB,EAAS,EAAGG,GAE5B,EAAKz+D,SAAS,CAAEq+D,SAAUA,MAlGT,EAsGnB7wB,aAAe,SAACzX,GAGf6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eACxF,EAAKunC,YA1GC,EA6GnB7wB,YAAc,SAAC1wC,GAEV,EAAKpB,MAAM+xC,aAGf,EAAK/xC,MAAM+xC,YAAY3wC,EAAMO,YAAU+yB,YAAYC,YAlHjC,EAqHjBqd,gBAAkB,WAEnB,IAAI,EAAKhyC,MAAMq+B,gBACd,OAAO,EAGR,EAAKr+B,MAAMq+B,gBAAgB3vB,GAAA,iBA3HT,EA8HlBsU,YAAc,SAACgX,GAEX,EAAK03B,SACRj4C,aAAa,EAAKi4C,SAGnB,IAAIkR,EAAM5oC,EAAE8Y,OAAO7vC,MACnB,EAAKm+D,gBAAkB,IAAIA,GAAgB,EAAKtvD,aAAc8wD,GAC9D,EAAKxB,gBAAgBG,yBACnB3/D,MAAK,SAAAwB,GACL,EAAKsuD,QAAUp4C,YAAW,WACzB,EAAKrV,SAAS,CAAEq+D,SAAU,GAAIpwB,iBAAkB37B,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,QAAS,kBAAM,EAAKyoD,gBAC7G,QAEHhgE,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,YA5IpF,EA+InByoD,SAAW,WAEV,EAAKvB,gBAAgByB,iBACnBjhE,MAAK,SAAA67C,GAEmB,IAApBA,EAASntC,OACuB,IAA/B,EAAK/P,MAAM+hE,SAAShyD,QACvB,EAAKrM,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,iBAAkB,EAAKja,MAAMka,QAGrF,EAAKjW,SAAS,CAAEq+D,SAAS,GAAD,oBAAM,EAAK/hE,MAAM+hE,UAAjB,aAA8B7kB,IAAWvL,iBAAkB,QAIpFvvC,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,YA7JpF,EAgKnBpI,WAAa,WAEZ,OAAI,EAAK9R,MAAMktC,QAAQ58B,OACf,EAAKuB,QAEL,EAAK0gC,mBAAmBhyC,OAjKhC,EAAKA,MAAQ,CACZ+hE,SAAU,GACVF,kBAAkB,EAClBlwB,iBAAkB37B,GAAW0D,UAAU,UAAWja,EAAMka,OAGzD,EAAKq4B,mBAAqB7xC,IAAMyD,YAChC,EAAK2+D,YAAcpiE,IAAMyD,YAEzBxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,WAfpF,E,qDAkBnB,WAAqB,IAAD,OAEnBna,KAAKiX,KAAQjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,UAAa50B,KAAK+R,aAAakF,KAAO,KACpGjX,KAAKoiE,mBAELpiE,KAAKqhE,gBAAkB,IAAIA,GAAgBrhE,KAAK+R,cAChD/R,KAAKqhE,gBAAgBG,yBACnB3/D,MAAK,SAAAwB,GACL,EAAKu/D,WACL,EAAKvB,gBAAgBj9B,gBAAgB,EAAKk+B,gBAE1C1/D,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,a,gCAGvG,SAAmBnH,GAAY,IAAD,OAG7B,GAAIhT,KAAKiX,MACNxG,OAAOC,KAAK1Q,KAAKiX,MAAM1G,QACvBvQ,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAa50B,KAAKiX,KAAK/U,MAAQlC,KAAK+R,aAAakF,KAAK/U,KACvGlC,KAAKiX,KAAKm8B,cAAgBpzC,KAAK+R,aAAakF,KAAKm8B,YAAa,CAEhE,IAAImvB,EAAQ,aAAOviE,KAAKQ,MAAM+hE,UAGzBC,EAAUD,EAASj0B,WAAU,SAAAm0B,GAAC,OAAIA,EAAEvgE,MAAQ,EAAK6P,aAAakF,KAAK/U,OACvE,GAAGsgE,GAAW,EAAG,CAEjB,IAAIxQ,EAAU,eAAQuQ,EAASC,IAC3BQ,EAAgBvyD,OAAO0gC,OAAO,GAAI6gB,EAAY,CAAE5e,YAAapzC,KAAK+R,aAAakF,KAAKm8B,cAExFmvB,EAAS9zB,OAAO+zB,EAAS,EAAGQ,GAC5BhjE,KAAKkE,SAAS,CAAEq+D,SAAUA,KAI5BviE,KAAKiX,KAAQjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,UAAa50B,KAAK+R,aAAakF,KAAO,KACpGjX,KAAKoiE,qB,kCAGN,WAECpiE,KAAKqhE,gBAAgB/7B,kBACrBtlC,KAAKqhE,gBAAkB,O,oBA4GtB,WAAU,IHtEqBtyD,EGsEtB,OAEN4kC,EAAmB,KACoB,IAAvC3zC,KAAKQ,MAAM2xC,iBAAiB5hC,SAC/BojC,EACC,mBAAKlvC,IHtFE,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZyO,SAAU,WACVC,IAAK,OG+EoBvP,UAAU,+BACtC,iBAAGE,KH5E0BsK,EG4EFA,GH1ExB,CACNuL,OAAQ,IACRpC,UAAW,OACXvT,MAAM,GAAD,OAAKoK,EAAMpK,MAAMyK,WACtB1K,SAAU,iBACV4P,WAAY,MACZC,WAAY,OACZq/B,SAAU,aACVnuC,QAAS,WGkE6BlB,UAAU,qBAC3CvE,KAAKQ,MAAM2xC,oBAMhB,IAAMuL,EAAQ,aAAO19C,KAAKQ,MAAM+hE,UAC5BU,EAAgB,GAEdrnD,EAAQ8hC,EAAShK,KAAI,SAAAryC,GAE1B,IHhEkCpB,EGgE5BijE,EAAM7hE,EAAKqC,KAAK,GAAGqN,cACrBoyD,EAAY,KACZD,IAAQD,GACXA,EAAgBC,EAChBC,EAAa,mBAAK1+D,KHpEexE,EGoEW,EAAKA,MHlE1C,CACHwF,QAAS,SACT6U,OAAQ,QACR1V,MAAO,OACPF,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ5P,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAM4K,YG2DyBhL,UAAU,mCAAmC0+D,IAEtGE,EAAY,KAGb,IAAIC,EAAgB,EAAKrxD,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAa,EAAK7iB,aAAakF,KAAK/U,MAAQb,EAAKa,IAAOb,EAAO,KAEpI,OACC,YAAC,IAAM2D,SAAP,CAAgB8R,IAAKzV,EAAKa,KACxBihE,EACD,YAAC,GAAD,CAAuB9hE,KAAMA,EAAM+hE,aAAcA,EAAcC,aAAc,EAAKtxB,kBAMjF8B,EAAW,mBAAKpvC,IAAKu9D,GAAwBluB,GAAc/kC,IAAQxK,UAAU,gBAAgB4P,QAASnU,KAAKiyC,kBAC3GjyC,KAAK+R,cAA+D,IAA/CtB,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,SAC5DsjC,EAAW,MAGZ,IH9IsC5zC,EG8IlCqjE,EAAa,KACbtjE,KAAKQ,MAAM6hE,mBACdiB,EACC,mBAAK7+D,IH1KE,CACH6V,OAAQ,OACRzG,SAAU,WACVrO,aAAc,MACpB2S,UAAW,yCACL5S,gBAAiB,yBACjByM,OAAQ,OACR9M,QAAS,OACTG,eAAgB,SAChBD,WAAY,UGiKgBb,UAAU,oBACzC,sBAAQjD,KAAK,SAASiD,UAAU,iBAAiBE,IAAKy9D,GAAyBqB,GAAYx0D,MAC3F,qBAAOzN,KAAK,OAAO0/C,aAAa,MAAMv8C,KHnJHxE,EGmJgCD,KAAKC,MHjJlE,CACH2E,MAAO,oBACPa,QAAS,MACTf,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZjP,QAAS,OACTiV,OAAQ,OACRvI,OAAQ,OACRrN,MAAO1E,EAAM8O,MAAMpK,MAAM2K,OACzB/J,gBAAiB,gBGuI4DhB,UAAU,gBAAgBo8C,YAAanqC,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,MAAO8mC,SAAUjhD,KAAKijB,gBAK1L,IAAMugD,EACL,mBAAK/+D,IAAKq9D,GAAoB9hE,KAAKC,MAAO8O,IAAQxK,UAAU,YAC3D,mBAAKE,IAAKs9D,GAAmBhzD,IAAQxK,UAAU,oBAC7CsvC,EACD,kBAAIpvC,IAAKw9D,GAAwBjiE,KAAKC,OAAQsE,UAAU,gBAAgByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OAC9G3D,GAAW0D,UAAU,QAASla,KAAKC,MAAMka,OAE3C,yBAEAmpD,EACA3vB,EACD,mBAAKlvC,IHtHE,CACHuN,OAAQ,qBACRkiC,UAAW,OACX55B,OAAQ,IACR7U,QAAS,KGkHiBlB,UAAU,iBAAiB4vC,SAAUn0C,KAAK0xC,aAAcn+B,IAAK,SAAAC,GAAE,OAAK,EAAKuvD,YAAcvvD,IACnHoI,IAKA6nD,EAAmBD,EASvB,MAR2B,KAAvBxjE,KAAKC,MAAMktC,UACds2B,EACC,YAAC,GAAD,CAA0BlwD,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,IAC9DgwD,IAKIC,M,GA9PsB9iE,IAAMkF,eAAhCs8D,GAIEriC,YAAc3qB,GA+PtBgtD,GAAkB1uD,aAAe,CAChC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPijC,YAAa,aACb7E,QAAS,ICzSH,IAAMgI,GAAW,SAACl1C,EAAO6R,GAE5B,IAAMsjC,EAAiBn1C,EAAMmjE,cAAgBnjE,EAAMmjE,aAAalhE,MAAQjC,EAAMoB,KAAKa,IAAO,CACtFqD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,UAClD,GAEJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,MACfE,eAAgB,OAChBD,WAAY,SACZM,OAAQ,UACRd,MAAO,OACPa,QAAS,YACN2vC,GARP,IASI,UAAW,CACP7vC,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,aA4BjDmmC,GAAgB,SAACxjC,GAE1B,MAAO,CACHpN,SAAU,OACV4P,WAAY,MACZlB,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZ//B,MAAO,OACP0V,OAAQ,YACR/F,WAAY,OACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,WAIzBu0D,GAAgB,SAAA5xD,GAC5B,MAAO,CACN6xD,UAAW,OACXt2B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,WC/CjDy0D,GAAwB,SAAC3jE,GAE9B,IAAM6R,EAAUoD,qBAAWC,IAEvB0uD,EAAgB,YAAC,GAAD,CAAuB9uD,OAAQ9U,EAAMoB,KAAK0T,SAEtDu/B,EAAgB,SAAC5gB,EAAOH,GAE/B,IAAMyH,EAAOtH,EAAMqf,OAKnB,GAHoB/X,EAAK8H,aACL9H,EAAKG,YAGzB,OAAO,EAGJ5H,EACFyH,EAAKuZ,aAAa,QAASvZ,EAAKke,aAEhCle,EAAKyZ,gBAAgB,UAIvB,OACC,mBAAKhwC,IAAK0wC,GAASl1C,EAAO6R,GAAUqC,QAAS,kBAAMlU,EAAMojE,aAAapjE,EAAMoB,OAAOkD,UAAU,cAC5F,mBAAKE,IDlBG,CACHS,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACR+H,WAAY,KCcexV,UAAU,yBACzC,YAAC,GAAD,CAAiBlD,KAAMpB,EAAMoB,OAC5BwiE,GAEF,mBAAKp/D,IDZG,CACHG,MAAO,oBACP80C,SAAU,EACVC,YAAa,OACb,aAAc,CACVC,aAAc,OACdD,YAAa,MCMOp1C,UAAU,sBAAsByvC,IAAKx9B,GAAWy9B,aAAaniC,EAAQ2E,WACjG,mBAAKhS,IAAK6wC,GAAcxjC,GAAUvN,UAAU,sBAC5CywC,aAAc,SAAAthB,GAAK,OAAI4gB,EAAc5gB,GAAO,IAC5CuhB,aAAc,SAAAvhB,GAAK,OAAI4gB,EAAc5gB,GAAO,KAASzzB,EAAMoB,KAAKqC,MAChE,mBAAKe,IAAKi/D,GAAc5xD,GAAUvN,UAAU,2BAOhDq/D,GAAsBnwD,aAAe,CACpC1E,MAAOA,GACP1N,KAAM,IC1DA,IA6BMyiE,GAAyB,SAACtjE,EAAOP,GAE1C,IAAM8jE,EAAevjE,EAAMwjE,YAAe,CACtCjwD,KAAM,IACNoE,UAAW,uCACX,GAEEo1B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aAEHtL,MAAO,QACPq/D,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClD6C,OAAQ,OACR6B,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf,cAAe,CACX6M,OAAQ,qBAThB,iBAWeu7B,EAAG,IAXlB,aAYQ15B,SAAU,qBACVE,KAAM,QACND,IAAK,IACLwlB,OAAQ,IACR10B,MAAO,iBACP+O,OAAQ,IACRpO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,OAChDqE,WAAY,oBACT+vD,KAKFG,GAAsB,SAAC1jE,EAAOP,GAEvC,IAAMstC,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aACHtL,MAAO,qBACPoN,OAAQ,OACR25C,MAAO,IACPzmD,QAAS,OACTC,cAAe,OALnB,iBAMeooC,EAAG,GANlB,aAMyBA,EAAG,IAAO,CAC3B3oC,MAAO,oBCpDbu/D,G,kDAIH,WAAYlkE,GAAQ,IAAD,8BAEpB,cAAMA,IAJLwxB,aAAe,KAEI,EAkBrB2yC,YAAc,SAAC/iE,EAAMC,GAEpB,EAAKkxC,mBAAmBzf,eAAezxB,EAAMD,GAC7C,EAAKgjE,iBArBe,EAwBrBrgC,cAAgB,SAAC/E,GAEhB,GAAOA,IACDtwB,GAAA,eACJ,EAAK01D,iBA5Ba,EAmCrBA,cAAgB,WAEf,IAAML,EAAc,EAAKxjE,MAAMwjE,YAC/B,EAAK9/D,SAAS,CAAE8/D,aAAcA,KAlC9B,EAAKxjE,MAAQ,CACZwjE,aAAa,GAGd,EAAKxxB,mBAAqB7xC,IAAMyD,YARZ,E,qDAWrB,WAEwC,IAAnCpE,KAAKC,MAAMqkE,aAAa/zD,QAC3BvQ,KAAKqkE,kB,oBA2BP,WAAU,IDnEqBpkE,ECmEtB,OAEJskE,EACJ,YAAC,GAAD,CACAp3B,QAAQ,aACR7O,gBAAiBt+B,KAAKgkC,gBAEtB,OACC,YAAC,GAAD,CAA0BzwB,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,GAAKnS,KAAMrB,KAAKC,MAAMqkE,aAAc7tD,SAAUzW,KAAKC,MAAMka,MACxH,mBAAK1V,KD5EuBxE,EC4EFD,KAAKC,MD1ExB,CACHiF,QAAS,OACT8M,OAAQ,OACRpN,MAAO,OACP0T,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuL,OAAO,aAAD,OAAeta,EAAM8O,MAAMc,YAAYV,SAC7C,IAAK,CACDmJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,sBAAuB,CACnBpK,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,YCsDWv1B,UAAU,gCAAgCyvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OACxH,mBAAK1V,IAAKq/D,GAAuB9jE,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,qBACnE,YAAC,GAAD,CAAmB4oC,QAAQ,OAAOp+B,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAM63B,YAAahyC,KAAKokE,YAAa9lC,gBAAiBt+B,KAAKgkC,iBAExI,mBAAKv/B,IAAKy/D,GAAoBlkE,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,kBAC/DggE,GAEF,YAAC,GAAD,CAAuBx1D,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,sB,GA7DtDrjC,IAAMC,WAqElDujE,GAA8B1wD,aAAe,CAC5C0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPu1D,aAAc,IC9FR,IAAMjmB,GAAoB,SAACvsC,GAAa,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MACxD,OAAO,EAAP,CACIsB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,IACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAfb,cAgBKqoC,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAlBhB,cAoBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAtBhB,cAwBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SA1BhB,GAuDSssC,GAAkB,SAAAxsC,GAC9B,MAAO,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXyV,OAAQ,QACR1V,MAAO,SAwDI+5C,GAAiB,SAAC7sC,EAAStR,EAAO4Q,GAE3C,IAAMwtC,EAAgBp+C,EAAMgkE,cAAiB,CACzCzlB,SAAU,OACV/mC,cAAe,OACf8hB,WAAW,OAAD,OAAS1oB,EAAT,yCAA6CU,EAAQ/C,MAAME,eACrE,GAEE4vC,EAAcr+C,EAAMgkE,cAAiB,CAAE/vD,YAAa,QAAY,GAEtE,MAAO,CACHvP,QAAS,eACT,OAAS,yBACLQ,OAAQ,UACRD,QAAS,WACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCzJ,aAAc,MACdb,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BjL,SAAU,OACVY,QAAS,IACTiV,OAAQ,KACLqkC,GATP,IAUI,KAAO,eACAC,KAGX,GAAM,CACFtkC,OAAQ,OACR,GAAM,CACF1V,UAAW,aAMd4/D,GAAa,SAAC3yD,GAEvB,MAAO,CACH5M,QAAS,QACTN,MAAO,OACP2V,OAAQ,IACRpC,UAAW,yCACX3S,aAAc,MACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBiK,MAClD7K,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9B/K,SAAU,SCrKH,OAA0B,qCCA1B,OAA0B,kCC2BnCggE,G,kDAGL,WAAYzkE,GAAQ,IAAD,8BAClB,cAAMA,IA6BP0kE,kBAAoB,WACnB,EAAK7yD,QAAQ0D,mBAAmBmW,uBAC9B9pB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMmkE,mBAC3B,EAAKzgE,SAAS,CAACygE,kBAAmBthE,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMmkE,mBACd,EAAKzgE,SAAS,CAACygE,mBAAmB,QA1CnB,EA+CnBC,oBAAsB,WACrB,EAAK9yD,QAAQ0D,mBAAmBuW,yBAC9BlqB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMokE,qBAC3B,EAAK1gE,SAAS,CAAC0gE,oBAAqBvhE,OAGrCT,OAAM,SAAAnB,IACiC,IAAnC,EAAKjB,MAAMokE,qBACd,EAAK1gE,SAAS,CAAC0gE,qBAAqB,QA3DrB,EAgEnBC,mBAAqB,WACpB,EAAK/yD,QAAQ0D,mBAAmBqW,wBAC9BhqB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMqkE,oBAC3B,EAAK3gE,SAAS,CAAC2gE,mBAAoBxhE,OAGpCT,OAAM,SAAAnB,IACgC,IAAlC,EAAKjB,MAAMqkE,oBACd,EAAK3gE,SAAS,CAAC2gE,oBAAoB,QA5EpB,EAiFnBC,sBAAwB,SAAApxC,GACvB,EAAKxvB,SAAS,CAAC+sB,SAAUyC,EAAMqf,OAAO7vC,SAlFpB,EAqFnB6hE,kBAAoB,SAAArxC,GACnB,EAAKxvB,SAAS,CAACR,KAAMgwB,EAAMqf,OAAO7vC,SAtFhB,EAyFnB8hE,kBAAoB,SAAAtxC,GACnB,IAAMpyB,EAAOoyB,EAAMqf,OAAO7vC,MAC1B,EAAKgB,SAAS,CAAC5C,SAEXA,IAASM,YAAUsvB,WAAWjK,SACjC,EAAK/iB,SAAS,CAAC+gE,eAAe,IAE9B,EAAK/gE,SAAS,CAAC+gE,eAAe,KAhGb,EAoGnBC,SAAW,WACV,IAAMC,EAAY,EAAK3kE,MAAMkD,KAAK4M,OAC5B0gB,EAAY,EAAKxwB,MAAMc,KAAKgP,OAElC,IAAK60D,EAEJ,OADA,EAAKjhE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,qBAAsB,EAAKpI,QAAQ2E,aAC/E,EAGR,IAAKua,EAEJ,OADA,EAAK9sB,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,qBAAsB,EAAKpI,QAAQ2E,aAC/E,EAIR,QAAIua,IAAcpvB,YAAUsvB,WAAWjK,WAC3B,EAAKzmB,MAAMywB,SAER1gB,UACb,EAAKrM,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,mBAAoB,EAAKpI,QAAQ2E,aAC7E,IAxHS,EA8HnB2uD,YAAc,WAEb,IAAK,EAAKF,WACT,OAAO,EAGR,EAAKhhE,SAAS,CAAEsgE,eAAe,IAE/B,IAAMxzC,EAAY,EAAKxwB,MAAMc,KAAKgP,OAE5B2gB,EAAW,EAAKzwB,MAAMywB,SACtB9f,EAAO,UAAW,IAAI/C,MAAOC,UAC7B3K,EAAO,EAAKlD,MAAMkD,KAAK4M,OACzBhP,EAAOM,YAAUsvB,WAAWlK,OAEhC,OAAQgK,GACP,IAAK,SACJ1vB,EAAOM,YAAUsvB,WAAWlK,OAC5B,MACD,IAAK,UACJ1lB,EAAOM,YAAUsvB,WAAWm0C,QAC5B,MACD,IAAK,WACJ/jE,EAAOM,YAAUsvB,WAAWjK,SAM9B,IAAMhW,EAAQ,IAAIrP,YAAU0jE,MAAMn0D,EAAMzN,EAAMpC,EAAM2vB,GACpDrvB,YAAUwjE,YAAYn0D,GACpBpP,MAAK,SAAA0jE,GACL,EAAKrhE,SAAS,CAAEsgE,eAAe,IAEP,kBAAbe,GAAyB90D,OAAOC,KAAK60D,GAAUh1D,QACzD,EAAKuB,QAAQwf,gBAAgB,UAAW,0BACxC,EAAKptB,SAAS,CAAER,KAAM,GAAIpC,KAAM,GAAI2vB,SAAU,GAAIg0C,cAAe,KACjE,EAAKhlE,MAAMq+B,gBAAgB3vB,GAAA,cAAgC42D,IAE3D,EAAKrhE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGpF7T,OAAM,SAAAnB,GACN,EAAKyC,SAAS,CAAEsgE,eAAe,EAAOhgE,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBAzKzF,EA6KnB+uD,kBAAoB,aA1KnB,EAAKhlE,MAAQ,CACZgE,aAAc,GACdygE,eAAe,EACfvhE,KAAM,GACNpC,KAAM,GACN2vB,SAAU,GACVuzC,eAAe,EACfG,mBAAmB,EACnBC,qBAAqB,EACrBC,oBAAoB,GAZH,E,qDAgBhB,WAEI7kE,KAAK2kE,oBACL3kE,KAAK4kE,sBACL5kE,KAAK6kE,uB,gCAGT,WAEI7kE,KAAK2kE,oBACL3kE,KAAK4kE,sBACL5kE,KAAK6kE,uB,oBAoJZ,WAEO,IAAMY,EAAa,GACfC,EAAkB,MAEe,IAAjC1lE,KAAKQ,MAAMmkE,oBACXc,EAAW7jE,YAAUsvB,WAAWlK,QAAUxQ,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,YAGnD,IAAnCzW,KAAKQ,MAAMokE,sBACXa,EAAW7jE,YAAUsvB,WAAWjK,UAAYzQ,GAAW0D,UAAU,qBAAsBla,KAAK8R,QAAQ2E,YAGlE,IAAlCzW,KAAKQ,MAAMqkE,qBACXY,EAAW7jE,YAAUsvB,WAAWm0C,SAAW7uD,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAG5F,IAAMkvD,EAAgBl1D,OAAOC,KAAK+0D,GAClC,GAAIE,EAAcp1D,OAAQ,CAEtB,IAAMq1D,EAAuBD,EAAcjyB,KAAI,SAAAmyB,GAC3C,OACI,sBAAQ3iE,MAAO2iE,EAAc/uD,IAAK+uD,GAC7BJ,EAAWI,OAMpBH,EADAC,EAAcp1D,OAAS,EAEnB,sBACI,sBACI,sBAAQ9L,IAAKggE,GAAWzkE,KAAKC,OAAQsE,UAAU,YAAY08C,SAAUjhD,KAAKglE,kBAAmB9hE,MAAOlD,KAAKQ,MAAMc,KAAMg/C,SAAS,KAC1H,sBAAQp9C,MAAM,IAAIsT,GAAW0D,UAAU,oBAAqBla,KAAK8R,QAAQ2E,WACxEmvD,KAOb,sBACI,sBACI,sBAAQnhE,IAAKggE,GAAWzkE,KAAKC,OAAQsE,UAAU,YAAY08C,SAAUjhD,KAAKglE,kBAAmB9hE,MAAOlD,KAAKQ,MAAMc,KAAMg/C,SAAS,KACzHslB,KAQ/B,IAAI30C,EAAW,KACXjxB,KAAKQ,MAAMykE,gBACdh0C,EACC,sBACC,sBACC,qBAAO+vB,aAAa,MAAMv8C,IAAKggE,GAAWzkE,KAAK8R,SAAU6uC,YAAanqC,GAAW0D,UAAU,uBAAwBla,KAAK8R,QAAQ2E,UAAWnV,KAAK,WAAWg/C,SAAS,IAAIW,SAAUjhD,KAAK8kE,sBAAuB5hE,MAAOlD,KAAKQ,MAAMywB,cAMpO,IH1O8B7f,EAAKU,EG0O7ByuC,EAAavgD,KAAKQ,MAAMgkE,cAAgBhuD,GAAW0D,UAAU,WAAYla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UAEpJ,OACC,YAAC,IAAMzR,SAAP,KACC,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,IAAK45C,GAAkBr+C,KAAK8R,SAAUvN,UAAU,sBACpD,oBAAME,KHhPqB2M,EGgPAoJ,GHhPK1I,EGgPM9R,KAAK8R,QH9OrC,CACH+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACV7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAC5BvJ,OAAQ,YGqO0CnB,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAC3J,mBAAKhS,IHhOC,CACHgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,QG6NkBL,UAAU,eACrC,qBAAOE,KAAqBzE,KAAKC,MH9M5B,CACHu+C,eAAgB,WAChBlkC,OAAQ,IACR7U,QAAS,IACTb,MAAO,OACPoN,OAAQ,MACR,GAAM,CACF9M,QAAS,QACTN,MAAO,OACP85C,YAAa,YGsMlB,uBAASj6C,IH/LL,CACHC,SAAU,OACVuT,aAAc,OACd3D,WAAY,OACZzP,UAAW,QG2LuBN,UAAU,gBAA7C,IAA8DiS,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAAhH,KACA,qBAAOhS,IHtLH,CACHuN,OAAQ,oBACRkiC,UAAW,OACXhvC,QAAS,QACT,GAAM,CACF,GAAM,CACFO,QAAS,QACTf,SAAU,OACV,MAAS,CACLE,MAAO,OACP2V,OAAQ,OACR9U,QAAS,WACTf,SAAU,OACVY,QAAS,QAEb,OAAU,CACNA,QAAS,OACTG,QAAS,eGqKQlB,UAAU,iBACvC,sBACC,sBAAI,mBAAKE,IAAK65C,GAAgBt+C,KAAK8R,UAAW9R,KAAKQ,MAAMgE,gBAE1D,sBACC,sBACC,qBAAOw8C,aAAa,MAAMv8C,IAAKggE,GAAWzkE,KAAKC,OAAQsE,UAAU,gBAAgBo8C,YAAanqC,GAAW0D,UAAU,mBAAoBla,KAAK8R,QAAQ2E,UAAWnV,KAAK,OAAOg/C,SAAS,IAAIW,SAAUjhD,KAAK+kE,kBAAmB7hE,MAAOlD,KAAKQ,MAAMkD,SAG7OgiE,EACAz0C,GAEF,qBAAOxsB,IAAKk6C,GAAe3+C,KAAK8R,QAAS9R,KAAKQ,MAAOqgD,KACpD,kBAAIt8C,UAAU,eACb,sBAAI,sBAAQjD,KAAK,SAASg/C,SAAS,IAAInsC,QAASnU,KAAKolE,aAAa,wBAAO7kB,e,GAzQ/C5/C,IAAMC,WAAnC8jE,GACE5kC,YAAc3qB,GCxBf,IAAM2wD,GAAb,WASI,WAAY30D,GAAO,yBAPnBA,KAAO,KAOW,KANlB40D,mBAAqB,KAMH,KALlBC,yBAA2B,KAKT,KAHlBt8B,eAAiB,sBAAuB,IAAIt7B,MAAOC,UAGjC,KAFlBs7B,gBAAkB,uBAAwB,IAAIv7B,MAAOC,UAGjDrO,KAAKmR,KAAOA,EACZnR,KAAK+lE,mBAAqB,IAAInkE,YAAUqkE,2BAA2B90D,GAAM24B,SAAS,IAAI7L,QACtFj+B,KAAKgmE,yBAA2B,IAAIpkE,YAAUskE,4BAA4B/0D,GAAM24B,SAAS,IAAI7L,QAZrG,yDAeI,WACI,OAAOj+B,KAAK+lE,mBAAmBh8B,cAhBvC,yCAmBI,WACI,OAAO/pC,KAAKgmE,yBAAyBj8B,cApB7C,6BAuBI,SAAgBz7B,GAAW,IAAD,OAEtB1M,YAAU0oC,iBACNtqC,KAAK2pC,gBACL,IAAI/nC,YAAU2oC,cAAc,CACxBC,0BAA2B,SAAC1lC,EAAS2lC,EAAaC,EAAUC,EAAUC,GAClEt8B,EAASK,GAAkC7J,EAAS8lC,EAAc,CAAC,KAAQH,EAAa,MAASC,KAErGG,oBAAqB,SAAC/lC,EAASgmC,EAAYC,EAAUC,GACjD18B,EAASK,GAA2B7J,EAASkmC,EAAY,CAAC,KAAQF,EAAY,WAAa,KAE/FG,oBAAqB,SAACnmC,EAASomC,EAAYC,EAAUC,GACjD98B,EAASK,GAA2B7J,EAASsmC,EAAY,CAAC,KAAQF,KAEtEG,sBAAuB,SAACvmC,EAASwmC,EAAcC,EAAYC,GACvDl9B,EAASK,GAA6B7J,EAAS0mC,EAAc,CAAC,KAAQF,EAAc,WAAa,KAErGG,qBAAsB,SAAC3mC,EAAS4mC,EAAWC,EAAaC,GACpDt9B,EAASK,GAA0B7J,EAAS8mC,EAAa,CAAC,KAAQF,EAAW,WAAa,KAE9FG,kBAAmB,SAAC/mC,EAASgnC,EAAa76B,GACtC3C,EAASK,GAAyB7J,EAASmM,EAAO,CAAC,KAAQ66B,KAE/DC,oBAAqB,SAACjnC,EAASknC,EAAYC,GACvC39B,EAASK,GAA2B7J,EAASmnC,EAAa,CAAC,KAAQD,QAK/EpqC,YAAUooC,gBACNhqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CACvBC,aAAc,SAAAC,GAEV77B,EAASK,GAAmB,KAAM,CAACwC,KAAM,EAAKA,MAAO,CAAC,KAAQg5B,KAElEC,cAAe,SAAAC,GAEX/7B,EAASK,GAAoB,KAAM,CAACwC,KAAM,EAAKA,MAAO,CAAC,KAAQk5B,UA7DnF,6BAmEI,WAEIzoC,YAAUgrC,mBAAmB5sC,KAAK0pC,gBAClC9nC,YAAUirC,oBAAoB7sC,KAAK2pC,qBAtE3C,KCUas2B,GAAc,SAACnuD,GAExB,MAAO,CACHrM,QAAS,OACToO,SAAU,WACVw5B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,OACTG,eAAgB,aAChBD,WAAY,SACZ4M,OAAQ,SAIHkuD,GAAmB,SAAC9uD,EAAKU,GAElC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACHxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCrK,MAAO,OACPoN,OAAQ,QANZ,iBAOeu7B,EAAG,GAPlB,aAOyBA,EAAG,GAP5B,aAOmCA,EAAG,GAPtC,eAO+CA,EAAG,IAAO,CACjDroC,QAAS,WAmCRk7D,GAAqB,SAACtuD,GAE/B,MAAO,CACHwI,OAAQ,IACR1V,MAAO,OACPF,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9Bw1B,cAAe,cAgCVy7B,GAAgB,SAACvuD,EAASq0D,GAEnC,IAAMC,EAAaD,EAAc,CAC7BxhE,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,MAC9B,CACAjL,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,UAGlC,OAAO,aACHzK,SAAU,OACV6P,WAAY,OACZrP,QAAS,eACTQ,OAAQ,UACR4O,WAAY,OACT8xD,ICjII,OAA0B,iCCwCnCC,G,kDAIL,WAAYpmE,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IA2FdgnD,sBAAwB,WACvB,EAAKhnD,QAAQ0D,mBAAmBgT,8BAC9B3mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMs4D,uBAAyB,EAAKtnD,YACzD,EAAKtN,SAAS,CAAE40D,sBAAuBz1D,OAGxCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAMs4D,uBAAmC,EAAKtnD,YACtD,EAAKtN,SAAS,CAAE40D,uBAAuB,QAxGf,EA6G5BC,kBAAoB,WACnB,EAAKjnD,QAAQ0D,mBAAmB+S,oCAC9B1mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMu4D,mBAAqB,EAAKvnD,YACrD,EAAKtN,SAAS,CAAE60D,kBAAmB11D,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMu4D,mBAA+B,EAAKvnD,YAClD,EAAKtN,SAAS,CAAE60D,mBAAmB,QAzHX,EA8H5BC,uBAAyB,WACxB,EAAKlnD,QAAQ0D,mBAAmBkV,+BAC9B7oB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMw4D,wBAA0B,EAAKxnD,YAC1D,EAAKtN,SAAS,CAAE80D,uBAAwB31D,OAGzCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAMw4D,wBAAoC,EAAKxnD,YACvD,EAAKtN,SAAS,CAAE80D,wBAAwB,QA1IhB,EA+I5BC,sBAAwB,WACvB,EAAKnnD,QAAQ0D,mBAAmBoV,+BAC9B/oB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMy4D,uBAAyB,EAAKznD,YACzD,EAAKtN,SAAS,CAAE+0D,sBAAuB51D,OAGxCT,OAAM,SAAAnB,IACmC,IAArC,EAAKjB,MAAMy4D,uBAAmC,EAAKznD,YACtD,EAAKtN,SAAS,CAAE+0D,uBAAuB,QA3Jf,EAgK5BC,kBAAoB,WACnB,EAAKpnD,QAAQ0D,mBAAmB8S,yBAC9BzmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM04D,mBAAqB,EAAK1nD,YACrD,EAAKtN,SAAS,CAAEg1D,kBAAmB71D,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM04D,mBAA+B,EAAK1nD,YAClD,EAAKtN,SAAS,CAAEg1D,mBAAmB,QA5KX,EAiL5BC,uBAAyB,WACxB,EAAKrnD,QAAQ0D,mBAAmB4S,+BAC9BvmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM24D,wBAA0B,EAAK3nD,YAC1D,EAAKtN,SAAS,CAAEi1D,uBAAwB91D,OAGzCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAM24D,wBAAoC,EAAK3nD,YACvD,EAAKtN,SAAS,CAAEi1D,wBAAwB,QA7LhB,EAkM5BC,iBAAmB,WAClB,EAAKtnD,QAAQ0D,mBAAmBqS,2BAC9BhmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM44D,kBAAoB,EAAK5nD,YACpD,EAAKtN,SAAS,CAAEk1D,iBAAkB/1D,OAGnCT,OAAM,SAAAnB,IAC8B,IAAhC,EAAKjB,MAAM44D,kBAA8B,EAAK5nD,YACjD,EAAKtN,SAAS,CAAEk1D,kBAAkB,QA9MV,EAmN5BC,kBAAoB,WACnB,EAAKvnD,QAAQ0D,mBAAmByS,uBAC9BpmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM64D,mBAAqB,EAAK7nD,YACrD,EAAKtN,SAAS,CAAEm1D,kBAAmBh2D,OAGpCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAM64D,mBAA+B,EAAK7nD,YAClD,EAAKtN,SAAS,CAAEm1D,mBAAmB,QA/NX,EAoO5BC,gBAAkB,WACjB,EAAKxnD,QAAQ0D,mBAAmB2U,qBAC9BtoB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM84D,iBAAmB,EAAK9nD,YACnD,EAAKtN,SAAS,CAAEo1D,gBAAiBj2D,OAGlCT,OAAM,SAAAnB,IAC6B,IAA/B,EAAKjB,MAAM84D,iBAA6B,EAAK9nD,YAChD,EAAKtN,SAAS,CAAEo1D,iBAAiB,QAhPT,EAqP5BgN,aAAe,SAACxvD,EAAKhS,EAASmM,EAAOk+B,GAEpC,GADa,EAAKr9B,QAAQmF,KAAK9F,OAClBF,EAAME,KAClB,OAAO,EAGR,OAAQ2F,GACP,KAAKnI,GACL,KAAKA,GACJ,EAAK43D,0BAA0Bp3B,EAAQ9tC,MACvC,MACD,KAAKsN,GACL,KAAKA,GAEH,IAAM63D,EAASr3B,EAAQ9tC,KACjBolE,EAAgBh2D,OAAO0gC,OAAO,GAAIq1B,EAAQ,CAAE/0B,MAAO7vC,YAAU4uB,mBAAmBG,cAEtF,EAAK+1C,gBAAgB,CAACD,IAAgB,GAEvC,MACD,KAAK93D,GACL,KAAKA,GAEH,IAAM63D,EAASr3B,EAAQ9tC,KACvB,EAAKslE,mBAAmB7vD,EAAK0vD,GAAQ,GAEtC,MACD,KAAK73D,GAEH,IAAM63D,EAASr3B,EAAQ9tC,KAEvB,EAAKulE,WAAW,CAACJ,IACjB,EAAKG,mBAAmB7vD,EAAK0vD,GAAQ,GAEtC,MACD,KAAK73D,GAEH,IAAM63D,EAASr3B,EAAQ9tC,KACvB,EAAKwlE,aAAa,CAACL,IAEpB,MACD,KAAK73D,GAEH,IAAM63D,EAASr3B,EAAQ9tC,KACjBolE,EAAgBh2D,OAAO0gC,OAAO,GAAIq1B,EAAQ,CAAE/0B,MAAOtC,EAAO,QAChE,EAAK23B,mBAAmBL,KAlSA,EA6S5BF,0BAA4B,SAAAC,GAC3B,IAAIO,EAAU,aAAO,EAAKj1D,QAAQigB,cAE9Bi1C,EAAYD,EAAWz4B,WAAU,SAAC2uB,EAAGgK,GAAJ,OAAUhK,EAAE/6D,MAAQskE,EAAOtkE,OAEhE,GAAI8kE,GAAa,EAAG,CACnB,IAAIE,EAAYH,EAAWC,GACvBG,EAAe12D,OAAO0gC,OAAO,GAAI+1B,EAAWV,GAChDO,EAAWt4B,OAAOu4B,EAAW,EAAGG,GAEhC,EAAKr1D,QAAQsgB,mBAAmB20C,GAGjC,IAAIK,EAAgB,aAAO,EAAKt1D,QAAQogB,oBAEpCm1C,EAAkBD,EAAiB94B,WAAU,SAAC2uB,EAAGgK,GAAJ,OAAUhK,EAAE/6D,MAAQskE,EAAOtkE,OAE5E,GAAImlE,GAAmB,EAAG,CACzB,IAAIC,EAAkBF,EAAiBC,GACnCE,EAAqB92D,OAAO0gC,OAAO,GAAIm2B,EAAiBd,GAC5DY,EAAiB34B,OAAO44B,EAAiB,EAAGE,GAE5C,EAAK70C,yBAAyB00C,KAnUJ,EAuU5BI,gBAAkB,WACjB,IAAMC,EAAqB,GAC1BC,EAAiB,GAClB,EAAK5B,mBAAmB6B,wBACtB9lE,MAAK,SAAAkwB,GACLA,EAAa6Q,SAAQ,SAAA4jC,GAChBA,EAAO/0B,QAAU7vC,YAAU4uB,mBAAmBC,OACjDg3C,EAAmBz6B,KAAKw5B,GAGrBA,EAAO/0B,QAAU7vC,YAAU4uB,mBAAmBE,WACjDg3C,EAAe16B,KAAKw5B,MAItB,EAAK10D,QAAQqgB,mBAAmBJ,EAAc01C,EAAoBC,MAElE9kE,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBAxVb,EA2V5B6uD,sBAAwB,WACvB,GAAI,EAAK91D,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,YAC5D,OAAO,EAGR,EAAKm1C,mBAAmB+B,8BACtBhmE,MAAK,SAAA4wB,GACL,EAAK3gB,QAAQ0gB,sBAAsBC,MAEnC7vB,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBApWb,EAuW5B+uD,YAAc,WACb,EAAK5jE,SAAS,CAAE6jE,yBAAyB,EAAMC,6BAA6B,EAAOC,oCAAoC,KAxW5F,EA2W5Bp1B,gBAAkB,SAAA5Y,GACjB,IAAM6Y,EAAiB7Y,EAAE8Y,OAAO7vC,MAGhC,GAFA,EAAKgB,SAAS,CAAE6jE,yBAAyB,IAElB,OAAnBj1B,EACH,OAAO,EAGR,IAAM3hC,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAUkmE,YAAY32D,GACpBtP,MAAK,SAAAwB,GACDA,GACH,EAAKyO,QAAQwf,gBAAgB,UAAW,0BACxC,EAAKxf,QAAQkhB,kBAAkB7hB,IAE/B,EAAKujB,SAAS3b,SAAS,sBAGxBnW,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBA7Xb,EAgY5BmvD,eAAiB,SAAAjuC,GAChB,IAAM6Y,EAAiB7Y,EAAE8Y,OAAO7vC,MAGhC,GAFA,EAAKgB,SAAS,CAAE8jE,6BAA6B,IAEtB,OAAnBl1B,EACH,OAAO,EAGR,IAAM3hC,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAUumE,WAAWh3D,GACnBtP,MAAK,SAAAwB,GACDA,GACH,EAAKyO,QAAQohB,eAAe/hB,GAC5B,EAAKlR,MAAMq+B,gBAAgB3vB,GAAA,iBAG3B,EAAK+lB,SAAS3b,SAAS,sBAGxBnW,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,uBAnZb,EAsZ5BqvD,kBAAoB,SAAAnuC,GACnB,IAAM6Y,EAAiB7Y,EAAE8Y,OAAO7vC,MAEhC,GADA,EAAKgB,SAAS,CAAE+jE,oCAAoC,IAC7B,OAAnBn1B,EACH,OAAO,EAGR,EAAK5uC,SAAS,CAAEmkE,mBAAmB,KA7ZR,EAga5BF,WAAa,WAAO,IAAD,KAId,YAAKr2D,QAAQmF,YAAb,eAAmBqxD,UAAnB,UAA6B,EAAK9nE,MAAMixB,oBAAxC,aAA6B,EAAyBvvB,KACzD,EAAKgC,SAAS,CAAE+jE,oCAAoC,EAAMF,yBAAyB,EAAOC,6BAA6B,IAEvH,EAAK9jE,SAAS,CAAE8jE,6BAA6B,EAAMC,oCAAoC,EAAOF,yBAAyB,KAva7F,EA2a5B1E,aAAe,SAACpkC,EAAQ1L,GACvB,OAAQ0L,GACP,IAAK,aACJ,EAAK/6B,SAAS,CAAEqkE,WAAYh1C,IAC5B,MACD,IAAK,YACJ,EAAKrvB,SAAS,CAAEskE,UAAWj1C,IAC3B,MACD,IAAK,YACJ,EAAKrvB,SAAS,CAAEyb,UAAW4T,IAC3B,MACD,IAAK,oBACJ,EAAKrvB,SAAS,CAAEmkE,kBAAmB90C,MAvbV,EA8b5Bk1C,qBAAuB,SAACxpC,EAAQypC,GAC/B,OAAQzpC,GACP,KAAKtwB,GAAA,oBACJ,EAAK64D,kBACL,MACD,KAAK74D,GAAA,2BACJ,EAAKi5D,wBACL,MACD,KAAKj5D,GAAA,2BACJ,EAAKk4D,aAAa6B,GAClB,MACD,KAAK/5D,GAAA,yBACJ,EAAK+3D,gBAAgBgC,GACrB,MACD,KAAK/5D,GAAA,wBACL,KAAKA,GAAA,yBACJ,EAAKg4D,mBAAmB1nC,EAAQypC,GAChC,MACD,KAAK/5D,GAAA,gCACJ,EAAKm4D,mBAAmB4B,GACxB,MACD,KAAK/5D,GAAA,sBACJ,EAAKg6D,gBAAgBD,KApdI,EA2d5B9B,WAAa,SAAA8B,GACZ,EAAK52D,QAAQ0gB,sBAAsBk2C,IA5dR,EA+d5B7B,aAAe,SAAA6B,GACd,IAAMj2C,EAAa,aAAO,EAAK3gB,QAAQogB,oBACjC02C,EAAkB,GAElBC,EAAwBp2C,EAAcktC,QAAO,SAAAmJ,GAClD,IAAMC,EAAQL,EAAQ56B,MAAK,SAAA04B,GAAM,OAAIsC,EAAa5mE,MAAQskE,EAAOtkE,OACjE,OAAI6mE,IACHH,EAAgB57B,KAAK+7B,IACd,MAKT,EAAK9oE,MAAMq+B,gBAAgB3vB,GAAA,2BAA6Ci6D,GACxE,EAAK92D,QAAQ4gB,yBAAyBm2C,IA7eX,EAgf5BnC,gBAAkB,SAACgC,GAAmC,IAA1BM,IAAyB,yDAGpD,GAFA,EAAKl3D,QAAQugB,gBAAgBq2C,GAEzBM,EAAe,CAClB,IAAMpI,EAAO,2BAAQ,EAAK9uD,QAAQmF,MAArB,IAA2Bq6B,aAAc,EAAKx/B,QAAQigB,aAAaxhB,SAChF,EAAKuB,QAAQoF,QAAQ0pD,GAErB,EAAK3gE,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C+5D,KAvf5C,EA2f5B/B,mBAAqB,SAAC1nC,EAAQunC,GAAkC,IAA1BwC,IAAyB,yDAExDC,EAAY,aAAO,EAAKn3D,QAAQigB,cAChCm3C,EAAkBD,EAAatJ,QAAO,SAAAwJ,GAC3C,OAAIA,EAAYjnE,MAAQskE,EAAOtkE,OAQhC,GAFA,EAAK4P,QAAQsgB,mBAAmB82C,GAE5BF,EAAe,CAElB,IAAMpI,EAAO,2BAAQ,EAAK9uD,QAAQmF,MAArB,IAA2Bq6B,aAAc43B,EAAgB34D,SACtE,EAAKuB,QAAQoF,QAAQ0pD,GAGlB3hC,IAAWtwB,GAAA,yBACb,EAAKmD,QAAQ0gB,sBAAsB,CAACg0C,IAGrC,EAAKvmE,MAAMq+B,gBAAgBW,EAAQ,CAACunC,MAjhBV,EAqhB5BM,mBAAqB,SAAAL,GACpB,IAAMM,EAAU,aAAO,EAAKj1D,QAAQigB,cAE9Bi1C,EAAYD,EAAWz4B,WAAU,SAAAk4B,GAAM,OAAIA,EAAOtkE,MAAQukE,EAAcvkE,OAC9E,GAAI8kE,GAAa,EAAG,CACnB,IAAME,EAAYH,EAAWC,GACvBG,EAAe12D,OAAO0gC,OAAO,GAAI+1B,EAAWT,EAAe,CAAEh1B,MAAOg1B,EAAa,QAEvFM,EAAWt4B,OAAOu4B,EAAW,EAAGG,GAChC,EAAKlnE,MAAMq+B,gBAAgB3vB,GAAA,gCAAkD,CAACw4D,IAC9E,EAAKr1D,QAAQsgB,mBAAmB20C,KA/hBN,EAmiB5B4B,gBAAkB,SAAAzmE,GACjB,IAAM+U,EAAI,2BAAQ,EAAKnF,QAAQmF,MAArB,IAA2BqxD,MAAOpmE,IACtCZ,EAAOM,YAAUgnC,cAAcC,MAErC,EAAK3kC,SAAS,CAAEmkE,mBAAmB,IACnC,EAAKv2D,QAAQihB,eAAezxB,EAAM2V,IAxiBP,EA2iB5BmyD,iBAAmB,WAClB,EAAKnpE,MAAMq+B,gBAAgB3vB,GAAA,qBAziB3B,EAAK6C,YAAa,EAElB,EAAKhR,MAAQ,CACZixB,aAAc,KACds1C,WAAY,GACZK,iBAAkB,GAClBK,mBAAoB,GACpBC,eAAgB,GAChBa,YAAY,EACZC,WAAW,EACX7oD,WAAW,EACX0pD,kBAAkB,EAClBC,cAAc,EACdxQ,uBAAuB,EACvBC,mBAAmB,EACnBC,wBAAwB,EACxBC,uBAAuB,EACvBC,mBAAmB,EACnBC,wBAAwB,EACxBC,kBAAkB,EAClBC,mBAAmB,EACnB0O,yBAAyB,EACzBC,6BAA6B,EAC7BC,oCAAoC,EACpCI,mBAAmB,GAGpB,EAAK3zC,SAAW/zB,IAAMyD,YA9BK,E,qDAiC5B,WAAqB,IAAD,OACnBxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GACD,EAAKmQ,YACR,EAAKtN,SAAS,CAAEutB,aAAcpwB,OAG/BuB,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,sBAExC/Y,KAAKwR,YAAa,EAClBxR,KAAK8R,QAAQggB,oBAEb9xB,KAAKiX,KAAOjX,KAAK8R,QAAQmF,KAEzB,IAAM9F,EAAOnR,KAAK8R,QAAQmF,KAAK9F,KAC/BnR,KAAK8lE,mBAAqB,IAAIA,GAAmB30D,GACjDnR,KAAKwnE,kBACLxnE,KAAK4nE,wBACL5nE,KAAK8lE,mBAAmB1hC,gBAAgBpkC,KAAKsmE,cAE7CtmE,KAAK84D,wBACL94D,KAAK+4D,oBACL/4D,KAAKg5D,yBACLh5D,KAAKi5D,wBACLj5D,KAAKm5D,yBACLn5D,KAAKk5D,oBACLl5D,KAAKo5D,mBACLp5D,KAAKq5D,sB,gCAGN,SAAmBrmD,EAAWw/C,GAC7B,GAAIxyD,KAAKiX,KAAK9F,OAASnR,KAAK8R,QAAQmF,KAAK9F,KAAM,CAC9CnR,KAAK8R,QAAQggB,oBAEb,IAAM3gB,EAAOnR,KAAK8R,QAAQmF,KAAK9F,KAC/BnR,KAAK8lE,mBAAmBxgC,kBACxBtlC,KAAK8lE,mBAAqB,IAAIA,GAAmB30D,GACjDnR,KAAKwnE,kBACLxnE,KAAK4nE,wBACL5nE,KAAK8lE,mBAAmB1hC,gBAAgBpkC,KAAKsmE,cAG9CtmE,KAAKiX,KAAOjX,KAAK8R,QAAQmF,KACzBjX,KAAK84D,wBACL94D,KAAK+4D,oBACL/4D,KAAKg5D,yBACLh5D,KAAKi5D,wBACLj5D,KAAKm5D,yBACLn5D,KAAKk5D,oBACLl5D,KAAKo5D,mBACLp5D,KAAKq5D,sB,kCAGN,WACCr5D,KAAK8lE,mBAAmBxgC,kBACxBtlC,KAAK8lE,mBAAqB,KAC1B9lE,KAAKwR,YAAa,I,oBAsdnB,WAAU,IAAD,WACR,GAAgC,OAA5BxR,KAAKQ,MAAMixB,aACd,OAAO,KAGR,IAAI83C,EACH,mBAAK9kE,IF7fG,CACHoP,SAAU,WACV3O,QAAS,OACT2wB,MAAO,OACPjxB,MAAO,OACPa,QAAQ,SACR,kBAAmB,CACfi5D,WAAY,KAEhB,iBAAkB,CACd8K,cAAe,MEmfMjlE,UAAU,iBACvC,mBAAKE,IAAK47D,GAAcrgE,KAAK8R,QAAS,GAAIvN,UAAU,aAAa4P,QAAS,kBAAM,EAAKkvD,aAAa,cAAc,KAC9G7sD,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,YAKlDgzD,EAAgB,KACnBC,EAAiB,KACjBC,EAAmB,KAChB3pE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBC,QAC5Dg5C,EACC,mBAAKhlE,IFzgBE,CACHoP,SAAU,WACV3O,QAAS,OACT2wB,MAAO,OACPjxB,MAAO,OACPa,QAAQ,SACR,kBAAmB,CACfi5D,WAAY,KAEhB,iBAAkB,CACd8K,cAAe,ME+fOjlE,UAAU,iBACvC,mBAAKE,IAAK47D,GAAcrgE,KAAK8R,QAAS,GAAIvN,UAAU,aAAa4P,QAAS,kBAAM,EAAKkvD,aAAa,aAAa,KAC7G7sD,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,YAKrDizD,EACC,mBAAKjlE,IFjhBE,CACHoP,SAAU,WACV3O,QAAS,OACT2wB,MAAO,OACPjxB,MAAO,OACPa,QAAQ,SACR,kBAAmB,CACfi5D,WAAY,KAEhB,iBAAkB,CACd8K,cAAe,MEugBOjlE,UAAU,iBACvC,oBAAME,IAAK47D,GAAcrgE,KAAK8R,QAAS,GAAIvN,UAAU,aAAa4P,QAASnU,KAAK8nE,aAC9EtxD,GAAW0D,UAAU,kBAAmBla,KAAK8R,QAAQ2E,aAMtDzW,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,cAC5Dg5C,EACC,mBAAKllE,IF3hBE,CACHoP,SAAU,WACV3O,QAAS,OACT2wB,MAAO,OACPjxB,MAAO,OACPa,QAAQ,SACR,kBAAmB,CACfi5D,WAAY,KAEhB,iBAAkB,CACd8K,cAAe,MEihBOjlE,UAAU,iBACvC,mBAAKE,IAAK47D,GAAcrgE,KAAK8R,QAAS,GAAIvN,UAAU,aAAa4P,QAAS,kBAAM,EAAKkvD,aAAa,aAAa,KAC7G7sD,GAAW0D,UAAU,iBAAkBla,KAAK8R,QAAQ2E,aAMzD,IAAImzD,EACH,mBAAKnlE,IFpiBG,CACHoP,SAAU,WACV3O,QAAS,OACT2wB,MAAO,OACPjxB,MAAO,OACPa,QAAQ,SACR,kBAAmB,CACfi5D,WAAY,KAEhB,iBAAkB,CACd8K,cAAe,ME0hBMjlE,UAAU,iBACvC,oBAAME,IAAK47D,GAAcrgE,KAAK8R,QAAS,GAAIvN,UAAU,aAAa4P,QAASnU,KAAKmoE,YAC9E3xD,GAAW0D,UAAU,cAAela,KAAK8R,QAAQ2E,YAKjD2qD,EAAkB,YAAC,GAAD,CAA0BlC,gBAAgB,QAAQ/kD,KAAMna,KAAK8R,QAAQ2E,WAEvFzW,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,aAElB,IAAtC3wB,KAAKQ,MAAM24D,yBACdoQ,EAAiB,MAERvpE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBE,WAAa1wB,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBC,QAC/F,IAAtCzwB,KAAKQ,MAAM24D,yBAA0E,IAAtCn5D,KAAKQ,MAAMw4D,yBAAyE,IAArCh5D,KAAKQ,MAAMy4D,wBAAoE,IAAjCj5D,KAAKQ,MAAMu4D,oBAE1JwQ,EAAiB,OAKsB,IAArCvpE,KAAKQ,MAAMs4D,wBACd2Q,EAAgB,OAIwB,IAArCzpE,KAAKQ,MAAMy4D,wBACd0Q,EAAmB,OAIiB,IAAjC3pE,KAAKQ,MAAM04D,oBACdwQ,EAAiB,OAIkB,IAAhC1pE,KAAKQ,MAAM44D,kBAAmE,KAArC,UAAAp5D,KAAK8R,eAAL,mBAAcmF,YAAd,eAAoBq6B,gBAChEs4B,EAAgB,OAIoB,IAAjC5pE,KAAKQ,MAAM64D,oBACd+H,EAAkB,MAGnB,IAAIsH,EACH,mBAAKjkE,IFlnBG,CACHG,MAAO,QEinBcL,UAAU,4BACnC,kBAAIE,IAAK27D,GAAmBpgE,KAAK8R,SAAUvN,UAAU,mBACnDiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAE/C,mBAAKhS,IFlmBE,CACHG,MAAO,OACP0V,OAAQ,QACR,uBAAwB,CACpBrC,aAAc,SE8lBW1T,UAAU,oBACzCglE,EACAE,EACAE,IAKAx6B,EACH,mBAAK1qC,IF/nBG,CACHG,MAAO,QE8nBcL,UAAU,4BACnC,kBAAIE,IAAK27D,GAAmBpgE,KAAK8R,SAAUvN,UAAU,mBACnDiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAE/C,mBAAKhS,IF/mBE,CACHG,MAAO,OACP0V,OAAQ,QACR,uBAAwB,CACpBrC,aAAc,SE2mBW1T,UAAU,oBACzCqlE,EACAF,IAKmB,OAAnBH,GAA6C,OAAlBE,GAA+C,OAArBE,IACxDjB,EAAU,MAGW,OAAlBkB,GAA6C,OAAnBF,IAC7Bv6B,EAAU,MAGX,IAAI06B,EAAc,KACd7pE,KAAKQ,MAAM+nE,aACdsB,EACC,YAAC,GAAD,CACCC,aAAc9pE,KAAKQ,MAAMixB,aACzBtX,KAAMna,KAAKC,MAAMka,KACjB4+C,kBAAmB/4D,KAAKQ,MAAMu4D,kBAC9BC,uBAAwBh5D,KAAKQ,MAAMw4D,uBACnCC,sBAAuBj5D,KAAKQ,MAAMy4D,sBAClCp+C,MAAO,kBAAM,EAAKwoD,aAAa,cAAc,IAC7C/kC,gBAAiBt+B,KAAKyoE,wBAKzB,IAAIsB,EAAa,KACb/pE,KAAKQ,MAAMgoE,YACduB,EAAa,YAAC,GAAD,CAA6BlvD,MAAO,kBAAM,EAAKwoD,aAAa,aAAa,IAAQ/kC,gBAAiBt+B,KAAKyoE,wBAGrH,IAAIh2C,EAAgB,KAChBzyB,KAAKQ,MAAMmf,YACd8S,EAAgB,YAAC,GAAD,CAA6Bq3C,aAAc9pE,KAAKQ,MAAMixB,aAAc5W,MAAO,kBAAM,EAAKwoD,aAAa,aAAa,IAAQ/kC,gBAAiBt+B,KAAKyoE,wBAG/J,IAAIV,EAA0B,KAC1B/nE,KAAKQ,MAAMunE,0BACdA,EACC,YAAC,GAAD,gBAA4B/nE,KAAKC,MAAjC,CAAwCkU,QAASnU,KAAK6yC,gBAAiB/tC,QAAS0R,GAAW0D,UAAU,iBAAkBla,KAAK8R,QAAQ2E,UAAWkE,kBAAmBnE,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UAAWmE,iBAAkBpE,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,cAIzR,IAAIuxD,EAA8B,KAC9BhoE,KAAKQ,MAAMwnE,8BACdA,EACC,YAAC,GAAD,gBAA4BhoE,KAAKC,MAAjC,CAAwCkU,QAASnU,KAAKkoE,eAAgBpjE,QAAS0R,GAAW0D,UAAU,gBAAiBla,KAAK8R,QAAQ2E,UAAWkE,kBAAmBnE,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,UAAWmE,iBAAkBpE,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,cAItR,IAAIwxD,EAAqC,KACrCjoE,KAAKQ,MAAMynE,qCACdA,EACC,YAAC,GAAD,gBACKjoE,KAAKC,MADV,CAECkU,QAASnU,KAAKooE,kBACdtjE,QAAS0R,GAAW0D,UAAU,mBAAoBla,KAAK8R,QAAQ2E,UAC/DkE,kBAAmBnE,GAAW0D,UAAU,WAAYla,KAAK8R,QAAQ2E,UACjEmE,iBAAkBpE,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,cAKjE,IF3wB0B3E,EE2wBtBu2D,EAAoB,KAKxB,OAJIroE,KAAKQ,MAAM6nE,oBACdA,EAAoB,YAAC,GAAD,CAAsC93C,MAAOvwB,KAAKuwB,MAAOu5C,aAAc9pE,KAAKQ,MAAMixB,aAAc6M,gBAAiBt+B,KAAKyoE,qBAAsB5tD,MAAO,kBAAM,EAAKwoD,aAAa,qBAAqB,OAIpN,mBAAK5+D,KFjxBoBqN,EEixBH9R,KAAK8R,QF/wBnB,CACHE,OAAQ,OACR6B,SAAU,WACVyE,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,YAC7B,IAAK,CACDsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,eEwwBDzK,UAAU,cAC9C,mBAAKE,IAAKw7D,GAAYjgE,KAAK8R,SAAUvN,UAAU,sBAC9C,mBAAKE,IAAKy7D,GAAiBpsB,GAAc9zC,KAAK8R,SAAUvN,UAAU,gBAAgB4P,QAASnU,KAAKopE,mBAChG,kBAAI3kE,IFtuBE,CACH6V,OAAQ,IACRhG,WAAY,MACZ5P,SAAU,OACV6P,WAAY,QEkuBchQ,UAAU,iBACrCiS,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,YAGhD,mBAAKhS,IFhuBE,CACH6V,OAAQ,IACR7U,QAAS,OACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,gBAChBD,WAAY,aACZ4M,OAAQ,qBEytBiBzN,UAAU,uBACrCmkE,EACAv5B,EACAiyB,GAEDyI,EACAE,EACAt3C,EACA41C,EACAN,EACAC,EACAC,EACD,YAAC,GAAD,CAA4B10D,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,Y,GA5vB9CxZ,IAAMC,WAApCylE,GAEEvmC,YAAc3qB,GAiwBtBkxD,GAAsB5yD,aAAe,CACjC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,ICzyBJ,IAAMi7D,GAAb,WAKI,WAAY1I,GAAY,yBAHxB2I,aAAe,KAGQ,KAFvBtgC,gBAAkB,cAAe,IAAIv7B,MAAOC,UAKpCrO,KAAKiqE,aADL3I,GACoB,IAAI1/D,YAAUsoE,sBAAuBpgC,SAAS,IAAI83B,iBAAiBN,GAAWrjC,SAE9E,IAAIr8B,YAAUsoE,sBAAuBpgC,SAAS,IAAI7L,QAVlF,mDAcI,WACI,OAAOj+B,KAAKiqE,aAAalgC,cAfjC,6BAkBI,SAAgBz7B,GAEZ1M,YAAU0oC,iBACNtqC,KAAK2pC,gBACL,IAAI/nC,YAAU2oC,cAAc,CACxBC,0BAA2B,SAAC1lC,EAAS2lC,EAAaC,EAAUC,EAAUC,GAClEt8B,EAASK,GAAkC7J,EAAS8lC,EAAc,CAAC,KAAQH,EAAa,MAASC,KAErGG,oBAAqB,SAAC/lC,EAASgmC,EAAYC,EAAUC,GACjD18B,EAASK,GAA2B7J,EAASkmC,EAAY,CAAC,KAAQF,EAAY,WAAa,KAE/FG,oBAAqB,SAACnmC,EAASomC,EAAYC,EAAUC,GACjD98B,EAASK,GAA2B7J,EAASsmC,EAAY,CAAC,KAAQF,EAAY,WAAa,KAE/FG,sBAAuB,SAACvmC,EAASwmC,EAAcC,EAAYC,GACvDl9B,EAASK,GAA6B7J,EAAS0mC,EAAc,CAAC,KAAQF,EAAc,WAAa,KAErGG,qBAAsB,SAAC3mC,EAAS4mC,EAAWC,EAAaC,GACpDt9B,EAASK,GAA0B7J,EAAS8mC,EAAa,CAAC,KAAQF,EAAW,WAAa,KAE9FG,kBAAmB,SAAC/mC,EAASgnC,EAAa76B,GACtC3C,EAASK,GAAyB7J,EAASmM,EAAO,CAAC,KAAQ66B,KAE/DC,oBAAqB,SAACjnC,EAASknC,EAAYC,GACvC39B,EAASK,GAA2B7J,EAASmnC,EAAa,CAAC,KAAQD,UA1CvF,6BAgDI,WACIpqC,YAAUirC,oBAAoB7sC,KAAK2pC,qBAjD3C,KCJawgC,GAAoB,SAAClqE,EAAO8O,GAErC,IAAMmE,EAAiC,KAAlBjT,EAAMktC,QAAkB,CACzC5yB,OAAO,aAAD,OAAexL,EAAMc,YAAYV,UACvC,GAEJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsG,UAAW,cACRpF,GALP,IAMI,IAAK,CACDoF,UAAW,aACX,sBAAuB,CACnB1T,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,aAOnBswC,GAAmB,SAAAr7D,GAE/B,MAAO,CACNtJ,QAAS,OACToO,SAAU,WACV3O,QAAS,OACTG,eAAgB,gBAChBD,WAAY,SACZioC,aAAa,aAAD,OAAet+B,EAAMc,YAAYV,SAC7C6C,OAAQ,SAIGq4D,GAAwB,SAACj5D,EAAKrC,GAE1C,IAAMw+B,EAAE,aAAOx+B,EAAMmB,aAErB,OAAO,aACNxK,OAAQ,UACRR,QAAS,OACTsT,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAME,cAC1B+C,OAAQ,OACRpN,MAAO,OANR,iBAOY2oC,EAAG,IAAO,CACpBroC,QAAS,qBAKColE,GAAwB,SAACrqE,GAElC,IAAMgiC,EAAahiC,EAAM0Q,eAAe,oBAAsB1Q,EAAMwtC,gBAAgBl9B,OAAS,EAAK,CAC9F3L,MAAO,MACPC,UAAW,UACX,GAEJ,OAAO,yBACHyV,OAAQ,IACRpV,QAAS,eACTN,MAAO,OACPC,UAAW,OACXH,SAAU,OACV4P,WAAY,MACZC,WAAY,QACT0tB,GARP,IASI,aAAc,CACVp9B,UAAW,YAKV0lE,GAAgB,SAACn5D,EAAKrC,GAElC,MAAO,CACNiD,OAAQ,OACRtM,OAAQ,UACR0M,EAAG,CACFlN,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACRwG,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKwJ,EAAME,iBC7Fd,OAA0B,mCCA1B,OAA0B,iCCA1B,OAA0B,mCCoCnCu7D,G,kDAOL,WAAYvqE,GAAQ,IAAD,8BAClB,cAAMA,IALPwxB,aAAe,KAII,EAmFnBg5C,kBAAoB,WACnB,EAAK14D,aACHyD,mBAAmB6W,uBACnBxqB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMiqE,mBAC3B,EAAKvmE,SAAS,CAACumE,kBAAmBpnE,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMiqE,mBACd,EAAKvmE,SAAS,CAACumE,mBAAmB,QAhGnB,EAwGnBC,kBAAoB,WACnB,EAAK34D,aACHyD,mBAAmBmT,yBACnB9mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMkqE,mBAC3B,EAAKxmE,SAAS,CAACwmE,kBAAmBrnE,OAGnCT,OAAM,SAAAnB,IAC+B,IAAjC,EAAKjB,MAAMkqE,mBACd,EAAKxmE,SAAS,CAACwmE,mBAAmB,QArHnB,EA6HnBC,gBAAkB,WACjB,EAAK54D,aACHyD,mBAAmBqS,2BACnBhmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAMmqE,iBAC3B,EAAKzmE,SAAS,CAACymE,gBAAiBtnE,OAGjCT,OAAM,SAAAnB,IAC6B,IAA/B,EAAKjB,MAAMmqE,iBACd,EAAKzmE,SAAS,CAACymE,iBAAiB,QA1IjB,EA+InBrE,aAAe,SAACxvD,EAAKhS,EAASmM,EAAOk+B,GACpC,OAAQr4B,GACP,KAAKnI,GACJ,EAAKi8D,oBAAoB35D,EAAOk+B,GAChC,MACD,KAAKxgC,GACL,KAAKA,GACL,KAAKA,GACJ,EAAKk8D,oBAAoB55D,EAAOk+B,GAChC,MACD,KAAKxgC,GACL,KAAKA,GACJ,EAAKm8D,qBAAqB75D,EAAOk+B,KA3JjB,EAkKnB07B,oBAAsB,SAAC55D,EAAOk+B,GAC7B,IAAI47B,EAAS,aAAO,EAAKvqE,MAAMuqE,WAG3BC,EAAWD,EAAUz8B,WAAU,SAAA28B,GAAC,OAAIA,EAAE95D,OAASF,EAAME,QAEzD,GAAI65D,GAAY,EACf,GAAI77B,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IAAK,CAC1D,IAAIgpE,EAAQ,eAAOH,EAAUC,IACzB15B,EAAe1U,SAAS3rB,EAAMqgC,cAC9BvgB,EAAY9f,EAAM8f,UAElBo6C,EAAc16D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAAC55B,aAAcA,EAAcvgB,UAAWA,IAEtFg6C,EAAUt8B,OAAOu8B,EAAU,EAAGG,GAC9B,EAAKjnE,SAAS,CAAC6mE,UAAWA,QACpB,CACN,IAAIG,EAAQ,eAAOH,EAAUC,IACzB15B,EAAe1U,SAAS3rB,EAAMqgC,cAE9B65B,EAAc16D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAAC55B,aAAcA,IAE7Dy5B,EAAUt8B,OAAOu8B,EAAU,EAAGG,GAC9B,EAAKjnE,SAAS,CAAC6mE,UAAWA,MAzLV,EA+LnBD,qBAAuB,SAAC75D,EAAOk+B,GAC9B,IAAI47B,EAAS,aAAO,EAAKvqE,MAAMuqE,WAG3BC,EAAWD,EAAUz8B,WAAU,SAAA28B,GAAC,OAAIA,EAAE95D,OAASF,EAAME,QAEzD,GAAI65D,GAAY,EACf,GAAI77B,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IAAI,CAC1D,IAAIgpE,EAAQ,eAAOH,EAAUC,IAEzBG,EAAc16D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAAEn6C,WADhC,IAGhBg6C,EAAUt8B,OAAOu8B,EAAU,EAAGG,GAC9B,EAAKjnE,SAAS,CAAC6mE,UAAWA,QACpB,CACN,IAAIG,EAAQ,eAAOH,EAAUC,IACzB15B,EAAe1U,SAASsuC,EAAS55B,cAEjC65B,EAAc16D,OAAO0gC,OAAO,GAAG+5B,EAAU,CAAC55B,aAAcA,IAC5Dy5B,EAAUt8B,OAAOu8B,EAAU,EAAGG,GAC9B,EAAKjnE,SAAS,CAAC6mE,UAAUA,MAnNR,EAyNnBH,oBAAsB,SAAC35D,EAAOk+B,GAC7B,IAAI47B,EAAS,aAAO,EAAKvqE,MAAMuqE,WAG3BC,EAAWD,EAAUz8B,WAAU,SAAA28B,GAAC,OAAIA,EAAE95D,OAASF,EAAME,QAEzD,GAAI65D,GAAY,EAAG,CAClB,IAAIE,EAAQ,eAAOH,EAAUC,IAC7B,GAAI77B,GAAW,EAAK1d,aAAavvB,MAAQitC,EAAQ9tC,KAAKa,IAAK,CAC1D,IAAIipE,EAAc16D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAACz5B,MAAOtC,EAAQsC,QAE9Ds5B,EAAUt8B,OAAOu8B,EAAU,EAAGG,GAC9B,EAAKjnE,SAAS,CAAC6mE,UAAWA,OArOV,EA0OnBr5B,aAAe,SAAAzX,GACC6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eACvG,EAAK+vC,aA5OC,EA+OnBr5B,YAAc,SAAA9gC,GAEb,GAAK,EAAKhR,MAAM+xC,YAEhB,IAAwB,IAApB/gC,EAAM8f,UAAqB,CAG9B,IAAmC,IAA/B,EAAKvwB,MAAMmqE,gBACd,OAAO,EAGR,IAAI15C,EAAW,GACXhgB,EAAM3P,OAASM,YAAUsvB,WAAWjK,WACvCgK,EAAWG,OAAO5a,GAAW0D,UAAU,sBAAuB,EAAKja,MAAMka,QAG1E,IAAMhJ,EAAOF,EAAME,KACb6f,EAAY/f,EAAM3P,KAExBM,YAAUyvB,UAAUlgB,EAAM6f,EAAWC,GACnCpvB,MAAK,SAAAwB,GACL,GAAwB,kBAAbA,GAAyBoN,OAAOC,KAAKrN,GAAUkN,OAAQ,CACjE,IAAMyL,EAAM,aAAO,EAAKxb,MAAMuqE,WAE1BC,EAAWhvD,EAAOsyB,WAAU,SAAC28B,EAAGhE,GAAJ,OAAUgE,EAAE95D,OAASA,KACrD,GAAI65D,GAAY,EAAG,CAClB,IAAME,EAAWlvD,EAAOgvD,GAClBK,EAAc56D,OAAO0gC,OAAO,GAAI+5B,EAAU7nE,EAAU,CAAEouC,MAAO7vC,YAAU4uB,mBAAmBG,cAEhG3U,EAAOyyB,OAAOu8B,EAAU,EAAGK,GAC3B,EAAKnnE,SAAS,CAAE6mE,UAAW/uD,IAE3B,EAAK/b,MAAM+xC,YAAYq5B,EAAazpE,YAAU+yB,YAAYG,kBAG3D,EAAKJ,SAAS3b,SAAS,sBAGxBnW,OAAM,SAAAnB,GAEFA,EAAMkP,eAAe,SAAWlP,EAAMuC,MAAuB,yBAAfvC,EAAMuC,KACvD,EAAK0wB,SAAS3b,SAAS,kBAEvB,EAAK2b,SAAS3b,SAAS,2BAM1B,EAAK9Y,MAAM+xC,YAAY/gC,EAAOrP,YAAU+yB,YAAYG,aAhSnC,EAoSnBmd,gBAAkB,WACjB,IAAK,EAAKhyC,MAAMq+B,gBACf,OAAO,EAGR,EAAKr+B,MAAMq+B,gBAAgB3vB,GAAA,iBAzST,EA4SnB28D,YAAc,SAAArxC,GACT,EAAK03B,SACRj4C,aAAa,EAAKi4C,SAGnB,IAAIkR,EAAM5oC,EAAE8Y,OAAO7vC,MACnB,EAAKyuD,QAAUp4C,YAAW,WAEzB,EAAKrV,SAAS,CAAE6mE,UAAW,GAAI54B,iBAAkB37B,GAAW0D,UAAU,UAAW,EAAKja,MAAMka,QAE5F,EAAK6vD,iBAAmB,IAAIA,GAAiBnH,GAC7C,EAAKuI,cACH,MAxTe,EA2TnBA,UAAY,WACX,EAAKpB,iBAAiBuB,kBACpB1pE,MAAK,SAAA2pE,GAEoB,IAArBA,EAAUj7D,OAEuB,IAAhC,EAAK/P,MAAMuqE,UAAUx6D,QACxB,EAAKrM,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,QAGtF,EAAKjW,SAAS,CAAE6mE,UAAU,GAAD,oBAAM,EAAKvqE,MAAMuqE,WAAjB,aAA+BS,IAAYr5B,iBAAkB,QAIvFvvC,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKja,MAAMka,YAzUpF,EA4UnBsxD,mBAAqB,SAAAl4C,GACpB,EAAKrvB,SAAS,CAACkhE,YAAa7xC,KA7UV,EAgVnBm4C,yBAA2B,SAACzsC,EAAQhuB,GACnC,GAAIguB,IAAWtwB,GAAA,cAAgC,CAC9C,EAAKojC,YAAY9gC,GAEjB,IAAMu6D,EAAS,aAAO,EAAKhrE,MAAMuqE,WACjCS,EAAU98B,QAAQz9B,GAElB,EAAK/M,SAAS,CAAC6mE,UAAWS,EAAWpG,aAAa,MAvVjC,EA2VnBrzD,WAAa,WACZ,OAAI,EAAK9R,MAAMktC,QAAQ58B,OACf,EAAKuB,QAEL,EAAK0gC,mBAAmBhyC,OA5VhC,EAAKA,MAAQ,CACZuqE,UAAW,GACX3F,aAAa,EACbqF,mBAAmB,EACnBC,mBAAmB,EACnBC,iBAAiB,EACjBx4B,iBAAkB37B,GAAW0D,UAAU,UAAWja,EAAMka,OAGzD,EAAKq4B,mBAAqB7xC,IAAMyD,YAChC,EAAKunE,aAAehrE,IAAMyD,YAC1B,EAAKswB,SAAW/zB,IAAMyD,YAEtBxC,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmBja,EAAMka,WAlB/E,E,qDAqBnB,WACCna,KAAKiX,KAAOjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYG,WAAa90B,KAAK+R,aAAakF,KAAO,KACnGjX,KAAKyqE,oBACLzqE,KAAK0qE,oBACL1qE,KAAK2qE,kBAEL3qE,KAAKgqE,iBAAmB,IAAIA,GAC5BhqE,KAAKorE,YACLprE,KAAKgqE,iBAAiB5lC,gBAAgBpkC,KAAKsmE,gB,gCAG5C,SAAmBtzD,GAAY,IAAD,OAE7B,GAAIhT,KAAKiX,MAAQxG,OAAOC,KAAK1Q,KAAKiX,MAAM1G,QAAUvQ,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYG,YAAc90B,KAAKiX,KAAK9F,OAASnR,KAAK+R,aAAakF,KAAK9F,MAAQnR,KAAKiX,KAAKq6B,eAAiBtxC,KAAK+R,aAAakF,KAAKq6B,aAAc,CAClO,IAAMt1B,EAAM,aAAOhc,KAAKQ,MAAMuqE,WAE1BC,EAAWhvD,EAAOsyB,WAAU,SAAAr9B,GAAK,OAAIA,EAAME,OAAS,EAAKY,aAAakF,KAAK9F,QAC/E,GAAI65D,GAAY,EAAG,CAClB,IAAME,EAAWlvD,EAAOgvD,GACpBK,EAAc56D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAAC55B,aAActxC,KAAK+R,aAAakF,KAAKq6B,eAEpFt1B,EAAOyyB,OAAOu8B,EAAU,EAAGK,GAC3BrrE,KAAKkE,SAAS,CAAC6mE,UAAW/uD,KAK5B,GAAIhc,KAAK+R,aAAakhB,eAAe3iB,OAAOC,OAAQ,CACnD,IAAMY,EAAOnR,KAAK+R,aAAakhB,eAAe3iB,OAExC0L,EAAM,aAAOhc,KAAKQ,MAAMuqE,WACxBC,EAAWhvD,EAAOsyB,WAAU,SAAAr9B,GAAK,OAAIA,EAAME,OAASA,KAEtD65D,GAAY,IACfhvD,EAAOyyB,OAAOu8B,EAAU,GACxBhrE,KAAKkE,SAAS,CAAC6mE,UAAW/uD,KAI5B,GAAIhc,KAAK+R,aAAaohB,YAAY7iB,OAAOC,OAAQ,CAEhD,IAAMY,EAAOnR,KAAK+R,aAAaohB,YAAY7iB,OACrC0L,EAAM,aAAOhc,KAAKQ,MAAMuqE,WAAkBC,EAAWhvD,EAAOsyB,WAAU,SAAAr9B,GAAK,OAAIA,EAAME,OAASA,KACpG,GAAI65D,GAAY,EAAG,CACnB,IAAME,EAAWlvD,EAAOgvD,GAClB15B,EAAes6B,OAAOV,EAAS55B,cAAgBs6B,OAAOV,EAAS55B,cAAgB,EAAI,EACrF+5B,EAAc56D,OAAO0gC,OAAO,GAAI+5B,EAAU,CAAE55B,eAAcvgB,WAAW,IACzE/U,EAAOyyB,OAAOu8B,EAAU,EAAGK,GAAcrrE,KAAKkE,SAAS,CAAE6mE,UAAW/uD,KAErEhc,KAAKiX,KAAOjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYG,WAAa90B,KAAK+R,aAAakF,KAAO,KACnGjX,KAAKyqE,oBACLzqE,KAAK0qE,oBACL1qE,KAAK2qE,oB,kCAGN,WACC3qE,KAAKgqE,iBAAmB,O,oBAsRzB,WAAU,IJpPqBj7D,EIoPtB,OACJ4kC,EAAmB,KAEoB,IAAvC3zC,KAAKQ,MAAM2xC,iBAAiB5hC,SAC/BojC,EACC,mBAAKlvC,IJpQE,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZyO,SAAU,WACVC,IAAK,OI6PkBvP,UAAU,6BACpC,iBAAGE,KJ1PwBsK,EI0PFA,GJxPtB,CACNuL,OAAQ,IACRpC,UAAW,OACXvT,MAAM,GAAD,OAAKoK,EAAMpK,MAAMyK,WACtB1K,SAAU,iBACV4P,WAAY,MACZC,WAAY,OACZq/B,SAAU,aACVnuC,QAAS,WIgP2BlB,UAAU,qBACzCvE,KAAKQ,MAAM2xC,oBAMhB,IAAMn2B,EAAShc,KAAKQ,MAAMuqE,UAAUr3B,KAAI,SAAAziC,GACvC,IAAI46D,EAAgB,EAAK95D,aAAazQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAK/iB,aAAakF,KAAK9F,OAASF,EAAME,KAAOF,EAAQ,KAExI,OAAO,YAAC,GAAD,CAAwB6F,IAAK7F,EAAME,KAAMF,MAAOA,EAAO46D,cAAeA,EAAexI,aAAc,EAAKtxB,iBAG5G+5B,EACH,mBAAKrnE,IAAK8lE,GAAc3pB,GAAS7xC,IAAQkL,MAAOzD,GAAW0D,UAAU,eAAgBla,KAAKC,MAAMka,MAAOhG,QAAS,kBAAM,EAAKs3D,oBAAmB,KAC7I,wBAKmC,IAAjCzrE,KAAKQ,MAAMkqE,oBACdoB,EAAiB,MAGlB,IAAIj4B,EAAW,mBAAKpvC,IAAK4lE,GAAsBv2B,GAAc/kC,IAAQxK,UAAU,gBAAgB4P,QAASnU,KAAKiyC,kBACzGjyC,KAAK+R,cAA+D,IAA/CtB,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,SAC5DsjC,EAAW,MAGZ,IJpToC5zC,EAZCmR,EAAKU,EIgUtCw5D,EAAc,KACdtrE,KAAKQ,MAAMiqE,oBACda,EACC,mBAAK7mE,IJhVE,CACH6V,OAAQ,OACRzG,SAAU,WACVrO,aAAc,MACpB2S,UAAW,yCACL5S,gBAAiB,yBACjByM,OAAQ,OACR9M,QAAS,OACTG,eAAgB,SAChBD,WAAY,UIuUcb,UAAU,kBACvC,sBAAQjD,KAAK,SAASiD,UAAU,iBAAiBE,KJpUf2M,EIoU2CmyD,GJpUtCzxD,EIoUkD9R,KAAK+R,aJlU3F,CACNnN,MAAO,OACPoN,OAAQ,OACRvM,QAAS,gBACTC,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,mBAAnB,kBI6TZ,qBAAO5N,KAAK,OAAO0/C,aAAa,MAAMv8C,KJzTLxE,EIyTgCD,KAAKC,MJvThE,CACH2E,MAAO,oBACPoN,OAAQ,OACRvM,QAAS,MACTf,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZjP,QAAS,OACTiV,OAAQ,OACR5V,MAAO1E,EAAM8O,MAAMpK,MAAM2K,OACzB/J,gBAAiB,gBI6S0DhB,UAAU,gBAAgBo8C,YAAanqC,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,MAAO8mC,SAAUjhD,KAAKsrE,gBAKxL,IAAIlG,EAAc,KACfplE,KAAKQ,MAAM4kE,cACbA,EAAc,YAAC,GAAD,CAAsBr2D,MAAO/O,KAAKC,MAAM8O,MAAO8L,MAAO,kBAAM,EAAK4wD,oBAAmB,IAAQntC,gBAAiBt+B,KAAK0rE,4BAGjI,IAAMK,EACL,YAAC,IAAM/mE,SAAP,KACC,mBAAKP,IAAK0lE,GAAkBnqE,KAAKC,MAAO8O,IAAQxK,UAAU,UACzD,mBAAKE,IAAK2lE,GAAiBr7D,IAAQxK,UAAU,kBAC3CsvC,EACD,kBAAIpvC,IAAK6lE,GAAsBtqE,KAAKC,OAAQsE,UAAU,gBAAgByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OAC5G3D,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,OAE3C2xD,GAEDR,EACA33B,EACD,mBAAKlvC,IJlSC,CACHuN,OAAQ,qBACRkiC,UAAW,OACX55B,OAAQ,IACR7U,QAAS,KI8RgBlB,UAAU,eAAe4vC,SAAUn0C,KAAK0xC,aAAcn+B,IAAK,SAAAC,GAAE,OAAK,EAAKm4D,aAAen4D,IAChHwI,IAGFopD,EACD,YAAC,GAAD,CAA4B7xD,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,QAI5E6xD,EAAmBD,EAMvB,MAJ2B,KAAvB/rE,KAAKC,MAAMktC,UACd6+B,EAAmB,YAAC,GAAD,CAA0Bz4D,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,IAAMu4D,IAGnFC,M,GAvbwBrrE,IAAMkF,eAAjC2kE,GAKE1qC,YAAc3qB,GAubtBq1D,GAAmB/2D,aAAe,CACjC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPijC,YAAa,aACb7E,QAAS,ICpeH,IAAMgI,GAAW,SAACl1C,EAAO6R,GAE5B,IAAMsjC,EAAiBn1C,EAAM4rE,eAAiB5rE,EAAM4rE,cAAc16D,OAASlR,EAAMgR,MAAME,KAAQ,CAC3F5L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,UAClD,GAEJ,OAAO,yBACHjK,QAAS,OACTC,cAAe,MACfE,eAAgB,OAChBD,WAAY,SACZM,OAAQ,UACRd,MAAO,OACPa,QAAS,YACN2vC,GARP,IASI,UAAW,CACP7vC,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB4J,aA4BjD88D,GAAgB,SAAC76D,EAAKU,GAE/B,MAAO,CACH5M,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACRwG,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBAqC7Bw0D,GAAgB,SAAC5xD,GAE1B,MAAO,CACHu7B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrD1J,QAAS,YACTf,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM8K,UAC9B,UAAW,CACP49B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,YClGlD,OAA0B,qDCA1B,OAA0B,0CC2BnC+8D,G,4MAIL53B,cAAgB,SAAC5gB,EAAOH,GAEvB,IAAMyH,EAAOtH,EAAMqf,OAKnB,GAHoB/X,EAAK8H,aACL9H,EAAKG,YAGxB,OAAO,EAGJ5H,EACHyH,EAAKuZ,aAAa,QAASvZ,EAAKke,aAEhCle,EAAKyZ,gBAAgB,U,EAIvB4uB,aAAe,WACd,EAAKpjE,MAAMojE,aAAa,EAAKpjE,MAAMgR,Q,4CAGpC,WAAU,IHhCiBa,EGgClB,OAEJq6D,EAAgB,KAUpB,OATInsE,KAAKC,MAAMgR,MAAM3P,OAASM,YAAUsvB,WAAWm0C,QAElD8G,EAAiB,iBAAG1nE,IAAKwnE,GAAcG,GAAYpsE,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,gBAAiBla,KAAK8R,QAAQ2E,YAElHzW,KAAKC,MAAMgR,MAAM3P,OAASM,YAAUsvB,WAAWjK,WAEzDklD,EAAiB,iBAAG1nE,IAAKwnE,GAAcI,GAAUrsE,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,kBAAmBla,KAAK8R,QAAQ2E,aAI5H,mBAAKhS,IAAK0wC,GAASn1C,KAAKC,MAAOD,KAAK8R,SAAUvN,UAAU,aAAa4P,QAASnU,KAAKqjE,cAClF,mBAAK5+D,IHVE,CACHS,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACR+H,WAAY,KGMgBxV,UAAU,yBACzC,YAAC,GAAD,CAAiB0M,MAAOjR,KAAKC,MAAMgR,SAEpC,mBAAKxM,IHHE,CACHG,MAAO,oBACP80C,SAAU,IACVC,YAAa,OACb,aAAc,CACVC,aAAc,OACdD,YAAa,MGHQp1C,UAAU,sBAAsByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WACtG,mBAAKhS,IHSC,CACHS,QAAS,OACTE,WAAY,SACZR,MAAO,OACP0V,OAAQ,KGbuB/V,UAAU,sBAAsBywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KAC1K,iBAAGjvB,KHnDmBqN,EGmDD9R,KAAK8R,QHlDxB,CACNpN,SAAU,OACV4P,WAAY,MACZ0F,SAAU,oBACV5G,SAAU,SACVsxB,aAAc,WACdC,WAAY,SACZrqB,OAAQ,IACR/F,WAAY,OACZ5P,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,YGyCWnP,KAAKC,MAAMgR,MAAMvN,MACtD,mBAAKe,IHpCA,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,UGiCiB6xD,IAE5B,mBAAK1nE,IAAKi/D,GAAc1jE,KAAK8R,SAAUvN,UAAU,uBAAjD,UAA2EvE,KAAKC,MAAMgR,MAAMqgC,aAA5F,YAA4G96B,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,kB,GAhDzH9V,IAAMkF,eAArCqmE,GAEEpsC,YAAc3qB,GAsDtB+2D,GAAuBz4D,aAAe,CACrC1E,MAAOA,GACPkC,MAAO,GACP46D,cAAe,GACfxI,aAAc,cCvFR,IAAMhlB,GAAoB,SAACvsC,GAAa,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACIsB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,OACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAfb,cAgBKqoC,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAlBhB,cAoBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAtBhB,cAwBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SA1BhB,GAuDSs6D,GAAoB,SAACt4B,GAE9B,IAAMu4B,EAA0B,QAARv4B,EAAiB,CACrCnvC,UAAW,QACX+0C,aAAc,QACd,CACA/0C,UAAW,QAGf,OAAO,yBACHH,SAAU,OACVuT,aAAc,OACd3D,WAAY,QACTi4D,GAJP,IAKI3nE,MAAO,UAIF05C,GAAkB,SAAAxsC,GAC9B,MAAO,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXY,QAAS,QACTb,MAAO,OACDoN,OAAQ,SAgBHw6D,GAAkB,SAAC16D,GAE5B,MAAO,CACH5M,QAAS,OACTC,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZkP,WAAY,OACZ7O,QAAS,MACTb,MAAO,OACP2V,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,WAiB1Cs9D,GAAkB,SAAC36D,EAAS46D,GAAgB,IAAD,IAE9Cn/B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAElDsoB,EAA4B,OAAf8pB,GAAD,GAEd9nE,MAAO,sBAFO,cAGb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAJG,cAMb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAPG,OAWdA,MAAO,sBAXO,cAYb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAbG,cAeb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAhBG,cAkBb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAnBG,GAuBlB,OAAO,eACAg+C,IAIE+pB,GAAmB,SAAC76D,GAAa,IAAD,EAEnCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACI11B,MAAO,QACP6P,YAAa,OAFjB,cAGK84B,EAAG,GAAK,CACL3oC,MAAO,UAJf,cAMK2oC,EAAG,GAAK,CACL3oC,MAAO,UAPf,cASK2oC,EAAG,GAAK,CACL3oC,MAAO,UAVf,GAeSgoE,GAAoB,SAAC96D,GAAa,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACI11B,MAAO,QADX,cAEK2oC,EAAG,GAAK,CACL3oC,MAAO,SAHf,cAKK2oC,EAAG,GAAK,CACL3oC,MAAO,SANf,GCtLW,OAA0B,kCCgCnCioE,G,kDAGL,WAAY5sE,EAAO6R,GAAU,IAAD,uBAC3B,cAAM7R,EAAO6R,IAqBdg7D,sBAAwB,WACvB,IAAIC,EAAkBv2D,GAAW0D,UAAU,OAAQ,EAAKja,MAAMka,MAC1D,EAAKozB,GAAGy/B,UACXD,EAAkBv2D,GAAW0D,UAAU,SAAU,EAAKja,MAAMka,OAG7D,EAAKjW,SAAS,CAAE6oE,qBA5BW,EAmC5Br7B,aAAe,SAAAzX,GACC6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eAElH,EAAKp7B,MAAMq+B,gBAAgB3vB,GAAA,sBAtCD,EA0C5Bs+D,cAAgB,SAAChuC,EAAQunC,EAAQ/0B,GAChC,OAAQxS,GACP,KAAKtwB,GAAA,iBACJ,EAAKgR,UAAU6mD,GACf,MACD,KAAK73D,GAAA,kBACJ,EAAK8Q,WAAW+mD,GAChB,MACD,KAAK73D,GAAA,0BACJ,EAAKu+D,YAAY1G,EAAQ/0B,KAnDA,EA0D5B9xB,UAAY,SAAAwtD,GACX,IAAMh8D,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAUwrE,eAAej8D,EAAMg8D,EAAYjrE,KACzCL,MAAK,SAAAwB,GACDA,GACH,EAAKyO,QAAQwf,gBAAgB,UAAW,2BACxC,EAAKrxB,MAAMq+B,gBAAgB3vB,GAAA,wBAA0Cw+D,IAErE,EAAKjpE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGpF7T,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBArEzE,EAwE5BgJ,WAAa,SAAA4tD,GACZ,IAAMl8D,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAU0rE,gBAAgBn8D,EAAMk8D,EAAanrE,KAC3CL,MAAK,SAAAwB,GACDA,EACH,EAAKpD,MAAMq+B,gBAAgB3vB,GAAA,yBAA2C0+D,GAEtE,EAAKnpE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGpF7T,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBAlFzE,EAqF5By2D,YAAc,SAAC1G,EAAQ/0B,GACtB,IAAMtgC,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAU2rE,uBAAuBp8D,EAAMq1D,EAAOtkE,IAAKuvC,GACjD5vC,MAAK,SAAAwB,GACL,GAAIA,EAAU,CACb,EAAKyO,QAAQwf,gBAAgB,UAAW,mCACxC,IAAMm1C,EAAgBh2D,OAAO0gC,OAAO,GAAIq1B,EAAQ,CAAE/0B,MAAOA,IACzD,EAAKxxC,MAAMq+B,gBAAgB3vB,GAAA,gCAAkD83D,QAE7E,EAAKviE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGpF7T,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBAjGzE,EAoG5B+2D,mBAAqB,SAAAd,GAChB,EAAKl7D,aACW,OAAfk7D,GAAuB,EAAKn/B,GAAGy/B,QAClC,EAAK9oE,SAAS,CAAE6oE,gBAAiBv2D,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,YAE7E,EAAKvS,SAAS,CAAE6oE,gBAAiBv2D,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,cAvG7E,EAAKjF,YAAa,EAClB,IAAMyU,EAAanU,EAAQiJ,cAAckL,WAHd,OAI3B,EAAKsnB,GAAKtnB,EAAWwnD,WAAW,EAAK37D,QAAQ/C,MAAMmB,YAAY,IAE/D,EAAK1P,MAAQ,CACZusE,gBAAiB,GACjBvoE,aAAc,IARY,E,qDAY5B,WACCxE,KAAK8sE,0B,gCAGN,SAAmB95D,GACdA,EAAUmH,OAASna,KAAKC,MAAMka,MACjCna,KAAK8sE,0B,kCAaP,WACC9sE,KAAKwR,YAAa,I,oBA8EnB,WAAU,IF9GqBJ,EAAKU,EE8G3B,OAGFigB,EAFW,aAAO/xB,KAAK8R,QAAQigB,cAEJ2hB,KAAI,SAAC8yB,EAAQ1vD,GAC7C,OACC,YAAC,GAAD,CACCgzD,aAAc,EAAK7pE,MAAM6pE,aACzB/6D,MAAO,EAAK9O,MAAM8O,MAClB+H,IAAKA,EACL0vD,OAAQA,EACRzN,kBAAmB,EAAK94D,MAAM84D,kBAC9BE,sBAAuB,EAAKh5D,MAAMg5D,sBAClCD,uBAAwB,EAAK/4D,MAAM+4D,uBACnC16B,gBAAiB,EAAK2uC,mBAKrBP,EAAa,KAoBjB,OAnBI1sE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,cAC5D+7C,EACC,YAAC,IAAM1nE,SAAP,KACC,mBAAKP,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,OACnDiS,GAAW0D,UAAU,MAAOla,KAAK8R,QAAQ2E,WAE3C,mBAAKhS,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,QACnDiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,aAKJ,IAAtCzW,KAAKC,MAAM+4D,yBAAyE,IAArCh5D,KAAKC,MAAMg5D,wBAC7DyT,EAAa,OAIf1sE,KAAKutC,GAAGmgC,aAAY,SAAAhB,GAAU,OAAI,EAAKc,mBAAmBd,MAGzD,YAAC,IAAM1nE,SAAP,KACC,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,IAAK45C,GAAkBr+C,KAAK8R,SAAUvN,UAAU,sBACpD,oBAAME,KFxJqB2M,EEwJAovC,GFxJK1uC,EEwJM9R,KAAK8R,QFtJrC,CACH+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCvJ,OAAQ,YE6I0CnB,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAC3J,mBAAKhS,IFxIC,CACHgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,QEqIkBL,UAAU,eACrC,mBAAKE,IAAK6nE,GAAkB91D,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WAAYlS,UAAU,gBACrFiS,GAAW0D,UAAU,gBAAiBla,KAAK8R,QAAQ2E,WAErD,mBAAKhS,IAAK65C,GAAgBt+C,KAAK8R,SAAUvN,UAAU,gBACjDvE,KAAKQ,MAAMgE,cAEb,mBAAKC,IFzGA,CACHG,MAAO,OACPoN,OAAQ,oBACR9M,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,cEmGcb,UAAU,kBACrC,mBAAKE,IAAK+nE,GAAgBxsE,KAAK8R,SAAUvN,UAAU,mBAClD,mBAAKE,IAAKgoE,GAAgBzsE,KAAK8R,QAAS46D,GAAanoE,UAAU,QAC7DvE,KAAKQ,MAAMusE,iBAEb,mBAAKtoE,IAAKkoE,GAAiB3sE,KAAK8R,SAAUvN,UAAU,SAClDiS,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,WAE5Ci2D,GAEF,mBAAKjoE,IFzFD,CACHS,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,aACZR,MAAO,OACPoN,OAAQ,oBACRkiC,UAAW,QEkFW3vC,UAAU,gBAAgB4vC,SAAUn0C,KAAK0xC,cAC9D3f,W,GA9KkCpxB,IAAMC,WAA3CisE,GACE/sC,YAAc3qB,GAwLtB03D,GAA6Bp5D,aAAe,CAC3C1E,MAAOA,GACPg+D,gBAAiB,GACjBhU,mBAAmB,EACnBC,wBAAwB,EACxBC,uBAAuB,GC9NjB,IAAM0U,GAAgB,SAAC77D,GAE1B,MAAO,CACH87D,WAAW,aAAD,OAAe97D,EAAQ/C,MAAMc,YAAYV,SACnD80D,YAAY,aAAD,OAAenyD,EAAQ/C,MAAMc,YAAYV,SACpDk+B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,OACTN,MAAO,OACPF,SAAU,OACVS,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZK,QAAS,QAIJgnE,GAAkB,SAAC36D,EAAS+7D,GAAqB,IAAD,IAEnDtgC,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAElDsoB,EAAairB,GAAD,GAEdjpE,MAAO,sBAFO,cAGb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAJG,cAMb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAPG,OAWdA,MAAO,sBAXO,cAYb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAbG,cAeb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAhBG,cAkBb2oC,EAAG,GAAK,CACL3oC,MAAO,uBAnBG,GAuBlB,OAAO,aACHM,QAAS,OACTC,cAAe,MACfE,eAAgB,aAChBD,WAAY,UACTw9C,IAIEkrB,GAAc,SAACh8D,EAAS+7D,GAEjC,IAAMtgC,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAElDyzC,EAAcF,EAAmB,CACnCp5D,YAAa,OADE,aAGfA,YAAa,OACZ84B,EAAG,GAAK,CACL94B,YAAa,MAIrB,OAAO,aACH7P,MAAO,OACPoN,OAAQ,OACR+H,WAAY,KACTg0D,IAIE7nB,GAAY,SAACp0C,EAAS+7D,GAE/B,IAAMtgC,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAElDsoB,EAAairB,EAAmB,CAClCjpE,MAAO,QACP,CACAA,MAAO,qBAGLopE,EAAeH,EAAD,aAChB3oE,QAAS,UACRqoC,EAAG,GAAK,CACLroC,QAAS,WAHG,aAOhBA,QAAS,UACRqoC,EAAG,GAAK,CACLroC,QAAS,SAIjB,OAAO,yBACHoV,OAAQ,QACRlH,SAAU,SACVsxB,aAAc,WACdC,WAAY,UACTie,GACAorB,IAIErB,GAAmB,SAAC76D,GAAa,IAAD,EAEnCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACIp1B,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,aAChBT,MAAO,QACP,IAAO,CACHA,MAAO,OACPoN,OAAQ,OACRtM,OAAQ,YAThB,cAWK6nC,EAAG,GAAK,CACL3oC,MAAO,UAZf,cAcK2oC,EAAG,GAAK,CACL3oC,MAAO,UAff,cAiBK2oC,EAAG,GAAK,CACL3oC,MAAO,UAlBf,GAoDSqpE,GAAiB,SAAC78D,EAAKU,GAEhC,MAAO,CACHlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBAY7B09D,GAAoB,SAAC96D,GAAa,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACI11B,MAAO,QADX,cAEK2oC,EAAG,GAAK,CACL3oC,MAAO,SAHf,cAKK2oC,EAAG,GAAK,CACL3oC,MAAO,SANf,GAuBSspE,GAAgB,SAAC98D,EAAKU,GAClC,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACRo0B,WAAW,OAAD,OAAS1oB,EAAT,+BCvNG,OAA0B,iCCA1B,OAA0B,iCCA1B,OAA0B,kCCA1B,OAA0B,uCCA1B,OAA0B,mCCmCnC+8D,G,kDAIF,WAAYluE,EAAO6R,GAAU,IAAD,8BAExB,cAAM7R,EAAO6R,IAiBjBs8D,kBAAoB,SAAC76C,GACjB,EAAKrvB,SAAS,CAAEmqE,gBAAiB96C,KApBT,EAuB5B+6C,mBAAqB,SAAC56C,GAClB,EAAKxvB,SAAS,CAACutC,MAAO/d,EAAMqf,OAAO7vC,SAxBX,EA2B5BqrE,kBAAoB,WAChB,EAAKtuE,MAAMq+B,gBAAgB3vB,GAAA,0BAA4C,EAAK1O,MAAMumE,OAAQ,EAAKhmE,MAAMixC,OACrG,EAAK28B,qBA7BmB,EAgC5B95B,cAAgB,SAAC5gB,EAAOH,GAEpB,IAAMyH,EAAOtH,EAAMie,cAEnB,GAAI3W,EAAK6uB,UAAU2kB,SAAS,SAEJxzC,EAAK8H,aACL9H,EAAKG,YAGrB,OAAO,EAIZ5H,EACCyH,EAAKuZ,aAAa,QAAS,EAAKt0C,MAAMumE,OAAO9iE,MAE7Cs3B,EAAKyZ,gBAAgB,UA7CzB,EAAKg6B,oBACD,sBACAlqE,UAAU,uBACV08C,SAAU,EAAKqtB,mBACfI,aAAc,EAAKzuE,MAAMumE,OAAO/0B,QAGpC,EAAKjxC,MAAQ,CACT6tE,iBAAiB,EACjB58B,MAAO,MAGX,EAAKlhB,MAAQze,EAAQye,MAhBG,E,0CAqD5B,WAAU,INyGenf,EAAKU,EMzGrB,OAED68D,EAAgB,GAEhBjrE,EAAO1D,KAAKC,MAAMumE,OAAO9iE,KACzB+tC,EAAQ,oBAAMhtC,IN+Ef,CACHC,SAAU,OACVsV,SAAU,sBMjF2Bha,KAAK8R,QAAQye,MAAMvwB,KAAKC,MAAMumE,OAAO/0B,QACtEm9B,EAAc,KACdC,EAAO,iBAAGpqE,KNkGO2M,EMlGW09D,GNkGNh9D,EMlGe9R,KAAK8R,QNoG3C,CACHlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,sBM1GsB+K,MAAOzD,GAAW0D,UAAU,MAAOla,KAAK8R,QAAQ2E,UAAWtC,QAAS,WAAQ,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,EAAK1O,MAAMumE,WACzMuI,EAAQ,iBAAGtqE,IAAKypE,GAAcc,GAAUhvE,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,UAAWtC,QAAS,WAAQ,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,kBAAoC,EAAK1O,MAAMumE,WAGlN,GAAGxmE,KAAKQ,MAAM6tE,gBAAiB,CAE3B,IAAIl/B,EACA,YAAC,IAAMnqC,SAAP,KACI,sBAAQ9B,MAAOtB,YAAU4uB,mBAAmBG,aAAc3wB,KAAK8R,QAAQye,MAAM3uB,YAAU4uB,mBAAmBG,cAC1G,sBAAQztB,MAAOtB,YAAU4uB,mBAAmBE,WAAY1wB,KAAK8R,QAAQye,MAAM3uB,YAAU4uB,mBAAmBE,YACxG,sBAAQxtB,MAAOtB,YAAU4uB,mBAAmBC,OAAQzwB,KAAK8R,QAAQye,MAAM3uB,YAAU4uB,mBAAmBC,SAIxGzwB,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBE,WACtD1wB,KAAKC,MAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBG,cAE5Dwe,EACI,YAAC,IAAMnqC,SAAP,KACI,sBAAQ9B,MAAOtB,YAAU4uB,mBAAmBG,aAAc3wB,KAAK8R,QAAQye,MAAM3uB,YAAU4uB,mBAAmBG,cAC1G,sBAAQztB,MAAOtB,YAAU4uB,mBAAmBE,WAAY1wB,KAAK8R,QAAQye,MAAM3uB,YAAU4uB,mBAAmBE,cAKpHk+C,EACI,mBAAKnqE,INUV,CACHS,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,SAChBT,MAAO,OACPoP,WAAY,qBACZ,IAAO,CACHsG,OAAQ,YMlB2B/V,UAAU,kBACrC,sBAAQE,INwBjB,CACHG,MAAO,MACP2V,OAAQ,IACRpC,UAAW,yCACX3S,aAAc,MACdD,gBAAgB,yBAChBE,QAAS,MACTd,MAAM,wBACNqQ,MAAO,QMhCyCzQ,UAAU,gBAAgB08C,SAAUjhD,KAAKsuE,mBAAoBI,aAAc1uE,KAAKC,MAAMumE,OAAO/0B,OAC5HtC,GAEL,iBAAG1qC,IAAKwpE,GAAegB,GAAUjvE,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAAWtC,QAASnU,KAAKuuE,oBAClI,iBAAG9pE,IAAKwpE,GAAeztB,GAAWxgD,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAAWtC,QAAS,kBAAM,EAAKi6D,mBAAkB,YAO/JQ,EADA5uE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,YAC3C8gB,EAGV,YAAC,IAAMzsC,SAAP,KACKysC,EACD,iBAAGhtC,IAAKwpE,GAAeiB,GAAWlvE,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAAWtC,QAAS,kBAAM,EAAKi6D,mBAAkB,OAOvKpuE,KAAK8R,QAAQmF,KAAKqxD,QAAUtoE,KAAKC,MAAMumE,OAAOtkE,MAE9C0sE,EADAn9B,EAAS,oBAAMhtC,IN0BhB,CACHC,SAAU,OACVsV,SAAU,sBM5B4BxD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,WAE7Eo4D,EAAM,KACNE,EAAO,MAIP/uE,KAAKC,MAAM6pE,aAAa5nE,MAAQlC,KAAKC,MAAMumE,OAAOtkE,MAClDwB,EAAO8S,GAAW0D,UAAU,MAAOla,KAAK8R,QAAQ2E,UAChDm4D,EAAcn9B,EACdo9B,EAAM,KACNE,EAAO,MAIP/uE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBE,WACzD1wB,KAAKC,MAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBC,OAASzwB,KAAKC,MAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBE,YAC3Hk+C,EAAcn9B,EACdo9B,EAAM,KACNE,EAAO,MAIP/uE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBC,OAC1DzwB,KAAK8R,QAAQmF,KAAKqxD,QAAUtoE,KAAKC,MAAM6pE,aAAa5nE,KACpDlC,KAAKC,MAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBC,QACxDm+C,EAAcn9B,EACdo9B,EAAM,KACNE,EAAO,MAGX,IAAIrC,EAAa,KAEb1sE,KAAK8R,QAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBG,aACzD+7C,EAAa,KACbiC,EAAgB,SAGhBjC,EACI,YAAC,IAAM1nE,SAAP,KACI,mBAAKP,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,OAAOsqE,GAC5D,mBAAKpqE,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,QAAQwqE,KAO5B,IAArC/uE,KAAKC,MAAMg5D,wBAAyE,IAAtCj5D,KAAKC,MAAM+4D,uBACzD0T,EAAa,MAC+B,IAArC1sE,KAAKC,MAAMg5D,sBAClByT,EACI,mBAAKjoE,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,QAAQwqE,IAEpB,IAAtC/uE,KAAKC,MAAM+4D,yBAClB0T,EACI,mBAAKjoE,IAAKmoE,GAAkB5sE,KAAK8R,SAAUvN,UAAU,OAAOsqE,KAO/B,IAAjC7uE,KAAKC,MAAM84D,oBACX6V,EAAcn9B,IAItB,IAAIoyB,EACA,YAAC,GAAD,CAAuB9uD,OAAQ/U,KAAKC,MAAMumE,OAAOzxD,SAGrD,OACI,mBAAKtQ,IAAKkpE,GAAc3tE,KAAK8R,SAAUvN,UAAU,gBAC7C,mBAAKE,IAAKgoE,GAAgBzsE,KAAK8R,QAAS68D,GAAgBpqE,UAAU,YAC9D,mBAAKE,IAAKqpE,GAAY9tE,KAAK8R,QAAS68D,GAAgBpqE,UAAU,YAC9DywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KAC7C,YAAC,GAAD,CAAiBryB,KAAMrB,KAAKC,MAAMumE,SACjC3C,GAEL,mBAAKp/D,IAAKyhD,GAAUlmD,KAAK8R,QAAS68D,GAAgBpqE,UAAU,OAC5DywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IACjDuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KAAShwB,IAE9D,mBAAKe,IAAKkoE,GAAiB3sE,KAAK8R,SAAUvN,UAAU,SAASqqE,GAC5DlC,O,GAzM8B/rE,IAAMC,WAA/CutE,GAEKruC,YAAc3qB,GA8MzBg5D,GAAiC16D,aAAe,CAC/Cq2D,aAAc,GACd/Q,mBAAmB,GCjPb,IAAMoW,GAAb,WAIC,WAAYr9D,EAASwvD,GAAY,IAAD,gCAHhC8N,eAAiB,KAGe,KAFhC1lC,gBAAiB,IAAIt7B,MAAOC,UAEI,KAMhCghE,yBAA2B,WAE1B,IAAM3yD,EAAe,EAAK5K,QAAQiJ,cAAc2B,aAC1C+kD,EAAsB1mD,GAAc0B,sBAE1C,OAAO,IAAI6K,SAAQ,SAACC,EAASsJ,GAE5B,OAAInU,IAAiB+kD,EAAmB,KAEnC,EAAKH,UACR,EAAK8N,gBAAiB,IAAIxtE,YAAU+/D,qBAAsB73B,SAAS,IAAI83B,iBAAiB,EAAKN,WAAWrjC,QAExG,EAAKmxC,gBAAiB,IAAIxtE,YAAU+/D,qBAAsB73B,SAAS,IAAI7L,QAGjE1W,EAAQ,EAAK6nD,iBACV1yD,IAAiB+kD,EAAmB,SAE1C,EAAKH,UACR,EAAK8N,gBAAiB,IAAIxtE,YAAU+/D,qBAAsB73B,SAAS,IAAI+3B,aAAY,GAAMD,iBAAiB,EAAKN,WAAWrjC,QAE1H,EAAKmxC,gBAAiB,IAAIxtE,YAAU+/D,qBAAsB73B,SAAS,IAAI+3B,aAAY,GAAM5jC,QAGnF1W,EAAQ,EAAK6nD,iBAEbv+C,EAAO,CAAC/rB,QAAS,oCA9B1B9E,KAAK8R,QAAUA,EACf9R,KAAKshE,UAAYA,EAPnB,kDAyCC,WACC,OAAOthE,KAAKovE,eAAerlC,cA1C7B,6BA6CC,SAAgBz7B,GACf1M,YAAUooC,gBACThqC,KAAK0pC,eACL,IAAI9nC,YAAUqoC,aAAa,CAC1BC,aAAc,SAAAC,GAEb77B,EAAS67B,IAEVC,cAAe,SAAAC,GAEd/7B,EAAS+7B,SAvDd,6BA6DC,WACCzoC,YAAUgrC,mBAAmB5sC,KAAK0pC,oBA9DpC,KCJa2U,GAAoB,SAACvsC,GAAa,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACIsB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,OACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAfb,cAgBKqoC,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAlBhB,cAoBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SAtBhB,cAwBKu7B,EAAG,GAAK,CACL3oC,MAAO,OACPoN,OAAQ,SA1BhB,GA+BSs9D,GAAkB,SAACl+D,EAAKU,GAEjC,MAAO,CACH+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCvJ,OAAQ,YAiBH4mE,GAAoB,SAACt4B,GAE9B,IAAMu4B,EAA0B,QAARv4B,EAAiB,CACrCnvC,UAAW,QACX+0C,aAAc,QACd,CACA/0C,UAAW,QAGf,OAAO,yBACHH,SAAU,OACVuT,aAAc,OACd3D,WAAY,QACTi4D,GAJP,IAKI3nE,MAAO,UAIF05C,GAAkB,SAACxsC,GAE5B,MAAO,CACHpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXyV,OAAQ,QACR1V,MAAO,SAmBF2qE,GAAoB,SAACn+D,EAAKU,GAEnC,MAAO,CACHlN,MAAO,OACPoN,OAAQ,OACRvM,QAAS,MACTC,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,2BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,mBAAnB,gBAiBVsgE,GAAiB,SAAC19D,GAE3B,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACH8B,OAAQ,qBACRkiC,UAAW,OACXhvC,QAAS,OACTN,MAAO,OACPO,cAAe,SACfE,eAAgB,aAChBD,WAAY,cAPhB,iBAQemoC,EAAG,GARlB,aAQyBA,EAAG,IAAO,CAC3Bv7B,OAAQ,UAKPy9D,GAAiB,SAACxvE,EAAOO,EAAO4Q,EAAKU,GAE9C,IAAM8sC,EAAgBp+C,EAAMkvE,cAAiB,CACzC3wB,SAAU,OACV/mC,cAAe,OACf8hB,WAAW,OAAD,OAAS1oB,EAAT,aAAiBU,EAAQ/C,MAAME,aAA/B,iCACV,GAEE4vC,EAAar+C,EAAMkvE,cAAgB,CAAEj7D,YAAa,QAAW,GAEnE,MAAO,CACH6F,OAAQ,mBACR,OAAS,yBACL5U,OAAQ,UACRD,QAAS,WACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCzJ,aAAc,MACdb,MAAO,QACPD,SAAU,OACVY,QAAS,IACTiV,OAAQ,KACLqkC,GATP,IAUI,KAAO,eACAC,OC7KJ,OAA0B,mCCA1B,OAA0B,mCCA1B,OAA0B,kCCqCnC8wB,G,kDAIF,WAAY1vE,EAAO6R,GAAU,IAAD,8BACxB,cAAM7R,EAAO6R,IA4BjBwwD,YAAc,SAACjhE,GAEX,IAAIkhE,EAAQ,aAAO,EAAK/hE,MAAM+hE,UAG1BC,EAAUD,EAASj0B,WAAU,SAACm0B,EAAGwE,GAAJ,OAAUxE,EAAEvgE,MAAQb,EAAKa,OAG1D,GAAGsgE,GAAW,EAAG,CAEb,IAAIE,EAAUH,EAASC,GACnBG,EAAalyD,OAAO0gC,OAAO,GAAIuxB,EAASrhE,GAC5CkhE,EAAS9zB,OAAO+zB,EAAS,EAAGG,GAE5B,EAAKz+D,SAAS,CAAEq+D,SAAUA,MA3CN,EA+C5B7wB,aAAe,SAACzX,GAEZ6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eAC1F,EAAKunC,YAlDS,EAqD5B3/C,YAAc,SAACgX,GAEP,EAAK03B,SACLj4C,aAAa,EAAKi4C,SAGtB,IAAIkR,EAAM5oC,EAAE8Y,OAAO7vC,MAEnB,EAAKisE,kBAAoB,IAAIA,GAAkB,EAAKr9D,QAAS+wD,GAC7D,EAAKsM,kBAAkBE,2BAA2BxtE,MAAK,WAEnD,EAAK8vD,QAAUp4C,YAAW,WACtB,EAAKrV,SAAS,CAAEq+D,SAAU,GAAIqN,aAAc,GAAIC,gBAAiB,GAAIC,aAAc,GAAI39B,iBAAkB37B,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,YAAa,kBAAM,EAAKmsD,gBAC/K,SAlEiB,EAuE5BA,SAAW,WAEP,EAAKuM,kBAAkBrM,iBAClBjhE,MAAK,SAAA67C,GACF,IAAMqyB,EAAmBryB,EAASiiB,QAAO,SAAAt+D,GACrC,IAAM0nE,EAAQ,EAAKj3D,QAAQigB,aAAa+b,MAAK,SAAA04B,GAAM,OAAInlE,EAAKa,MAAQskE,EAAOtkE,OACrE8tE,EAAc,EAAKl+D,QAAQogB,mBAAmB4b,MAAK,SAAA04B,GAAM,OAAInlE,EAAKa,MAAQskE,EAAOtkE,OACvF,OAAI6mE,IAASiH,KAMe,IAA5BD,EAAiBx/D,QACjB,EAAKrM,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,iBAAkB,EAAKpI,QAAQ2E,YAG1F,EAAKvS,SAAS,CAAEq+D,SAAS,GAAD,oBAAM,EAAK/hE,MAAM+hE,UAAjB,aAA8B7kB,IAAWoyB,aAAa,GAAD,oBAAM,EAAKtvE,MAAMsvE,cAAjB,aAAkCC,SAElHntE,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBA1FnF,EA6F5Bw5D,eAAiB,SAAC5uE,EAAM6uE,GAEpB,GAAGA,EAAW,CAEV,IAAMxH,EAAO,aAAO,EAAKloE,MAAMovE,cAC/BlH,EAAQ17B,KAAK3rC,GACb,EAAK6C,SAAS,CAAC0rE,aAAa,aAAKlH,SAE9B,CAEH,IAAMkH,EAAY,aAAO,EAAKpvE,MAAMovE,cAC9BO,EAAaP,EAAathC,WAAU,SAAAk4B,GAAM,OAAIA,EAAOtkE,MAAQb,EAAKa,OACrEiuE,GAAc,IACbP,EAAanhC,OAAO0hC,EAAY,GAChC,EAAKjsE,SAAS,CAAC0rE,aAAa,aAAKA,QA3GjB,EAgH5B3C,cAAgB,WAEZ,IAAM97D,EAAO,EAAKW,QAAQmF,KAAK9F,KACzBi/D,EAAc,GAcpB,GAZA,EAAK5vE,MAAMovE,aAAahtC,SAAQ,SAAAytC,GAG5B,IAAmB,IADA,EAAKv+D,QAAQigB,aAAauc,WAAU,SAAAk4B,GAAM,OAAIA,EAAOtkE,MAAQmuE,EAAUnuE,OACpE,CAElB,IAAMouE,EAAY,IAAI1uE,YAAU2uE,YAAYF,EAAUnuE,IAAKN,YAAU4uB,mBAAmBG,aACxFy/C,EAAYpjC,KAAKsjC,GAEjBD,EAAS,KAAW,UAIzBD,EAAY7/D,OAAQ,CAEnB,EAAKrM,SAAS,CAAEwrE,eAAe,IAE/B,IAAME,EAAe,GACrBhuE,YAAU4uE,kBAAkBr/D,EAAMi/D,EAAa,IAAIvuE,MAAK,SAAAwB,GAEpD,GAAIoN,OAAOC,KAAKrN,GAAUkN,OAAQ,CAAC,IAAD,WAEnBi2D,GAEP,GAAwB,YAArBnjE,EAASmjE,GAAuB,CAE/B,IAAMuC,EAAQ,EAAKvoE,MAAM+hE,SAASz0B,MAAK,SAAAzsC,GAAI,OAAIA,EAAKa,MAAQskE,KAC5DuC,EAAK,MAAYnnE,YAAU4uB,mBAAmBG,YAC9Ci/C,EAAa5iC,KAAK+7B,KAN1B,IAAK,IAAMvC,KAAUnjE,EAAW,EAArBmjE,GAUX,EAAKvmE,MAAMq+B,gBAAgB3vB,GAAA,yBAA2CihE,GAE1E,EAAK1rE,SAAS,CAAEwrE,eAAe,IAC/B,EAAKzvE,MAAM4a,WAEZjY,OAAM,SAAAnB,GAEL,EAAKyC,SAAS,CAAEwrE,eAAe,EAAOlrE,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,iBAxJjH,EAAKjW,MAAQ,CACT+hE,SAAU,GACVqN,aAAc,GACdE,aAAc,GACdJ,eAAe,EACfv9B,iBAAkB37B,GAAW0D,UAAU,UAAWpI,EAAQ2E,UAC1DjS,aAAc,IATM,E,qDAa5B,WAAqB,IAAD,OAEhBxE,KAAKmvE,kBAAoB,IAAIA,GAAkBnvE,KAAK8R,SACpD9R,KAAKmvE,kBAAkBE,2BAA2BxtE,MAAK,WAEnD,EAAK+gE,WACL,EAAKuM,kBAAkB/qC,gBAAgB,EAAKk+B,kB,kCAIpD,WAEItiE,KAAKmvE,kBAAkB7pC,kBACvBtlC,KAAKmvE,kBAAoB,O,oBAuI7B,WAAU,IJXoBr9D,EIWrB,OAECyuC,EAAavgD,KAAKQ,MAAMkvE,cAAgBl5D,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,MAAOla,KAAK8R,QAAQ2E,UAC3Ig6D,EACA,mBAAKhsE,IAAKgrE,GAAezvE,KAAKC,MAAOD,KAAKQ,MAAOkwE,GAAY1wE,KAAK8R,SAAUvN,UAAU,qBAClF,sBAAQjD,KAAK,SAAS6S,QAASnU,KAAKitE,eAAe,wBAAO1sB,KAI9D5M,EAAmB,KACgB,IAAnC3zC,KAAKQ,MAAMsvE,aAAav/D,SAExBojC,EACI,mBAAKlvC,IJlCV,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ4M,OAAQ,OI4B6BzN,UAAU,8BACnC,iBAAGE,KJzBWqN,EIyBa9R,KAAK8R,QJxB5C,CACNwI,OAAQ,IACRtI,OAAQ,OACRrN,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9B1K,SAAU,iBACV4P,WAAY,QImBgD/P,UAAU,qBAAqBvE,KAAKQ,MAAM2xC,mBAG5Fs+B,EAAoB,MAGxB,IAAIxN,EAAgB,GAEdrnD,EADgB,aAAO5b,KAAKQ,MAAMsvE,cACTp8B,KAAI,SAAAryC,GAE/B,IAAM6hE,EAAM7hE,EAAKqC,KAAK,GAAGqN,cACrB4/D,EAAc,KAMlB,OALGzN,IAAQD,IAEP0N,EADA1N,EAAgBC,GAKhB,YAAC,IAAMl+D,SAAP,CAAgB8R,IAAKzV,EAAKa,KACtB,YAAC,GAAD,CACA6M,MAAO,EAAK9O,MAAM8O,MAClB4hE,YAAaA,EACbtvE,KAAMA,EACNuvE,QAAS,EAAKX,qBAK1B,OACI,YAAC,IAAMjrE,SAAP,KACI,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,IAAK45C,GAAkBr+C,KAAK8R,SAAUvN,UAAU,qBACjD,oBAAME,IAAK6qE,GAAgB9uB,GAAWxgD,KAAK8R,SAAUvN,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAC3J,mBAAKhS,IJrMd,CACHgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,OACPM,QAAS,OACTC,cAAe,SACfE,eAAgB,SAChBD,WAAY,cI8L4Bb,UAAU,eAClC,mBAAKE,IAAK6nE,GAAkB91D,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WAAYlS,UAAU,gBAAgBiS,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,WAClJ,mBAAKhS,IAAK65C,GAAgBt+C,KAAK8R,SAAUvN,UAAU,gBAAgBvE,KAAKQ,MAAMgE,cAC9E,mBAAKC,IJ/JrB,CACN6P,WAAY,SACZ2D,aAAc,OACdrT,MAAO,OACDoN,OAAQ,OACdxM,aAAc,MACd2S,UAAW,yCACX5S,gBAAiB,yBACXL,QAAS,OACTG,eAAgB,SAChBD,WAAY,UIqJkCb,UAAU,iBACpC,sBAAQjD,KAAK,SAASiD,UAAU,iBAAiBE,IAAK8qE,GAAkBhM,GAAYvjE,KAAK8R,WACzF,qBACAxQ,KAAK,OACL0/C,aAAa,MACbv8C,IJxIjB,CACHG,MAAO,oBACPoN,OAAQ,OACRvM,QAAS,MACTf,SAAU,OACVY,QAAS,OACTiV,OAAQ,OACRhV,gBAAiB,eIkIGhB,UAAU,gBACVo8C,YAAanqC,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,UACzDwqC,SAAUjhD,KAAKijB,eAElB0wB,EACD,mBAAKlvC,IAAK+qE,GAAexvE,KAAK8R,SAAUqiC,SAAUn0C,KAAK0xC,aAAcntC,UAAU,kBAAkBqX,GAChG60D,S,GAnOiB9vE,IAAMC,WAA1C+uE,GAEK7vC,YAAc3qB,GA0OzBw6D,GAA4Bl8D,aAAe,CACvC1E,MAAOA,IClRJ,IAAM4+D,GAAgB,SAAC5+D,GAE1B,MAAO,CACHwL,OAAO,aAAD,OAAexL,EAAMc,YAAYV,SACvCjK,QAAS,OACTN,MAAO,OACPF,SAAU,OACVS,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZ,qBAAsB,CAClBioC,aAAc,UA8CbwjC,GAAoB,SAACC,EAAkBC,EAAgBhiE,GAEhE,MAAO,CACH7J,QAAS,OACT,WAAY,CACRA,QAAS,QACTQ,OAAQ,UACRm6B,WAAY,OACZp6B,QAAS,MACTb,MAAO,OACP4T,KAAK,OAAD,OAASs4D,EAAT,6BACJvrE,gBAAgB,GAAD,OAAKwJ,EAAMG,qBAE9B,oBAAqB,CACjBtK,MAAO,OACP4T,KAAK,OAAD,OAASu4D,EAAT,6BACJxrE,gBAAgB,GAAD,OAAKwJ,EAAMG,uBCzEvB,OAA0B,kDCA1B,OAA0B,gDCwBnC8hE,GAAkC,SAAC/wE,GAExC,MAAgCiV,qBAAWC,IAAnC4c,EAAR,EAAQA,aAAchjB,EAAtB,EAAsBA,MAEtB,EAA8BqG,oBAAS,WAItC,QAHc2c,EAAa+b,MAAK,SAAA04B,GAAM,OAAIA,EAAOtkE,MAAQjC,EAAMoB,KAAKa,UADrE,oBAAO+uE,EAAP,KAAgBC,EAAhB,KAcM58B,EAAgB,SAAC5gB,EAAOH,GAE7B,IACM49C,EADOz9C,EAAMie,cACQy/B,UAK3B,GAHoBD,EAAcruC,aACdquC,EAAch2C,YAGjC,OAAO,EAGL5H,EACF49C,EAAc58B,aAAa,QAAS48B,EAAcj4B,aAElDi4B,EAAc18B,gBAAgB,UAIhC,OACC,mBAAKhwC,IAAKkpE,GAAc5+D,IACvB,mBAAKtK,IH7CG,CACHgB,QAAS,MACTb,MAAO,qBG2CkBL,UAAU,WAAWywC,aAAc,SAAAthB,GAAK,OAAI4gB,EAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI4gB,EAAc5gB,GAAO,KACjJ,mBAAKjvB,IHtCE,CACHS,QAAS,eACT8P,MAAO,OACPpQ,MAAO,OACPoN,OAAQ,OACRyC,YAAa,OGiCQlQ,UAAU,UAClC,YAAC,GAAD,CAAiBlD,KAAMpB,EAAMoB,OAC7B,YAAC,GAAD,CAAuB0T,OAAQ9U,EAAMoB,KAAK0T,UAE3C,mBAAKtQ,IH/BE,CACH6V,OAAQ,OACR1V,MAAO,oBACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,UG0BOpgC,UAAU,QAC/BtE,EAAMoB,KAAKqC,OAGd,mBAAKe,IHxBG,CACHgB,QAAS,MACTb,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,UGmBiBb,UAAU,aAC3C,qBAAOE,IAAKosE,GAAkBQ,GAAcC,GAAYviE,GAAQzN,KAAK,WAAW2vE,QAASA,EAASxgC,GAAIxwC,EAAMoB,KAAKa,IAAM,MAAO++C,SAtC7G,SAACvtB,GAEpB,IAAMxwB,GAAqB,IAAZ+tE,EACfC,EAAWhuE,GACXjD,EAAM2wE,QAAQ3wE,EAAMoB,KAAM6B,MAmCxB,qBAAOquE,QAAStxE,EAAMoB,KAAKa,IAAM,OAAjC,WAOJ8uE,GAAgCv9D,aAAe,CAC9C1E,MAAOA,IClFD,IAAMsvC,GAAoB,SAACvsC,GAE9B,IAAMy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,gBAAOA,MAEjD,OAAO,aACHsB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,OACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAfb,iBAgBeqoC,EAAG,GAhBlB,aAgByBA,EAAG,IAAO,CAC3B3oC,MAAO,OACPoN,OAAQ,UAKPs9D,GAAkB,SAACl+D,EAAKU,GAEjC,MAAO,CACH+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCvJ,OAAQ,YAaH4mE,GAAoB,SAACt4B,GAE9B,IAAMu4B,EAA0B,QAARv4B,EAAiB,CACrCnvC,UAAW,QACX+0C,aAAc,QACd,CACA/0C,UAAW,QAGf,OAAO,yBACHH,SAAU,OACVuT,aAAc,MACd3D,WAAY,QACTi4D,GAJP,IAKI3nE,MAAO,UAIF05C,GAAkB,SAAAxsC,GAE9B,MAAO,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXY,QAAS,QACTb,MAAO,OACPoN,OAAQ,SAgBGw6D,GAAkB,SAAC16D,GAE5B,MAAO,CACH5M,QAAS,OACTC,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZkP,WAAY,OACZ7O,QAAS,MACTb,MAAO,OACP2V,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,WAI1Cs9D,GAAkB,SAAC36D,GAAa,IAAD,EAElCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACI11B,MAAO,sBADX,cAEK2oC,EAAG,GAAK,CACL3oC,MAAO,uBAHf,cAKK2oC,EAAG,GAAK,CACL3oC,MAAO,uBANf,cAQK2oC,EAAG,GAAK,CACL3oC,MAAO,uBATf,GAcS4sE,GAAkB,SAAA1/D,GAAY,IAAD,EAEnCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACC11B,MAAO,SADR,cAEE2oC,EAAG,GAAK,CACR3oC,MAAO,UAHT,cAKE2oC,EAAG,GAAK,CACR3oC,MAAO,UANT,cAQE2oC,EAAG,GAAK,CACR3oC,MAAO,UATT,GCjIc,OAA0B,kCCkCnC6sE,G,kDAIF,WAAYxxE,GAAQ,IAAD,8BAEf,cAAMA,IA4BVyxE,YAAc,SAACC,GAEX,IAAMxgE,EAAO,EAAKW,QAAQmF,KAAK9F,KAC/BvP,YAAUgwE,iBAAiBzgE,EAAMwgE,EAAczvE,KAAKL,MAAK,SAAAwB,GAElDA,EACC,EAAKpD,MAAMq+B,gBAAgB3vB,GAAA,2BAA6C,CAACgjE,IAEzE,EAAKztE,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,eAGxF7T,OAAM,SAAAnB,GAAK,OAAI,EAAKyC,SAAS,CAAEM,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBAzCtF,EA4CnBw2D,cAAgB,SAAChuC,EAAQunC,GAErB,GAAOvnC,IACEtwB,GAAA,mBACD,EAAK+iE,YAAYlL,IAhDV,EAuDnB90B,aAAe,SAACzX,GAEG6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eAE/G,EAAKp7B,MAAMq+B,gBAAgB3vB,GAAA,6BAvD/B,EAAKnO,MAAQ,CACTqxE,aAAc,GACdC,eAAgB,GAChB3/B,iBAAkB37B,GAAW0D,UAAU,UAAW1D,GAAWe,sBAC7D/S,aAAc,IARH,E,qDAYnB,WAEmD,IAA3CxE,KAAK8R,QAAQogB,mBAAmB3hB,OAChCvQ,KAAKkE,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,0BAA2Bla,KAAK8R,QAAQ2E,YAE/FzW,KAAKkE,SAAS,CAAEiuC,iBAAkB,O,gCAI1C,WAEmD,IAA3CnyC,KAAK8R,QAAQogB,mBAAmB3hB,QAAgD,KAAhCvQ,KAAKQ,MAAM2xC,iBAC3DnyC,KAAKkE,SAAS,CAAEiuC,iBAAkB37B,GAAW0D,UAAU,0BAA2Bla,KAAK8R,QAAQ2E,YACxFzW,KAAK8R,QAAQogB,mBAAmB3hB,QAAUvQ,KAAKQ,MAAM2xC,iBAAiB5hC,QAC7EvQ,KAAKkE,SAAS,CAAEiuC,iBAAkB,O,oBAqC1C,WAAU,IF0EqBrgC,EE1EtB,OAGC2gB,EADW,aAAOzyB,KAAK8R,QAAQogB,oBACHwhB,KAAI,SAAC8yB,EAAQ1vD,GAE3C,OACI,YAAC,GAAD,CACAA,IAAK0vD,EAAOtkE,IACZskE,OAAQA,EACRsD,aAAc,EAAK7pE,MAAM6pE,aACzBxrC,gBAAiB,EAAK2uC,mBAI1Bt5B,EAAmB,KAUvB,OAT2C,IAAvC3zC,KAAKQ,MAAM2xC,iBAAiB5hC,SAE5BojC,EACI,mBAAKlvC,IF8CV,CACH2O,SAAU,SACVxO,MAAO,OACPM,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ4M,OAAQ,OEpD6BzN,UAAU,oCACnC,iBAAGE,KFuDYqN,EEvDY9R,KAAK8R,QFyDzC,CACHwI,OAAQ,IACRtI,OAAQ,OACRrN,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9B1K,SAAU,iBACV4P,WAAY,QE9D0C/P,UAAU,qBAAqBvE,KAAKQ,MAAM2xC,oBAM5F,YAAC,IAAMntC,SAAP,KACI,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,IAAK45C,GAAkBr+C,KAAK8R,SAAUvN,UAAU,wBACjD,oBAAME,IAAK6qE,GAAgB9uB,GAAWxgD,KAAK8R,SAAUvN,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAE3J,mBAAKhS,IFvFd,CACHgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,QEoFiCL,UAAU,eAClC,mBAAKE,IAAK6nE,GAAkB91D,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WAAYlS,UAAU,gBAClFiS,GAAW0D,UAAU,iBAAkBla,KAAK8R,QAAQ2E,WAEzD,mBAAKhS,IAAK65C,GAAgBt+C,KAAK8R,SAAUvN,UAAU,gBAC9CvE,KAAKQ,MAAMgE,cAGhB,mBAAKC,IFxDlB,CACHG,MAAO,OACPoN,OAAQ,oBACR9M,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,cEkDgCb,UAAU,kBAClC,mBAAKE,IAAK+nE,GAAgBxsE,KAAK8R,SAAUvN,UAAU,mBAC/C,mBAAKE,IAAKgoE,GAAgBzsE,KAAKC,OAAQsE,UAAU,QAC5CiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,WAE/C,mBAAKhS,IAAK+sE,GAAgBxxE,KAAK8R,SAAUvN,UAAU,QAC9CiS,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,WAEhD,mBAAKhS,KAAuBzE,KAAK8R,QFFtD,CACHlN,MAAO,SEC4DL,UAAU,SAChDiS,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAGnDk9B,EACD,mBAAKlvC,KAAezE,KAAKC,MFA1C,CACHiF,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,aACZR,MAAO,OACPoN,OAAQ,oBACRkiC,UAAW,SEP0C3vC,UAAU,gBAAgB4vC,SAAUn0C,KAAK0xC,cACrEjf,W,GAvHS9xB,IAAMC,WAA1C6wE,GAEK3xC,YAAc3qB,GAiIzBs8D,GAA4Bh+D,aAAe,CACvC1E,MAAOA,ICtKJ,IAAM4+D,GAAgB,SAAC77D,GAE1B,MAAO,CACH87D,WAAW,aAAD,OAAe97D,EAAQ/C,MAAMc,YAAYV,SACnD80D,YAAY,aAAD,OAAenyD,EAAQ/C,MAAMc,YAAYV,SACpDk+B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrDjK,QAAS,OACTN,MAAO,OACPF,SAAU,OACVS,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZK,QAAS,QAIJssE,GAAY,SAAAjgE,GAAY,IAAD,EAE7By7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MAExD,OAAO,EAAP,CACC11B,MAAO,sBADR,cAEE2oC,EAAG,GAAK,CACR3oC,MAAO,uBAHT,cAKE2oC,EAAG,GAAK,CACR3oC,MAAO,uBANT,cAQE2oC,EAAG,GAAK,CACR3oC,MAAO,uBATT,GAoCYotE,GAAY,SAAClgE,GAEtB,IAAMy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,gBAAOA,MAEjD,OAAO,aACH11B,MAAO,QACPF,SAAU,QAFd,iBAGe6oC,EAAG,GAHlB,aAGyBA,EAAG,IAAO,CAC3B3oC,MAAO,WAKNqtE,GAAc,SAAC7gE,EAAKU,GAE7B,MAAO,CACHlN,MAAO,OACP,EAAK,CACDA,MAAO,OACPoN,OAAQ,OACRtM,OAAQ,UACR8S,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,oBAClChK,QAAS,kBC/EN,OAA0B,uCC0BnCgtE,GAAkC,SAACjyE,GAErC,IAAM6R,EAAUoD,qBAAWC,IAEvBzR,EAAOzD,EAAMumE,OAAO9iE,KACpB+tC,EAAQ3/B,EAAQye,MAAMtwB,EAAMumE,OAAO/0B,OACnC0gC,EAAS,iBAAGl4D,MAAOzD,GAAW0D,UAAU,QAASpI,EAAQ2E,UAAWtC,QAAS,WAAQlU,EAAMq+B,gBAAgB3vB,GAAA,mBAAqC1O,EAAMumE,WAGtJ10D,EAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBE,WACpDzwB,EAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBC,OAASxwB,EAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBE,YACjHyhD,EAAQ,MAIRrgE,EAAQmF,KAAKw6B,QAAU7vC,YAAU4uB,mBAAmBC,OAASxwB,EAAMumE,OAAO/0B,QAAU7vC,YAAU4uB,mBAAmBC,OAC7G3e,EAAQmF,KAAKqxD,QAAUroE,EAAM6pE,aAAa5nE,MAC1CiwE,EAAQ,MAIhB,IAAM79B,EAAgB,SAAC5gB,EAAOH,GAE1B,IACM49C,EADOz9C,EAAMie,cACQy/B,UAK3B,GAHoBD,EAAcruC,aACdquC,EAAch2C,YAGhC,OAAO,EAGN5H,EACD49C,EAAc58B,aAAa,QAAS48B,EAAcj4B,aAElDi4B,EAAc18B,gBAAgB,UAIpC,OACI,mBAAKhwC,IAAKkpE,GAAc77D,IACpB,mBAAKrN,IAAKstE,GAAUjgE,GAAUvN,UAAU,WACxCywC,aAAc,SAAAthB,GAAK,OAAI4gB,EAAc5gB,GAAO,IAC5CuhB,aAAc,SAAAvhB,GAAK,OAAI4gB,EAAc5gB,GAAO,KACxC,mBAAKjvB,IFnCV,CACHS,QAAS,eACT8P,MAAO,OACPpQ,MAAO,OACPoN,OAAQ,OACRyC,YAAa,OE8BoBlQ,UAAU,UAC/B,YAAC,GAAD,CAAiBlD,KAAMpB,EAAMumE,SAC7B,YAAC,GAAD,CACAzxD,OAAQ9U,EAAMumE,OAAOzxD,OACrBlF,YAAa5P,EAAM8O,MAAMc,YAAYV,WAEzC,mBAAK1K,IF9BV,CACH6V,OAAQ,aACR1V,MAAO,oBACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,UEyBmBpgC,UAAU,QAAQb,IAE7C,mBAAKe,IAAKutE,GAAUlgE,GAAUvN,UAAU,QAAQktC,GAChD,mBAAKhtC,IAAKwtE,GAAYG,GAAOtgE,GAAUvN,UAAU,SAAS4tE,KAMtED,GAAgCz+D,aAAe,CAC3C1E,MAAOA,ICvFJ,IA6BMsjE,GAA0B,SAAC7xE,EAAOP,GAE3C,IAAM8jE,EAAevjE,EAAMwjE,YAAe,CACtCjwD,KAAM,IACNoE,UAAW,uCACX,GAEEo1B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aAEHtL,MAAO,QACPq/D,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClD6C,OAAQ,OACR6B,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf,UAAW,CACP6M,OAAQ,qBAThB,iBAWeu7B,EAAG,IAXlB,aAYQ15B,SAAU,qBACVE,KAAM,QACND,IAAK,IACLwlB,OAAQ,IACR10B,MAAO,iBACP+O,OAAQ,IACRpO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,OAChDqE,WAAY,oBACT+vD,KAKFuO,GAAuB,SAAC9xE,EAAOP,GAExC,IAAMstC,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aACHtL,MAAO,qBACPoN,OAAQ,OACR25C,MAAO,IACPzmD,QAAS,OACTC,cAAe,OALnB,iBAMeooC,EAAG,GANlB,aAMyBA,EAAG,IAAO,CAC3B3oC,MAAO,UCnDb2tE,G,kDAIL,WAAYtyE,GAAQ,IAAD,8BAElB,cAAMA,IAJPwxB,aAAe,KAEI,EAkBnB2yC,YAAc,SAACnzD,EAAO3P,GAErB,EAAKkxC,mBAAmBzf,eAAezxB,EAAM2P,GAC7C,EAAKozD,iBArBa,EAwBnBrgC,cAAgB,SAAC/E,EAAQhoB,EAAMrC,GAA0B,IAAD,EAEvD,OAAOqqB,GACN,KAAKtwB,GAAA,eACJ,EAAK01D,gBACN,MACA,KAAK11D,GACL,KAAKA,GACL,KAAKA,GAAL,2BARuC6jE,EAQvC,iCARuCA,EAQvC,mBACC,KAAKlM,aAAL,SAAkBrnC,EAAQhoB,EAAMrC,GAAhC,OAA0C49D,MAjC1B,EAwCnBnO,cAAgB,WAEf,IAAML,EAAc,EAAKxjE,MAAMwjE,YAC/B,EAAK9/D,SAAS,CAAE8/D,aAAcA,KA3CZ,EAiDnBsC,aAAe,SAACxvD,EAAKhS,EAASmM,EAAOk+B,GAEpC,OAAOr4B,GACN,KAAKnI,GACL,KAAKA,GAEA,EAAK6jC,mBAAmBlxC,OAASM,YAAU+yB,YAAYG,YACxD,EAAK0d,mBAAmBv7B,KAAK9F,OAASF,EAAME,MAC5Cg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,MAEzC,EAAKswC,mBAAmBt7B,QAAQ,IAChC,EAAKs7B,mBAAmB1f,QAAQ,KAEjC,MAED,KAAKnkB,GAEJ,GAAI,EAAK6jC,mBAAmBlxC,OAASM,YAAU+yB,YAAYG,YACxD,EAAK0d,mBAAmBv7B,KAAK9F,OAASF,EAAME,MAC5Cg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,IAAK,CAE9C,IAAMuwE,EAAYhiE,OAAO0gC,OAAO,GAAI,EAAKqB,mBAAmBv7B,KAAM,CAAC,MAASk4B,EAAO,QACnF,EAAKqD,mBAAmBt7B,QAAQu7D,GAChC,EAAKjgC,mBAAmB1f,QAAQlxB,YAAU+yB,YAAYG,eApEzD,EAAKt0B,MAAQ,CACZwjE,aAAa,GAGd,EAAK2H,aAAehrE,IAAMyD,YARR,E,qDAWnB,WAEyC,IAApCpE,KAAKC,MAAMyyE,cAAcniE,QAC5BvQ,KAAKqkE,kB,oBAoEP,WAAU,ID7GsBpkE,EC6GvB,OAEJskE,EACH,YAAC,GAAD,CACAx1D,MAAO/O,KAAKC,MAAM8O,MAClBoL,KAAMna,KAAKC,MAAMka,KACjBgzB,QAAQ,SACR7O,gBAAiBt+B,KAAKgkC,gBAGvB,OACC,YAAC,GAAD,CAA0BzwB,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,GAAKvC,MAAOjR,KAAKC,MAAMyyE,cAAej8D,SAAUzW,KAAKC,MAAMka,MAC1H,mBAAK1V,KDzHwBxE,ECyHFD,KAAKC,MDvHzB,CACHiF,QAAS,OACT8M,OAAQ,OACRpN,MAAO,OACP0T,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuL,OAAO,aAAD,OAAeta,EAAM8O,MAAMc,YAAYV,SAC7C,IAAK,CACDmJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,sBAAuB,CACnBpK,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,YCmGYv1B,UAAU,+BACjD,mBAAKE,IAAK4tE,GAAwBryE,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,mBACpE,YAAC,GAAD,CAAoBgP,IAAK,SAAAC,GAAE,OAAK,EAAKm4D,aAAen4D,GAAK25B,QAAQ,OAAOp+B,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAM63B,YAAahyC,KAAKokE,YAAa9lC,gBAAiBt+B,KAAKgkC,iBAE9K,mBAAKv/B,IAAK6tE,GAAqBtyE,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,gBAChEggE,GAEF,YAAC,GAAD,CAA6Bx1D,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,sB,GAzG3DrjC,IAAMC,WAiHnD2xE,GAA+B9+D,aAAe,CAC7C0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACP2jE,cAAe,IC3IT,IA0BMpD,GAAkB,SAACl+D,EAAKU,GACpC,MAAO,CACN+B,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACRxM,aAAc,MACdsO,IAAK,OACLgH,MAAO,OACPtC,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCvJ,OAAQ,YAYG4mE,GAAoB,SAAAt4B,GAChC,IAAMu4B,EACG,QAARv4B,EAAgB,CACfnvC,UAAW,QACX+0C,aAAc,QAEb,CACD/0C,UAAW,QAGb,OAAO,yBACNH,SAAU,OACVuT,aAAc,MACd3D,WAAY,QACTi4D,GAJJ,IAKC3nE,MAAO,UAII05C,GAAkB,SAAAxsC,GAC9B,MAAO,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMiL,KAC9B/K,UAAW,SACXY,QAAS,QACTuM,OAAQ,OACRpN,MAAO,SAeI4nE,GAAkB,SAAA16D,GAC9B,MAAO,CACN5M,QAAS,OACTC,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZkP,WAAY,OACZ7O,QAAS,MACTb,MAAO,OACP2V,OAAO,aAAD,OAAezI,EAAQ/C,MAAMc,YAAYV,WAgBpCs9D,GAAkB,SAACxsE,EAAO6R,GAAa,IAAD,EAE5Cy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MACxD,OAAO,EAAP,CACC11B,MAAO,sBADR,cAEE2oC,EAAG,GAAK,CACR3oC,MAAO,uBAHT,cAKE2oC,EAAG,GAAK,CACR3oC,MAAO,uBANT,cAQE2oC,EAAG,GAAK,CACR3oC,MAAO,uBATT,GAcY+nE,GAAmB,SAAC76D,GAAa,IAAD,EAEtCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MACxD,OAAO,EAAP,CACC11B,MAAO,SADR,cAEE2oC,EAAG,GAAK,CACR3oC,MAAO,UAHT,cAKE2oC,EAAG,GAAK,CACR3oC,MAAO,UANT,cAQE2oC,EAAG,GAAK,CACR3oC,MAAO,UATT,GAgBY6qE,GAAiB,SAACjvE,EAAOsR,EAASV,GAE9C,IAAMuhE,GAAYnyE,EAAMoyE,eAAiBpyE,EAAMqyE,sBAAwB,CACtE9zB,SAAU,OACV/mC,cAAe,QACZ,GAEE4mC,EAAep+C,EAAMqyE,sBAAwB,CAClD/4C,WAAW,OAAD,OAAS1oB,EAAT,yCAA6CU,EAAQ/C,MAAMxJ,gBAAgBmK,OAClF,GAEEmvC,EAAar+C,EAAMqyE,sBAAwB,CAAEp+D,YAAa,QAAW,GAE3E,MAAO,CACNiqD,WAAY,OACZ75D,UAAW,SACXo6C,OAAO,qCACNv5C,OAAQ,UACRD,QAAS,WACTF,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBmK,MAClDlK,aAAc,MACdb,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BjL,SAAU,OACVY,QAAS,IACTiV,OAAQ,KACLo4D,GACA/zB,GAVE,IAWLM,KAAK,eACDL,OClLQ,OAA0B,kCCA1B,OAA0B,yCC+BnCi0B,G,kDAGL,WAAY7yE,EAAO6R,GAAU,IAAD,uBAC3B,cAAM7R,EAAO6R,IAuBd4/B,aAAe,SAAAzX,GACC6B,KAAK6L,MAAM1N,EAAE0X,cAAcC,aAAe3X,EAAE0X,cAAcE,aAAe/V,KAAK6L,MAAM1N,EAAE0X,cAActW,eAElH,EAAKp7B,MAAMq+B,gBAAgB3vB,GAAA,sBA3BD,EA+B5Bs+D,cAAgB,SAAChuC,EAAQunC,EAAQ/0B,GAChC,GAAQxS,IACFtwB,GAAA,8BACJ,EAAKokE,gBAAgBvM,EAAQ/0B,IAlCJ,EAyC5BuhC,iBAAmB,SAAAxM,GAClB,EAAKtiE,SAAS,CAAE0uE,cAAa,OAAEpM,QAAF,IAAEA,OAAF,EAAEA,EAAQtkE,OA1CZ,EA6C5BmmE,kBAAoB,WAAO,IAAD,IAEnBl3D,EAAI,UAAG,EAAKW,eAAR,iBAAG,EAAcmF,YAAjB,aAAG,EAAoB9F,KAC3BjP,EAAM,EAAK1B,MAAMoyE,cAEvB,IAAKzhE,IAASjP,EACb,OAAO,EAGR,EAAKgC,SAAS,CAAE2uE,uBAAuB,IACvCjxE,YAAUqxE,uBAAuB9hE,EAAMjP,GAAKL,MAAK,SAAAwB,GAChD,EAAKa,SAAS,CAAE2uE,uBAAuB,IACvC,EAAK5yE,MAAMq+B,gBAAgB3vB,GAAA,sBAAwCzM,MAEjEU,OAAM,SAAAnB,GACR,EAAKyC,SAAS,CAAE2uE,uBAAuB,EAAOruE,aAAcgS,GAAW0D,UAAU,kBAAmB,EAAKpI,QAAQ2E,gBA5DvF,EAgE5Bs8D,gBAAkB,aAhEU,EAkE5BvF,mBAAqB,SAAAd,GAChB,EAAKl7D,aACW,OAAfk7D,GAAuB,EAAKn/B,GAAGy/B,QAClC,EAAK9oE,SAAS,CAAE6oE,gBAAiBv2D,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,YAE7E,EAAKvS,SAAS,CAAE6oE,gBAAiBv2D,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,cApE7E,EAAKjF,YAAa,EAClB,IAAMyU,EAAanU,EAAQiJ,cAAckL,WACzC,EAAKsnB,GAAKtnB,EAAWwnD,WAAW37D,EAAQ/C,MAAMmB,YAAY,IAE1D,IAAI68D,EAAkBv2D,GAAW0D,UAAU,OAAQpI,EAAQ2E,UAPhC,OAQvB,EAAK82B,GAAGy/B,UACXD,EAAkBv2D,GAAW0D,UAAU,SAAUpI,EAAQ2E,WAG1D,EAAKjW,MAAQ,CACZusE,gBAAiBA,EACjB6F,cAAe,KACfC,uBAAuB,EACvBruE,aAAc,IAhBY,E,wDAoB5B,WACCxE,KAAKwR,YAAa,I,oBAuDnB,WAAU,IH9G8BM,EG8G/B,OAEFohE,EAAU,aAAOlzE,KAAK8R,QAAQigB,cAC9BA,EAAemhD,EACnBvT,QAAO,SAAA6G,GAAM,eAAU,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQtkE,QAAR,UAAgB,EAAKjC,aAArB,iBAAgB,EAAY6pE,oBAA5B,aAAgB,EAA0B5nE,QAC3DwxC,KAAI,SAAA8yB,GACJ,OAAO,YAAC,GAAD,CAA0CsD,aAAc,EAAK7pE,MAAM6pE,aAAchzD,IAAG,OAAE0vD,QAAF,IAAEA,OAAF,EAAEA,EAAQtkE,IAAK+uE,QAAS,EAAK+B,iBAAkBxM,OAAQA,EAAQloC,gBAAiB,EAAK2uC,mBAG9KkG,EAAc,KAClB,GAAGD,EAAW3iE,OAAQ,CAErB,IAAM6iE,EAAepzE,KAAKQ,MAAMqyE,sBAAwBr8D,GAAW0D,UAAU,eAAgBla,KAAK8R,QAAQ2E,UAAYD,GAAW0D,UAAU,WAAYla,KAAK8R,QAAQ2E,UACpK08D,EACC,mBAAK1uE,IAAKgrE,GAAezvE,KAAKQ,MAAOR,KAAK8R,QAASuhE,IAAe9uE,UAAU,4BAC3E,sBAAQjD,KAAK,SAAS6S,QAASnU,KAAKqoE,mBACnC,wBAAO+K,KAMX,OACC,YAAC,IAAMpuE,SAAP,KACC,YAAC,GAAD,CAAmBkP,MAAM,EAAME,QAASpU,KAAKC,MAAM4a,QACnD,mBAAKpW,KAAuBzE,KAAKC,MHvII6R,EGuIG9R,KAAK8R,QHpIzC,aACN8pB,SAAU,QACV1jB,UAAW,QACXtT,MAAO,MACPoN,OAAQ,MACRoB,SAAU,SACV7N,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDkE,SAAU,QACVE,KAAM,MACND,IAAK,MACLuG,UAAW,wBACX1G,OAAQ,OACR2G,OAAQ,SACRnC,UAAW,sEACX3S,aAAc,OACdN,QAAS,SAhBE,oDAiBF,CACRN,MAAO,OACPoN,OAAQ,UGkHgDzN,UAAU,uBAChE,oBAAME,IAAK6qE,GAAgB9uB,GAAWxgD,KAAK8R,SAAUvN,UAAU,eAAe4P,QAASnU,KAAKC,MAAM4a,MAAOZ,MAAOzD,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAC3J,mBAAKhS,IHhGF,CACNgB,QAAS,OACTuM,OAAQ,OACRpN,MAAO,QG6FwBL,UAAU,eACrC,mBAAKE,IAAK6nE,GAAkB91D,GAAWy9B,aAAaj0C,KAAK8R,QAAQ2E,WAAYlS,UAAU,gBAAgBiS,GAAW0D,UAAU,gBAAiBla,KAAK8R,QAAQ2E,WAC1J,mBAAKhS,IAAK65C,GAAgBt+C,KAAK8R,SAAUvN,UAAU,gBAAgBvE,KAAKQ,MAAMgE,cAC9E,mBAAKC,KAAoBzE,KAAK8R,QH7D5B,CACNlN,MAAO,OACPoN,OAAQ,qBACR9M,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,eGuDgCb,UAAU,kBACjD,mBAAKE,IAAK+nE,GAAgBxsE,KAAK8R,SAAUvN,UAAU,mBAClD,mBAAKE,IAAKgoE,GAAgBzsE,KAAKC,MAAOD,KAAK8R,SAAUvN,UAAU,QAC7DvE,KAAKQ,MAAMusE,iBAEb,mBAAKtoE,IAAKkoE,GAAiB3sE,KAAK8R,SAAUvN,UAAU,SAClDiS,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,YAG9C,mBAAKhS,IH9CJ,CACNS,QAAS,OACTC,cAAe,SACfE,eAAgB,aAChBD,WAAY,aACZR,MAAO,OACPoN,OAAQ,qBACRkiC,UAAW,QGuCiB3vC,UAAU,gBAAgB4vC,SAAUn0C,KAAK0xC,cAC9D3f,IAGFohD,S,GA1H4CxyE,IAAMC,WAAnDkyE,GACEhzC,YAAc3qB,GChCf,IAeMm+D,GAAmB,SAAAxhE,GAAY,IAAD,EAEpCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MACxD,OAAO,EAAP,CACC11B,MAAO,sBADR,cAEE2oC,EAAG,GAAK,CACR3oC,MAAO,uBAHT,cAKE2oC,EAAG,GAAK,CACR3oC,MAAO,uBANT,cAQE2oC,EAAG,GAAK,CACR3oC,MAAO,uBATT,GAkCY2uE,GAAuB,SAAAzhE,GAAY,IAAD,EAExCy7B,EAAKz7B,EAAQ/C,MAAMmB,YAAYwjC,KAAI,SAAApZ,GAAC,uBAAcA,MACxD,OAAO,EAAP,CACC11B,MAAO,QACPM,QAAS,OACTG,eAAgB,aAChBD,WAAY,SACZ,KAAQ,CACPV,SAAU,OACVQ,QAAS,QACT00C,aAAc,QARhB,cAUErM,EAAG,GAAK,CACR3oC,MAAO,UAXT,cAaE2oC,EAAG,GAAK,CACR3oC,MAAO,UAdT,cAgBE2oC,EAAG,GAAK,CACR3oC,MAAO,UAjBT,GAuBYisE,GAAoB,SAACC,EAAkBC,EAAgBj/D,GACnE,MAAO,CACN5M,QAAS,OACT,WAAY,CACXA,QAAS,QACTQ,OAAQ,UACR8S,KAAK,OAAD,OAASs4D,EAAT,6BACJvrE,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,oBAClC2wB,WAAY,OACZp6B,QAAS,OAEV,oBAAqB,CACpB+S,KAAK,OAAD,OAASu4D,EAAT,6BACJxrE,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,oBAClCzJ,QAAS,SC5FG,OAA0B,kDCA1B,OAA0B,gDCanC+tE,G,kDAEL,WAAYvzE,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAOd2hE,YAAc,SAAAx5C,GAEb,EAAK/1B,SAAS,EAAKwvE,qBACnB,EAAKzzE,MAAMgxE,QAAQ,EAAKhxE,MAAMumE,SAXH,EAc5BkN,oBAAsB,SAAAlzE,GACrB,MAAO,CACNmzE,YAAanzE,EAAMmzE,aAhBO,EAoB5Br/B,cAAgB,SAAC5gB,EAAOH,GACvB,IACM49C,EADOz9C,EAAMie,cACQy/B,UAK3B,GAHoBD,EAAcruC,aACdquC,EAAch2C,YAGjC,OAAO,EAGJ5H,EACH49C,EAAc58B,aAAa,QAAS48B,EAAcj4B,aAElDi4B,EAAc18B,gBAAgB,UA/B/B,EAAKj0C,MAAQ,CACZmzE,YAAY,GAJc,E,0CAsC5B,WAAU,IHrD0B7hE,EGqD3B,OACR,OACC,mBAAKrN,KAAmBzE,KAAKC,MHvDK6R,EGuDE9R,KAAK8R,QHtDpC,CACN5M,QAAS,OACTN,MAAO,OACPF,SAAU,OACVe,QAAS,MACTN,cAAe,MACfE,eAAgB,aAChBD,WAAY,SACZwoE,WAAW,aAAD,OAAe97D,EAAQ/C,MAAMc,YAAYV,SACnD80D,YAAY,aAAD,OAAenyD,EAAQ/C,MAAMc,YAAYV,SACpDk+B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,YG6CnD,mBAAK1K,IAAK6uE,GAAiBtzE,KAAK8R,SAAUvN,UAAU,aAAaywC,aAAc,SAAAthB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,IAAOuhB,aAAc,SAAAvhB,GAAK,OAAI,EAAK4gB,cAAc5gB,GAAO,KACzK,mBAAKjvB,IHxBF,CACNS,QAAS,eACT8P,MAAO,OACPpQ,MAAO,OACPoN,OAAQ,OACRyC,YAAa,OGmBelQ,UAAU,UAClC,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAMumE,SAClC,YAAC,GAAD,CAAuBzxD,OAAQ/U,KAAKC,MAAMumE,OAAOzxD,UAElD,mBAAKtQ,IHlBF,CACN6V,OAAQ,OACR1V,MAAO,oBACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,UGacpgC,UAAU,QAC/BvE,KAAKC,MAAMumE,OAAO9iE,OAGrB,mBAAKe,IAAK8uE,GAAqBvzE,KAAK8R,SAAUvN,UAAU,aACvD,wBAAOvE,KAAK8R,QAAQye,MAAMvwB,KAAKC,MAAMumE,OAAO/0B,QAC5C,qBAAOhtC,IAAKosE,GAAkBQ,GAAcC,GAAYtxE,KAAK8R,SAAUxQ,KAAK,QAAQoC,KAAK,oBAAoButE,QAASjxE,KAAKQ,MAAMywE,QAASxgC,GAAIzwC,KAAKC,MAAMumE,OAAOtkE,IAAM,MAAO++C,SAAUjhD,KAAKyzE,cAC5L,qBAAOlC,QAASvxE,KAAKC,MAAMumE,OAAOtkE,IAAM,OAAxC,c,GAvDkDvB,IAAMC,WAAvD4yE,GACE1zC,YAAc3qB,GCdf,IAAMy+D,GAAmB,SAAC3zE,EAAOO,GAAW,IAAD,EAE7C0S,EAAc,GACkB,IAAhCjT,EAAMktC,QAAQ78B,OAAOC,SAEvB2C,EADG1S,EAAMqzE,kBAAoBrzE,EAAMszE,kBACrB,CACblG,WAAW,aAAD,OAAe3tE,EAAM8O,MAAMc,YAAYV,SACjDk+B,aAAa,aAAD,OAAeptC,EAAM8O,MAAMc,YAAYV,UAGtC,CACby+D,WAAW,aAAD,OAAe3tE,EAAM8O,MAAMc,YAAYV,SACjD80D,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClDk+B,aAAa,aAAD,OAAeptC,EAAM8O,MAAMc,YAAYV,WAKtD,IAAMo+B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAErB6jE,EAAsBvzE,EAAMszE,mBAAqBtzE,EAAMqzE,kBAAlC,GACpBjvE,MAAO,sBADa,+BAET2oC,EAAG,GAFM,aAECA,EAAG,IAAO,CAC3B3oC,MAAO,SAHS,+BAKT2oC,EAAG,GALM,aAKCA,EAAG,IAAO,CAC3B3oC,MAAO,IACPM,QAAS,SAPO,GASpB,CACAN,MAAO,QAGd,OAAO,qCACNM,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsG,UAAW,aACXzE,SAAU,WACV7E,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,aACxBkE,GACA6gE,GARJ,IASC,IAAK,CACJz7D,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,sBAAuB,CACtBpK,MAAO,MACPoN,OAAQ,OAET,4BAA6B,CAC5B8nB,WAAY,aAEb,4BAA6B,CAC5BA,WAAY,OACZ,UAAW,CACVA,WAAY,aAOJk6C,GAAqB,SAAC/zE,GAE/B,IAAMiT,EAA+C,IAAhCjT,EAAMktC,QAAQ78B,OAAOC,OAAgB,CACtD0zD,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClDk+B,aAAa,aAAD,OAAeptC,EAAM8O,MAAMc,YAAYV,UACnD,GAEEo+B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,yBACH8E,MAAO,QACP44D,WAAW,aAAD,OAAe3tE,EAAM8O,MAAMc,YAAYV,SACjD6C,OAAQ,OACRpN,MAAO,QACPM,QAAS,OACTC,cAAe,SACfwmD,MAAO,KACJz4C,GARP,mCASeq6B,EAAG,GATlB,aASyBA,EAAG,GAT5B,aASmCA,EAAG,GATtC,aAS6CA,EAAG,IAAO,CAC/C15B,SAAU,qBACViH,MAAO,cACPhH,IAAK,IACLwlB,OAAQ,IACR10B,MAAO,iBACP+O,OAAQ,IACRpO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,WA2D/CskE,GAAsC,SAAAh0E,GAElD,MAAO,CACNwF,QAAS,SACT48C,KAAM,IACNx9C,UAAW,SACXqvE,WAAY,2BACZvvC,WAAY,SACZvxB,SAAU,SACVsxB,aAAc,WACd//B,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAMgL,SC3GxBwkE,G,kDAGL,WAAYl0E,GAAQ,IAAD,8BAElB,cAAMA,IAsHPm0E,0BAA4B,WAC3B,EAAKriE,aACHyD,mBAAmBkT,+BACnB7mB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM4zE,2BAC3B,EAAKlwE,SAAS,CAAEkwE,0BAA2B/wE,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAM4zE,2BACd,EAAKlwE,SAAS,CAAEkwE,2BAA2B,QArI5B,EA0InBC,yBAA2B,WAC1B,EAAKtiE,aACHyD,mBAAmB6S,8BACnBxmB,MAAK,SAAAwB,GAIDA,IAAa,EAAK7C,MAAM6zE,0BAC3B,EAAKnwE,SAAS,CAAEmwE,yBAA0BhxE,OAG3CT,OAAM,SAAAnB,IACsC,IAAxC,EAAKjB,MAAM6zE,0BACd,EAAKnwE,SAAS,CAAEmwE,0BAA0B,QAvJ3B,EA4JnBC,6BAA+B,WAC9B,EAAKviE,aACHyD,mBAAmBqU,wBACnBhoB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM8zE,8BAC3B,EAAKpwE,SAAS,CAAEowE,6BAA8BjxE,OAG/CT,OAAM,SAAAnB,IAC0C,IAA5C,EAAKjB,MAAM8zE,8BACd,EAAKpwE,SAAS,CAAEowE,8BAA8B,QAtK/B,EA2KnBC,0BAA4B,WAC3B,EAAKxiE,aACHyD,mBAAmBuU,qBACnBloB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM+zE,2BAC3B,EAAKrwE,SAAS,CAAEqwE,0BAA2BlxE,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAM+zE,2BACd,EAAKrwE,SAAS,CAAEqwE,2BAA2B,QArL5B,EA0LnB7+B,0BAA4B,WAC3B,EAAK3jC,aACHyD,mBAAmBqT,+BACnBhnB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMk1C,2BAC3B,EAAKxxC,SAAS,CAAEwxC,0BAA2BryC,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAMk1C,2BACd,EAAKxxC,SAAS,CAAEwxC,2BAA2B,QApM5B,EAyMnB3jC,WAAa,WACZ,OAAI,EAAK9R,MAAMktC,QAAQ58B,OACf,EAAKuB,QAEL,EAAK0gC,mBAAmBhyC,OA7Md,EAiNnBwjC,cAAgB,SAAC/E,EAAQu9B,EAAU1lD,EAAK7F,EAAOk+B,GAE9C,OAAQlQ,GAEP,KAAKtwB,GAAA,wBACL,KAAKA,GAAA,iBAEa6tD,EAAS,GACb5M,gBACX,EAAK4kB,iBAAiBhY,IAEtB,EAAKlG,kBAAkBkG,GACvB,EAAKiY,cAAcjY,IAGpBz8B,GAAaM,KAAK1xB,GAAgB9F,MAAhB,iBAA2C,EAAKkJ,cAEnE,MACD,KAAKpD,GAAA,aAAgC,IAAD,EACF,EAAjC,aAAI,EAAK1O,aAAT,OAAI,EAAYq+B,gBACf,YAAKr+B,aAAL,SAAYq+B,gBAAgBW,EAAQu9B,GAGrC,MAED,KAAK7tD,GAAA,iBACJ,EAAK8lE,cAAcjY,GACnB,MAED,KAAK7tD,GAAA,aACJ,EAAK+lE,YAAYlY,GACjB1vB,GAAe6nC,eAAe,oBAA9B,eAAwDnY,EAAS,KAEjE,MACD,KAAK7tD,GAAA,yBACJ,EAAK+lE,YAAYlY,GACjB,MACD,KAAK7tD,GAAA,0BACJ,EAAKimE,eAAepY,GACpB,MACD,KAAK7tD,GAAA,kBACJ,EAAKimE,eAAepY,GAEpB,EAAKqY,4BAA4B/9D,EAAK,QACtC,MAED,KAAKnI,GAAA,mBACJ,EAAKmmE,eAAetY,GAEpB,EAAKqY,4BAA4BrY,EAAS,GAAI,UAC9C,MAED,KAAK7tD,GAAA,iBACJ,EAAKomE,gBAAgBvY,GACrB,MACD,KAAK7tD,GAAA,uBACJ,EAAKqmE,iCAAiCxY,GACtC,MACD,KAAK7tD,GAAA,oBACJ,EAAKsmE,qBACL,MACD,KAAKtmE,GAAA,mBACJ,EAAKumE,iBAAiB1Y,GACtB,MACD,KAAK7tD,GAAA,aACJ,EAAKwmE,mBAAmB3Y,GACxB,MACD,KAAK7tD,GAAA,sBACJ,EAAKymE,gBAAe,GACpB,MACD,KAAKzmE,GAAA,eACJ,EAAKoS,cAAcy7C,GACnB,MACD,KAAK7tD,GAAA,aACJ,EAAK0O,YAAYm/C,GACjB,MACD,KAAK7tD,GAAA,eACJ,EAAK0mE,cAAc7Y,GACnB,MACD,KAAK7tD,GAAA,mBACJ,EAAK2mE,mBACL,MACD,KAAK3mE,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACJ,EAAK23D,aAAarnC,EAAQu9B,EAAUvrD,EAAOk+B,GAC3C,MACD,KAAKxgC,EACL,KAAKA,GACL,KAAKA,EACL,KAAKA,EACJ,EAAK4mE,kBAAkB/Y,GACvB,MACD,KAAK7tD,GAAA,oBACJ,EAAK6mE,wBAAwBhZ,GAC7B,MACD,KAAK7tD,GAAA,oBACJ,EAAK8mE,YACL,MACD,KAAK9mE,GAAA,oBACJ,EAAK+mE,YACL,MACD,KAAK/mE,GAAA,YACL,KAAKA,GAAA,mBACL,KAAKA,GAAA,kBACJ,EAAKgnE,mBACL,MACD,KAAKhnE,GAAA,eACJ,EAAKgnE,mBACL,EAAK11E,MAAMq+B,gBAAgBW,GAC3B,MACD,KAAKtwB,GAAA,mBACJ,EAAKinE,gBAAe,GACpB,MACD,KAAKjnE,GAAA,mBACJ,EAAKinE,gBAAe,GACpB,MACD,KAAKjnE,EACJ,EAAKknE,qBAAqBrZ,GAC1B,MACD,KAAK7tD,GAAA,iBACJ,EAAKs8C,eAAeuR,GACpB,MACD,KAAK7tD,GAAA,uBACL,KAAKA,GAAA,iBACL,KAAKA,GAAA,eACL,KAAKA,GAAA,oBACL,KAAKA,GAAA,uBACL,KAAKA,GAAA,wBACL,KAAKA,GAAA,uBACL,KAAKA,GAAA,oBACL,KAAKA,GAAA,uBACL,KAAKA,GAAA,kBACL,KAAKA,GAAA,kBACJ,MACD,KAAKA,GAAA,iBAEJ,GAAI8B,OAAOC,KAAK,EAAKzQ,MAAM6hC,gBAAgBvxB,OAC1C,EAAKtQ,MAAMq+B,gBAAgBW,EAAQu9B,OAC7B,CACN,IAAMxoC,EAAY,EAAKjiB,aAAazQ,OAASM,YAAU+yB,YAAYG,WAAa,EAAK/iB,aAAakF,KAAK9F,KAAO,KAC9G,EAAK2kE,sBAAsB5vC,SAASlS,GAGrC,MAED,KAAKrlB,GAAA,sBACJ,EAAKonE,oBAAoBvZ,GACzB,MACD,KAAK7tD,GAAA,wBACJ,EAAKqnE,sBAAsBxZ,GAC3B,MACD,KAAK7tD,GAAA,uBACJ,EAAKsnE,uBACL,MACD,KAAKtnE,GAAA,yBACJ,EAAKunE,yBAAyB1Z,GAC9B,MACD,KAAK7tD,GAAA,2BACJ,EAAKwnE,4BAA4B3Z,GACjC,MACD,KAAK7tD,GAAA,gCACJ,EAAKynE,gCAAgC5Z,GACrC,MACD,KAAK7tD,GAAA,yBACJ,EAAK0nE,0BAA0B7Z,GAC/B,MACD,KAAK7tD,GAAA,wBACJ,EAAK2nE,0BAA0B9Z,GAC/B,MACD,KAAK7tD,GAAA,MACJ,EAAK4nE,aAAaz/D,GAClB,MACD,KAAKnI,GAAA,KACJ,EAAK6nE,mBAAmB1/D,KAnYR,EA0YnBy/D,aAAe,SAAA1hD,GACqC,IAAD,EAAZ,oBAA3B,EAAKH,SAAS3b,WACxB,YAAK2b,gBAAL,SAAe3b,SAAS8b,KA5YP,EAgZnB2hD,mBAAqB,SAAAC,GAC8B,IAAD,EAAZ,oBAA1B,EAAK/hD,SAAS9b,UACxB,YAAK8b,gBAAL,SAAe9b,QAAQ69D,KAlZN,EAsZnBP,yBAA2B,SAAA1Z,GAE1B,IAA6C,IAAzC,EAAKh8D,MAAM4zE,0BACd,OAAO,EAGR,IAAMhY,EAAc,GACpBI,EAAS55B,SAAQ,SAAA8zC,GAChB,IAAMr3C,EAAU,IAAIjxB,KAAS,IAAQ,EAC/B8uD,EAAa,CAClB33B,SAAS,eAAM,EAAKzzB,QAAQmF,MAC5BkoB,WAAY,EAAKrtB,QAAQmF,KAAK9F,KAC9BiuB,aAAcx9B,YAAUgnC,cAAcC,MACtCzF,OAAO,eAAM,EAAK3R,cAClBuN,SAAUp9B,YAAUsuC,gBACpB5uC,KAAMM,YAAU+yB,YAAYwb,kBAC5B9Q,OAAQA,EACRJ,OAAQr9B,YAAU+yB,YAAYmkB,aAC9BR,SAAS,eAAM,EAAK7mB,cACpB8mB,SAAS,eAAMm+B,GACfnlC,UAAU,eAAM,EAAKz/B,QAAQmF,OAG9BmlD,EAAYpvB,KAAKkwB,MAGlB,EAAKuX,cAAcrY,IAhbD,EAmbnB+Z,4BAA8B,SAAA3Z,GAE7B,IAA6C,IAAzC,EAAKh8D,MAAM4zE,0BACd,OAAO,EAGR,IAAMhY,EAAc,GACpBI,EAAS55B,SAAQ,SAAA8zC,GAChB,IAAMr3C,EAAU,IAAIjxB,KAAS,IAAQ,EAC/B8uD,EAAa,CAClB33B,SAAS,eAAM,EAAKzzB,QAAQmF,MAC5BkoB,WAAY,EAAKrtB,QAAQmF,KAAK9F,KAC9BiuB,aAAcx9B,YAAUgnC,cAAcC,MACtCzF,OAAO,eAAM,EAAK3R,cAClBuN,SAAUp9B,YAAUsuC,gBACpB5uC,KAAMM,YAAU+yB,YAAYwb,kBAC5B9Q,OAAQA,EACRJ,OAAQr9B,YAAU+yB,YAAYskB,gBAC9BX,SAAS,eAAM,EAAK7mB,cACpB8mB,SAAS,eAAMm+B,IAGhBta,EAAYpvB,KAAKkwB,MAGlB,EAAKuX,cAAcrY,IA5cD,EA+cnBga,gCAAkC,SAAA5Z,GAEjC,IAA6C,IAAzC,EAAKh8D,MAAM4zE,0BACd,OAAO,EAGR,IAAMhY,EAAc,GACpBI,EAAS55B,SAAQ,SAAA8zC,GAChB,IAAMhsC,EAAWl0B,GAAW0D,UAAUw8D,EAAWjlC,MAAO,EAAKxxC,MAAMka,MAE7DklB,EAAU,IAAIjxB,KAAS,IAAQ,EAC/B8uD,EAAa,CAClB33B,SAAS,eAAM,EAAKzzB,QAAQmF,MAC5BkoB,WAAY,EAAKrtB,QAAQmF,KAAK9F,KAC9BiuB,aAAcx9B,YAAUgnC,cAAcC,MACtCzF,OAAO,eAAM,EAAK3R,cAClBuN,SAAUp9B,YAAUsuC,gBACpB5uC,KAAMM,YAAU+yB,YAAYwb,kBAC5B9Q,OAAQA,EACRJ,OAAQr9B,YAAU+yB,YAAY6jB,qBAC9BF,SAAS,eAAM,EAAK7mB,cACpB8mB,SAAS,eAAMm+B,GACfhsC,SAAUA,GAEX0xB,EAAYpvB,KAAKkwB,MAGlB,EAAKuX,cAAcrY,IA1eD,EA6enBia,0BAA4B,SAAA7Z,GAE3B,IAA6C,IAAzC,EAAKh8D,MAAM4zE,0BACd,OAAO,EAGR,IAAMhY,EAAc,GACpBI,EAAS55B,SAAQ,SAAA8zC,GAChB,IAAMr3C,EAAU,IAAIjxB,KAAS,IAAQ,EAC/B8uD,EAAa,CAClB33B,SAAS,eAAM,EAAKzzB,QAAQmF,MAC5BkoB,WAAY,EAAKrtB,QAAQmF,KAAK9F,KAC9BiuB,aAAcx9B,YAAUgnC,cAAcC,MACtCzF,OAAO,eAAM,EAAK3R,cAClBuN,SAAUp9B,YAAUsuC,gBACpB5uC,KAAMM,YAAU+yB,YAAYwb,kBAC5B9Q,OAAQA,EACRJ,OAAQr9B,YAAU+yB,YAAYokB,cAC9BT,SAAS,eAAM,EAAK7mB,cACpB8mB,SAAS,eAAMm+B,GACfnlC,UAAU,eAAM,EAAKz/B,QAAQmF,OAE9BmlD,EAAYpvB,KAAKkwB,MAGlB,EAAKuX,cAAcrY,IAtgBD,EAygBnBka,0BAA4B,SAAA9Z,GAE3B,IAA6C,IAAzC,EAAKh8D,MAAM4zE,0BACd,OAAO,EAGR,IAAMhY,EAAc,GACpBI,EAAS55B,SAAQ,SAAA8zC,GAChB,IAAMr3C,EAAU,IAAIjxB,KAAS,IAAQ,EAC/B8uD,EAAa,CAClB33B,SAAS,eAAM,EAAKzzB,QAAQmF,MAC5BkoB,WAAY,EAAKrtB,QAAQmF,KAAK9F,KAC9BiuB,aAAcx9B,YAAUgnC,cAAcC,MACtCzF,OAAO,eAAM,EAAK3R,cAClBuN,SAAUp9B,YAAUsuC,gBACpB5uC,KAAMM,YAAU+yB,YAAYwb,kBAC5B9Q,OAAQA,EACRJ,OAAQr9B,YAAU+yB,YAAYqkB,cAC9BV,SAAS,eAAM,EAAK7mB,cACpB8mB,SAAS,eAAMm+B,GACfnlC,UAAU,eAAM,EAAKz/B,QAAQmF,OAE9BmlD,EAAYpvB,KAAKkwB,MAGlB,EAAKuX,cAAcrY,IAliBD,EAqiBnBoZ,wBAA0B,SAAA1wE,GACzB,EAAKZ,SAAS,CAAEyyE,kBAAmB7xE,KAtiBjB,EAyiBnB6wE,iBAAmB,WAClB,IAAIiB,GAAc,EAAKp2E,MAAMqzE,iBAC7B,EAAK3vE,SAAS,CAAE2vE,iBAAkB+C,EAAY9C,mBAAmB,KA3iB/C,EA8iBnBiC,oBAAsB,SAAAc,GACrB,IAAM/xE,EAAO,eAAQ+xE,GACfC,EAAU,eAAQ,EAAK/kE,aAAakF,MAC1C,EAAK/S,SAAS,CACb4vE,mBAAmB,EACnBiD,oBAAqBjyE,EACrBkyE,kBAAmBF,EACnBG,kBAAmB,EAAKllE,aAAazQ,KACrCuyE,kBAAkB,KAtjBD,EA0jBnBmC,sBAAwB,SAAAxZ,GACvB,OAAI,EAAKzqD,aAAazQ,OAAS,EAAKd,MAAMy2E,sBAIrC,EAAKz2E,MAAMy2E,oBAAsBr1E,YAAU+yB,YAAYG,YAAc,EAAK/iB,aAAakF,KAAK9F,OAAS,EAAK3Q,MAAMw2E,kBAAkB7lE,MAAU,EAAK3Q,MAAMy2E,oBAAsBr1E,YAAU+yB,YAAYC,WAAa,EAAK7iB,aAAakF,KAAK/U,MAAQ,EAAK1B,MAAMw2E,kBAAkB90E,WAIjR,EAAKsyE,iBAAiBhY,KAnkBJ,EAskBnByZ,qBAAuB,WACtB,EAAK/xE,SAAS,CAAE4vE,mBAAmB,EAAOD,kBAAkB,KAvkB1C,EA6kBnBgB,4BAA8B,SAAC/vE,EAASm6B,GACvC,IAAqC,IAAjC,EAAKz+B,MAAMszE,mBAA+BhvE,EAAQ2rC,KAAO,EAAKjwC,MAAMu2E,oBAAoBtmC,GAC3F,OAAO,EAGO,WAAXxR,EACH,EAAK/6B,SAAS,CAAE6yE,oBAAoB,eAAMjyE,GAAWgvE,mBAAmB,IAExE,EAAK5vE,SAAS,CAAE6yE,oBAAoB,eAAMjyE,MArlBzB,EAylBnB2qD,mBAAqB,WACpB,IAAItwB,EACAC,EAUJ,OARI,EAAKrtB,aAAazQ,OAASM,YAAU+yB,YAAYC,WACpDuK,EAAa,EAAKptB,aAAakF,KAAK/U,IACpCk9B,EAAex9B,YAAUgnC,cAAcqF,MAC7B,EAAKl8B,aAAazQ,OAASM,YAAU+yB,YAAYG,aAC3DqK,EAAa,EAAKptB,aAAakF,KAAK9F,KACpCiuB,EAAex9B,YAAUgnC,cAAcC,OAGjC,CAAE1J,WAAYA,EAAYC,aAAcA,IArmB7B,EAwmBnBq2C,UAAY,WACX,MAAqC,EAAKhmB,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aACd1wB,EAAO,IAAI9M,YAAUs1E,KAAK/3C,EAAYv9B,YAAU68B,UAAU51B,MAAOu2B,GACvEx9B,YAAUu1E,aAAazoE,GACrB7M,MAAK,SAAAu1E,GAED3mE,OAAOC,KAAK,EAAKzQ,MAAM6hC,gBAAgBvxB,OAC1C,EAAKtQ,MAAMq+B,gBAAgB3vB,GAAA,iBAAmCyoE,IAE9D,EAAKC,gBAAgBl5C,UAAUi5C,GAC/B,EAAK7B,kBAAkB6B,OAGxBx0E,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,uBArnBjB,EAwnBnBb,UAAY,WAIX,GAAI,EAAK3jE,aAAazQ,OAASM,YAAUgnC,cAAcC,MAAvD,CAcA,MAAqC,EAAK4mB,qBAAlCtwB,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,aACd1wB,EAAO,IAAI9M,YAAUs1E,KAAK/3C,EAAYv9B,YAAU68B,UAAU+F,MAAOpF,GACvEx9B,YAAUu1E,aAAazoE,GACrB7M,MAAK,SAAAu1E,GAED3mE,OAAOC,KAAK,EAAKzQ,MAAM6hC,gBAAgBvxB,OAC1C,EAAKtQ,MAAMq+B,gBAAgB3vB,GAAA,iBAAmCyoE,GAE9D,EAAKC,gBAAgBl5C,UAAUi5C,MAGhCx0E,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,0BAzBnC,CAEC,IAAMviD,EAAY,EAAKjiB,aAAazQ,OAASM,YAAU+yB,YAAYG,WAAa,EAAK/iB,aAAakF,KAAK9F,KAAO,KAC1GV,OAAOC,KAAK,EAAKzQ,MAAM6hC,gBAAgBvxB,OAC1C,EAAKtQ,MAAMq+B,gBAAgB3vB,GAAA,kBAAoCqlB,GAE/D,EAAK8hD,sBAAsB33C,UAAUnK,KAloBrB,EAwpBnB4hD,eAAiB,SAAAriD,GAChB,EAAKrvB,SAAS,CAAEozE,aAAc/jD,KAzpBZ,EA4pBnBsiD,qBAAuB,SAAAv4B,GAMtB,GAAIA,EAAS5rC,KAAKpQ,OAASqN,GAAA,2BAA+C,CAEzE,EAAK4uC,aAAeD,EAAS5rC,KAAK4rC,SAClC,EAAKs4B,gBAAe,GAEpB,IAAMhkB,EAAuBjjD,GAAA,uBAC7B4K,YAVoB,WACpB,EAAKq8D,gBAAe,KASKhkB,KAxqBR,EA4qBnB7wC,cAAgB,SAAAjc,GACf,IAAM0rC,EAAY1rC,EAAQ2rC,GAC1B7uC,YAAUmf,cAAcyvB,GACtB3uC,MAAK,SAAA0qC,GAEDA,EAAekE,KAAO,EAAKjwC,MAAM2vD,kBAAkB1f,IACtD,EAAKvsC,SAAS,CAAEisD,kBAAmB,KAGpC,IAAMiM,EAAW,aAAO,EAAK57D,MAAM47D,aAC/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ2rC,MAEzD2rB,EAAY7rD,OAASysD,IAAe,GAAMl4D,EAAQumD,YACrDve,GAAe6nC,eAAe,oBAA9B,eAAwDpoC,IAIzD,EAAKuoC,eAAe,CAACvoC,IACrB,EAAKsoC,4BAA4BtoC,EAAgB,aAEjD3pC,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,uBAhsBjB,EAmsBnBl5D,YAAc,SAAAvY,GACb,EAAKZ,SAAS,CAAEisD,kBAAmBrrD,EAASwrD,aAAc,QApsBxC,EAusBnB+kB,cAAgB,SAAAvwE,GACf,IAAMs3D,EAAW,aAAO,EAAK57D,MAAM47D,aAC/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ2rC,MAC7D,GAAIusB,GAAc,EAAG,CACpB,IAAME,EAAad,EAAYY,GAEzB3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAYp4D,GAEpDs3D,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKurC,eAAexY,GAEpB,EAAKyY,4BAA4BxrC,EAAe,QAE5C+yB,EAAY7rD,OAASysD,IAAe,GAAMl4D,EAAQumD,YACrDve,GAAe6nC,eAAe,oBAA9B,eAAwDtrC,MArtBxC,EA2tBnBqrC,YAAc,SAAAlY,GACb,IAAM13D,EAAU03D,EAAS,GACnBJ,EAAW,aAAO,EAAK57D,MAAM47D,aAE/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAE7zB,MAAQtkC,EAAQskC,OAC9D,GAAI4zB,GAAc,EAAG,CACpB,IAAM3zB,EAAa,eAAQvkC,GAE3Bs3D,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC+yB,EAAYphB,MAAK,SAACnT,EAAGC,GAAJ,OAAUD,EAAE4I,GAAK3I,EAAE2I,MACpC,EAAKvsC,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,MAruBzC,EAyuBnBiZ,mBAAqB,WACpB,EAAK/wE,SAAS,CAAEk4D,YAAa,GAAIjM,kBAAmB,GAAIG,aAAc,KAAMgnB,cAAc,EAAO1pB,eAAgB,OACjH9gB,GAAe6nC,eAAehmE,GAAuC,KA3uBnD,EA8uBnBumE,iBAAmB,SAAA1Y,GAClB,IAAMJ,EAAW,aAAOI,GACxB,EAAKt4D,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,KAhvBxC,EAmvBnBmZ,mBAAqB,SAAAjkC,GACpB,IAAIzc,EAAc,aAAO,EAAKj0B,MAAMi0B,gBACpCA,EAAeuY,KAAKkE,EAAW,IAE/B,EAAKhtC,SAAS,CAAEuwB,eAAgBA,IAEhCqY,GAAe6nC,eAAehmE,GAA8B,CAAE8lB,eAAgBA,KAzvB5D,EA4vBnB8iD,mBAAqB,SAAAvb,GACpB,GAAyC,IAArC,EAAKx7D,MAAMi0B,eAAelkB,OAC7B,OAAO,EAGR,IAAIkkB,EAAc,aAAO,EAAKj0B,MAAMi0B,gBAChC2nC,EAAW,aAAO,EAAK57D,MAAM47D,aAEjC3nC,EAAemO,SAAQ,SAAA40C,GAClBA,EAAcp4C,eAAiBx9B,YAAUgnC,cAAcqF,KACtD,EAAKwpC,iBACRrb,EAAYpvB,KAAKwqC,GACjB,EAAKC,eAAe/Z,kBAAkB8Z,EAAe51E,YAAU+yB,YAAYC,YAElE4iD,EAAcp4C,eAAiBx9B,YAAUgnC,cAAcC,OAC7D,EAAK4uC,iBACRrb,EAAYpvB,KAAKwqC,GACjB,EAAKC,eAAe/Z,kBAAkB8Z,EAAe51E,YAAU+yB,YAAYG,gBAK9E,EAAK5wB,SAAS,CAAEk4D,YAAaA,EAAaJ,eAAgBA,EAAgBvnC,eAAgB,MAlxBxE,EAqxBnB2gD,eAAiB,WAChB,GAAyC,IAArC,EAAK50E,MAAMi0B,eAAelkB,OAC7B,OAAO,EAGR,IAAIkkB,EAAc,aAAO,EAAKj0B,MAAMi0B,gBAChC2nC,EAAW,aAAO,EAAK57D,MAAM47D,aACjCA,EAAcA,EAAYve,OAAOppB,GAEjCqY,GAAe6nC,eAAehmE,GAAuC,IAEjEytD,EAAY7rD,OAAS5B,GAAA,kBACpB,EAAK8oE,gBACR,EAAKA,eAAeha,6BAGrB,EAAK8Z,oBAAmB,IAryBP,EA0yBnBzC,eAAiB,SAAAtY,GAChB,IAAMjwB,EAAiBiwB,EAAS,GAC1Bkb,EAAW,aAAO,EAAKl3E,MAAM47D,aAE/BY,EAAa0a,EAAYppC,WAAU,SAAAxpC,GAAO,OAAIA,EAAQ2rC,KAAOlE,EAAekE,MAChF,GAAIusB,GAAc,EAAG,CACpB,GAAI,EAAKx8D,MAAMk1C,0BACdgiC,EAAYjpC,OAAOuuB,EAAY,OACzB,CACN,IAAIE,EAAU,eAAQwa,EAAY1a,IAC9B3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY3wB,GAElDmrC,EAAYjpC,OAAOuuB,EAAY,EAAG3zB,GAGnC,EAAKnlC,SAAS,CAAEk4D,YAAasb,EAAa1b,gBAAgB,MAzzBzC,EA8zBnBgZ,iCAAmC,SAAAxY,GAClC,IAAMJ,EAAW,uBAAOI,GAAP,aAAoB,EAAKh8D,MAAM47D,cAChD,EAAKl4D,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,KAh0BxC,EAo0BnB+Y,gBAAkB,SAAAvY,GACjB,IAAMJ,EAAW,uBAAOI,GAAP,aAAoB,EAAKh8D,MAAM47D,cAChD,EAAKl4D,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,KAt0BxC,EA00BnByY,cAAgB,SAAA3vE,GACf,IAAI03D,EAAQ,uBAAO,EAAKh8D,MAAM47D,aAAlB,aAAkCt3D,IAC9C,EAAKZ,SAAS,CAAEk4D,YAAaI,EAAUR,gBAAgB,KA50BrC,EAg1BnB4Y,eAAiB,SAAApY,GAChB,EAAKt4D,SAAS,CAAEk4D,YAAaI,EAAUR,gBAAgB,KAj1BrC,EAo1BnBsK,aAAe,SAACrnC,EAAQn6B,EAASmM,EAAOk+B,IAEM,IAAzC,EAAK3uC,MAAM4zE,2BACd,EAAKK,cAAc,CAAC3vE,IAGrB,EAAK7E,MAAMq+B,gBAAgBW,EAAQn6B,EAASmM,EAAOk+B,IA11BjC,EA61BnBomC,kBAAoB,SAAAzwE,GAEnB,IAA4C,IAAxC,EAAKtE,MAAM6zE,yBACd,OAAO,EAGR,EAAKI,cAAc,CAAC3vE,KAn2BF,EAs2BnB0vE,iBAAmB,SAAAhY,GAClB,IAAMmb,EAAkBnb,EAAS,GAE7BJ,EAAW,aAAO,EAAK57D,MAAM47D,aAC7BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAOknC,EAAgB/nB,mBACrE,GAAIoN,GAAc,EAAG,CACpB,IAAME,EAAad,EAAYY,GAC3B3R,EAAa6R,EAAWvsD,eAAe,cAAgBusD,EAAW7R,WAAa,EACnFA,GAA0B,EAC1B,IAAMhiB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY,CAAE7R,WAAYA,IAElE+Q,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKnlC,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,MAl3BzC,EAs3BnB1F,kBAAoB,SAAAkG,GACnB,IAAM13D,EAAU03D,EAAS,GACzB,GAAI13D,EAAQs+B,OAAOlhC,MAAQ,EAAKuvB,aAAavvB,KAAO4C,EAAQk6B,WAAap9B,YAAUm0C,gBAClF,OAAO,EAMR,EAAKhkC,aACHyD,mBAAmB4Y,wBACnBvsB,MAAK,SAAAwB,GACL,IAAiB,IAAbA,EAAmB,CACtB,IAAMkzD,EAAiBtvB,GAA8BniC,EAAS,eAC1DyxD,IAA6D,IAA3CA,EAAe5lD,eAAe,SACnD,EAAKzM,SAAS,CAAEosD,aAAcxrD,IAE9B,EAAKZ,SAAS,CAAEosD,aAAc,YAv4BhB,EA64BnBglB,iBAAmB,WAClB,EAAKpxE,SAAS,CAAEisD,kBAAmB,MA94BjB,EAi5BnBlF,eAAiB,SAAAnmD,GAChB,EAAKZ,SAAS,CAAE0pD,eAAgB9oD,IAE5B,EAAK8yE,aACR,EAAKA,YAAY3mB,qBAj5BlBrvD,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,sBAEnC,EAAK/1E,MAAQ,CACZ47D,YAAa,GACbJ,gBAAgB,EAChB7L,kBAAmB,GACnBG,aAAc,KACdgnB,cAAc,EACd1pB,eAAgB,KAChBn5B,eAAgB,GAChBo/C,kBAAkB,EAClBC,mBAAmB,EACnBmD,kBAAmB,KACnBD,kBAAmB,GACnBD,oBAAqB,GACrBJ,mBAAmB,EACnBvC,2BAA2B,EAC3BC,0BAA0B,EAC1BC,8BAA8B,EAC9BC,2BAA2B,EAC3B7+B,2BAA2B,GAG5B,EAAKlD,mBAAqB7xC,IAAMyD,YAChC,EAAKwzE,YAAcj3E,IAAMyD,YACzB,EAAKqzE,eAAiB92E,IAAMyD,YAC5B,EAAKizE,gBAAkB12E,IAAMyD,YAC7B,EAAK0xE,sBAAwBn1E,IAAMyD,YACnC,EAAKswB,SAAW/zB,IAAMyD,YAEtB,EAAKm5C,aAAe,QApCF,E,qDAuCnB,WAGCv9C,KAAKsB,KAAOtB,KAAK+R,aAAazQ,KAC9BtB,KAAKiX,KAAOjX,KAAK+R,aAAakF,KAE9BjX,KAAKo0E,4BACLp0E,KAAKq0E,2BACLr0E,KAAKs0E,+BACLt0E,KAAKu0E,4BACLv0E,KAAK01C,8B,gCAGN,SAAmB1iC,EAAWw/C,GAAY,IAAD,OAExC,GAAI/hD,OAAOC,KAAK1Q,KAAKiX,MAAM1G,OAAQ,EAeJ,IAdF,WAC3B,IAAIujB,GAAS,EAUb,OARI,EAAK/hB,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAc,EAAK7iB,aAAakF,KAAK/U,MAAQ,EAAK+U,KAAK/U,KAAO,EAAK6P,aAAakF,KAAKm8B,cAAgB,EAAKn8B,KAAKm8B,aAEzJ,EAAKrhC,aAAazQ,OAASM,YAAU+yB,YAAYG,YAAc,EAAK/iB,aAAakF,KAAK9F,OAAS,EAAK8F,KAAK9F,MAEzG,EAAK7P,OAAS,EAAKyQ,aAAazQ,QAD1CwyB,GAAS,GAFTA,GAAS,EAOHA,EAGJqqC,IACHn+D,KAAKkE,SAAS,CAAEk4D,YAAa,GAAIJ,gBAAgB,EAAM7L,kBAAmB,GAAI2jB,mBAAmB,EAAOD,kBAAkB,EAAOp/C,eAAgB,KAgBnJ,GAZAz0B,KAAKsB,KAAOtB,KAAK+R,aAAazQ,KAC9BtB,KAAKiX,KAAOjX,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,WAAahzB,YAAU+yB,YAAYG,WAAa90B,KAAK+R,aAAakF,KAAO,GAEtIjX,KAAKo0E,4BACLp0E,KAAKq0E,2BACLr0E,KAAKs0E,+BACLt0E,KAAKu0E,4BACLv0E,KAAK01C,4BAKDjlC,OAAOC,KAAK1Q,KAAKC,MAAM6hC,gBAAgBvxB,OAAQ,CAClD,GACCE,OAAOC,KAAK1Q,KAAK+R,aAAa4hB,yBAAyBpjB,QACvDvQ,KAAK+R,aAAa6hB,8BAA8BtjB,OAAOC,SACtDvQ,KAAK+R,aAAa4hB,0BAA4B3zB,KAAK2zB,yBAA2B3zB,KAAK+R,aAAa6hB,gCAAkC5zB,KAAK4zB,+BACvI,CACD,IAAMkS,EAAgB9lC,KAAK+R,aAAa4hB,wBAGxC,OAFsB3zB,KAAK+R,aAAa6hB,8BAA8BtjB,QAGrE,KAAK3B,GAAA,iBACJ3O,KAAKy0E,cAAc3uC,GACnB,MACD,KAAKn3B,GAAA,aACL,KAAKA,GAAA,yBACJ3O,KAAK00E,YAAY5uC,GAEjBgH,GAAe6nC,eAAe,oBAA9B,eAAwD7uC,EAAc,KACtEvsB,YAAW,WACV,EAAKxH,aAAa0hB,2BAA2B,GAAI,MAC/C,MASNzzB,KAAK2zB,wBAA0B3zB,KAAK+R,aAAa4hB,wBACjD3zB,KAAK4zB,8BAAgC5zB,KAAK+R,aAAa6hB,8BAA8BtjB,U,oBAqyBvF,WAAU,IAAD,aAIR,GAAyC,IAArCtQ,KAAKC,MAAMktC,QAAQ78B,OAAOC,QAA0D,IAA1CvQ,KAAKC,MAAMqkE,aAAah0D,OAAOC,QAA2D,IAA3CvQ,KAAKC,MAAMyyE,cAAcpiE,OAAOC,OAC5H,OACC,YAAC,GAAD,CAA0BgD,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,GAAKuhB,WAAYpmB,GAAA,mBAAuCtN,KAAMrB,KAAKC,MAAMqkE,aAAcrzD,MAAOjR,KAAKC,MAAMyyE,eACxK,yBAGI,GAAI1yE,KAAKC,MAAMktC,QAAQ78B,OAAOC,QAAyD,IAA/CE,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,OAClF,OAAO,KAGR,IDj2BoCtQ,ECi2BhC43E,EAAc,KACdzb,EACH,YAAC,GAAD,CACC7oD,IAAK,SAAAC,GACJ,EAAKikE,eAAiBjkE,GAEvB2G,KAAMna,KAAKC,MAAMka,KACjBqiD,SAAUx8D,KAAKQ,MAAM47D,YACrBJ,eAAgBh8D,KAAKQ,MAAMw7D,eAC3B19B,gBAAiBt+B,KAAKgkC,gBAGpB8zC,EACH,YAAC,GAAD,CACCvkE,IAAK,SAAAC,GACJ,EAAKokE,YAAcpkE,GAEpB28C,kBAAmBnwD,KAAKQ,MAAM2vD,kBAC9BG,aAActwD,KAAKQ,MAAM8vD,aACzBhT,SAAUt9C,KAAKu9C,aACfqQ,eAAgB5tD,KAAKQ,MAAMotD,eAC3BtvB,gBAAiBt+B,KAAKgkC,gBAGpB+zC,EAAsB,KAC1B,GAAI/3E,KAAKQ,MAAMi0B,eAAelkB,OAAQ,CACrC,IAAM0+B,EAAqBjvC,KAAKQ,MAAMi0B,eAAelkB,OAC/CwmC,EAAc9H,EAAqB,EAArB,UAA4BA,EAA5B,YAAkDz4B,GAAW0D,UAAU,eAAgBla,KAAKC,MAAMka,OAAlG,UAA+G80B,EAA/G,YAAqIz4B,GAAW0D,UAAU,cAAela,KAAKC,MAAMka,OACxM49D,EACC,mBAAKtzE,ID14BE,CACHqP,IAAK,OACLD,SAAU,WACVjP,MAAO,OACPkW,MAAO,OACP/G,KAAM,MACNO,WAAY,MACZX,OAAQ,MACR0G,UAAW,oBCk4BkB9V,UAAU,qBAC1C,mBAAKE,KD/3B4BxE,EC+3BAD,KAAKC,MD73BnC,CACNgY,aAAc,IACd/S,QAAS,QACTR,SAAU,OACV29C,KAAM,IACNvoB,WAAW,GAAD,OAAK75B,EAAM8O,MAAMpK,MAAM+K,MACjClK,aAAc,MACdmO,OAAQ,MCs3ByCpP,UAAU,wBACvD,mBAAKE,IDj3BA,CACHuN,OAAQ,OACRxM,aAAc,OACdN,QAAS,OACTm9C,KAAM,IACNj9C,WAAY,UC42B4Bb,UAAU,sCAAsC0V,MAAOzD,GAAW0D,UAAU,OAAQla,KAAKC,MAAMka,OACxI,sBAAQ7Y,KAAK,SAASmD,IAAKwvE,GAAoCj0E,KAAKC,OAAQsE,UAAU,mCAAmC4P,QAASnU,KAAKo1E,gBACtI,oBAAM3wE,ID11BH,CACHoP,SAAU,WACV3O,QAAS,cACT8M,OAAQ,OACR5M,WAAY,SACZC,eAAgB,SAChBu0C,aAAc,OCo1BmBr1C,UAAU,oBAA3C,SACU,KAETwyC,QASF,UAAA/2C,KAAK+R,oBAAL,eAAmBzQ,QAASM,YAAU+yB,YAAYC,YAAyD,IAA5C50B,KAAKQ,MAAM8zE,+BAA4C,UAAAt0E,KAAK+R,oBAAL,eAAmBzQ,QAASM,YAAU+yB,YAAYG,aAAuD,IAAzC90B,KAAKQ,MAAM+zE,6BACrMuD,EAAkB,OAGf,UAAA93E,KAAK+R,oBAAL,eAAmBzQ,QAASM,YAAUgnC,cAAcqF,MAAQx9B,OAAOC,KAAK1Q,KAAK+R,aAAakF,MAAM1G,QAAUvQ,KAAK+R,aAAakF,KAAKm8B,cACpI0kC,EAAkB,KAClB1b,EAAc,KACdyb,EAAc,YAAC,GAAD,CAAsBx2E,KAAMrB,KAAKiX,QAGhD,IAAI+gE,EAAmB,KACnBh4E,KAAKQ,MAAM82E,eACdU,EACC,mBAAKvzE,IDv7BE,CACHoP,SAAU,WACVjP,MAAO,OACPoN,OAAQ,OACR8B,IAAK,IACLgH,MAAO,IACPnH,OAAQ,IACRzO,QAAS,OACTG,eAAgB,OAChBD,WAAY,WC+6Bf,YAAC,GAAD,CAAwBk4C,SAAUt9C,KAAKu9C,aAAcxuC,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,SAQlG,IAAI89D,EAAmB,KACnBC,EAAyB,KACY,IAArCl4E,KAAKC,MAAMktC,QAAQ78B,OAAOC,SAC7B0nE,EAAmB,YAAC,GAAD,CAAuB35C,gBAAiBt+B,KAAKgkC,gBAEhEk0C,EAAyB,YAAC,GAAD,CAA6B55C,gBAAiBt+B,KAAKgkC,iBAI7E,IAAIm0C,EAAyB,KACzBC,EAAmB,KAC+B,IAAlD3nE,OAAOC,KAAK1Q,KAAKC,MAAM6hC,gBAAgBvxB,SAC1C6nE,EAAmB,YAAC,GAAD,CAAuB7kE,IAAK,SAAAC,GAAE,OAAK,EAAK6jE,gBAAkB7jE,GAAK2G,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,gBAC/Hm0C,EAAyB,YAAC,GAAD,CAA6B5kE,IAAK,SAAAC,GAAE,OAAK,EAAKsiE,sBAAwBtiE,GAAK2G,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,iBAGlJ,IAAIq0C,EAAe,KACfr4E,KAAKQ,MAAMqzE,mBACV7zE,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYC,UACpDyjD,EACC,mBAAK5zE,IAAKuvE,GAAmBh0E,KAAKC,OAAQsE,UAAU,wBACnD,YAAC,GAAD,CAAsB4V,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,iBAG3DhkC,KAAK+R,aAAazQ,OAASM,YAAU+yB,YAAYG,aAC3DujD,EACC,mBAAK5zE,IAAKuvE,GAAmBh0E,KAAKC,OAAQsE,UAAU,wBACnD,YAAC,GAAD,CAAuB4V,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,mBAMxE,IAAIs0C,EAAoB,KACpBt4E,KAAKQ,MAAMszE,oBACdwE,EACC,mBAAK7zE,IAAKuvE,GAAmBh0E,KAAKC,OAAQsE,UAAU,wBACnD,YAAC,GAAD,CAAwBg0E,UAAWv4E,KAAKQ,MAAM+3E,UAAWC,WAAYx4E,KAAKQ,MAAMw2E,kBAAmByB,WAAYz4E,KAAKQ,MAAMy2E,kBAAmBJ,cAAe72E,KAAKQ,MAAMu2E,oBAAqBtlD,aAAczxB,KAAKyxB,aAAc6M,gBAAiBt+B,KAAKgkC,kBAKtP,IAAI00C,EAAoB,KACpB14E,KAAKQ,MAAMm2E,oBACd+B,EAAoB,YAAC,GAAD,CAAsB79D,MAAO,kBAAM,EAAK26D,yBAAwB,IAAQ1wE,QAAS9E,KAAKQ,MAAMm2E,qBAGjH,IAAIgC,EACH,YAAC,IAAM3zE,SAAP,KACC,mBAAKP,IAAKmvE,GAAiB5zE,KAAKC,MAAOD,KAAKQ,OAAQ+D,UAAU,aAAayvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OAClH,YAAC,GAAD,CAAwBA,KAAMna,KAAKC,MAAMka,KAAM+8C,QAASl3D,KAAKC,MAAMi3D,QAAS0f,YAAsC,IAA1B52E,KAAKC,MAAM22E,WAAqCt4C,gBAAiBt+B,KAAKgkC,gBAC7Jo4B,EACA4b,EACAF,EACAD,EACAE,GAEF,YAAC,GAAD,CAA4BxkE,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,OAC7Eu+D,EACAL,EACAC,EACAL,EACAG,EACAF,EACAC,GAICS,EAAiBD,EAYrB,OARyC,IAArC34E,KAAKC,MAAMktC,QAAQ78B,OAAOC,SAC7BqoE,EACC,YAAC,GAAD,CAA0BrlE,IAAK,SAAAC,GAAE,OAAK,EAAKg/B,mBAAqBh/B,GAAKnS,KAAMrB,KAAKC,MAAMqkE,aAAcrzD,MAAOjR,KAAKC,MAAMyyE,cAAej8D,SAAUzW,KAAKC,MAAMka,MACzJ,mBAAK1V,ID37BC,CACHS,QAAS,OACTN,MAAO,OACPoN,OAAQ,SCw7BsB2mE,KAK7BC,M,GA7jCuBj4E,IAAMkF,eAAhCsuE,GACEr0C,YAAc3qB,GAikCtBg/D,GAAkB1gE,aAAe,CAChC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPo+B,QAAS,GACTrL,eAAgB,GAChBwiC,aAAc,GACdoO,cAAe,ICznCT,IAeMzS,GAAc,SAAAnuD,GAE1B,MAAO,CACNrM,QAAS,OACTb,MAAO,OACPW,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDgE,OAAQ,IACR05B,aAAa,aAAD,OAAev7B,EAAQ/C,MAAMc,YAAYV,SACrD6C,OAAQ,QACR9M,QAAS,SA+CEg7D,GAAmB,SAAC9uD,EAAKU,GAElC,MAAO,CACHpM,OAAQ,UACRd,MAAO,OACPoN,OAAQ,OACRwG,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,gBA6B7B4pE,GAAqB,SAAC/zE,GAE/B,IAAMm9B,EAAqC,WAAxBn9B,EAAQ0rD,YAA4B,CACnDnrD,eAAgB,YAChB,CACAA,eAAgB,cAGpB,OAAO,yBACHI,QAAS,YACTP,QAAS,OACTE,WAAY,UACT68B,GAJP,IAKI,6DAA8D,CAC1DjoB,SAAU,OACV,UAAW,CACP,oBAAqB,CACjB9U,QAAS,UAIrB,cAAe,CACXA,QAAS,WAKR4zE,GAAwB,SAAAhnE,GAEpC,MAAO,CACN5M,QAAS,OACTE,WAAY,SACZyO,SAAU,WACVyG,OAAQ,WACRtI,OAAQ,OACR+mE,GAAI,CACH12B,KAAM,IACN/nC,OAAQ,YACR+/B,UAAU,aAAD,OAAevoC,EAAQ/C,MAAMc,YAAYV,YCjJtC,OAA0B,kCCiDnC6pE,G,kDAIL,WAAY/4E,GAAQ,IAAD,8BAClB,cAAMA,IAJPwxB,aAAe,KAGI,EA8CnB6iD,6BAA+B,WAC9B,EAAKxiE,QAAQ0D,mBAAmBqU,wBAC9BhoB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM8zE,8BAC3B,EAAKpwE,SAAS,CAAEowE,6BAA8BjxE,OAG/CT,OAAM,SAAAnB,IAC0C,IAA5C,EAAKjB,MAAM8zE,8BACd,EAAKpwE,SAAS,CAAEowE,8BAA8B,QAvD/B,EA4DnBC,0BAA4B,WAC3B,EAAKziE,QAAQ0D,mBAAmBuU,qBAC9BloB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAM+zE,2BAC3B,EAAKrwE,SAAS,CAAEqwE,0BAA2BlxE,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAM+zE,2BACd,EAAKrwE,SAAS,CAAEqwE,2BAA2B,QArE5B,EA0EnB7+B,0BAA4B,WAC3B,EAAK5jC,QAAQ0D,mBAAmBqT,+BAC9BhnB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMk1C,2BAC3B,EAAKxxC,SAAS,CAAEwxC,0BAA2BryC,OAG5CT,OAAM,SAAAnB,IACuC,IAAzC,EAAKjB,MAAMk1C,2BACd,EAAKxxC,SAAS,CAAEwxC,2BAA2B,QAnF5B,EAwFnB6gC,aAAe,SAAA1hD,GACd,EAAKH,SAAS3b,SAAS8b,IAzFL,EA4FnBokD,oBAAsB,SAAAn0E,GAGrB,GAFmB,eAAQ,EAAK7E,MAAM42E,eAEpBpmC,KAAO3rC,EAAQ2rC,GAAI,CACpC,IAAMpH,EAAa,eAAQvkC,GAC3B,EAAKZ,SAAS,CAAE2yE,cAAextC,MAjGd,EAqGnBrF,cAAgB,SAAC/E,EAAQu9B,GACxB,OAAQv9B,GACP,KAAKtwB,GAAA,wBACL,KAAKA,GAAA,iBAEH,IAAM7J,EAAU03D,EAAS,GACzB,GAAI13D,EAAQ6L,eAAe,oBAAsB7L,EAAQ8qD,kBAAoB,EAAKpvD,MAAMq2E,cAAcpmC,GAAI,CACzG,IACMyoC,GADa,EAAK14E,MAAMq2E,cAAclmE,eAAe,cAAgB,EAAKnQ,MAAMq2E,cAAcxrB,WAAa,GAC9E,EAE/B6R,EAAU,eAAQ,EAAK18D,MAAMq2E,eAC7BxtC,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY,CAAE7R,WAAY6tB,IAChE,EAAKh1E,SAAS,CAAE2yE,cAAextC,IAE/B,EAAKitB,kBAAkBkG,GACvB,EAAKiY,cAAcjY,GAGrB,MACD,KAAK7tD,GAAA,iBAEH,IACMuqE,GADa,EAAK14E,MAAMq2E,cAAclmE,eAAe,cAAgB,EAAKnQ,MAAMq2E,cAAcxrB,WAAa,GAC9E,EAE/B6R,EAAU,eAAQ,EAAK18D,MAAMq2E,eAC7BxtC,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY,CAAE7R,WAAY6tB,IAChE,EAAKh1E,SAAS,CAAE2yE,cAAextC,IAE/B,EAAKorC,cAAcjY,GACnB,EAAKv8D,MAAMq+B,gBAAgB3vB,GAAA,wBAA0C6tD,GAEtE,MACD,KAAK7tD,GAAA,aACL,KAAKA,GAAA,yBACJ,EAAK+lE,YAAYlY,GACjB,EAAKv8D,MAAMq+B,gBAAgBW,EAAQu9B,GACnC,MACD,KAAK7tD,GAAA,0BAGL,KAAKA,GAAA,kBACJ,EAAKimE,eAAepY,GACpB,MACD,IAAK,iBACJ,EAAKuY,gBAAgBvY,GACrB,MACD,KAAK7tD,GAAA,uBACJ,EAAKqmE,iCAAiCxY,GACtC,MACD,KAAK7tD,GAAA,mBACJ,EAAKmmE,eAAetY,GACpB,MACD,KAAK7tD,GAAA,aACJ,EAAK0O,YAAYm/C,GACjB,MACD,KAAK7tD,GAAA,eACJ,EAAK0mE,cAAc7Y,GACnB,MACD,KAAK7tD,GAAA,mBACJ,EAAK2mE,mBACL,MACD,KAAK3mE,GAAA,eACJ,EAAKoS,cAAcy7C,GACnB,MACD,KAAK7tD,GAAA,iBACJ,EAAKs8C,eAAeuR,GACpB,MACD,KAAK7tD,GAAA,oBACJ,EAAK6mE,wBAAwBhZ,KAzKb,EAgLnBgZ,wBAA0B,SAAA1wE,GACzB,EAAKZ,SAAS,CAAEyyE,kBAAmB7xE,KAjLjB,EAoLnB4vE,YAAc,SAAAlY,GACb,IAAM13D,EAAU03D,EAAS,GACnBJ,EAAW,aAAO,EAAK57D,MAAM47D,aAC/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAE7zB,MAAQtkC,EAAQskC,OAC9D,GAAI4zB,GAAc,EAAG,CACpB,IAAM3zB,EAAa,eAAQvkC,GAE3Bs3D,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKurC,eAAexY,KA5LH,EAgMnB/+C,YAAc,SAAAvY,GACb,EAAKZ,SAAS,CAAEisD,kBAAmBrrD,KAjMjB,EAoMnBuwE,cAAgB,SAAAvwE,GACf,IAAMs3D,EAAW,aAAO,EAAK57D,MAAM47D,aAC/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ2rC,MAC7D,GAAIusB,GAAc,EAAG,CACpB,IAAME,EAAad,EAAYY,GAEzB3zB,EAAa,2BAAQ6zB,GAAep4D,GAE1Cs3D,EAAY3tB,OAAOuuB,EAAY,EAAG3zB,GAClC,EAAKurC,eAAexY,GAEhBA,EAAY7rD,OAASysD,IAAe,GAEvClwB,GAAe6nC,eAAe,oBAA9B,eAAwDtrC,MAjNxC,EAsNnBisC,iBAAmB,WAClB,EAAKpxE,SAAS,CAAEisD,kBAAmB,MAvNjB,EA0NnBpvC,cAAgB,SAAAjc,GACf,IAAM0rC,EAAY1rC,EAAQ2rC,GAC1B7uC,YAAUmf,cAAcyvB,GACtB3uC,MAAK,SAAA0qC,GACL,EAAKuoC,eAAe,CAACvoC,IAErB,IAAM6vB,EAAW,aAAO,EAAK57D,MAAM47D,aAC/BY,EAAaZ,EAAY9tB,WAAU,SAAA2uB,GAAC,OAAIA,EAAExsB,KAAO3rC,EAAQ2rC,MAEzD2rB,EAAY7rD,OAASysD,IAAe,GAAMl4D,EAAQumD,YAErDve,GAAe6nC,eAAe,oBAA9B,eAAwDpoC,OAGzD3pC,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,uBAxOjB,EA2OnBjgB,kBAAoB,SAAAkG,GACnB,IAAM13D,EAAU03D,EAAS,GAEnBjG,EAAiBtvB,GAA8BniC,EAAS,eAC1DyxD,IAA6D,IAA3CA,EAAe5lD,eAAe,SACnD,EAAKzM,SAAS,CAAEosD,aAAcxrD,IAE9B,EAAKZ,SAAS,CAAEosD,aAAc,QAlPb,EAuPnBmkB,cAAgB,SAAA3vE,GACf,IAAI03D,EAAQ,aAAO,EAAKh8D,MAAM47D,aAC9BI,EAAWA,EAAS3e,OAAO/4C,GAC3B,EAAKZ,SAAS,CAAEk4D,YAAaI,EAAUR,gBAAgB,KA1PrC,EA8PnB4Y,eAAiB,SAAApY,GAChB,EAAKt4D,SAAS,CAAEk4D,YAAaI,KA/PX,EAmQnBuY,gBAAkB,SAAAvY,GACjB,IAAMJ,EAAW,uBAAOI,GAAP,aAAoB,EAAKh8D,MAAM47D,cAChD,EAAKl4D,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,KArQxC,EAyQnBgZ,iCAAmC,SAAAxY,GAClC,IAAMJ,EAAW,uBAAOI,GAAP,aAAoB,EAAKh8D,MAAM47D,cAChD,EAAKl4D,SAAS,CAAEk4D,YAAaA,EAAaJ,gBAAgB,KA3QxC,EA+QnB8Y,eAAiB,SAAAtY,GAChB,IAAMjwB,EAAiBiwB,EAAS,GAC1Bkb,EAAW,aAAO,EAAKl3E,MAAM47D,aAE/BY,EAAa0a,EAAYppC,WAAU,SAAAxpC,GAAO,OAAIA,EAAQ2rC,KAAOlE,EAAekE,MAChF,GAAIusB,GAAc,EAAG,CAEpB,GAAI,EAAKx8D,MAAMk1C,0BACdgiC,EAAYjpC,OAAOuuB,EAAY,OACzB,CACN,IAAIE,EAAU,eAAQwa,EAAY1a,IAC9B3zB,EAAgB54B,OAAO0gC,OAAO,GAAI+rB,EAAY3wB,GAClDmrC,EAAYjpC,OAAOuuB,EAAY,EAAG3zB,GAGnC,EAAKnlC,SAAS,CAAEk4D,YAAasb,EAAa1b,gBAAgB,MA9RzC,EAkSnB6B,0BAA4B,SAAA/4D,GAC3B,IAAIzE,EAEJ,OAAQyE,EAAQxD,MACf,KAAKM,YAAU61C,aAAaC,KAC3Br3C,EAAY,YAAC,GAAD,CAAkCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACvG,MACD,KAAKpiC,YAAU61C,aAAaG,MAC3Bv3C,EAAY,YAAC,GAAD,CAAmCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACxG,MACD,KAAKpiC,YAAU61C,aAAaK,KAC3Bz3C,EAAY,YAAC,GAAD,CAAkCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACvG,MACD,KAAKpiC,YAAU61C,aAAajT,MAC3BnkC,EAAY,YAAC,GAAD,CAAmCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACxG,MACD,KAAKpiC,YAAU61C,aAAa5uC,MAC3BxI,EAAY,YAAC,GAAD,CAAmCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBAM1G,OAAO3jC,GAzTW,EA4TnBy9D,4BAA8B,SAAAh5D,GAC7B,IAAIzE,EAEJ,OAAQyE,EAAQxD,MACf,IAAK,UACL,KAAKM,YAAU61C,aAAaC,KAC3Br3C,EAAY,YAAC,GAAD,CAAoCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACzG,MACD,KAAKpiC,YAAU61C,aAAaG,MAC3Bv3C,EAAY,YAAC,GAAD,CAAqCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBAC1G,MACD,KAAKpiC,YAAU61C,aAAaK,KAC3Bz3C,EAAY,YAAC,GAAD,CAAoCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBACzG,MACD,KAAKpiC,YAAU61C,aAAa5uC,MAC3BxI,EAAY,YAAC,GAAD,CAAqCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBAC1G,MACD,KAAKpiC,YAAU61C,aAAajT,MAC3BnkC,EAAY,YAAC,GAAD,CAAqCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAK0F,gBAM5G,OAAO3jC,GApVW,EAuVnB09D,gCAAkC,SAAAj5D,GACjC,IAAIzE,EAEJ,OAAQyE,EAAQxD,MACf,KAAKqN,GACJtO,EAAY,YAAC,GAAD,CAAkCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC7G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAA8ByW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBACzG,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAA+ByW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC1G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC5G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAM9G,OAAOj+B,GA9WW,EAiXnB29D,kCAAoC,SAAAl5D,GACnC,IAAIzE,EACJ,OAAQyE,EAAQxD,MACf,KAAKqN,GACJtO,EAAY,YAAC,GAAD,CAAoCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC/G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAuCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAClH,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAiCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC5G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAmCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAC9G,MACD,KAAK3vB,GACJtO,EAAY,YAAC,GAAD,CAAmCyW,IAAKhS,EAAQ2rC,GAAI3rC,QAASA,EAASw5B,gBAAiB,EAAKr+B,MAAMq+B,kBAMhH,OAAOj+B,GAvYW,EA0YnB84E,0BAA4B,SAAAr0E,GAC3B,IAAIzE,EAAY,KAEhB,OAAQyE,EAAQk6B,UACf,KAAKp9B,YAAUovC,iBAEb3wC,EADG,EAAKoxB,aAAavvB,MAAQ4C,EAAQs+B,OAAOlhC,IAChC,EAAK27D,0BAA0B/4D,GAE/B,EAAKg5D,4BAA4Bh5D,GAE9C,MACD,KAAKlD,YAAUm0C,gBAEb11C,EADG,EAAKoxB,aAAavvB,MAAQ4C,EAAQs+B,OAAOlhC,IAChC,EAAK67D,gCAAgCj5D,GAErC,EAAKk5D,kCAAkCl5D,GAOtD,OAAOzE,GAhaW,EAmanB4qD,eAAiB,SAAAnmD,GAChB,EAAKZ,SAAS,CAAE0pD,eAAgB9oD,IAE5B,EAAK8yE,aACR,EAAKA,YAAY3mB,qBApalB,EAAKzwD,MAAQ,CACZ47D,YAAa,GACbJ,gBAAgB,EAChB3Q,WAAY,EACZiF,aAAc,KACdH,kBAAmB,KACnB0mB,cAAe52E,EAAM42E,cACrBF,mBAAmB,EACnBrC,8BAA8B,EAC9BC,2BAA2B,EAC3B7+B,2BAA2B,GAG5B,EAAKkiC,YAAcj3E,IAAMyD,YACzB,EAAKswB,SAAW/zB,IAAMyD,YAEtB,EAAKqtB,aAAe,EAAKxxB,MAAMwxB,aAnBb,E,qDAsBnB,WAAqB,IAAD,OACnB7vB,YAAU2vB,kBACR1vB,MAAK,SAAAR,GAAI,OAAK,EAAKowB,aAAepwB,KAClCuB,OAAM,SAAAnB,GAAK,OAAI,EAAK80E,aAAa,sBAEnCv2E,KAAKs0E,+BACLt0E,KAAKu0E,4BACLv0E,KAAK01C,8B,gCAGN,SAAmB1iC,GAClBhT,KAAKs0E,+BACLt0E,KAAKu0E,4BACLv0E,KAAK01C,4BAED1iC,EAAU6jE,gBAAkB72E,KAAKC,MAAM42E,gBACtC7jE,EAAU6jE,cAAcpmC,KAAOzwC,KAAKC,MAAM42E,cAAcpmC,GAC3DzwC,KAAKkE,SAAS,CAAEk4D,YAAa,GAAIJ,gBAAgB,EAAM6a,cAAe72E,KAAKC,MAAM42E,gBACvE7jE,EAAU6jE,cAAcnlE,OAAS1R,KAAKC,MAAM42E,cAAcnlE,MACpE1R,KAAKkE,SAAS,CAAE2yE,cAAe72E,KAAKC,MAAM42E,mB,oBAkY7C,WAAU,IAAD,OACJA,EAAgB72E,KAAKm5E,0BAA0Bn5E,KAAKQ,MAAMq2E,eAE1DuC,EACH,mBAAK30E,IAAKq0E,GAAsB94E,KAAKC,QACpC,wBAGF,GAAID,KAAKQ,MAAMq2E,cAAclmE,eAAe,cAAe,CAC1D,IAAM06C,EAAarrD,KAAKQ,MAAMq2E,cAAcxrB,WACtCguB,EAA2B,IAAfhuB,EAAA,UAAsBA,EAAtB,YAAoC70C,GAAW0D,UAAU,QAASla,KAAK8R,QAAQ2E,WAA/E,UAAgG40C,EAAhG,YAA8G70C,GAAW0D,UAAU,UAAWla,KAAK8R,QAAQ2E,WAE7K2iE,EACC,mBAAK30E,IAAKq0E,GAAsB94E,KAAK8R,SAAUvN,UAAU,sBACxD,oBAAME,IFtVA,CACHgQ,YAAa,OACb/P,SAAU,QEoVmBH,UAAU,oBACxC80E,GAEF,wBAKH,IAAIX,EAAoB,KACpB14E,KAAKQ,MAAMm2E,oBACd+B,EAAoB,YAAC,GAAD,CAAsB12B,MAAM,EAAMnnC,MAAO,kBAAM,EAAK26D,yBAAwB,IAAQ1wE,QAAS9E,KAAKQ,MAAMm2E,kBAAmBx8D,KAAMna,KAAK8R,QAAQ2E,YAGnK,IF3f0B3E,EE2ftBgmE,EACH,YAAC,GAAD,CACCvkE,IAAK,SAAAC,GACJ,EAAKokE,YAAcpkE,GAEpBo8C,gBAAiB5vD,KAAKC,MAAM42E,cAAcpmC,GAC1C0f,kBAAmBnwD,KAAKQ,MAAM2vD,kBAC9BG,aAActwD,KAAKQ,MAAM8vD,aACzB1C,eAAgB5tD,KAAKQ,MAAMotD,eAC3BtvB,gBAAiBt+B,KAAKgkC,gBASxB,OAJKhkC,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYC,YAAyD,IAA5C50B,KAAKQ,MAAM8zE,8BAA4Ct0E,KAAK8R,QAAQxQ,OAASM,YAAU+yB,YAAYG,aAAuD,IAAzC90B,KAAKQ,MAAM+zE,6BACzLuD,EAAkB,MAIlB,YAAC,IAAM9yE,SAAP,KACC,mBAAKP,KF/gBmBqN,EE+gBD9R,KAAK8R,QF7gBxB,CACN5M,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsG,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,YAC7B,IAAK,CACJsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK8C,EAAQ/C,MAAMC,eEqgBUzK,UAAU,gBAC/C,mBAAKE,IAAKw7D,GAAYjgE,KAAK8R,SAAUvN,UAAU,gBAC9C,mBAAKE,IFnfA,CACHS,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,gBAChBT,MAAO,QE8euBL,UAAU,mBACzC,mBAAKE,IFzeD,CACHS,QAAS,OACTC,cAAe,SACfP,MAAO,qBEseuBL,UAAU,mBACxC,kBAAIE,IFjeD,CACH6V,OAAQ,IACR5V,SAAU,OACV40E,UAAW,MACX/kE,WAAY,OACZ3P,MAAO,QE4dsBL,UAAU,iBACrCiS,GAAW0D,UAAU,SAAUla,KAAK8R,QAAQ2E,WAE9C,oBAAMhS,IFzdH,CACHC,SAAU,OACV6P,WAAY,OACZ3P,MAAO,OACPwO,SAAU,SACVsxB,aAAc,WACdC,WAAY,UEmdkBpgC,UAAU,oBACtCvE,KAAKC,MAAMu4E,WAAW90E,OAGzB,mBAAKe,IAAKy7D,GAAiB1f,GAAWxgD,KAAK8R,SAAUvN,UAAU,gBAAgB4P,QAAS,kBAAM,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,6BAG3H,mBAAKlK,IFzcC,CACHS,QAAS,OACTC,cAAe,SACf6M,OAAQ,OACRsoC,UAAW,SACXpG,UAAW,OACXlgC,WAAY,8BACZpP,MAAO,OACP+O,OAAQ,MACRuE,UAAW,oBACXyzC,MAAO,IACP,cAAe,CACXzzC,UAAW,QACX,iBAAkB,CACd,sBAAuB,CACnBhT,QAAS,QAEbq0E,eAAgB,UEwbQh1E,UAAU,4BAC5C,mBAAKE,IAAKo0E,GAAmB74E,KAAKC,MAAM42E,eAAgBtyE,UAAU,mBAChEsyE,GAEDuC,EACD,YAAC,GAAD,CAAsB5c,SAAUx8D,KAAKQ,MAAM47D,YAAanlD,KAAMjX,KAAKC,MAAMu4E,WAAYl3E,KAAMtB,KAAKC,MAAMw4E,WAAYzc,eAAgBh8D,KAAKQ,MAAMw7D,eAAgBpM,gBAAiB5vD,KAAKC,MAAM42E,cAAcpmC,GAAInS,gBAAiBt+B,KAAKgkC,gBAChO8zC,IAGFY,O,GArfgC/3E,IAAMkF,eAArCmzE,GAEEl5C,YAAc3qB,GA0ftB6jE,GAAuBvlE,aAAe,CACrC1E,MAAOA,IC9iBD,IAYMwJ,GAAY,SAACnH,EAAKzM,GAE3B,MAAO,CACH6T,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKZ,GACpBO,QAAS,eACTN,MAAO,OACPoN,OAAQ,SCnBD,OAA0B,yCCA1B,OAA0B,8CCA1B,OAA0B,yCCA1B,OAA0B,iCCA1B,OAA0B,0CCqBnCwnE,G,kDAIL,WAAYv5E,EAAO6R,GAAU,IAAD,8BAC3B,cAAM7R,EAAO6R,IAwBd2nE,mBAAqB,WAIpB,EAAK3nE,QAAQ0D,mBAAmB+V,4BAC9B1pB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMk5E,UAAY,EAAKloE,YAC5C,EAAKtN,SAAS,CAAEw1E,SAAUr2E,OAG3BT,OAAM,SAAAnB,IACsB,IAAxB,EAAKjB,MAAMk5E,UACd,EAAKx1E,SAAS,CAAEw1E,UAAU,QAnC7B,EAAKloE,YAAa,EAClB,EAAKhR,MAAQ,CACZk5E,UAAU,GAGX,EAAK5nE,QAAQyf,kBAAkB1vB,MAAK,SAAAR,GACnC,EAAKowB,aAAL,eAAyBpwB,MARC,E,qDAY5B,WACCrB,KAAKwR,YAAa,EAClBxR,KAAKy5E,uB,gCAGN,WACCz5E,KAAKy5E,uB,kCAGN,WACCz5E,KAAKwR,YAAa,I,oBAoBnB,WAAU,IAAD,MAEJmoE,EACHC,EAAc,KACdtb,EAAY,KACZ35D,EAAQ,MAEL,UAAA3E,KAAKC,MAAM6E,eAAX,mBAAoBs+B,cAApB,eAA4BlhC,QAA5B,UAAoClC,KAAKyxB,oBAAzC,aAAoC,EAAmBvvB,KAEtDlC,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,MAC3D7oC,KAAKC,MAAM6E,QAAQ6L,eAAe,UACrCgpE,EAAQE,GACRD,EAAc,QACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQqkC,YAC/BxkC,EAAQ3E,KAAK8R,QAAQ/C,MAAMpK,MAAMiL,MAEjC+pE,EAAQG,GACRF,EAAc,UACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQqkC,YAC/BxkC,EAAQ3E,KAAK8R,QAAQ/C,MAAMG,mBACvBlP,KAAKC,MAAM6E,QAAQ6L,eAAe,YACrCgpE,EAAQI,GACRH,EAAc,OACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQu6B,SAI7Br/B,KAAKC,MAAM6E,QAAQ6L,eAAe,UACrCgpE,EAAQE,GACRD,EAAc,QACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQqkC,YAC/BxkC,EAAQ3E,KAAK8R,QAAQ/C,MAAMpK,MAAMiL,MAEjC+pE,EAAQG,GACRF,EAAc,UACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQqkC,YAC/BxkC,EAAQ3E,KAAK8R,QAAQ/C,MAAMG,mBAEvBlP,KAAKC,MAAM6E,QAAQ6L,eAAe,WAErCgpE,EAAQK,GACRJ,EAAc,OACdj1E,EAAQ3E,KAAK8R,QAAQ/C,MAAME,aAC3BqvD,EAAYt+D,KAAKC,MAAM6E,QAAQy4D,QAErBv9D,KAAKC,MAAM6E,QAAQ6L,eAAe,gBAE5CgpE,EAAQM,GACRL,EAAc,YACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQu4D,aAErBr9D,KAAKC,MAAM6E,QAAQ6L,eAAe,YAE5CgpE,EAAQI,GACRH,EAAc,OACdtb,EAAYt+D,KAAKC,MAAM6E,QAAQu6B,SAKlCi/B,EAAYt+D,KAAKC,MAAM6E,QAAQu6B,QAIJ,IAAxBr/B,KAAKQ,MAAMk5E,WACdC,EAAQ,MAGT,INvIgC7nE,EMuI1BooE,EAAUP,EAAQ,iBAAGl1E,IAAK8T,GAAUohE,EAAOh1E,GAAQsV,MAAOzD,GAAW0D,UAAU0/D,EAAa55E,KAAK8R,QAAQ2E,YAAkB,KAE3Hy/B,EtLU0B,SAACA,EAAW/7B,GAE1C,IAEMg8B,EAAyC,IAAtB,IAAI/nC,KAAK8nC,GAGlC,OAFaK,KAAWJ,EAAkB,asLf1BgkC,CAAmB7b,EAAWt+D,KAAK8R,QAAQ2E,UAE7D,OACC,YAAC,IAAMzR,SAAP,KACC,oBAAMP,KN7IwBqN,EM6ID9R,KAAK8R,QAAS9R,KAAKC,MAAOD,KAAKyxB,aN3IrD,CACHvsB,QAAS,OACTR,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZqwB,cAAe,YACfjgC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UMqIyC/K,UAAU,sBACnF2xC,GAEDgkC,O,GA3H8Bv5E,IAAMkF,eAAnC2zE,GACE15C,YAAc3qB,GAiItBqkE,GAAqB/lE,aAAe,CACnC1E,MAAOA,ICxJD,IA8CMqyC,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,ICzBL+4B,G,kDAGL,WAAYn6E,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgBxC,WACC,IDLuBxnC,ECKnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IDvCE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KCkCmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KDhBcqN,ECgBC9R,KAAK8R,QDdvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UCYS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDkBC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QCxB4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDjGG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KCuFkBxV,UAAU,8CAA8CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAClJ,mBAAK30C,IDlFE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC8EoBX,UAAU,oBACzCZ,EACD,mBAAKc,ID/DC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UC4DcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IDrCA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QCiC6BX,UAAU,6BACjD,mBAAKE,ID5BD,CACHS,QAAS,eACTM,aAAc,OACd00C,UAAW,aACX,WAAY,CACRlgC,SAAU,QACV9U,QAAS,UACTI,QAAS,SCqBwBf,UAAU,2BAC/C,qBAAO81E,UAAQ,GACd,sBAAQ/oE,IAAKtR,KAAKC,MAAM6E,QAAQ4M,KAAK26C,YAAY,GAAGvlB,SAKtDqX,EAED,mBAAK15C,IDvBA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QCiB2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAxFlD39B,IAAMC,WAAlDw5E,GACEt6C,YAAc3qB,GAiGtBilE,GAAoC3mE,aAAe,CAClD1E,MAAOA,GACPuvB,gBAAiB,cCjIX,IA0BM6iB,GAAwB,WAEjC,MAAO,CACHv8C,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,MAaPqnC,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAyBEC,GAAyB,SAAAxvC,GAErC,MAAO,CACN5M,QAAS,OACTC,cAAe,SACfK,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,OACTy0C,UAAW,aACXt1C,MAAO,OACPsT,UAAW,UAIAqpC,GAAuB,SAAAzvC,GAEnC,MAAO,CACN5M,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZT,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,WAiBnBqyC,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,aACRmnC,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPc,OAAQ,UACRmO,SAAU,WACVyG,OAAQ,IACR7U,QAAS,MACT,MAAO,CACNq0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACPM,QAAS,eACTR,SAAU,OACV4P,WAAY,MACZgG,OAAQ,QA+BC/B,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,gBClLrB,OAA0B,uCCqCnCqrE,G,kDAGL,WAAYr6E,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgB9C,WAAU,IFZcxnC,EEYf,OACJnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IAAK08C,GAAuB58C,UAAU,sBAC1C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KFxBcqN,EEwBC9R,KAAK8R,QFtBvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UEoBS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFoEC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QE1E4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IAAMi8C,EAAY,UAAMv6E,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,KAAhC,YAAwC8S,GAAW0D,UAAU,uBAAwBla,KAAK8R,QAAQ2E,WAEhHsoB,EAAc,KACZy7C,EAAkBhkE,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,UAiCtF,OA7BCsoB,EAFG/+B,KAAK8R,QAAQ+hB,+BAAiCllB,GAAgBtF,MAAhB,yBAOvCrJ,KAAK8R,QAAQ+hB,+BAAiCllB,GAAgBtF,MAAhB,yBAQ9CrJ,KAAK8R,QAAQmiB,uBAZtB,kBAAI1vB,UAAU,kBAAkB0V,MAAOugE,GACtC,iBAAGj2E,UAAU,oBAAoBiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,YAqB5E,kBAAIlS,UAAU,kBAAkB4P,QAAS,kBAAM,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,EAAK1O,MAAM6E,WACvH,iBAAGP,UAAU,oBAAoBiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,YAM7E,mBAAKhS,IF7IG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEmIkBxV,UAAU,mDAAmDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACvJ,mBAAK30C,IF9HE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QE0HoBX,UAAU,oBACzCZ,EACD,mBAAKc,IF3GC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UEwGcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IFjFA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,OACT,IAAO,CACHN,MAAO,SE2EyBL,UAAU,kCAC/C,mBAAKE,IAAK68C,GAAuBthD,KAAK8R,SAAUvN,UAAU,gCACzD,mBAAKE,IAAK88C,GAAqBvhD,KAAK8R,SAAUvN,UAAU,8BACvD,iBAAGE,IAAK8T,GAAUitB,GAAUxlC,KAAK8R,SAAUmI,MAAOzD,GAAW0D,UAAU,aAAcla,KAAK8R,QAAQ2E,YAClG,iBAAGhS,IFhDD,CACH6V,OAAQ,IACRqqB,WAAY,WACZiP,SAAU,aACV/uC,UAAW,OACXD,MAAO,oBACPF,SAAU,OACV8P,WAAY,OEyCgBjQ,UAAU,qBACnCg2E,IAIH,kBAAI91E,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,sBAChDw6B,KAKHof,EAED,mBAAK15C,IFhBA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QEU2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,kB,GAnIfnE,IAAMC,WAAhD05E,GACEx6C,YAAc3qB,GA4ItBmlE,GAAkC7mE,aAAe,CAChD1E,MAAOA,GACPuvB,gBAAiB,cCpLX,IA8CM8iB,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEo5B,GAA0B,SAAA3oE,GAEtC,MAAO,CACN5M,QAAS,eACTM,aAAc,OACdb,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMyK,WAC9B7J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,WACTy0C,UAAW,aACXt1C,MAAO,OACP,MAAO,CACNk1B,WAAY,MACZ4gD,eAAgB,OAChBn1E,gBAAiB,cACjBZ,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9BvK,MAAO,OACPF,SAAU,OACVQ,QAAS,OACTE,WAAY,SACZC,eAAgB,SAChB,+BAAgC,CAC/BV,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9BurE,eAAgB,QAEjBC,MAAO,CACNj1E,OAAQ,cA8BC6S,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,oBAClCuF,YAAa,QC1IA,OAA0B,wCCgCnCmmE,G,kDAGL,WAAY36E,GAAQ,IAAD,8BAClB,cAAMA,IAoBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBAtBD,EAyBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAxBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAiBxC,WACC,IFTuBxnC,EESnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IF3CE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KEsCmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KFpBcqN,EEoBC9R,KAAK8R,QFlBvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UEgBS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IF+BC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QErC4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IFrGG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KE2FkBxV,UAAU,6CAA6CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACjJ,mBAAK30C,IFtFE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEkFoBX,UAAU,oBACzCZ,EACD,mBAAKc,IFnEC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UEgEcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,IFzCA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QEqC4BX,UAAU,4BAChD,mBAAKE,IAAKg2E,GAAwBz6E,KAAK8R,SAAUvN,UAAU,0BAC1D,iBAAG6jD,KAAMpoD,KAAKC,MAAM6E,QAAQ4M,KAAK26C,YAAY,GAAGvlB,IAAKiM,OAAO,SAAS1Y,IAAI,uBACxE,iBAAG51B,IAAK8T,GAAUunD,GAAU9/D,KAAK8R,WACjC,yBAAQ9R,KAAKC,MAAM6E,QAAQ4M,KAAK26C,YAAY,GAAG3oD,SAKjDy6C,EAED,mBAAK15C,IFXA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QEK2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GA1FnD39B,IAAMC,WAAjDg6E,GACE96C,YAAc3qB,GAmGtBylE,GAAmCnnE,aAAe,CACjD1E,MAAOA,GACPuvB,gBAAiB,cCtIX,IA8CM8iB,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAsBEwC,GAAyB,SAAA/xC,GAErC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACNhL,QAAS,eACTg1C,UAAW,aACXlgC,SAAU,QACVhI,OAAQ,QACRtM,OAAQ,UACR0L,IAAK,CACJ5L,aAAc,MACdwM,OAAQ,SARV,iBAUYu7B,EAAG,GAVf,aAUsBA,EAAG,IAAO,CAC9B3R,SAAU,OACV5hB,SAAU,QACVhI,OAAQ,QACRvM,QAAS,aC7DNo1E,G,kDAGL,WAAY56E,EAAO6R,GAAU,IAAD,8BAE3B,cAAM7R,EAAO6R,IA4CdgpE,YAAc,SAAAC,GACb,IAAMC,EAAWD,EAAyB,UAKtCE,EAJcF,EAAyB,WAS3C,OAPWz4E,OAAOmrE,WAAW,EAAKxtE,MAAM8O,MAAMmB,YAAY,IAGnD88D,UACNiO,EAAkBD,GAGZC,GAzDoB,EA4D5BvzB,SAAW,WAEV,IAAMwzB,EAA0Bj0C,GAA8B,EAAKhnC,MAAM6E,QAAS,wBAElF,GAAIo2E,EAAyB,CAE5B,IAG+C,EAH3CC,EAAY,GAChB,GAAI,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,aACsB,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAEtC4qE,EAAS,UAAG,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAG1CpB,OAAOmrE,WAAW,EAAKxtE,MAAM8O,MAAMmB,YAAY,IACvDw9D,aAAY,WACd,IAAMuN,EAAkB,EAAKH,YAAYI,GACrC9pE,EAAM,IAAIC,MACdD,EAAIE,IAAM2pE,EACV7pE,EAAIG,OAAS,WACR,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,QAKjD,IAAMF,EAAkB,EAAKH,YAAYI,GACzC,EAAKG,cAAcJ,GACjBp5E,MAAK,SAAAwB,GACL,IAAI+N,EAAM,IAAIC,MACdD,EAAIE,IAAM2pE,EACV7pE,EAAIG,OAAS,WACR,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,QAIhDv4E,OAAM,SAAAnB,GAAK,OAAIiB,QAAQjB,MAAMA,WAE/B,EAAK65E,sBAnGqB,EAuG5BA,mBAAqB,WAEpB,GAAI,EAAKr7E,MAAM6E,QAAQ4M,KAAK26C,aACsB,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAAQ,CAAC,IAAD,EAE1Ca,EAAM,IAAIC,MACdD,EAAIE,IAAM,EAAKrR,MAAM6E,QAAQ4M,KAAK26C,YAAY,GAAGvlB,IACjD,IAAMq0C,EAAS,UAAG,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAC1D0N,EAAIG,OAAS,WACR,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,OAlHtB,EAwJ5Bn5B,KAAO,WACN,EAAK/hD,MAAMq+B,gBAAgB3vB,GAAA,oBAAsC,EAAK1O,MAAM6E,UAzJjD,EA4J5Bs0C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA7JQ,EAgK5BA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA/JpB,EAAK9nC,YAAa,EAClB,EAAKuB,OAASpS,IAAMyD,YAEpB,EAAK5D,MAAQ,CACZ46E,SC3CY,yJD4CZD,UAAW3kE,GAAW0D,UAAU,UAAW,EAAKpI,QAAQ2E,UACxD6iC,YAAY,GATc,E,yDAa5B,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM46E,WAAal5B,EAAUk5B,UAClCp7E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,+BAOxC,WACCt5C,KAAKwR,YAAa,EAClBxR,KAAK0nD,a,gCAGN,SAAmB10C,EAAWw/C,GAEF98B,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,UAGnD9E,KAAK0nD,a,kCAIP,WACC1nD,KAAKwR,YAAa,I,2BA8EnB,SAAc+pE,GAAS,IAAD,OA4BrB,OA3BgB,IAAIj0D,SAAQ,SAACC,EAASsJ,GACrC,IAAM2qD,EAAM,IAAIC,eAChBD,EAAIx5B,KAAK,MAAOu5B,GAAQ,GACxBC,EAAIE,aAAe,OAEnBF,EAAIjqE,OAAS,WACW,IAAnBiqE,EAAIG,WACY,MAAfH,EAAIzmE,QACP,EAAKyc,MAAQ,KACbjK,EAAQi0D,EAAIn4E,WACa,MAAfm4E,EAAIzmE,SACd,EAAKyc,MAAQjY,YAAW,WACvB,EAAK8hE,cAAcE,GACjB15E,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQlkB,MACzBT,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,QACtB,MAGJovB,EAAO2qD,EAAII,aAIbJ,EAAIK,QAAU,SAAAnoD,GAAK,OAAI7C,EAAO,IAAIirD,MAAM,6BAA8BpoD,KACtE8nD,EAAIO,UAAY,SAAAroD,GAAK,OAAI7C,EAAO,IAAIirD,MAAM,6BAA8BpoD,KACxE8nD,EAAIQ,Y,oBAoBN,WAAU,IDhJclqE,ECgJf,OACJnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IDnLE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KC8KmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KD5JcqN,EC4JC9R,KAAK8R,QD1JvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UCwJS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDjHC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QC2G4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,ID7OG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KCmOkBxV,UAAU,8CAA8CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAClJ,mBAAK30C,ID9NE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC0NoBX,UAAU,oBACzCZ,EACD,mBAAKc,ID3MC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UCwMkBZ,UAAU,oBAC5Cb,EACA+1C,EACD,mBAAKh1C,IDjLA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC6K2BX,UAAU,6BAC/C,mBAAKE,IAAKo/C,GAAuB7jD,KAAK8R,SAAUqC,QAASnU,KAAKgiD,KAAMz9C,UAAU,2BAC7E,mBACC+M,IAAKtR,KAAKQ,MAAM46E,SAChB/nE,IAAKrT,KAAKQ,MAAM26E,UAChB5nE,IAAK,SAAAC,GACJ,EAAKT,OAASS,OAMjB2qC,EAED,mBAAK15C,ID9JA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QCwJ2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GApOlD39B,IAAMC,WAAlDi6E,GACE/6C,YAAc3qB,GA6OtB0lE,GAAoCpnE,aAAe,CAClD1E,MAAOA,GACPuvB,gBAAiB,c,sBEnOL8iB,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,IAiCEwE,GAAkB,SAACo2B,EAAernE,EAAO9C,GAElD,IAWIoqE,EAAY,GAmChB,OAjCc,IAAVtnE,EACAsnE,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,SAGC,IAAV4C,EACPsnE,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,SAGT4C,EAAQ,IACfsnE,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,WAME,IAAlBiqE,IACAC,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,UAKb,yBACHsI,OAAQ,IACR5V,SAAU,OACVigC,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,OACPD,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMwK,SAC9BoF,WAAY,OACZD,WAAY,MACZ,KAAM,CACF3P,MAAO,UACP,UAAW,CACPA,MAAO,YAGf,sBAAuB,CACnBA,MAAO,UACP,UAAW,CACPA,MAAO,YAGf,mBAAoB,CAChBA,MAAO,UACP,UAAW,CACPA,MAAO,aAvEM,CACrB,SAAU,CACNC,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTy3C,cAAe,MACfw/B,KAAM,IACN7hE,OAAQ,WAoET4hE,IClILE,G,kDAGL,WAAYn8E,GAAQ,IAAD,8BAClB,cAAMA,IAsCPo8E,eAAiB,WAChB,IAAItlC,EAAc,EAAK92C,MAAM6E,QAAQkyC,KAG/BC,EAAUhQ,GAA8B,EAAKhnC,MAAM6E,QAAS,cAC9DmyC,GAAWA,EAAQtmC,eAAe,mBAAqBsmC,EAAQtmC,eAAe,WAAgC,QAAnBsmC,EAAQwb,SACtG1b,EAAcE,EAAQC,gBAIvB,IAAMC,EAAalQ,GAA8B,EAAKhnC,MAAM6E,QAAS,gBACjEqyC,GAAcA,EAAWxmC,eAAe,SAAWwmC,EAAWzlC,KAAKf,eAAe,mBAAqBwmC,EAAWzlC,KAAKf,eAAe,mBAAwD,QAAnCwmC,EAAWzlC,KAAK0lC,iBAC9KL,EAAcI,EAAWzlC,KAAK2lC,gBAI/B,IAAMC,EAAcrQ,GAA8B,EAAKhnC,MAAM6E,QAAS,oBAClEwyC,GAAeA,EAAY3mC,eAAe,cAAgB2mC,EAAY3mC,eAAe,kBAA8C,QAA1B2mC,EAAYC,YACxHR,EAAcO,EAAYE,eAG3B,IDrBoC1lC,ECqB9BwqE,EAAgB51C,GAAQqQ,GAExBwlC,EAAqBC,KAAQ5mD,MAAM0mD,EAAe,CAAEG,OAAQ,MAAOC,IAAK,SAG1E9nE,EAAQ0zB,GAAqBi0C,EAAmB,iBAE9CI,EAAgB/mD,aAAM2mD,GACxBN,GAAgB,EAepB,OAb0C,IAAtC,EAAKz7E,MAAMo8E,yBACdX,GAAgB,GAGjBllC,EACC,mBAAKtyC,KDpC8BqN,ECoCF,EAAKA,QDlCjC,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgB6J,WAClD3J,QAAS,WACTb,MAAO,SC6B0CL,UAAU,yBACzD,iBAAGE,IAAKohD,GAAgBo2B,EAAernE,EAAO,EAAK9C,SAAUvN,UAAU,gBACrEo4E,EACA,EAAKn8E,MAAMq8E,qBA9EG,EAsFnB1xB,iBAAmB,SAAArmD,GAClB,IAAM0rC,EAAY1rC,EAAQ2rC,GACpBsG,EAAcjyC,EAAQkyC,KAEtBv/B,EAAsBjB,GAAWW,qBAAqBO,cACxDolE,EAAsBrlE,EAC1B,IAA0C,IAAtCA,EAAoBG,QAAQ,KAAa,CAC5C,IAAMmlE,EAAuBtlE,EAAoBI,MAAM,KACvDilE,EAAsBC,EAAqB,GAG5C,IAAIF,EAAoB,GACxBj7E,YAAU+4C,cAAc,sBAAuB,OAAQ,eAAgB,CACtEyC,MAAO5M,EACPwG,KAAMD,EACN1/B,UAAW,CAACylE,KAEXj7E,MAAK,SAAAstD,GACL,GAAIA,GAAUA,EAAOx+C,eAAe,sBAAwBw+C,EAAM,oBAA0B2tB,EAC3F,GAAI3tB,EAAOx+C,eAAe,iBAAmBw+C,EAAOz5C,aAAanF,OAAQ,CACxE,IAAMgQ,EAAqB4uC,EAAOz5C,aAAa,GAC3C6K,EAAmB5P,eAAe,wBACrCksE,EAAiB,aAASt8D,EAAkB,mBAA3B,WAGlB,EAAKtgB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,wBAGxD,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,KAAuB,GAAI,yBAGvD,EAAKzK,SAAS,CAAE24E,kBAAmBA,OAEnCj6E,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBAvHtD,EA0HnBiuE,uBAAyB,WACxB,EAAK9qE,QAAQ0D,mBAAmBsS,4BAC9BjmB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMo8E,wBAC3B,EAAK14E,SAAS,CAAE04E,uBAAwBv5E,OAGzCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAMo8E,wBACd,EAAK14E,SAAS,CAAE04E,wBAAwB,QAnIzB,EAwInBxjC,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBAzID,EA4InBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA9IF,EAkJnBtV,cAAgB,SAAC/E,EAAQn6B,GACxB,OAAQm6B,GACP,KAAKtwB,GAAA,iBAGL,KAAKA,GAAA,sBAGL,KAAKA,GAAA,eAGL,KAAKA,GAAA,aACJ,EAAK1O,MAAMq+B,gBAAgBW,EAAQn6B,GACnC,MACD,KAAK6J,GAAA,kBACJ,EAAKw8C,iBAAiBrmD,KA9JxB,EAAKtE,MAAQ,CACZq8E,kBAAmB,GACnBvjC,YAAY,EACZsjC,wBAAwB,GANP,E,yDAUnB,SAAsB36B,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,YACpCt5C,KAAKQ,MAAMq8E,oBAAsB36B,EAAU26B,mBAC3C78E,KAAKQ,MAAMo8E,yBAA2B16B,EAAU06B,yB,+BAMpD,WACC58E,KAAK48E,2B,gCAGN,SAAmB5pE,GACS0iB,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,UAGnD9E,KAAKkE,SAAS,CAAE24E,kBAAmB,KAGpC78E,KAAK48E,2B,oBAoIN,WAEC,IDrJuB9qE,ECqJnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IDvLE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KCkLmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KDhKcqN,ECgKC9R,KAAK8R,QD9JvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UC4JS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIqzC,EAAc/2C,KAAKq8E,iBAEjBW,EAAkB/1C,GAA8BjnC,KAAKC,MAAM6E,QAAS,gBACtEk4E,GAAmBA,EAAgBrsE,eAAe,UAAYqsE,EAAe,MAAUzsE,SAC1FwmC,EAAc,YAAC,GAAD,CAAsBjyC,QAAS9E,KAAKC,MAAM6E,QAASiyC,YAAaA,KAI/E,IAAIoH,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDxDC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QCkD4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKgkC,iBAI1F,mBAAKv/B,IDzPG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC+OkBxV,UAAU,6CAA6CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACjJ,mBAAK30C,ID1OE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QCsOoBX,UAAU,oBACzCZ,EACD,mBAAKc,IDvNC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UCoNcZ,UAAU,oBACxCb,EACA+1C,EACD,mBAAKh1C,ID7LA,CACHG,MAAO,OACPy9C,KAAM,MACNn9C,QAAS,OACTg1C,UAAW,cCyLyB31C,UAAU,4BAC9CwyC,GAGDoH,EAED,mBAAK15C,ID7FA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QCuF2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAvOnD39B,IAAMC,WAAjDw7E,GACEt8C,YAAc3qB,GAgPtBinE,GAAmC3oE,aAAe,CACjD1E,MAAOA,GACPuvB,gBAAiB,cCrRX,IA8CM8iB,GAAmB,SAACz9C,GAE7B,IAAM09C,EAAgB19C,EAAU,CAC5B8B,QAAS,WACT,GAEJ,OAAO,aACHy0C,UAAW,cACRmH,ICzBL47B,G,kDAGL,WAAYh9E,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgBxC,WACC,IDLuBxnC,ECKnBnO,EAAS,KACZD,EAAO,KACJ1D,KAAKC,MAAM6E,QAAQs6B,eAAiBx9B,YAAUgnC,cAAcC,QAC/DllC,EACC,mBAAKc,IDvCE,CACHG,MAAO,OACPoN,OAAQ,OACRsI,OAAQ,WACRtF,MAAO,OACP+E,WAAY,KCkCmBxV,UAAU,sBAC5C,YAAC,GAAD,CAAiBlD,KAAMrB,KAAKC,MAAM6E,QAAQs+B,UAI5C1/B,EACC,mBAAKe,IAAK28C,GAAiBz9C,GAASY,UAAU,0BAC7C,oBAAME,KDhBcqN,ECgBC9R,KAAK8R,QDdvB,CACNpN,SAAU,OACVC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAM2K,UCYS/K,UAAU,iBAC5CvE,KAAKC,MAAM6E,QAAQs+B,OAAO1/B,QAM/B,IAAIy6C,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDkBC,CACHS,QAAS,OACTg1C,UAAW,aACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,aAChB6S,UAAW,QCxB4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDjGG,CACHy1C,UAAW,aACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KCuFkBxV,UAAU,8CAA8CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAClJ,mBAAK30C,IDlFE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QC8EoBX,UAAU,oBACzCZ,EACD,mBAAKc,ID/DC,CACH49C,KAAM,MACNn9C,QAAS,OACTC,cAAe,UC4DkBZ,UAAU,oBAC5Cb,EACA+1C,EACD,mBAAKh1C,IDrCA,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,aACXh1C,QAAS,QCiC6BX,UAAU,6BACjD,mBAAKE,ID5BD,CACHS,QAAS,eACTg1C,UAAW,aACX,UAAW,CACPlgC,SAAU,QACVxU,aAAc,OACdN,QAAS,UACTI,QAAS,SCqBwBf,UAAU,2BAC/C,qBAAO81E,UAAQ,GACd,sBAAQ/oE,IAAKtR,KAAKC,MAAM6E,QAAQ4M,KAAK26C,YAAY,GAAGvlB,SAKtDqX,EAED,mBAAK15C,IDvBA,CACHy1C,UAAW,aACXz0C,QAAS,UACTP,QAAS,OACTE,WAAY,SACZC,eAAgB,aAChB2M,OAAQ,QCiB2BzN,UAAU,0BAC9C,YAAC,GAAD,CAAsBO,QAAS9E,KAAKC,MAAM6E,UAC1C,YAAC,GAAD,CAAoCA,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,0B,GAxFlD39B,IAAMC,WAAlDq8E,GACEn9C,YAAc3qB,GAiGtB8nE,GAAoCxpE,aAAe,CAClD1E,MAAOA,GACPuvB,gBAAiB,cCjIX,ICsBD4+C,G,kDACL,WAAYj9E,GAAQ,IAAD,8BAClB,cAAMA,IA4CPk9E,YAAc,WAEb,IAKgH,IAL1G71C,EAAc34B,GAAA,cACd44B,EAAeF,GAAuB,EAAKpnC,MAAM6E,QAASwiC,GAEhE,OAAIC,aAAwB61C,KACpB,CAAEC,SAAU91C,EAAY,MACrB,EAAKtnC,MAAM6E,QAAQ4M,KAAKf,eAAe,gBAAkB,EAAK1Q,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAIhG,CAAE8sE,SAHK,UAAG,EAAKp9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAGtC45E,QAFN,UAAG,EAAKr9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwCvlB,UAFlD,GApDW,EA4DnBsS,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA7DD,EAgEnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA/DpB,EAAK94C,MAAQ,CACZ84C,YAAY,EACZikC,SAAU,IALO,E,qDASnB,WAEC,IAAMA,EAAWv9E,KAAKm9E,cACtBn9E,KAAKkE,SAAS,CAAEq5E,SAAUA,M,mCAG3B,SAAsBt7B,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,YACpCt5C,KAAKQ,MAAM+8E,WAAar7B,EAAUq7B,W,gCAMtC,SAAmBvqE,GAKlB,GAH2B0iB,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,SAEN,CAC7C,IAAMy4E,EAAWv9E,KAAKm9E,cAEGznD,KAAKC,UAAU31B,KAAKQ,MAAM+8E,YAC3B7nD,KAAKC,UAAU4nD,IAGtCv9E,KAAKkE,SAAS,CAAEq5E,SAAUA,O,oBA8B7B,WAAU,IAAD,EACR,IAAK9sE,OAAOC,KAAK1Q,KAAKQ,MAAM+8E,UAAUhtE,OACrC,OAAO,KAGR,IAAI4tC,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDlDC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QC4C4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDlHG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KCwGkBxV,UAAU,4CAA4CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC/IK,EACD,mBAAKh1C,IDpGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QCgGoBX,UAAU,oBAC1C,mBAAKE,ID3FC,CACHS,QAAS,eACTM,aAAc,OACd00C,UAAW,WACX,WAAY,CACRlgC,SAAU,QACV9U,QAAS,UACTI,QAAS,SCoFsBf,UAAU,2BAC/C,qBAAO81E,UAAQ,EAAC/oE,IAAG,UAAEtR,KAAKQ,MAAM+8E,gBAAb,aAAE,EAAqBD,YAI3Cn/B,EAED,mBAAK15C,IDpFE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZ4M,OAAQ,QC+EyBzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GA1GCnE,IAAMC,WAkHtDs8E,GAAkCzpE,aAAe,CAChD1E,MAAOA,GACPuvB,gBAAiB,cC1IX,IAiEMkjB,GAAkB,SAAA1vC,GAE9B,MAAO,CACNojC,cAAe,OACfzvC,QAAS,IACT6U,OAAQ,aACR1V,MAAO,OACP68C,GAAI,CACHl8C,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMxJ,gBAAgBoK,OAClDnK,aAAc,MACdN,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZR,MAAO,OACPiP,SAAU,WACVyG,OAAQ,IACR7U,QAAS,MACTC,OAAQ,UACR,MAAO,CACNo0B,WAAY,MACZj1B,UAAW,SACXF,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,cACxBrK,MAAO,OACP0P,WAAY,MACZpP,QAAS,eACTR,SAAU,OACV4V,OAAQ,QA6BC/B,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMgL,SC9H3B,OAA0B,uCC8BnC6tE,G,kDAGL,WAAYv9E,GAAQ,IAAD,8BAClB,cAAMA,IAmBPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBArBD,EAwBnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAvBpB,EAAK94C,MAAQ,CACZ84C,YAAY,GAJK,E,yDAQnB,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAGvC9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,oBAgB9C,WAAU,IAAD,OACJ6E,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFyCC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WACtB6S,UAAW,QE/CkC3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IAAIS,EAAc,KACZy7C,EAAkBhkE,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,UAIrFsoB,EAFG/+B,KAAK8R,QAAQ+hB,+BAAiCllB,GAAgBtF,MAAhB,yBAOvCrJ,KAAK8R,QAAQ+hB,+BAAiCllB,GAAgBtF,MAAhB,yBAQ9CrJ,KAAK8R,QAAQmiB,uBAZtB,kBAAI1vB,UAAU,kBAAkB0V,MAAOugE,GACtC,iBAAGj2E,UAAU,oBAAoBiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,YAqB5E,kBAAIlS,UAAU,kBAAkB4P,QAAS,kBAAM,EAAKlU,MAAMq+B,gBAAgB3vB,GAAA,iBAAmC,EAAK1O,MAAM6E,WACvH,iBAAGP,UAAU,oBAAoBiS,GAAW0D,UAAU,OAAQla,KAAK8R,QAAQ2E,YAK9E,IFzFoC3E,EEyF9ByoE,EAAe/jE,GAAW0D,UAAU,2BAA4Bla,KAAK8R,QAAQ2E,UACnF,OACC,mBAAKhS,IFnHG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,QACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEyGkBxV,UAAU,iDAAiDywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBACpJK,EAED,mBAAKh1C,IFtGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QEkGoBX,UAAU,oBAC1C,mBAAKE,KF/F4BqN,EE+FA9R,KAAK8R,QF7FnC,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,OACTy0C,UAAW,WACXt1C,MAAO,OACPsT,UAAW,UEqFwC3T,UAAU,gCACzD,mBAAKE,IFhFA,CACHS,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ,IAAO,CACHR,MAAO,SE2EyBL,UAAU,kCAC/C,iBAAGE,IAAK8T,GAAUitB,GAAUxlC,KAAK8R,SAAUuB,IAAKmD,GAAW0D,UAAU,aAAcla,KAAK8R,QAAQ2E,YAChG,iBAAGhS,IFtEC,CACR6V,OAAQ,IACRqqB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,oBACPF,SAAU,OACV8P,WAAY,OE+DmBjQ,UAAU,qBACnCg2E,IAGH,kBAAI91E,IAAK+8C,GAAgBxhD,KAAK8R,SAAUvN,UAAU,sBAChDw6B,KAKHof,EAED,mBAAK15C,IFrCE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACnB4M,OAAQ,QEgCgCzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GA5GDnE,IAAMC,WAA9C48E,GACE19C,YAAc3qB,GAmHtBqoE,GAAgC/pE,aAAe,CAC9C1E,MAAOA,GACPuvB,gBAAiB,cCpJX,IAqFM/lB,GAAY,SAACnH,EAAKU,GAC9B,MAAO,CACNlN,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTsT,KAAK,OAAD,OAASpH,EAAT,6BACJ7L,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMpK,MAAMgL,OACxCoK,WAAY,MC5FC,OAA0B,wCC2BnC0jE,G,kDAGL,WAAYx9E,GAAQ,IAAD,8BAClB,cAAMA,IA6CPm5C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA/CD,EAkDnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aApDF,EAwDnB6jC,YAAc,WAEb,IAS+C,IATzC71C,EAAc34B,GAAA,cACd44B,EAAeF,GAAuB,EAAKpnC,MAAM6E,QAASwiC,GAEhE,OAAIC,aAAwB61C,KAEpB,CAAEC,SAAU91C,EAAY,MAErB,EAAKtnC,MAAM6E,QAAQ4M,KAAK26C,aACe,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAK/B,CAAE8sE,SAHK,UAAG,EAAKp9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAGtC45E,QAFN,UAAG,EAAKr9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwCvlB,UALlD,GA9DP,EAAKtmC,MAAQ,CACZ84C,YAAY,EACZikC,SAAU,IALO,E,qDASnB,WAEC,IAAMA,EAAWv9E,KAAKm9E,cACtBn9E,KAAKkE,SAAS,CAAEq5E,SAAUA,M,mCAG3B,SAAsBt7B,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,YACpCt5C,KAAKQ,MAAM+8E,WAAar7B,EAAUq7B,W,gCAMtC,SAAmBvqE,GAKlB,GAH2B0iB,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,SAEN,CAE7C,IAAMy4E,EAAWv9E,KAAKm9E,cAEGznD,KAAKC,UAAU31B,KAAKQ,MAAM+8E,YAC3B7nD,KAAKC,UAAU4nD,IAGtCv9E,KAAKkE,SAAS,CAAEq5E,SAAUA,O,oBAmC7B,WACC,IAAK9sE,OAAOC,KAAK1Q,KAAKQ,MAAM+8E,UAAUhtE,OACrC,OAAO,KAGR,IAAI4tC,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IFzCC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WACtB6S,UAAW,QEmCkC3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KACdz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAGjG,IACmD,IAO5C,EF9GyBxsB,EEsG5BimC,EAAc,KACd/3C,KAAKQ,MAAM+8E,SAAS5sE,eAAe,WACtConC,EACC,iBAAGqQ,KAAI,UAAEpoD,KAAKQ,MAAM+8E,gBAAb,aAAE,EAAqBD,QAASvqC,OAAO,SAAS1Y,IAAI,sBAAsB91B,UAAU,iBAC1F,iBAAGE,IAAK8T,GAAUunD,GAAU9/D,KAAK8R,WACjC,+BAAI9R,KAAKQ,MAAM+8E,gBAAf,aAAI,EAAqBF,WAI3BtlC,EACC,YAAC,IAAM/yC,SAAP,KACC,iBAAGP,IAAK8T,GAAUunD,GAAU9/D,KAAK8R,WACjC,+BAAI9R,KAAKQ,MAAM+8E,gBAAf,aAAI,EAAqBF,WAK5B,OACC,mBAAK54E,IFhJG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KEsIkBxV,UAAU,2CAA2CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC9IK,EAED,mBAAKh1C,IFnIE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QE+HoBX,UAAU,oBAC1C,mBAAKE,KF5HwBqN,EE4HA9R,KAAK8R,QF1H/B,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,WACTy0C,UAAW,WACXlgC,SAAU,OACV,iBAAkB,CACjB9U,QAAS,OACTG,eAAgB,SAChBD,WAAY,SACZ00B,WAAY,MACZ4gD,eAAgB,OAChB/1E,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BqK,SAAU,OACVtV,SAAU,OACV,+BAAgC,CAC/BC,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9B+qE,eAAgB,QAEjB,MAAO,CACNpgE,OAAQ,IACRqqB,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,OACPF,SAAU,OACV8P,WAAY,UE8FiCjQ,UAAU,0BACrD,mBAAKA,UAAU,iBAAiBwzC,KAIjCoG,EAED,mBAAK15C,IF7FE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACnB4M,OAAQ,QEwFgCzN,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GApIAnE,IAAMC,WAA/C68E,GACE39C,YAAc3qB,GA2ItBsoE,GAAiChqE,aAAe,CAC/C1E,MAAOA,GACPuvB,gBAAiB,cCzKX,IA0BMumB,GAAoB,SAAA/yC,GAEhC,IAAMy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAE7B,OAAO,aACNhL,QAAS,eACTg1C,UAAW,WACXlgC,SAAU,QACVhI,OAAQ,QACRtM,OAAQ,UACRqU,WAAY,IACZ3I,IAAK,CACJ5L,aAAc,MACdwM,OAAQ,SATV,iBAWYu7B,EAAG,GAXf,aAWsBA,EAAG,IAAO,CAC9B3R,SAAU,OACV5hB,SAAU,QACVhI,OAAQ,QACRvM,QAAS,aCnBNi4E,G,kDAIL,WAAYz9E,EAAO6R,GAAU,IAAD,8BAE3B,cAAM7R,EAAO6R,IAJd0f,MAAQ,KAEoB,EAgD5BspD,YAAc,SAAAC,GACb,IAAMC,EAAWD,EAAyB,UAKtCE,EAJcF,EAAyB,WAS3C,OAPWz4E,OAAOmrE,WAAW,EAAKxtE,MAAM8O,MAAMmB,YAAY,IAGnD88D,UACNiO,EAAkBD,GAGZC,GA3DoB,EA8D5BvzB,SAAW,WAEV,IAAMwzB,EAA0Bj0C,GAA8B,EAAKhnC,MAAM6E,QAAS,wBAClF,GAAIo2E,EAAyB,CAE5B,IAG+C,EAH3CC,EAAY,GAChB,GAAI,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,aACsB,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OACtC4qE,EAAS,UAAG,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAG1CpB,OAAOmrE,WAAW,EAAKxtE,MAAM8O,MAAMmB,YAAY,IACvDw9D,aAAY,WAEd,IAAMuN,EAAkB,EAAKH,YAAYI,GACrC9pE,EAAM,IAAIC,MACdD,EAAIE,IAAM2pE,EACV7pE,EAAIG,OAAS,WACR,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,QAKjD,IAAMF,EAAkB,EAAKH,YAAYI,GACzC,EAAKG,cAAcJ,GACjBp5E,MAAK,SAAAwB,GACL,IAAI+N,EAAM,IAAIC,MACdD,EAAIE,IAAM2pE,EACV7pE,EAAIG,OAAS,WACR,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,QAIhDv4E,OAAM,SAAAnB,GAAK,OAAIiB,QAAQjB,MAAMA,WAE/B,EAAK65E,sBApGqB,EAwG5BA,mBAAqB,WAEpB,IAIIH,EAJE7zC,EAAc34B,GAAA,cACd44B,EAAeF,GAAuB,EAAKpnC,MAAM6E,QAASwiC,GAE5Dl2B,EAAM,IAAIC,MAEd,GAAIk2B,aAAwB61C,KAAM,CAEjC,IAAMruB,EAAS,IAAIC,WACnBD,EAAOx9C,OAAS,WACfH,EAAIE,IAAMy9C,EAAOI,QAElBgsB,EAAY5zC,EAAY,KACxBwnB,EAAO4uB,cAAcp2C,QAEf,GAAI,EAAKtnC,MAAM6E,QAAQ4M,KAAK26C,aACgB,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAAQ,CAAC,IAAD,IAEzC+sE,EAAO,UAAG,EAAKr9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwCvlB,IACxDq0C,EAAS,UAAG,EAAKl7E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KACpD0N,EAAIE,IAAMgsE,EAGXlsE,EAAIG,OAAS,WAER,EAAKC,YAAc,EAAKhR,MAAM46E,WAAahqE,EAAIE,KAClD,EAAKpN,SAAS,CAAEk3E,SAAUhqE,EAAIE,IAAK6pE,UAAWA,MApIrB,EAwK5Bn5B,KAAO,WACN,EAAK/hD,MAAMq+B,gBAAgB3vB,GAAA,oBAAsC,EAAK1O,MAAM6E,UAzKjD,EA4K5Bs0C,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA7KQ,EAgL5BA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aA/KpB,EAAK9nC,YAAa,EAClB,EAAKuB,OAASpS,IAAMyD,YAEpB,EAAK5D,MAAQ,CACZ46E,SCrCY,yJDsCZD,UAAW3kE,GAAW0D,UAAU,UAAWpI,EAAQ2E,UACnD6iC,YAAY,GATc,E,yDAa5B,SAAsB2I,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM46E,WAAal5B,EAAUk5B,UAClCp7E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,a,+BAQxC,WAECt5C,KAAKwR,YAAa,EAClBxR,KAAK0nD,a,gCAGN,SAAmB10C,GAES0iB,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,UAGnD9E,KAAK0nD,a,kCAIP,WACC1nD,KAAKwR,YAAa,I,2BA4FnB,SAAc+pE,GAAS,IAAD,OA4BrB,OA3BgB,IAAIj0D,SAAQ,SAACC,EAASsJ,GACrC,IAAM2qD,EAAM,IAAIC,eAChBD,EAAIx5B,KAAK,MAAOu5B,GAAQ,GACxBC,EAAIE,aAAe,OAEnBF,EAAIjqE,OAAS,WACW,IAAnBiqE,EAAIG,WACY,MAAfH,EAAIzmE,QACP,EAAKyc,MAAQ,KACbjK,EAAQg0D,IACiB,MAAfC,EAAIzmE,SACd,EAAKyc,MAAQjY,YAAW,WACvB,EAAK8hE,cAAcE,GACjB15E,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQg0D,MACzB34E,OAAM,SAAAnB,GAAK,OAAIovB,EAAOpvB,QACtB,MAGJovB,EAAO2qD,EAAII,aAIbJ,EAAIK,QAAU,SAAAnoD,GAAK,OAAI7C,EAAO,IAAIirD,MAAM,6BAA8BpoD,KACtE8nD,EAAIO,UAAY,SAAAroD,GAAK,OAAI7C,EAAO,IAAIirD,MAAM,6BAA8BpoD,KACxE8nD,EAAIQ,Y,oBAoBN,WAAU,IAAD,OACJ79B,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,ID1JC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QCoJ4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDrOG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC2NkBxV,UAAU,4CAA4CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC/IK,EAED,mBAAKh1C,IDxNE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QCoNoBX,UAAU,oBAC1C,mBAAKE,IAAKogD,GAAkB7kD,KAAK8R,SAAUqC,QAASnU,KAAKgiD,KAAMz9C,UAAU,yBACxE,mBACC+M,IAAKtR,KAAKQ,MAAM46E,SAChB/nE,IAAKrT,KAAKQ,MAAM26E,UAChB5nE,IAAK,SAAAC,GACJ,EAAKT,OAASS,OAMjB2qC,EAED,mBAAK15C,IDpME,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZ4M,OAAQ,OACRvM,QAAS,WC8LwBlB,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GAhOCnE,IAAMC,WAAhD88E,GACE59C,YAAc3qB,GAuOtBuoE,GAAkCjqE,aAAe,CAChD1E,MAAOA,GACPuvB,gBAAiB,cEpQX,IAsCMunB,GAAkB,SAAC5lD,EAAOg8E,EAAernE,GAElD,IAWIsnE,EAAY,GACZ0B,EAAa,GAwCjB,OAtCc,IAAVhpE,GACAsnE,EAAY,CACT,QAAS,CACJt3E,MAAO,OACPoN,OAAQ,SAGhB4rE,EAAa,CACT5rE,OAAQ,SAEK,IAAV4C,GACPsnE,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,SAGhB4rE,EAAa,CACT5rE,OAAQ,SAEL4C,EAAQ,IACfsnE,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,WAKE,IAAlBiqE,IACAC,EAAY,CACR,QAAS,CACLt3E,MAAO,OACPoN,OAAQ,UAKb,qCACHsI,OAAQ,IACR5V,SAAU,OACVigC,WAAY,WACZggB,UAAW,aACX9/C,UAAW,OACXD,MAAO,QACJg5E,GAPP,IAQI,KAAM,CACFj5E,MAAO,UACP,UAAW,CACPA,MAAO,YAGf,sBAAuB,CACnBA,MAAO,UACP,UAAW,CACPA,MAAO,YAGf,mBAAoB,CAChBA,MAAO,UACP,UAAW,CACPA,MAAO,aA3EM,CACrB,SAAU,CACNC,MAAO,OACPoN,OAAQ,OACR9M,QAAS,eACTy3C,cAAe,MACfw/B,KAAM,IACN7hE,OAAQ,WAwET4hE,IC3FL2B,G,kDAGL,WAAY59E,GAAQ,IAAD,8BAClB,cAAMA,IAyCPo8E,eAAiB,WAChB,IAAItlC,EAAc,EAAK92C,MAAM6E,QAAQkyC,KAG/BC,EAAUhQ,GAA8B,EAAKhnC,MAAM6E,QAAS,cAC9DmyC,GAAWA,EAAQtmC,eAAe,mBAAqBsmC,EAAQtmC,eAAe,WAAgC,QAAnBsmC,EAAQwb,SACtG1b,EAAcE,EAAQC,gBAIvB,IAAMC,EAAalQ,GAA8B,EAAKhnC,MAAM6E,QAAS,gBACjEqyC,GAAcA,EAAWxmC,eAAe,SAAWwmC,EAAWzlC,KAAKf,eAAe,mBAAqBwmC,EAAWzlC,KAAKf,eAAe,mBAAwD,QAAnCwmC,EAAWzlC,KAAK0lC,iBAC9KL,EAAcI,EAAWzlC,KAAK2lC,gBAI/B,IAAMC,EAAcrQ,GAA8B,EAAKhnC,MAAM6E,QAAS,oBAClEwyC,GAAeA,EAAY3mC,eAAe,cAAgB2mC,EAAY3mC,eAAe,kBAA8C,QAA1B2mC,EAAYC,YACxHR,EAAcO,EAAYE,eAG3B,IDpEoC1lC,ECoE9BwqE,EAAgB51C,GAAQqQ,GAExBwlC,EAAqBC,KAAQ5mD,MAAM0mD,EAAe,CAAEG,OAAQ,MAAOC,IAAK,SAE1E9nE,EAAQ0zB,GAAqBi0C,EAAmB,iBAE9CI,EAAgB/mD,aAAM2mD,GAExBN,GAAgB,EAepB,OAb0C,IAAtC,EAAKz7E,MAAMo8E,yBACdX,GAAgB,GAGjBllC,EACC,mBAAKtyC,KDnF8BqN,ECmFF,EAAKA,QDjFjC,CACN5M,QAAS,eACTM,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,cAClCtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,OAC9BlK,QAAS,WACTb,MAAO,SC2E0CL,UAAU,yBACzD,iBAAGE,IAAKohD,GAAgB,EAAK5lD,MAAOg8E,EAAernE,GAAQrQ,UAAU,gBACnEo4E,EACA,EAAKn8E,MAAMq8E,qBAjFG,EAyFnB1xB,iBAAmB,SAAArmD,GAClB,IAAM0rC,EAAY1rC,EAAQ2rC,GACpBsG,EAAcjyC,EAAQkyC,KAEtBv/B,EAAsBjB,GAAWW,qBAAqBO,cACxDolE,EAAsBrlE,EAC1B,IAA0C,IAAtCA,EAAoBG,QAAQ,KAAa,CAC5C,IAAMmlE,EAAuBtlE,EAAoBI,MAAM,KACvDilE,EAAsBC,EAAqB,GAG5C,IAAIF,EAAoB,GACxBj7E,YAAU+4C,cAAc,sBAAuB,OAAQ,eAAgB,CACtEyC,MAAO5M,EACPwG,KAAMD,EACN1/B,UAAW,CAACylE,KAEXj7E,MAAK,SAAAstD,GACL,GAAIA,EAAOx+C,eAAe,sBAAwBw+C,EAAM,oBAA0B2tB,EACjF,GAAI3tB,EAAOx+C,eAAe,iBAAmBw+C,EAAOz5C,aAAanF,OAAQ,CACxE,IAAMgQ,EAAqB4uC,EAAOz5C,aAAa,GAC3C6K,EAAmB5P,eAAe,wBACrCksE,EAAiB,aAASt8D,EAAkB,mBAA3B,WAGlB,EAAKtgB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,wBAGxD,EAAK1O,MAAMq+B,gBAAgB3vB,GAAA,KAAuB,GAAI,yBAGvD,EAAKzK,SAAS,CAAE24E,kBAAmBA,OAEnCj6E,OAAM,SAAAnB,GAAK,OAAI,EAAKxB,MAAMq+B,gBAAgB3vB,GAAA,MAAwB,GAAI,uBA1HtD,EA6HnBiuE,uBAAyB,WACxB,EAAK9qE,QAAQ0D,mBAAmBsS,4BAC9BjmB,MAAK,SAAAwB,GACDA,IAAa,EAAK7C,MAAMo8E,wBAC3B,EAAK14E,SAAS,CAAE04E,uBAAwBv5E,OAGzCT,OAAM,SAAAnB,IACoC,IAAtC,EAAKjB,MAAMo8E,wBACd,EAAK14E,SAAS,CAAE04E,wBAAwB,QAtIzB,EA2InBxjC,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBA5ID,EA+InBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aAjJF,EAqJnBtV,cAAgB,SAAC/E,EAAQn6B,GACxB,OAAQm6B,GACP,KAAKtwB,GAAA,iBAGL,KAAKA,GAAA,sBAGL,KAAKA,GAAA,eAGL,KAAKA,GAAA,aACJ,EAAK1O,MAAMq+B,gBAAgBW,EAAQn6B,GACnC,MACD,KAAK6J,GAAA,kBACJ,EAAKw8C,iBAAiBrmD,KAjKxB,EAAKg5E,eAAiBn9E,IAAMyD,YAE5B,EAAK5D,MAAQ,CACZq8E,kBAAmB,GACnBvjC,YAAY,EACZsjC,wBAAwB,GARP,E,yDAYnB,SAAsB36B,EAAWC,GAKhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,YACpCt5C,KAAKQ,MAAMq8E,oBAAsB36B,EAAU26B,mBAC3C78E,KAAKQ,MAAMo8E,yBAA2B16B,EAAU06B,yB,+BAOpD,WAEC58E,KAAK48E,2B,gCAGN,SAAmB5pE,EAAWw/C,GAEzBx/C,EAAUlO,UAAY9E,KAAKC,MAAM6E,SAEpC9E,KAAKkE,SAAS,CAAE24E,kBAAmB,KAGpC78E,KAAK48E,2B,oBAoIN,WAEC,IAAI7lC,EAAc/2C,KAAKq8E,iBAGjBW,EAAkB/1C,GAA8BjnC,KAAKC,MAAM6E,QAAS,gBACtEk4E,GAAmBA,EAAgBrsE,eAAe,UAAYqsE,EAAe,MAAUzsE,SAC1FwmC,EAAc,YAAC,GAAD,CAAsBjyC,QAAS9E,KAAKC,MAAM6E,QAASiyC,YAAaA,KAI/E,IAAIoH,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDjFC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QC2E4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKgkC,iBAI1F,mBAAKv/B,IDrOG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC2NkBxV,UAAU,2CAA2CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC9IK,EACD,mBAAKh1C,IDvNE,CACHG,MAAO,OACPs1C,UAAW,WACXh1C,QAAS,OACTm9C,KAAM,OCmNuB99C,UAAU,mBAAmBgP,IAAKvT,KAAK89E,gBACtE/mC,GAGDoH,EAED,mBAAK15C,IDlHE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZ4M,OAAQ,OACRvM,QAAS,WC4GwBlB,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GArNAnE,IAAMC,WAA/Ci9E,GACE/9C,YAAc3qB,GA4NtB0oE,GAAiCpqE,aAAe,CAC/C1E,MAAOA,GACPuvB,gBAAiB,cC3PX,ICoBDy/C,G,kDACL,WAAY99E,GAAQ,IAAD,8BAClB,cAAMA,IA4CPk9E,YAAc,WAEb,IASgD,IAT1C71C,EAAc34B,GAAA,cACd44B,EAAeF,GAAuB,EAAKpnC,MAAM6E,QAASwiC,GAEhE,OAAIC,aAAwB61C,KAEpB,CAAEC,SAAU91C,EAAY,MAErB,EAAKtnC,MAAM6E,QAAQ4M,KAAK26C,aACgB,kBAAxC,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,aAC/B,EAAKpsD,MAAM6E,QAAQ4M,KAAK26C,YAAY97C,OAKhC,CAAE8sE,SAHK,UAAG,EAAKp9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwC3oD,KAGtC45E,QAFN,UAAG,EAAKr9E,MAAM6E,QAAQ4M,KAAK26C,YAAY,UAAvC,aAAG,EAAwCvlB,UALlD,GAtDW,EAiEnBsS,iBAAmB,WAClB,EAAKl1C,SAAS,EAAKy9C,mBAlED,EAqEnBA,iBAAmB,SAAAnhD,GAClB,MAAO,CACN84C,YAAa94C,EAAM84C,aApEpB,EAAK94C,MAAQ,CACZ84C,YAAY,EACZikC,SAAU,IALO,E,qDASnB,WAEC,IAAMA,EAAWv9E,KAAKm9E,cACtBn9E,KAAKkE,SAAS,CAAEq5E,SAAUA,M,mCAG3B,SAAsBt7B,EAAWC,GAIhC,OAH0BxsB,KAAKC,UAAU31B,KAAKC,MAAM6E,WAC7B4wB,KAAKC,UAAUssB,EAAUn9C,UAG7C9E,KAAKQ,MAAM84C,aAAe4I,EAAU5I,YACpCt5C,KAAKQ,MAAM+8E,WAAar7B,EAAUq7B,W,gCAMtC,SAAmBvqE,GAKlB,GAH2B0iB,KAAKC,UAAU3iB,EAAUlO,WAC1B4wB,KAAKC,UAAU31B,KAAKC,MAAM6E,SAEN,CAE7C,IAAMy4E,EAAWv9E,KAAKm9E,cAEGznD,KAAKC,UAAU31B,KAAKQ,MAAM+8E,YAC3B7nD,KAAKC,UAAU4nD,IAGtCv9E,KAAKkE,SAAS,CAAEq5E,SAAUA,O,oBAmC7B,WAAU,IAAD,EACR,IAAK9sE,OAAOC,KAAK1Q,KAAKQ,MAAM+8E,UAAUhtE,OACrC,OAAO,KAGR,IAAI4tC,EAAmB,KACjBgE,EAAgBlb,GAA8BjnC,KAAKC,MAAM6E,QAAS,aACpEq9C,GACC1xC,OAAOC,KAAKyxC,GAAe5xC,SAC9B4tC,EACC,mBAAK15C,IDrDC,CACHS,QAAS,OACTg1C,UAAW,WACXt1C,MAAO,OACP23C,SAAU,OACVl3C,eAAgB,WAChB6S,UAAW,QC+C4B3T,UAAU,8BACnD,YAAC,GAAD,CAA2BO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,oBAMxF,IAAImb,EAAc,KAKlB,OAJIz5C,KAAKQ,MAAM84C,aACdG,EAAc,YAAC,GAAD,CAAyB30C,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,mBAIhG,mBAAK75B,IDrHG,CACHy1C,UAAW,WACXjiC,aAAc,OACd0hC,YAAa,OACbC,aAAc,OACd5/B,SAAU,MACV6b,MAAO,OACPhiB,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf4U,WAAY,KC2GkBxV,UAAU,4CAA4CywC,aAAch1C,KAAKo5C,iBAAkBnE,aAAcj1C,KAAKo5C,kBAC/IK,EAED,mBAAKh1C,IDxGE,CACHG,MAAO,OACPy9C,KAAM,MACNnI,UAAW,WACXh1C,QAAS,QCoGoBX,UAAU,oBAC1C,mBAAKE,ID/FC,CACHS,QAAS,eACTg1C,UAAW,WACX,WAAY,CACRlgC,SAAU,QACVxU,aAAc,OACdN,QAAS,YCyFsBX,UAAU,2BAC/C,qBAAO81E,UAAQ,EAAC/oE,IAAG,UAAEtR,KAAKQ,MAAM+8E,gBAAb,aAAE,EAAqBD,YAI3Cn/B,EAED,mBAAK15C,IDzFE,CACHy1C,UAAW,WACXh1C,QAAS,OACTG,eAAgB,WAChBD,WAAY,SACZ4M,OAAQ,OACRvM,QAAS,WCmFwBlB,UAAU,0BAC9C,YAAC,GAAD,CAAoCO,QAAS9E,KAAKC,MAAM6E,QAASw5B,gBAAiBt+B,KAAKC,MAAMq+B,kBAC7F,YAAC,GAAD,CAAsBx5B,QAAS9E,KAAKC,MAAM6E,gB,GAhHCnE,IAAMC,WAwHtDm9E,GAAkCtqE,aAAe,CAChD6qB,gBAAiB,cC7IX,IAAM0/C,GAAkB,SAAAlsE,GAE9B,MAAO,CACN5M,QAAS,eACTR,SAAU,OACV4P,WAAY,MACZC,WAAY,OACZqwB,cAAe,YACfn/B,QAAS,SACTC,OAAQ,UACRf,MAAOmN,EAAQ/C,MAAMpK,MAAM+K,KAC3B,UAAW,CACVgrE,eAAgB,eCEbuD,GAAqC,SAAAh+E,GAE1C,IAAM6R,EAAUnR,IAAMuU,WAAWC,IACjC,EAA0BxU,IAAMyU,UAAS,GAAzC,oBAAO8oE,EAAP,KAAcC,EAAd,KAgBAx9E,IAAM4U,WAdc,WACnBzD,EAAQ0D,mBAAmB2V,4BACzBtpB,MAAK,SAAAwB,GACDA,IAAa66E,GAChBC,EAAS96E,MAGVT,OAAM,SAAAnB,IACQ,IAAVy8E,GACHC,GAAS,SAOb,IAIM9yB,EAAaprD,EAAM6E,QAAQumD,WAC3BguB,EAA2B,IAAfhuB,EAAA,UAAsBA,EAAtB,YAAoC70C,GAAW0D,UAAU,QAASpI,EAAQ2E,WAA1E,UAA2F40C,EAA3F,YAAyG70C,GAAW0D,UAAU,UAAWpI,EAAQ2E,WAE/J2nE,EACH,oBAAM35E,IAAKu5E,GAAgBlsE,GAAUvN,UAAU,aAAa4P,QAR1C,WAClBlU,EAAMq+B,gBAAgB3vB,GAAA,sBAAwC1O,EAAM6E,WAQlEu0E,GAaH,OATmD,IAA/Cp5E,EAAM6E,QAAQ6L,eAAe,gBAChCytE,EAAU,OAIG,IAAVF,IACHE,EAAU,MAGJA,GAIRH,GAAmCxqE,aAAe,CACjD1E,MAAOA,GACPuvB,gBAAiB,cC/DX,IAmCM+/C,GAAsB,SAAAvsE,GAClC,MAAO,CACNwI,OAAQ,SACRzV,UAAW,SACXF,MAAOmN,EAAQ/C,MAAMpK,MAAM8K,WAIhB6uE,GAAqB,SAAAxsE,GAAY,IAAD,EAEnCy7B,EAAE,aAAOz7B,EAAQ/C,MAAMmB,aAEvB0yC,GAAS,GACXh+C,MAAO,OADI,+BAEA2oC,EAAG,IAAO,CACjB3oC,MAAO,QAHA,+BAKA2oC,EAAG,IAAO,CACjB3oC,MAAO,QANA,+BAQA2oC,EAAG,IAAO,CACjB3oC,MAAO,QATA,+BAWA2oC,EAAG,IAAO,CACjB3oC,MAAO,QAZA,GAgBlB,OAAO,2BACHg+C,GADJ,IAECn9C,QAAS,WACT6U,OAAQ,IACR9U,aAAc,OACdD,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,aAAnB,cACftK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMpK,MAAMgL,UChD1B4uE,GAAuB,SAAAt+E,GAE5B,IAAM6R,EAAUnR,IAAMuU,WAAWC,IAC3BqpE,EAAQ,eAAQ1sE,EAAQmF,MAmB9B,OACC,mBAAKxS,ID3CI,CACHgB,QAAS,OACTP,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBE,gBAAiB,OACjBoO,OAAQ,IACRg4C,MAAO,IACP93C,SAAU,WACVwuC,KAAM,OACNnqC,UAAW,QACXtT,MAAO,OACP0V,OAAQ,QC8B0B/V,UAAU,IACjD,mBAAKE,ID1BG,CACHS,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,WCuBpB,mBAAKZ,IDlBE,CACHC,SAAU,OACV4P,WAAY,MACZzP,UAAW,WCeiB2R,GAAW0D,UAAU,mBAAoBja,EAAMka,MAAQ,IAAMqkE,EAAS96E,MACtG,mBAAKe,IAAK45E,GAAoBvsE,IAAW0E,GAAW0D,UAAU,gCAAiCja,EAAMka,QAEtG,sBAAQ7Y,KAAK,SAASmD,IAAK65E,GAAmBxsE,GAAUqC,QAvBtC,WAEnB,IAAIjS,EAAMs8E,EAASt8E,IACnBN,YAAUk/D,aAAa,CAAC5+D,IACtBL,MAAK,SAAAwB,GACL,GAAIA,GAAYA,EAASsN,eAAezO,IAAQmB,EAASnB,GAAKyO,eAAe,aAA2C,IAA7BtN,EAASnB,GAAT,QAAmC,CAE7H,IAAMy+D,EAAU/+D,YAAU+yB,YAAYC,UAChCgsC,EAAUnwD,OAAO0gC,OAAO,GAAIqtC,EAAU,CAAEprC,aAAa,IAC3DthC,EAAQihB,eAAe4tC,EAASC,QAEhC9zB,GAAe6nC,eAAehmE,GAAA,MAAwB,sBAGvD/L,OAAM,SAAAnB,GAAK,OAAIqrC,GAAe6nC,eAAehmE,GAAA,MAAwB,wBAUpE6H,GAAW0D,UAAU,UAAWja,EAAMka,SAO3CokE,GAAqB9qE,aAAe,CACnC0G,KAAM3D,GAAWe,sBC1DX,IA8BMknE,GAAyB,SAACj+E,EAAOP,GAE1C,IAAM8jE,EAAevjE,EAAMwjE,YAAe,CACtCjwD,KAAM,IACNoE,UAAW,uCACX,GAEEo1B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aACHtL,MAAO,QACPq/D,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClD6C,OAAQ,OACR6B,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf,WAAY,CACR6M,OAAQ,qBARhB,iBAUeu7B,EAAG,IAVlB,aAWQ15B,SAAU,qBACVE,KAAM,QACND,IAAK,IACLwlB,OAAQ,IACR10B,MAAO,iBACP+O,OAAQ,IACRpO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,OAChDqE,WAAY,oBACT+vD,KAKF2a,GAAsB,SAACl+E,EAAOP,GAEvC,IAAMstC,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aACHtL,MAAO,qBACPoN,OAAQ,OACR25C,MAAO,IACPzmD,QAAS,OACTC,cAAe,OALnB,iBAMeooC,EAAG,GANlB,aAMyBA,EAAG,IAAO,CAC3B3oC,MAAO,UCnDb+5E,G,kDAIL,WAAY1+E,GAAQ,IAAD,8BAClB,cAAMA,IAHPwxB,aAAe,KAEI,EAmBnB2yC,YAAc,SAACntD,EAAM3V,GAEpB,EAAKkxC,mBAAmBzf,eAAezxB,EAAM2V,GAC7C,EAAKotD,iBAtBa,EAyBnBrgC,cAAgB,SAAC/E,EAAQhoB,EAAMrC,GAA0B,IAAD,EAEvD,OAAOqqB,GAEN,KAAKtwB,GAAA,eACJ,EAAK01D,gBACN,MACA,KAAK11D,GACL,KAAKA,GACL,KAAKA,GAAL,2BATuC6jE,EASvC,iCATuCA,EASvC,mBACC,KAAKlM,aAAL,SAAkBrnC,EAAQhoB,EAAMrC,GAAhC,OAA0C49D,MAnC1B,EA0CnBnO,cAAgB,WAEf,IAAML,EAAc,EAAKxjE,MAAMwjE,YAC/B,EAAK9/D,SAAS,CAAE8/D,aAAcA,KA7CZ,EAmDnBsC,aAAe,SAACxvD,EAAKhS,EAASmM,EAAOk+B,GAEpC,OAAQr4B,GACP,KAAKnI,GACL,KAAKA,GAEA,EAAK6jC,mBAAmBlxC,OAASM,YAAU+yB,YAAYG,YACxD,EAAK0d,mBAAmBv7B,KAAK9F,OAASF,EAAME,MAC5Cg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,MAEzC,EAAKswC,mBAAmBt7B,QAAQ,IAChC,EAAKs7B,mBAAmB1f,QAAQ,KAEjC,MAED,KAAKnkB,GAEJ,GAAI,EAAK6jC,mBAAmBlxC,OAASM,YAAU+yB,YAAYG,YACxD,EAAK0d,mBAAmBv7B,KAAK9F,OAASF,EAAME,MAC5Cg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,IAAK,CAE9C,IAAMuwE,EAAYhiE,OAAO0gC,OAAO,GAAI,EAAKqB,mBAAmBv7B,KAAM,CAAE,MAASk4B,EAAO,QACpF,EAAKqD,mBAAmBt7B,QAAQu7D,GAChC,EAAKjgC,mBAAmB1f,QAAQlxB,YAAU+yB,YAAYG,eAvEzD,EAAKt0B,MAAQ,CACZo+E,IAAK,gBACL5a,aAAa,GAGd,EAAKxxB,mBAAqB7xC,IAAMyD,YAChC,EAAK6uC,YAActyC,IAAMyD,YATP,E,qDAYnB,WAEwC,IAAnCpE,KAAKC,MAAMqkE,aAAa/zD,QAAoD,IAApCvQ,KAAKC,MAAMyyE,cAAcniE,QACpEvQ,KAAKqkE,kB,oBAqEP,WAAU,ID/GqBpkE,EC+GtB,OAEJskE,EACH,YAAC,GAAD,CACAx1D,MAAO/O,KAAKC,MAAM8O,MAClBoL,KAAMna,KAAKC,MAAMka,KACjBgzB,QAAQ,gBACR7O,gBAAiBt+B,KAAKgkC,gBAGvB,OACC,YAAC,GAAD,CAA0BzwB,IAAK,SAAAC,GAAE,OAAI,EAAKg/B,mBAAqBh/B,GAAInS,KAAMrB,KAAKC,MAAMqkE,aAAcrzD,MAAOjR,KAAKC,MAAMyyE,cAAej8D,SAAUzW,KAAKC,MAAMka,MACvJ,mBAAK1V,KD3HuBxE,EC2HFD,KAAKC,MDzHxB,CACHiF,QAAS,OACT8M,OAAQ,OACRpN,MAAO,OACP0T,UAAW,aACXzE,SAAU,WACV7E,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuL,OAAO,aAAD,OAAeta,EAAM8O,MAAMc,YAAYV,SAC7C,IAAK,CACDmJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,sBAAuB,CACnBpK,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,YCoGWv1B,UAAU,6BAA6ByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OACrH,mBAAK1V,IAAKg6E,GAAuBz+E,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,kBACnE,YAAC,GAAD,CACAgP,IAAK,SAAAC,GAAE,OAAI,EAAKy/B,YAAcz/B,GAC9B25B,QAAQ,OACRp+B,MAAO/O,KAAKC,MAAM8O,MAClBoL,KAAMna,KAAKC,MAAMka,KACjB63B,YAAahyC,KAAKokE,YAClB9lC,gBAAiBt+B,KAAKgkC,iBAEvB,mBAAKv/B,IAAKi6E,GAAoB1+E,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,eAAeggE,GAChF,YAAC,GAAD,CAAuBx1D,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,gBAC7F,YAAC,GAAD,CAA6Bj1B,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,sB,GAhHpDrjC,IAAMC,WAwH1D+9E,GAAsClrE,aAAe,CACpD0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPu1D,aAAc,GACdoO,cAAe,ICnJT,IAAMmM,GAAsB,SAAC5+E,GAEhC,MAAO,CACHiF,QAAS,OACTC,cAAe,mBACf6M,OAAQ,oBACRhD,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,IAAK,CACDsJ,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,eA2E1B8vE,GAAkB,SAAC7+E,GAE5B,MAAO,CACHyE,SAAU,OACV4V,OAAQ,IACR3V,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAM+K,QCzFrB,OAA0B,mCC4BnCqvE,G,kDAEL,WAAY9+E,GAAQ,IAAD,8BAElB,cAAMA,IAgBPyB,OAAS,WACRs9E,cACA18E,OAAOP,aAAaC,WAAW,kBAC/BJ,YAAUF,SAASG,MAClB,WACCS,OAAO5B,SAASu+E,YACd,SAAAx9E,GACFa,OAAO5B,SAASu+E,aArBlB,EAAKz+E,MAAQ,CACZixB,aAAc,MAGf,EAAKiD,SAAW/zB,IAAMyD,YARJ,E,qDAWnB,WAAqB,IAAD,OAEnBxC,YAAU2vB,kBAAkB1vB,MAAK,SAAAR,GAChC,EAAK6C,SAAS,CAAEutB,aAAcpwB,OAC5BuB,OAAM,SAAAnB,GAAK,OAAI,EAAKizB,SAAS3b,SAAS,wB,oBAe1C,WAAU,IFkEiB3H,EAhHAnR,EE8ClB,OACJi/E,EAAc,KAClB,GAAGl/E,KAAKQ,MAAMixB,aAAc,CAE3B,IAAI9tB,EAAS,YAAC,GAAD,CAAiBtC,KAAMrB,KAAKQ,MAAMixB,eAC/CytD,EACC,YAAC,IAAMl6E,SAAP,KACC,mBAAKP,KFrDkBxE,EEqDDD,KAAKC,MFnDrB,CACHwF,QAAS,OACToO,SAAU,WACVw5B,aAAa,aAAD,OAAeptC,EAAM8O,MAAMc,YAAYV,SACnD6C,OAAQ,OACR9M,QAAS,OACTE,WAAY,WE6CoBb,UAAU,oBAC5C,kBAAIE,IFxCC,CACH6V,OAAQ,IACR5V,SAAU,OACV4P,WAAY,MACZC,WAAY,QEoCehQ,UAAU,iBACrCiS,GAAW0D,UAAU,OAAQla,KAAKC,MAAMka,QAG3C,mBAAK1V,IFlCC,CACHgB,QAAS,OACTP,QAAS,OACTC,cAAe,MACfE,eAAgB,OAChBD,WAAY,UE6BUb,UAAU,oBAClC,mBAAKE,IFxBA,CACHS,QAAS,eACTN,MAAO,OACPoN,OAAQ,OACR+H,WAAY,KEoBcxV,UAAU,qBACpCZ,GAEF,mBAAKc,IFjBA,CACHG,MAAO,oBACP80C,SAAU,IACVC,YAAa,OACb,aAAc,CACVC,aAAc,OACdD,YAAa,MEWUp1C,UAAU,eAAeyvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OAC7F,mBAAK1V,IFLD,CACH6V,OAAQ,IACR5V,SAAU,OACV4P,WAAY,MACZpP,QAAS,QACT8U,SAAU,OACV5G,SAAU,SACVsxB,aAAc,WACdC,WAAY,UEHcpgC,UAAU,cACnCvE,KAAKQ,MAAMixB,aAAa/tB,MAE1B,iBAAGe,IAAKq6E,GAAgB9+E,KAAKC,OAAQsE,UAAU,gBAC7CiS,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,SAI9C,mBAAK1V,IFUC,CACHuN,OAAQ,qBACRkiC,UAAW,OACXzuC,QAAS,SACTP,QAAS,OACTC,cAAe,SACfE,eAAgB,OAChBD,WAAY,cEjBWb,UAAU,qBACnC,mBAAKE,KFwCiB2M,EExCA1P,GF0CjB,CACHkD,MAAO,OACPa,QAAS,sBACT6O,WAAY,IACZwlB,WAAW,OAAD,OAAS1oB,EAAT,6BE9CmB7M,UAAU,wBACxC,mBAAKE,IFmDD,CACHG,MAAO,QEpDqBL,UAAU,eACtC,sBAAQjD,KAAK,SAAS6S,QAAS,kBAAM,EAAKzS,WACxC8U,GAAW0D,UAAU,SAAUla,KAAKC,MAAMka,WASlD,OACC,mBAAK1V,IAAKo6E,GAAoB7+E,KAAKC,OAAQsE,UAAU,YACnD26E,EACD,YAAC,GAAD,CAA4B3rE,IAAK,SAAAC,GAAE,OAAK,EAAKkhB,SAAWlhB,GAAK2G,KAAMna,KAAKC,MAAMka,Y,GAzE/CxZ,IAAMC,WAgFzCm+E,GAAqBtrE,aAAe,CACnC0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,IC9GD,IAqBMswD,GAAY,SAAAp/D,GACxB,MAAO,CACNwF,QAAS,MACTC,OAAQ,UACRR,QAAS,OACTC,cAAe,SACfE,eAAgB,SAChBD,WAAY,SACZV,SAAU,OACVC,MAAM,GAAD,OAAK1E,EAAM8O,MAAMpK,MAAM8K,YAIjB4wD,GAAgB,SAACnvD,EAAMiuE,EAAUrtE,GAE1C,IAAIstE,EAAiBD,EAAY,CAC7B55E,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAME,eAClC,CACA1J,gBAAgB,GAAD,OAAKuM,EAAQ/C,MAAMG,qBAGtC,OAAO,aACH8C,OAAQ,OACRpN,MAAO,OACPM,QAAS,eACTsT,KAAK,OAAD,OAAStH,EAAT,8BACDkuE,IAIEC,GAAoB,SAACF,EAAUrtE,GAExC,IAAMwtE,EAAaH,EAAY,CAC3Bx6E,MAAM,GAAD,OAAKmN,EAAQ/C,MAAME,eACxB,CACAtK,MAAM,GAAD,OAAKmN,EAAQ/C,MAAMG,qBAG5B,OAAO,2BACAowE,GADP,IAEI5gB,WAAY,SC7DL,OAA0B,kCCA1B,OAA0B,kCCA1B,OAA0B,mCCA1B,OAA0B,iCC+B5B6gB,GAAb,kDAIC,WAAYt/E,GAAQ,IAAD,8BAClB,cAAMA,IAFPu/E,YAAc,GACK,EA4BnBC,gBAAkB,WAEjB,OAAO,IAAIn4D,SAAQ,SAAAC,GAElB,IAAMm4D,EAAe,GACfC,EAAW,CAAC,EAAKC,cAAe,EAAKC,cAAe,EAAKC,eAAgB,EAAKC,kBACpFz4D,QAAQ04D,WAAWL,GAAU99E,MAAK,SAAA+kC,GAEjC,EAAK44C,YAAY58C,SAAQ,SAAAq9C,GACxBr5C,EAAQhE,SAAQ,SAAAusB,GACf,IAAM+wB,EAAS/wB,EAAOjsD,MAAM,GACtBi9E,EAAahxB,EAAOjsD,MAAM,GAE5B+8E,IAAeC,IAAyB,IAAfC,GAC7BT,EAAa1yC,KAAKizC,SAIpB14D,EAAQm4D,UA9CQ,EAmDnBE,YAAc,WACb,OAAO,IAAIt4D,SAAQ,SAAAC,GAClB,EAAKzV,QAAQ0D,mBAAmB6R,0BAC9BxlB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQ,CAAC,gBAAiBlkB,OAC3CT,OAAM,SAAAnB,GAAK,OAAI8lB,EAAQ,CAAC,iBAAiB,WAvD1B,EA2DnBs4D,YAAc,WACb,OAAO,IAAIv4D,SAAQ,SAAAC,GAClB,EAAKzV,QAAQ0D,mBAAmB2T,oBAC9BtnB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQ,CAAC,gBAAiBlkB,OAC3CT,OAAM,SAAAnB,GAAK,OAAI8lB,EAAQ,CAAC,iBAAiB,WA/D1B,EAmEnBu4D,aAAe,WACd,OAAO,IAAIx4D,SAAQ,SAAAC,GAClB,EAAKzV,QAAQ0D,mBAAmBgS,qBAC9B3lB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQ,CAAC,iBAAkBlkB,OAC5CT,OAAM,SAAAnB,GAAK,OAAI8lB,EAAQ,CAAC,kBAAkB,WAvE3B,EA2EnBw4D,eAAiB,WAChB,OAAO,IAAIz4D,SAAQ,SAAAC,GAClB,EAAKzV,QAAQ0D,mBAAmBiS,wBAC9B5lB,MAAK,SAAAwB,GAAQ,OAAIkkB,EAAQ,CAAC,mBAAoBlkB,OAC9CT,OAAM,SAAAnB,GAAK,OAAI8lB,EAAQ,CAAC,oBAAoB,WA/E7B,EAmFnB64D,WAAa,SAAAxB,GAEZ,EAAK16E,SAAS,CAACq0E,UAAWqG,KArFR,EAwFnByB,aAAe,WACd,OAAQ,EAAK7/E,MAAM+3E,WAClB,IAAK,gBACJ,OAAO,YAAC,GAAD,CAAmBxpE,MAAO,EAAK9O,MAAM8O,MAAOoL,KAAM,EAAKrI,QAAQ2E,SAAU02B,QAAQ,UAAU7O,gBAAiB,EAAKr+B,MAAMq+B,gBAAiB0T,YAAa,SAAC/6B,EAAM3V,GAAP,OAAgB,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,aAA+BrN,EAAM2V,MAC7O,IAAK,gBAQL,QACC,OAAO,KAPR,IAAK,gBACJ,OAAO,YAAC,GAAD,CAA2BlI,MAAO,EAAK9O,MAAM8O,MAAOoL,KAAM,EAAKrI,QAAQ2E,SAAU02B,QAAQ,UAAU7O,gBAAiB,EAAKr+B,MAAMq+B,gBAAiB0T,YAAa,SAAC/6B,EAAM3V,GAAP,OAAgB,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,aAA+BrN,EAAM2V,MACrP,IAAK,iBACJ,OAAO,YAAC,GAAD,CAAoBlI,MAAO,EAAK9O,MAAM8O,MAAOoL,KAAM,EAAKrI,QAAQ2E,SAAU02B,QAAQ,UAAU7O,gBAAiB,EAAKr+B,MAAMq+B,gBAAiB0T,YAAa,SAAC/6B,EAAM3V,GAAP,OAAgB,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,aAA+BrN,EAAM2V,MAC9O,IAAK,mBACJ,OAAO,YAAC,GAAD,CAAsBlI,MAAO,EAAK9O,MAAM8O,MAAOoL,KAAM,EAAKrI,QAAQ2E,SAAUu7B,YAAa,SAAC/6B,EAAM3V,GAAP,OAAgB,EAAKrB,MAAMq+B,gBAAgB3vB,GAAA,aAA+BrN,EAAM2V,QAnGhK,EAyGnBqpE,WAAa,WAEZ,IAAMC,EAA0C,kBAAzB,EAAK//E,MAAM+3E,UAC5BiI,EAAyC,kBAAzB,EAAKhgF,MAAM+3E,UAC3BkI,EAA2C,mBAAzB,EAAKjgF,MAAM+3E,UAC7BmI,EAAyC,qBAAzB,EAAKlgF,MAAM+3E,UAIjC,OAFa,aAAO,EAAK/3E,MAAM6a,SAEhBq4B,KAAI,SAAAkrC,GAClB,OAAQA,GACP,IAAK,gBACJ,OACC,mBAAK9nE,IAAK8nE,EAAKn6E,IAAK46D,GAAU,EAAKp/D,OAAQsE,UAAU,eAAe4P,QAAS,kBAAM,EAAKisE,WAAW,mBAClG,mBAAK37E,IAAK47D,GAAcsgB,GAAcJ,EAAgB,EAAKzuE,SAAUvN,UAAU,+BAA+B0V,MAAOzD,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,YAChK,mBAAKhS,IAAK46E,GAAkBkB,EAAgB,EAAKzuE,SAAUvN,UAAU,eAAeiS,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,YAGlI,IAAK,gBACJ,OACC,mBAAKK,IAAK8nE,EAAKn6E,IAAK46D,GAAU,EAAKp/D,OAAQsE,UAAU,eAAe4P,QAAS,kBAAM,EAAKisE,WAAW,mBAClG,mBAAK37E,IAAK47D,GAAcugB,GAAiBJ,EAAe,EAAK1uE,SAAUvN,UAAU,kCAAkC0V,MAAOzD,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,YACrK,mBAAKhS,IAAK46E,GAAkBmB,EAAe,EAAK1uE,SAAUvN,UAAU,eAAeiS,GAAW0D,UAAU,QAAS,EAAKpI,QAAQ2E,YAGjI,IAAK,iBACJ,OACC,mBAAKK,IAAK8nE,EAAKn6E,IAAK46D,GAAU,EAAKp/D,OAAQsE,UAAU,eAAe4P,QAAS,kBAAM,EAAKisE,WAAW,oBAClG,mBAAK37E,IAAK47D,GAAcwgB,GAAeJ,EAAiB,EAAK3uE,SAAUvN,UAAU,gCAAgC0V,MAAOzD,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,YACpK,mBAAKhS,IAAK46E,GAAkBoB,EAAiB,EAAK3uE,SAAUvN,UAAU,eAAeiS,GAAW0D,UAAU,SAAU,EAAKpI,QAAQ2E,YAGpI,IAAK,mBACJ,OACC,mBAAKK,IAAK8nE,EAAKn6E,IAAK46D,GAAU,EAAKp/D,OAAQsE,UAAU,eAAe4P,QAAS,kBAAM,EAAKisE,WAAW,sBAClG,mBAAK37E,IAAK47D,GAAcygB,GAAcJ,EAAe,EAAK5uE,SAAUvN,UAAU,8BAA8B0V,MAAOzD,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,YAC7J,mBAAKhS,IAAK46E,GAAkBqB,EAAe,EAAK5uE,SAAUvN,UAAU,eAAeiS,GAAW0D,UAAU,OAAQ,EAAKpI,QAAQ2E,YAGhI,QACC,OAAO,UA9IV,EAAKjW,MAAQ,CACZ+3E,UAAW,KACXl9D,QAAS,IALQ,EAJpB,qDAaC,WAAqB,IAAD,OAELrb,KAAK8R,QAAQiJ,cAAcO,KAEjCsnB,SAAQ,SAAAm+C,GACf,IAAK,IAAMC,KAAK1lE,GACXylE,IAAYzlE,GAAK0lE,IACpB,EAAKxB,YAAYxyC,KAAKg0C,MAKtBhhF,KAAKy/E,kBAAkB59E,MAAK,SAAA69E,GAC9B,EAAKx7E,SAAS,CAACmX,QAASqkE,EAAcnH,UAAWmH,EAAa,UA1BjE,oBA0JC,WACC,OACC,YAAC,IAAM16E,SAAP,KACEhF,KAAKqgF,eACN,mBAAK57E,IL3LE,CACHG,MAAO,OACP+O,OAAQ,IACR3B,OAAQ,QKwLazN,UAAU,mBAClC,mBAAKE,ILnLC,CACRS,QAAS,OACTC,cAAe,MACfC,WAAY,SACZC,eAAgB,eAChBT,MAAO,OACPoN,OAAQ,QK6KmBzN,UAAU,kBACjCvE,KAAKsgF,oBAhKZ,GAAqC3/E,IAAMC,WAA9B2+E,GACLz/C,YAAc3qB,GAwKtBoqE,GAAgB9rE,aAAe,CAC9B1E,MAAOA,ICzMD,IA8BMkyE,GAAsB,SAACzgF,EAAOP,GAEvC,IAAM8jE,EAAevjE,EAAMwjE,YAAe,CACtCjwD,KAAM,IACNoE,UAAY,uCACZ,GAEEo1B,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aAEHtL,MAAO,QACPq/D,YAAY,aAAD,OAAehkE,EAAM8O,MAAMc,YAAYV,SAClD6C,OAAQ,OACR6B,SAAU,WACV3O,QAAS,OACTC,cAAe,SACf,0CAA2C,CACvC6M,OAAQ,sBAThB,iBAWeu7B,EAAG,IAXlB,aAYQ15B,SAAU,qBACVE,KAAM,QACND,IAAK,IACLwlB,OAAQ,IACR10B,MAAO,iBACP+O,OAAQ,IACRpO,gBAAgB,GAAD,OAAKtF,EAAM8O,MAAMxJ,gBAAgBoK,OAChDqE,WAAY,oBACT+vD,KAKFmd,GAAmB,SAAC1gF,EAAOP,GAEpC,IAAMstC,EAAE,aAAOttC,EAAM8O,MAAMmB,aAE3B,OAAO,aACHtL,MAAO,qBACPoN,OAAQ,OACR25C,MAAO,IACPzmD,QAAS,OACTC,cAAe,OALnB,iBAMeooC,EAAG,GANlB,aAMyBA,EAAG,IAAO,CAC3B3oC,MAAO,UCrDbu8E,G,kDAIL,WAAYlhF,GAAQ,IAAD,8BAElB,cAAMA,IAJPwxB,aAAe,KAEI,EAwCnB2vD,aAAe,SAACniD,EAAQ39B,EAAM2V,GAE7B,OAAOgoB,GACN,KAAKtwB,GAAA,aACJ,EAAKy1D,YAAYntD,EAAM3V,GACxB,MACA,KAAKqN,GAAA,eACJ,EAAK01D,kBA/CW,EAsDnBD,YAAc,SAACntD,EAAM3V,GAEpB,EAAKkxC,mBAAmBzf,eAAezxB,EAAM2V,GAC7C,EAAKotD,iBAzDa,EA4DnBrgC,cAAgB,SAAC/E,EAAQhoB,EAAMrC,GAA0B,IAAD,EAEvD,OAAOqqB,GACN,KAAKtwB,GAAA,eACJ,EAAK01D,gBACN,MACA,KAAK11D,GACL,KAAKA,GACL,KAAKA,GAAL,2BARuC6jE,EAQvC,iCARuCA,EAQvC,mBACC,KAAKlM,aAAL,SAAkBrnC,EAAQhoB,EAAMrC,GAAhC,OAA0C49D,MArE1B,EA4EnBnO,cAAgB,WAEf,IAAML,EAAc,EAAKxjE,MAAMwjE,YAC/B,EAAK9/D,SAAS,CAAE8/D,aAAcA,KA/EZ,EAqFnBsC,aAAe,SAACxvD,EAAKhS,EAASmM,EAAOk+B,GAEpC,OAAOr4B,GACN,KAAKnI,GACL,KAAKA,GAEA,EAAK6jC,mBAAmBhyC,MAAMc,OAASM,YAAU+yB,YAAYG,YAC9D,EAAK0d,mBAAmBhyC,MAAMyW,KAAK9F,OAASF,EAAME,MAClDg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,MAEzC,EAAKswC,mBAAmBt7B,QAAQ,IAChC,EAAKs7B,mBAAmB1f,QAAQ,KAEjC,MAED,KAAKnkB,GAEJ,GAAI,EAAK6jC,mBAAmBhyC,MAAMc,OAASM,YAAU+yB,YAAYG,YAC9D,EAAK0d,mBAAmBhyC,MAAMyW,KAAK9F,OAASF,EAAME,MAClDg+B,EAAQ9tC,KAAKa,MAAQ,EAAKuvB,aAAavvB,IAAK,CAE9C,IAAMuwE,EAAYhiE,OAAO0gC,OAAO,GAAI,EAAKqB,mBAAmBhyC,MAAMyW,KAAM,CAAE,MAASk4B,EAAO,QAC1F,EAAKqD,mBAAmBt7B,QAAQu7D,GAChC,EAAKjgC,mBAAmB1f,QAAQlxB,YAAU+yB,YAAYG,eAzGzD,EAAKt0B,MAAQ,CACZwjE,aAAa,EACbqd,kBAAkB,EAClBC,oBAAoB,EACpBC,qBAAqB,EACrBC,gBAAiB,GACjBC,oBAAoB,EACpBC,oBAAoB,GAGrB,EAAKC,UAAYhhF,IAAMyD,YACvB,EAAKouC,mBAAqB7xC,IAAMyD,YAdd,E,qDAiBnB,WAAqB,IAAD,OAEW,IAAIw9E,iBAAiB,4BACvBC,UAAY,SAACnuD,GAC/B,IAAIxwB,EAAQwwB,EAAMhiB,KAAKoF,IACnBhS,EAAU4wB,KAAKE,MAAM1yB,GAC9B4+E,EAAclgF,YAAU+uC,gBAAgBoxC,eAAersD,KAAKE,MAAM9wB,IAC1C,YAAzBg9E,EAAY9iD,UACd,EAAK96B,SAAS,CAACm9E,kBAAkB,EAAMC,mBAAiD,SAA7BQ,EAAY1iD,aAAwCmiD,oBAAkD,UAA7BO,EAAY1iD,aAAwCoiD,gBAA8C,SAA7BM,EAAY1iD,aAA0B0iD,EAAY1+C,OAAOlhC,IAAM4/E,EAAYv8C,SAASp0B,KAAMuwE,oBAAoB,IAE5R,SAAzBI,EAAY9iD,UACY,aAAvB8iD,EAAY/sE,QACd,EAAK7Q,SAAS,CAACm9E,kBAAkB,EAAMI,oBAAoB,EAAMD,gBAAiBM,KAK9C,IAAnC9hF,KAAKC,MAAMqkE,aAAa/zD,QAAoD,IAApCvQ,KAAKC,MAAMyyE,cAAcniE,QACpEvQ,KAAKqkE,kB,oBAkFP,WAAU,IAAD,OACR,EAA2HrkE,KAAKQ,MAA3H8gF,EAAL,EAAKA,mBAAoBC,EAAzB,EAAyBA,oBAAqBC,EAA9C,EAA8CA,gBAAiBH,EAA/D,EAA+DA,iBAAkBK,EAAjF,EAAiFA,mBAAoBD,EAArG,EAAqGA,mBAEjGld,EACF,YAAC,GAAD,CACAx1D,MAAO/O,KAAKC,MAAM8O,MAClBoL,KAAMna,KAAKC,MAAMka,KACjBgzB,QAAQ,UACR7O,gBAAiBt+B,KAAKgkC,gBAGpBb,EAAes+C,EAAqBD,EAAkB,KAEtDQ,EACH,YAAC,GAAD,CAAuBjzE,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,cAAeb,aAAcA,IAG3HzgC,QAAQC,IAAI,0BAA2B3C,KAAKC,MAAMqkE,cAClD,IDjK2BrkE,ECiKvBoB,EAAOrB,KAAKC,MAAMqkE,aAAetkE,KAAKC,MAAMqkE,aAAe+c,GAAoBK,GAAsBJ,EAAqBE,EAAwB,GAClJvwE,EAAQjR,KAAKC,MAAMqkE,aAAetkE,KAAKC,MAAMqkE,aAAe+c,GAAoBK,GAAsBH,EAAsBC,EAAwB,GAExJ,OACC,YAAC,GAAD,CAA0BjuE,IAAK,SAAAC,GAAE,OAAI,EAAKg/B,mBAAqBh/B,GAAInS,KAAMA,EAAM4P,MAAOA,EAAOwF,SAAUzW,KAAKC,MAAMka,MACjH,mBAAK1V,KDtKoBxE,ECsKFD,KAAKC,MDpKrB,CACHiF,QAAS,OACT8M,OAAQ,OACRpN,MAAO,OACP0T,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3BuL,OAAO,aAAD,OAAeta,EAAM8O,MAAMc,YAAYV,SAC7C0E,SAAU,WACV,IAAK,CACDyE,UAAW,aACXtJ,WAAW,GAAD,OAAK/O,EAAM8O,MAAMC,YAC3B,sBAAuB,CACnBpK,MAAO,MACPoN,OAAQ,OAEZ,4BAA6B,CACzB8nB,WAAY,aAEhB,4BAA6B,CACzBA,WAAY,OACZ,UAAW,CACPA,WAAY,YC+IQv1B,UAAU,+BAA+ByvC,IAAKx9B,GAAWy9B,aAAaj0C,KAAKC,MAAMka,OACpH,mBAAK1V,IAAKw8E,GAAoBjhF,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,oBAChE,YAAC,GAAD,CACCgP,IAAK,SAAAC,GAAE,OAAI,EAAKmuE,UAAYnuE,GAC5BzE,MAAO/O,KAAKC,MAAM8O,MAClBuvB,gBAAiBt+B,KAAKohF,gBAExB,mBAAK38E,IAAKy8E,GAAiBlhF,KAAKQ,MAAOR,KAAKC,OAAQsE,UAAU,iBAC5DggE,GAEDyd,EACD,YAAC,GAAD,CAA6BjzE,MAAO/O,KAAKC,MAAM8O,MAAOoL,KAAMna,KAAKC,MAAMka,KAAMmkB,gBAAiBt+B,KAAKgkC,sB,GA3J9ErjC,IAAMC,WAmKhCugF,GAAY1tE,aAAe,CAC1B0G,KAAM3D,GAAWe,qBACjBxI,MAAOA,GACPu1D,aAAc,GACdoO,cAAe,IC7LT,IC8BDuP,GAAUC,cAEVC,G,4MACF3hF,MAAQ,CACJ4hF,YAAY,G,uDAGhB,WACIpiF,KAAKC,MAAMsxB,oB,oBAGf,WAEI,OACI,mBAAK9sB,ID1CN,CACHG,MAAO,QACPoN,OAAQ,UCyCA,YAAC,IAAD,CAAQiwE,QAASA,IACb,YAAC,IAAD,KACI,YAAC,EAAD,CAAc9hF,KAAK,gBAAgBE,UAAW8gF,KAC9C,YAAC,EAAD,CAAchhF,KAAK,iBAAiBE,UAAWs+E,KAC/C,YAAC,EAAD,CAAcx+E,KAAK,UAAUE,UAAWkyE,KACxC,YAAC,EAAD,CAAcpyE,KAAK,SAASE,UAAW8jE,KACvC,YAAC,EAAD,CAAchkE,KAAK,qBAAqBE,UAAWqtC,KACnD,YAAC,EAAD,CAAcvtC,KAAK,cAAcE,UAAWmqE,KAC5C,YAAC,EAAD,CAAcrqE,KAAK,aAAaE,UAAW8hE,KAC3C,YAAC,EAAD,CAAchiE,KAAK,YAAYE,UAAW8zE,GAAmBzB,cAAc,eAC3E,YAAC,EAAD,CAAc2P,OAAK,EAACliF,KAAK,IAAIE,UAAW0F,IACxC,YAAC,IAAD,CAAO5F,KAAK,SAASE,UAAW0C,W,GAxBtCpC,IAAMC,WA4CTC,gBAZS,SAAAL,GACpB,MAAO,CACHN,WAAYM,EAAMN,eAIC,SAAAyB,GACvB,MAAO,CACH4vB,gBAAiB,kBAAM5vB,GxRFpB,SAAAA,GACHC,YAAU2vB,kBAAkB1vB,MAAK,SAAAR,GAGzBM,EADDN,EACUD,EAAYC,GAEZG,EAASH,OAGvBuB,OAAM,SAAAnB,GACLE,EAASH,EAASC,cwRJfZ,CAA6CshF,IChEtDG,GAAcC,QACW,cAA7BjgF,OAAO5B,SAAS8hF,UAEe,UAA7BlgF,OAAO5B,SAAS8hF,UAEhBlgF,OAAO5B,SAAS8hF,SAAS37C,MACvB,2DAsCN,SAAS47C,GAAgBC,EAAOC,GAC9BvrE,UAAUwrE,cACPC,SAASH,GACT7gF,MAAK,SAAAihF,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBxiF,QACf4W,UAAUwrE,cAAcO,YAI1BzgF,QAAQC,IACN,iHAKEggF,GAAUA,EAAOS,UACnBT,EAAOS,SAASN,KAMlBpgF,QAAQC,IAAI,sCAGRggF,GAAUA,EAAOh9E,WACnBg9E,EAAOh9E,UAAUm9E,WAO5BlgF,OAAM,SAAAnB,GACLiB,QAAQjB,MAAM,4CAA6CA,MC9FjE,IAAM4hF,GAAe,CACjBhiF,KAAM,GACNnB,YAAY,EACZuB,MAAO,KACP6C,SAAS,EACTxC,iBAAkB,UAGhBwhF,GAAY,SAAE9iF,EAAOy+B,GACvB,OAAO,2BACAz+B,GADP,IAEIiB,MAAO,KACP6C,SAAS,KAIXlD,GAAc,SAACZ,EAAOy+B,GACxB,OAAO,2BACAz+B,GADP,IAEIa,KAAM49B,EAAO59B,KACbI,MAAO,KACPvB,WAAY++B,EAAO/+B,WACnBoE,SAAS,KAIX9C,GAAW,SAAChB,EAAOy+B,GACrB,OAAO,2BACAz+B,GADP,IAEIiB,MAAOw9B,EAAOx9B,MACd6C,SAAS,KAIXi/E,GAAa,SAAC/iF,EAAOy+B,GACvB,OAAO,2BACAz+B,GADP,IAEIN,YAAY,EACZmB,KAAM,QAIRmiF,GAAsB,SAAChjF,EAAOy+B,GAChC,OAAO,2BACAz+B,GADP,IAEIsB,iBAAkBm9B,EAAO9+B,QAiBlBsjF,GAbC,WAAqC,IAAnCjjF,EAAkC,uDAA1B6iF,GAAcpkD,EAAY,uCAEhD,OAASA,EAAO39B,MACZ,KAAKC,EAAwB,OAAO+hF,GAAU9iF,GAC9C,KAAKe,EAA0B,OAAOH,GAAYZ,EAAOy+B,GACzD,KAAK19B,EAAuB,OAAOC,GAAShB,EAAOy+B,GACnD,KAAK19B,EAAyB,OAAOgiF,GAAW/iF,GAChD,KAAKe,EAAoC,OAAOiiF,GAAoBhjF,EAAMy+B,GAC1E,QACI,OAAOz+B,I,kBC3CbkjF,I,OAFyBC,KAASC,cAVjB,CACnBC,OAAQ,0CACRC,WAAY,iDACZC,UAAW,iCACXC,cAAe,6CACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKsBT,aAEzCC,KAASD,YAAYU,WAAU,SAAAt/E,GAC3BpC,QAAQC,IAAI,UAAWmC,MCE3B,IAAMu/E,GAAQC,YAAYb,GAASc,YACjCC,YAAgBC,OAGdC,GAAQ5jF,EACR6jF,GAAS7jF,EAET8jF,IAAa,IAAIhjF,YAAUijF,oBAAqBC,+BAA+BC,UAAUJ,IAAQ1mD,QACrGr8B,YAAUojF,KAAKN,GAAOE,IAAY/iF,MAAK,WAEhCD,YAAUqjF,WACXrjF,YAAUqjF,UAAU,SAAU,MAAO,WAEvCviF,QAAQC,IAAI,yCACZ+gF,GAAUwB,WAAWrjF,MACnB,SAACQ,GACCC,OAAOP,aAAamV,QAAQ,iBAAkB7U,GAC9C8iF,IAAS/kF,OACP,cAAC,IAAD,CAAqBglF,SAAS,2EAA9B,SACE,cAAC,IAAD,CAAUf,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,GAAD,UAINzyE,SAASyzE,eAAe,YACzB,SAAA5jF,GACD0jF,IAAS/kF,OACP,cAAC,IAAD,CAAqBglF,SAAS,2EAA9B,SACE,cAAC,IAAD,CAAUf,MAAOA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,GAAD,UAINzyE,SAASyzE,eAAe,eAKhC,SAAA5jF,GACEiB,QAAQC,IAAI,oCAAqClB,MHzC9C,SAAkBkhF,GACvB,GAA6C,kBAAmBvrE,UAAW,CAGzE,GADkB,IAAIkuE,IAAIC,IAAwBjjF,OAAO5B,SAAS0nD,MACpDo9B,SAAWljF,OAAO5B,SAAS8kF,OAIvC,OAGFljF,OAAO+yB,iBAAiB,QAAQ,WAC9B,IAAMqtD,EAAK,UAAM6C,IAAN,sBAEPjD,KAgEV,SAAiCI,EAAOC,GAEtC8C,MAAM/C,GACH7gF,MAAK,SAAAwB,GAEJ,IAAMqiF,EAAcriF,EAASsiF,QAAQC,IAAI,gBAEnB,MAApBviF,EAAS0R,QACO,MAAf2wE,IAA8D,IAAvCA,EAAY9tE,QAAQ,cAG5CR,UAAUwrE,cAAciD,MAAMhkF,MAAK,SAAAihF,GACjCA,EAAagD,aAAajkF,MAAK,WAC7BS,OAAO5B,SAASu+E,eAKpBwD,GAAgBC,EAAOC,MAG1B//E,OAAM,WACLF,QAAQC,IACN,oEArFAojF,CAAwBrD,EAAOC,GAI/BvrE,UAAUwrE,cAAciD,MAAMhkF,MAAK,WACjCa,QAAQC,IACN,iHAMJ8/E,GAAgBC,EAAOC,OGuB/BC,I","file":"static/js/main.2ee4598b.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Route, Redirect } from 'react-router-dom';\n\nclass PrivateRoute extends React.Component {\n\n    render() {\n\n        if(this.props.isLoggedIn) {\n            return <Route path={this.props.path} render={props => <this.props.component {...this.props} />} />;\n        } else {\n            return (<Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />);\n        }\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isLoggedIn: state.isLoggedIn\n    };\n};\n  \nexport default connect( mapStateToProps, null)(PrivateRoute);","export const COMETCHAT_CONSTANTS = {\n\tAPP_ID: \"2136430643b84c25\",\n\tREGION: \"eu\",\n\tAUTH_KEY: \"4486075b140ac5103301d705f14cf6bb4f41409a\",\n};\n","export const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\n\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH';","import * as actionTypes from './actionTypes';\n\nimport { CometChat } from '@cometchat-pro/chat';\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    };\n};\n\nexport const authSuccess = (user) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        user: user,\n        isLoggedIn: true\n    };\n};\n\nexport const authFail = (error) => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error: error\n    };\n};\n\nexport const logoutSuccess = () => {\n    return {\n        type: actionTypes.AUTH_LOGOUT,\n        authRedirectPath: \"/login\"\n    };\n}\n\nexport const logout = () => {\n    return dispatch => {\n        CometChat.logout().then( () => {\n            dispatch(logoutSuccess());\n            localStorage.removeItem('firebase_token');\n        });\n    }\n    \n};\n\nexport const auth = (uid, authKey) => {\n\n    return dispatch => {\n\n        dispatch(authStart());\n\n        CometChat.login(uid, authKey).then((user) => {\n\n            if(user) {\n                dispatch(authSuccess(user));\n                let token = window.localStorage.getItem('firebase_token');\n                CometChat.registerTokenForPushNotification(token).then(\n                    registered => {\n                        console.log(registered);\n                    }\n                )\n            } else {\n                dispatch(authFail(user));\n            }\n            \n        }).catch(error => {\n            console.log('CometChatLogin Failed', error);\n            dispatch(authFail(error));\n        });\n    };\n};\n\nexport const authCheckState = () => {\n    return dispatch => {\n        CometChat.getLoggedinUser().then(user => {\n            \n            if(user) {\n                dispatch(authSuccess(user));\n            } else {\n                dispatch(authFail(user));\n            }\n      \n        }).catch(error => {\n            dispatch(authFail(error));\n        });\n    };\n};\n\nexport const setAuthRedirectPath = (path) => {\n    return {\n        type: actionTypes.SET_AUTH_REDIRECT_PATH,\n        path: path\n    };\n};","import React from 'react';\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { Global } from \"@emotion/core\";\n\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { COMETCHAT_CONSTANTS } from '../../consts';\nimport { GoogleLogin } from '@react-oauth/google';\n\nimport {\n  wrapperStyle,\n  errorStyle,\n  titleStyle,\n  uidWrapperStyle,\n  loginBtn,\n} from \"./style\";\n\nimport { loaderStyle } from \"./loader\";\n\nimport * as actions from '../../store/action';\nimport jwt_decode from \"jwt-decode\";\nimport { CometChat } from '@cometchat-pro/chat';\n\nconst md5 = require('md5');\nclass KitchenSinkApp extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\t\t\tgoogleSignInFailed: false\n\t\t}\n\n    this.myRef = React.createRef();\n  }\n\n  login = (uid) => {\n    \n    if(!uid) {\n      uid = this.myRef.current.value;\n    }\n\n    this.uid = uid;\n    this.props.onLogin(this.uid, COMETCHAT_CONSTANTS.AUTH_KEY);\n  }\n\n  signInSuccess = (response) => {\n    var userDetails = jwt_decode(response.credential);\n\n    var uid = md5(userDetails.email);\n    var name = userDetails.name;\n    var avatar = userDetails.picture;\n\n    var user = new CometChat.User(uid, name);\n    user.setAvatar(avatar);\n\n    CometChat.createUser(user, COMETCHAT_CONSTANTS.AUTH_KEY).then(\n      user => {\n        console.log(\"user created successfully\", user);\n        this.login(uid);\n      }, error => {\n        if(error.code === \"ERR_UID_ALREADY_EXISTS\"){\n          this.login(uid);\n        }\n      }\n    );\n  }\n\n  signInFailure = (response) => {\n    this.setState({googleSignInFailed: true})\n    console.log('failure', response);\n  }\n  \n  render() {\n\n    let loader = null;\n    if (this.props.loading) {\n      loader = (<div className=\"loading\">Loading...</div>);\n    }\n\n    let errorMessage = null;\n    if (this.props.error) {\n      errorMessage = (<p css={errorStyle()}>{this.props.error.message}</p>);\n    }\n\n    if (this.state.googleSignInFailed) {\n      errorMessage = (<p css={errorStyle()}>Google Sign In Failed</p>);\n    }\n\n    let authRedirect = null;\n    if (this.props.isLoggedIn) {\n      authRedirect = <Redirect to=\"/embedded-app\" />\n    }\n\n    return (\n      <React.Fragment>\n      <Global styles={loaderStyle} />\n      <div css={wrapperStyle()}>\n          {authRedirect}\n          {loader}\n          {errorMessage}\n          <p css={titleStyle()}>Login with your Google Account</p>\n          <br/>\n          <div css={uidWrapperStyle()}>\n            <div css={loginBtn()}>\n              <GoogleLogin\n                onSuccess={this.signInSuccess}\n                onError={this.signInFailure}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    error: state.error,\n    isLoggedIn: state.isLoggedIn\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLogin: ( uid, authKey ) => dispatch( actions.auth( uid, authKey ) )\n  };\n};\n\nexport default connect( mapStateToProps, mapDispatchToProps )( KitchenSinkApp );\n","export const wrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const errorStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        color: \"red\",\n        width: \"100%\",\n        textAlign: \"center\",\n    }\n}\n\nexport const titleStyle = () => {\n\n    return {\n        fontSize: \"36px\",\n        color: \"#2da7ff\",\n        width: \"100%\",\n        textAlign: \"center\",\n    }\n}\n\nexport const subtitleStyle = () => {\n\n    return {\n        width: \"100%\",\n        fontSize: \"14px\",\n        textAlign: \"center\",\n        margin: \"0px\",\n    }\n}\n\nexport const userContainerStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        [mq[0]]: {\n            flexDirection: \"column\",\n            alignItems: \"center\",\n        }\n    }\n}\n\nexport const userWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"150px\",\n        margin: \"10px\",\n        justifyContent: \"space-around\",\n        alignItems: \"center\",\n        background: \"#333\",\n        borderRadius: \"10px\",\n        color: \"white\",\n        padding: \"6px 10px\",\n        cursor: \"pointer\",\n        \"p\": {\n            margin: \"0\"\n        }\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n    }\n}\n\nexport const uidWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"div\": {\n            width: \"100%\"\n        }\n    }\n}\n\nexport const inputWrapperStyle = () => {\n\n    return {\n        padding: \"10px 20px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"input\": {\n            outline: \"none\",\n            margin: \"10px 30px\",\n            padding: \"8px 10px\",\n            borderRadius: \"5px\",\n            border: \"1px solid #bbb\"\n        }\n    }\n}\n\nexport const loginBtn = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"button\": {\n            outline: \"none\",\n            backgroundColor: \"#333\",\n            borderRadius: \"10px\",\n            color: \"white\",\n            padding: \"10px 25px\",\n            \"&:hover\": {\n                cursor: \"pointer\",\n            }\n        },\n\n    }\n}","export const loaderStyle = `\n.loading {\n  position: fixed;\n  z-index: 999;\n  height: 2em;\n  width: 2em;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n/* Transparent Overlay */\n.loading:before {\n  content: '';\n  display: block;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0, .8));\n  background: -webkit-radial-gradient(rgba(20, 20, 20,.8), rgba(0, 0, 0,.8));\n}\n\n/* :not(:required) hides these rules from IE9 and below */\n.loading:not(:required) {\n  /* hide \"loading...\" text */\n  font: 0/0 a;\n  color: transparent;\n  text-shadow: none;\n  background-color: transparent;\n  border: 0;\n}\n\n.loading:not(:required):after {\n  content: '';\n  display: block;\n  font-size: 10px;\n  width: 1em;\n  height: 1em;\n  margin-top: -0.5em;\n  -webkit-animation: spinner 150ms infinite linear;\n  -moz-animation: spinner 150ms infinite linear;\n  -ms-animation: spinner 150ms infinite linear;\n  -o-animation: spinner 150ms infinite linear;\n  animation: spinner 150ms infinite linear;\n  border-radius: 0.5em;\n  -webkit-box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\n  box-shadow: rgba(255,255,255, 0.75) 1.5em 0 0 0, rgba(255,255,255, 0.75) 1.1em 1.1em 0 0, rgba(255,255,255, 0.75) 0 1.5em 0 0, rgba(255,255,255, 0.75) -1.1em 1.1em 0 0, rgba(255,255,255, 0.75) -1.5em 0 0 0, rgba(255,255,255, 0.75) -1.1em -1.1em 0 0, rgba(255,255,255, 0.75) 0 -1.5em 0 0, rgba(255,255,255, 0.75) 1.1em -1.1em 0 0;\n}\n\n@-webkit-keyframes spinner {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@keyframes spinner {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n`;","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport { wrapperStyle } from \"./style\";\n\nimport * as actions from \"../../store/action\";\n\nclass HomePage extends React.Component {\n\trender() {\n\t\tlet authRedirect = null;\n\t\tif (!this.props.isLoggedIn) {\n\t\t\tauthRedirect = <Redirect to=\"/login\" />;\n\t\t}else{\n\t\t\tauthRedirect = <Redirect to=\"/embedded-app\" />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={wrapperStyle()}>\n\t\t\t\t{authRedirect}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tloading: state.loading,\n\t\terror: state.error,\n\t\tisLoggedIn: state.isLoggedIn,\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tonLogout: () => dispatch(actions.logout()),\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\n","export const wrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n    }\n}\n\nexport const titleStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        textAlign: \"center\",\n        color: \"rgb(67, 171, 255)\",\n        fontSize: \"24px\",\n        width: \"100%\",\n        padding: \"0 1em\",\n        margin: \"1em 0 0 0\",\n        [mq[0]]: {\n            fontSize: \"20px\",\n        }\n    }\n}\n\nexport const subTitleStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        textAlign: \"center\",\n        color: \"#AAA\",\n        fontSize: \"14px\",\n        width: \"100%\",\n        padding: \"0 1em\",\n        margin: \"1em 0 2em 0\",\n        [mq[0]]: {\n            fontSize: \"16px\",\n        }\n    }\n}\n\nexport const helpTextStyle = () => {\n\n    return {\n        fontSize: \"14px\",\n        textAlign: \"center\",\n        width: \"100%\",\n        color: \"#333\",\n        padding: \"0 1em\",\n    }\n}\n\nexport const componentStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"16px 120px\",\n        width: \"100%\",\n        [mq[0]]: {\n            flexDirection: \"column\",\n            padding: \"50px 100px\",\n        },\n        [mq[1]]: {\n            flexDirection: \"column\",\n            padding: \"50px 50px\",\n        }\n    }\n}\n\nexport const UIComponentStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`, `@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"16px 35.5%\",\n        width: \"100%\",\n        [mq[0]]: {\n            flexDirection: \"column\",\n            padding: \"50px 150px\",\n        },\n        [mq[1]]: {\n            flexDirection: \"column\",\n            padding: \"50px 50px\",\n        }\n    }\n}\n\nexport const boxStyle = () => {\n\n    const mq = [`@media (min-width : 768px) and (max-width: 1024px)`];\n\n    return {\n        margin: \"10px 20px\",\n        padding: \"20px\",\n        boxShadow: \"0 0 10px #bbb\",\n        borderRadius: \"10px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flex: \"1\",\n        minWidth: \"300px\",\n        [mq[0]]: {\n            width: \"400px\",\n        }\n    }\n}\n\nexport const titleWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n    }\n}\n\nexport const componentTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 40px)\",\n        padding: \"10px\",\n        margin: \"0\",\n    }\n}\n\nexport const descWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"p\": {\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"pre-wrap\",\n            wordBreak: \"break-word\"\n        },\n        \"code\": {\n            padding: \"2px\",\n            color: \"crimson\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#f1f1f1\",\n        }\n    }\n}\n\nexport const linkWrapperStyle = () => {\n\n    const mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\n    return {\n        borderTop: \"0.3px solid #e8e8e8\",\n        padding: \"10px\",\n        display: \"flex\",\n        margin: 0,\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n        \"li\": {\n            listStyleType: \"none\",\n        },\n        [mq[0]]: {\n            flexDirection: \"column\",\n            \"li\": {\n                padding: \"10px\",\n            },\n        }\n    }\n}\n\nexport const linkStyle = () => {\n\n    return {\n        color: \"rgb(67, 171, 255)!important\",\n        fontWeight: 600,\n        fontSize: \"14px\",\n        \"&:hover\": {\n            color: \"darken(rgb(67, 171, 255), 20%)\",\n            fontWeight: \"600\",\n            fontSize: \"14px\",\n        }\n    }\n}\n\nexport const logoutBtn = () => {\n\n    return {\n        margin: \"16px auto 24px auto\",\n        \"button\": {\n            outline: \"none\",\n            backgroundColor: \"#333\",\n            borderRadius: \"10px\",\n            color: \"white\",\n            padding: \"8px 24px\",\n            \"&:hover\": {\n                cursor: \"pointer\",\n            }\n        },\n        \n    }\n}","export const TEXT_MESSAGE_RECEIVED = 'onTextMessageReceived';\nexport const MEDIA_MESSAGE_RECEIVED = 'onMediaMessageReceived';\nexport const CUSTOM_MESSAGE_RECEIVED = 'onCustomMessageReceived';\nexport const MESSAGE_DELIVERED = 'onMessagesDelivered';\nexport const MESSAGE_READ = 'onMessagesRead';\nexport const MESSAGE_DELETED = 'onMessageDeleted';\nexport const MESSAGE_EDITED = 'onMessageEdited';\nexport const TRANSIENT_MESSAGE_RECEIVED = \"onTransientMessageReceived\";\n\nexport const INCOMING_CALL_RECEIVED = 'onIncomingCallReceived';\nexport const OUTGOING_CALL_ACCEPTED = 'onOutgoingCallAccepted';\nexport const OUTGOING_CALL_REJECTED = 'onOutgoingCallRejected';\nexport const INCOMING_CALL_CANCELLED = 'onIncomingCallCancelled';\n\nexport const GROUP_MEMBER_SCOPE_CHANGED = \"onGroupMemberScopeChanged\";\nexport const GROUP_MEMBER_KICKED = \"onGroupMemberKicked\";\nexport const GROUP_MEMBER_BANNED = \"onGroupMemberBanned\";\nexport const GROUP_MEMBER_UNBANNED = \"onGroupMemberUnbanned\";\nexport const GROUP_MEMBER_ADDED = \"onMemberAddedToGroup\";\nexport const GROUP_MEMBER_LEFT = \"onGroupMemberLeft\";\nexport const GROUP_MEMBER_JOINED = \"onGroupMemberJoined\";\n\nexport const USER_ONLINE = \"onUserOnline\";\nexport const USER_OFFLINE = \"onUserOffline\";\n\nexport const TYPING_STARTED = \"onTypingStarted\";\nexport const TYPING_ENDED = \"onTypingEnded\";\n\nexport const CUSTOM_TYPE_POLL = \"extension_poll\";\nexport const CUSTOM_TYPE_STICKER = \"extension_sticker\";\nexport const CUSTOM_TYPE_DOCUMENT = \"extension_document\";\nexport const CUSTOM_TYPE_WHITEBOARD = \"extension_whiteboard\";\nexport const CUSTOM_TYPE_MEETING = \"meeting\";\n\nexport const CONSTANTS = {\n\tLOCALE: \"cometchat:locale\",\n\tACTIVECALL: \"cometchat:activecall\",\n\tMAX_MESSAGE_COUNT: 1000,\n\tMETADATA_TYPE_LIVEREACTION: \"live_reaction\",\n\tLIVE_REACTIONS: { heart: \"./resources/heart.png\", thumbsup: \"\", clap: \"\", wink: \"\" },\n\tMESSAGES_COMPONENT: \"messages\",\n\tEMBEDDED_COMPONENT: \"embedded\",\n\tOUTGOING_DEFAULT_CALLING: \"outgoing_default\",\n\tINCOMING_DEFAULT_CALLING: \"incoming_default\",\n\tINCOMING_DIRECT_CALLING: \"incoming_direct\",\n\tOUTGOING_DIRECT_CALLING: \"outgoing_direct\",\n\tAUDIO: {\n\t\tINCOMING_MESSAGE: \"incomingMessage\",\n\t\tINCOMING_OTHER_MESSAGE: \"incomingOtherMessage\",\n\t\tOUTGOING_MESSAGE: \"outgoingMessage\",\n\t\tINCOMING_CALL: \"incomingCall\",\n\t\tOUTGOING_CALL: \"outgoingCall\",\n\t},\n\tERROR_CODES: {\n\t\tERR_CHAT_API_FAILURE: \"ERR_CHAT_API_FAILURE\",\n\t},\n\tCALLS: {\n\t\tONGOING_CALL: \"noOngoingCall\",\n\t\tONGOING_CALL_SAME_GROUP: \"ongoingDirectCallInSameGroup\",\n\t\tONGOING_CALL_DIFF_GROUP: \"ongoingDirectCallInDifferentGroup\",\n\t},\n\tGROUPS: {\n\t\tOWNER: \"owner\",\n\t},\n\tLIVE_REACTION_INTERVAL: 1500,\n\tFILE_METADATA: \"file\",\n};\n\nexport const ACTIONS = {\n\tMESSAGE_SENT: \"messageSent\",\n\tMESSAGE_COMPOSED: \"messageComposed\",\n\tERROR_IN_SENDING_MESSAGE: \"errorInSendingMessage\",\n\tACCEPT_DIRECT_CALL: \"acceptDirectCall\",\n\tJOIN_DIRECT_CALL: \"joinDirectCall\",\n\tSTART_DIRECT_CALL: \"startDirectCall\",\n\tDIRECT_CALL_ENDED: \"directCallEnded\",\n\tPOLL_CREATED: \"pollCreated\",\n\tGROUP_DELETED: \"groupDeleted\",\n\tGROUP_LEFT: \"leftGroup\",\n\tGROUP_CREATED: \"groupCreated\",\n\tVIEW_DETAIL: \"viewDetail\",\n\tVIEW_THREADED_MESSAGE: \"viewThreadedMessage\",\n\tCLOSE_THREADED_MESSAGE: \"closeThreadedMessage\",\n\tTOGGLE_SIDEBAR: \"toggleSidebar\",\n\tON_MESSAGE_EDITED: \"onMessageEdited\",\n\tON_MESSAGE_DELETED: \"onMessageDeleted\",\n\tON_MESSAGE_READ_DELIVERED: \"onMessageReadAndDelivered\",\n\tDELETE_MESSAGE: \"deleteMessage\",\n\tMESSAGE_DELETED: \"messageDeleted\",\n\tEDIT_MESSAGE: \"editMessage\",\n\tMESSAGE_EDITED: \"messageEdited\",\n\tCLOSE_GROUP_DETAIL: \"closeGroupDetail\",\n\tCLOSE_USER_DETAIL: \"closeUserDetail\",\n\tVIEW_ORIGINAL_IMAGE: \"viewOriginalImage\",\n\tFETCH_GROUP_MEMBERS: \"fetchGroupMembers\",\n\tSCOPECHANGE_GROUPMEMBER_SUCCESS: \"updateGroupMember\",\n\tBAN_GROUP_MEMBER: \"ban\",\n\tKICK_GROUP_MEMBER: \"kick\",\n\tBAN_GROUPMEMBER_SUCCESS: \"banGroupMember\",\n\tKICK_GROUPMEMBER_SUCCESS: \"kickGroupMember\",\n\tCHANGE_SCOPE_GROUP_MEMBER: \"changescope\",\n\tUNBAN_GROUP_MEMBER: \"unban\",\n\tADD_GROUP_MEMBER_SUCCESS: \"addGroupMembers\",\n\tFETCH_BANNED_GROUP_MEMBERS: \"fetchBannedGroupMembers\",\n\tUNBAN_GROUP_MEMBER_SUCCESS: \"unbanGroupMembers\",\n\tREACT_TO_MESSAGE: \"reactToMessage\",\n\tINITIATE_VIDEO_CALL: \"initiateVideoCall\",\n\tINITIATE_AUDIO_CALL: \"initiateAudioCall\",\n\tCHANGE_TAB: \"changeTab\",\n\tITEM_CLICKED: \"itemClicked\",\n\tTHREAD_MESSAGE_COMPOSED: \"threadMessageComposed\",\n\tSEND_LIVE_REACTION: \"sendReaction\",\n\tSTOP_LIVE_REACTION: \"stopReaction\",\n\tSHOW_LIVE_REACTION: \"showReaction\",\n\tCLEAR_EDIT_PREVIEW: \"clearEditPreview\",\n\tMESSAGE_RECEIVED: \"messageReceived\",\n\tCUSTOM_MESSAGE_RECEIVED: \"customMessageReceived\",\n\tMESSAGE_READ: \"messageRead\",\n\tMESSAGES_INITIAL_FETCH: \"messageInitialFetch\",\n\tMESSAGES_FETCHED: \"messageFetched\",\n\tREFRESHING_MESSAGES: \"refreshingMessages\",\n\tMESSAGES_REFRESHED: \"messageRefreshed\",\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n\tSTART_AUDIO_CALL: \"startAudioCall\",\n\tSTART_VIDEO_CALL: \"startVideoCall\",\n\tOUTGOING_CALL_ACCEPTED: \"outgoingCallAccepted\",\n\tOUTGOING_CALL_REJECTED: \"outgoingCallRejected\",\n\tOUTGOING_CALL_CANCELLED: \"outgoingCallCancelled\",\n\tINCOMING_CALL_ACCEPTED: \"incomingCallAccepted\",\n\tINCOMING_CALL_REJECTED: \"incomingCallRejected\",\n\tCALL_ENDED: \"callEnded\",\n\tUSER_JOINED_CALL: \"userJoinedCall\",\n\tUSER_LEFT_CALL: \"userLeftCall\",\n\tDELETE_CONVERSATION: \"deleteConversation\",\n\tCONVERSATION_DELETED: \"conversationDeleted\",\n\tSEND_STICKER: \"sendSticker\",\n\tCLOSE_STICKER_KEYBOARD: \"closeStickerKeyboard\",\n\tERROR: \"errorOccurred\",\n\tINFO: \"infoMessage\",\n\tTRANSLATE_MESSAGE: \"translateMessage\"\n};\n\nexport const EVENTS = {\n\tNEW_MESSAGES: \"newMessagesArrived\",\n\tCLEAR_UNREAD_MESSAGES: \"clearUnreadMessages\",\n};\n\n\nexport const KEYS = {\n\tMETADATA: \"metadata\",\n\tINCREMENT_UNREAD_COUNT: \"incrementUnreadCount\",\n};","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallAlertManager {\n\n    callListenerId = \"incoming_call_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                    callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const theme = {\n    fontFamily: \"Inter, sans-serif\",\n    fontSize: \"14px\",\n    primaryColor: \"#39f\",\n    secondaryTextColor: \"#808080\",\n    color: {\n        primary: \"#141414\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        search: \"rgba(20, 20, 20, 0.4)\",\n        tertiary: \"rgba(20, 20, 20, 0.5)\",\n        grey: \"rgba(20,20,20,0.04)\",\n        helpText: \"rgba(20, 20, 20, 0.6)\",\n        blue: \"#39f\",\n        white: \"#fff\",\n        red: \"#ff3b30\"\n    },\n    borderColor: {\n        primary: \"#eaeaea\",\n        secondary: \"#cccccc\",\n        darkSecondary: \"#eaeaea\",\n        white: \"#fff\",\n        blue: \"#39f\",\n    },\n    backgroundColor: {\n        white: \"#fff\",\n        primary: \"#E6E6E6\",\n        secondary: \"#f6f6f6\",\n        blue: \"#39f\",\n        red: \"#ff3b30\",\n        grey: \"rgba(20,20,20,0.04)\",\n        lightGrey: \"rgba(20, 20, 20, 0.08)\",\n        darkGrey: \"rgba(20,20,20,0.9)\",\n        callScreenGrey: \"#444444\",\n        silver: \"#c4c4c4\"\n    },\n    breakPoints: [\n        \"(min-width: 320px) and (max-width: 767px)\",\n        \"(min-width: 320px) and (max-width: 480px)\",\n        \"(min-width: 481px) and (max-width: 768px)\",\n        \"(min-width: 769px) and (max-width: 1024px)\",\n        \"(min-width: 1025px) and (max-width: 1200px)\",\n    ]\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { imgStyle } from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatAvatar extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imgRef = React.createRef();\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tavatarImage: srcIcon\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setAvatarImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif(prevProps !== this.props) {\n\n\t\t\tthis.setAvatarImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tsetAvatarImage = () => {\n\n\t\tif ((this.props.image).trim().length) {\n\n\t\t\tthis.getImage(this.props.image);\n\n\t\t} else if (Object.keys(this.props.user).length) {\n\n\t\t\tif (this.props.user.hasOwnProperty(\"avatar\")) {\n\n\t\t\t\tconst avatarImage = this.props.user.avatar;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst uid = this.props.user.uid;\n\t\t\t\tconst char = this.props.user.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(uid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\t\t\t}\n\n\t\t} else if (Object.keys(this.props.group).length) {\n\n\t\t\tif (this.props.group.hasOwnProperty(\"icon\")) {\n\n\t\t\t\tconst avatarImage = this.props.group.icon;\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t} else {\n\n\t\t\t\tconst guid = this.props.group.guid;\n\t\t\t\tconst char = this.props.group.name.charAt(0).toUpperCase();\n\n\t\t\t\tconst avatarImage = this.generateAvatar(guid, char);\n\t\t\t\tthis.getImage(avatarImage);\n\n\t\t\t}\n\t\t}\n\t}\n\n\tgetImage = (image) => {\n\n\t\tlet img = new Image();\n\t\timg.src = image;\n\t\timg.onload = () => {\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ avatarImage: image });\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\n\tgenerateAvatar = (generator, data) => {\n\n\t\tconst stringToColour = function (str) {\n\n\t\t\tlet hash = 0;\n\t\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\t\thash = str.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t}\n\n\t\t\tlet colour = '#';\n\t\t\tfor (let i = 0; i < 3; i++) {\n\t\t\t\tlet value = (hash >> (i * 8)) & 0xFF;\n\t\t\t\tcolour += ('00' + value.toString(16)).substr(-2);\n\t\t\t}\n\t\t\treturn colour;\n\t\t}\n\n\t\tconst canvas = document.createElement(\"canvas\");\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tcanvas.width = 200;\n\t\tcanvas.height = 200;\n\n\t\t// Draw background\n\t\tcontext.fillStyle = stringToColour(generator);\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\t// Draw text\n\t\tcontext.font = \"bold 100px 'Inter', sans-serif\";\n\t\tcontext.fillStyle = \"white\";//foregroundColor;\n\t\tcontext.textAlign = \"center\";\n\t\tcontext.textBaseline = \"middle\";\n\t\tcontext.fillText(data, canvas.width / 2, canvas.height / 2);\n\n\t\treturn canvas.toDataURL(\"image/png\");\n\t}\n\n\trender() {\n\n\t\tconst borderWidth = this.props.borderWidth;\n\t\tconst borderStyle = this.props.borderStyle;\n\t\tconst borderColor = this.props.borderColor;\n\t\tconst cornerRadius = this.props.cornerRadius;\n\n\t\tconst getStyle = () => ({ borderWidth: borderWidth, borderStyle: borderStyle, borderColor: borderColor, borderRadius: cornerRadius });\n\n\t\treturn (\n\t\t\t<img src={this.state.avatarImage} css={imgStyle()} alt={this.state.avatarImage} style={getStyle()} ref={el => { this.imgRef = el;}} />\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatAvatar.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderStyle: \"solid\",\n\tborderColor: theme.borderColor.primary,\n\tcornerRadius: \"50%\",\n\ttheme: theme,\n\timage: \"\",\n\tuser: {},\n\tgroup: {},\n};\n\nCometChatAvatar.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderStyle: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n\timage: PropTypes.string,\n\ttheme: PropTypes.object,\n\tuser: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.User)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)])\n}\n\nexport { CometChatAvatar };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const imgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        display: \"inherit\",\n        width: \"100%\",\n        height: \"100%\"\n    }\n}","export const backdropStyle = (props) => {\n\n    return {\n        zIndex: \"3\",\n        backgroundColor: \"#000\",\n        opacity: \".3\",\n        position: \"fixed\",\n        width: \"100%\",\n        height: \"100%\",\n        top: \"0\",\n        left: \"0\",\n        cursor: \"pointer\",\n        transition: \"background .3s ease-out 0\",\n        ...props.style,\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {\n    backdropStyle\n} from \"./style\";\n\nconst CometChatBackdrop = props => (props.show ? <div css={backdropStyle(props)} className=\"modal__backdrop\" onClick={props.clicked}></div> : null);\n\n// Specifies the default values for props:\nCometChatBackdrop.defaultProps = {\n\tshow: false,\n\tstyle: {},\n\tclicked: () => {},\n};\n\nCometChatBackdrop.propTypes = {\n    show: PropTypes.bool,\n    style: PropTypes.object,\n    clicked: PropTypes.func,\n}\n\nexport { CometChatBackdrop };","export const badgeStyle = (props) => {\n\n    return {\n        display: \"block\",\n        fontSize: \"12px\",\n        width: \"auto\",\n        height: \"18px\",\n        borderRadius: \"16px\",\n        backgroundColor: `${props.theme.primaryColor}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        fontWeight: \"700\",\n        lineHeight: \"18px\",\n        marginLeft: \"4px\",\n        padding: \"0 9px\",\n        marginRight: \"2px\",\n        opacity: \"1\",\n        transition: \"opacity .1s\",\n    }\n}","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { theme } from \"../../../resources/theme\";\nimport { badgeStyle } from \"./style\";\n\nconst CometChatBadgeCount = (props) => {\n\n\tlet badgeCount = null;\n\t\n\tif(props.count) {\n\t\tbadgeCount = (\n\t\t\t<span css={badgeStyle(props)} className=\"unread-count\">{props.count}</span>\n\t\t);\n\t}\n\t\n\treturn badgeCount;\n}\n\n// Specifies the default values for props:\nCometChatBadgeCount.defaultProps = {\n\tcount: 0,\n\ttheme: theme\n};\n\nCometChatBadgeCount.propTypes = {\n\tcount: PropTypes.number,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatBadgeCount };","export const presenceStyle = (props) => {\n\n    let presenceStatus = {\n        backgroundColor: \"#C4C4C4\"\n    }\n\n    if (props.status === \"online\" || props.status === \"available\") {\n        presenceStatus = {\n            backgroundColor: \"#3BDF2F\"\n        }\n    }\n\n    return {\n        width: \"9px\",\n        height: \"9px\",\n        top: \"-12px\",\n        float: \"right\",\n        position: \"relative\",\n        ...presenceStatus\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\"\nimport PropTypes from \"prop-types\"\n\nimport {CometChatContext} from \"../../../util/CometChatContext\"\n\nimport {presenceStyle} from \"./style\"\n\nconst CometChatUserPresence = props => {\n\n\tconst context = React.useContext(CometChatContext);\n    const [presence, setPresence] = React.useState(false);\n\n    const togglePresence = () => {\n\n        context.FeatureRestriction.isUserPresenceEnabled().then(response => {\n\n            if (response !== presence) {\n                setPresence(response);\n            }\n\n        }).catch(error => {\n\n            if (presence !== false) {\n                setPresence(false);\n            }\n        })\n\n    }\n\n    React.useEffect(togglePresence);\n\n\t//if user presence feature is disabled\n\tif (presence === false) {\n\t\treturn null\n\t}\n\n\tconst borderWidth = props.borderWidth\n\tconst borderColor = props.borderColor\n\tconst cornerRadius = props.cornerRadius\n\n\tconst getStyle = () => ({borderWidth: borderWidth, borderStyle: \"solid\", borderColor: borderColor, borderRadius: cornerRadius})\n\n\treturn <span css={presenceStyle(props)} className=\"presence\" style={getStyle()}></span>\n}\n\n// Specifies the default values for props:\nCometChatUserPresence.defaultProps = {\n\tborderWidth: \"1px\",\n\tborderColor: \"#eaeaea\",\n\tcornerRadius: \"50%\",\n};\n\nCometChatUserPresence.propTypes = {\n\tborderWidth: PropTypes.string,\n\tborderColor: PropTypes.string,\n\tcornerRadius: PropTypes.string,\n}\n\nexport {CometChatUserPresence}","import * as enums from \"../../util/enums.js\";\n\nimport translationAR from \"./locales/ar/translation.json\";\nimport translationDE from \"./locales/de/translation.json\";\nimport translationEN from \"./locales/en/translation.json\";\nimport translationES from \"./locales/es/translation.json\";\nimport translationFR from \"./locales/fr/translation.json\";\nimport translationHI from \"./locales/hi/translation.json\";\nimport translationMS from \"./locales/ms/translation.json\";\nimport translationPT from \"./locales/pt/translation.json\";\nimport translationRU from \"./locales/ru/translation.json\";\nimport translationZH from \"./locales/zh/translation.json\";\nimport translationZHTW from \"./locales/zh-tw/translation.json\";\nimport translationSV from \"./locales/sv/translation.json\";\nimport translationLT from \"./locales/lt/translation.json\";\nimport translationHU from \"./locales/hu/translation.json\";\n\n// the translations\nconst translations = {\n\tar: translationAR,\n\tde: translationDE,\n\ten: translationEN,\n\tes: translationES,\n\tfr: translationFR,\n\thi: translationHI,\n\tms: translationMS,\n\tpt: translationPT,\n\tru: translationRU,\n\tzh: translationZH,\n\t\"zh-tw\": translationZHTW,\n\tsv: translationSV,\n\tlt: translationLT,\n\thu: translationHU,\n};\n\nclass Translator {\n\n    static key = enums.CONSTANTS[\"LOCALE\"];\n    static rtlLanguages = [\"ar\"];\n    static defaultLanguage = \"en\";\n\n    static getLanguage = () => {\n\n        return localStorage.getItem(this.key);\n    }\n\n    static setLanguage = (language) => {\n\n        const item = this.key;\n        localStorage.setItem(item, language);\n    }\n\n    static getBrowserLanguage = () => ((navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage);\n\n    static getDefaultLanguage = () => {\n\n        //get the language from localstorage\n        const savedLanguage = this.getLanguage();\n\n        //get the language set in the browser\n        const browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n        let browserLanguage = browserLanguageCode;\n\n        //check if the language set in the browser has hyphen(-), if yes split and take the first element of the array\n        if (browserLanguageCode !== \"zh-tw\" && browserLanguageCode.indexOf(\"-\") !== -1) {\n\n            const browserLanguageArray = browserLanguageCode.split(\"-\");\n            browserLanguage = browserLanguageArray[0];\n        }\n\n        //if there is language set in localstorage and it is different from browser language, update local storage and return the language code\n        if (savedLanguage) {\n\n            if (savedLanguage !== browserLanguage) {\n\n                this.setLanguage(browserLanguage);\n                \n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n                \n            } else {\n\n                //if the translations are not available, default to en\n                return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n            }\n\n        } else {\n\n            this.setLanguage(browserLanguage);\n\n            //if the translations are not available, default to en\n            return (translations.hasOwnProperty(browserLanguage)) ? browserLanguage : this.defaultLanguage;\n        }\n    }\n\n    static getDirection(language) {\n        return this.rtlLanguages.includes(language) ? \"rtl\" : \"ltr\";\n    }\n\n    static translate(str, language) {\n\n        if (translations.hasOwnProperty(language)) {\n\n            const languageDb = translations[language];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n\n        } else {\n\n            const languageDb = translations[this.defaultLanguage];\n            if (languageDb.hasOwnProperty(str)) {\n                return languageDb[str];\n            }\n\n            return str;\n        }\n    }\n}\n\nexport default Translator;","export const notificationContainerStyle = (props, keyframes) => {\n\n    // const toastInRight = keyframes`\n    // from {transform: translateX(100%);}\n    // to {transform: translateX(0);}`;\n\n    // const toastInLeft = keyframes`\n    //     from {transform: translateX(-100%); }\n    //     to {transform: translateX(0);}`;\n\n    // let positionProp = {}\n    // if (props.position === \"top-right\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-right\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         right: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInRight} .5s`\n    //     };\n\n    // } else if (props.position === \"top-left\") {\n\n    //     positionProp = {\n    //         top: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n\n    // } else if (props.position === \"bottom-left\") {\n\n    //     positionProp = {\n    //         bottom: \"12px\",\n    //         left: \"12px\",\n    //         transition: \"transform .6s ease-in\",\n    //         animation: `${toastInLeft} .5s`\n    //     };\n    // }\n\n    return {\n        fontSize: \"14px\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        zIndex: \"5\",\n        width: \"80%\",\n        maxWidth: \"320px\",\n        top: \"70px\",\n        left: \"50%\",\n        transform: \"translate(-50%, 0)\",\n    }\n}\n\nexport const notificationStyle = (props, state) => {\n\n    let backgroundColorProp = {\n        backgroundColor: \"#000\",\n    };\n    if (state.type === \"ERROR\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#d9534f\",\n        };\n\n    } else if (state.type === \"SUCCESS\") {\n       \n        backgroundColorProp = {\n            backgroundColor: \"#5cb85c\",\n        };\n\n    } else if (state.type === \"INFO\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#5bc0de\",\n        };\n\n    } else if (state.type === \"WARNING\") {\n\n        backgroundColorProp = {\n            backgroundColor: \"#f0ad4e\",\n        };\n    }\n\n    return {\n        transition: \".3s ease\",\n        position: \"relative\",\n        pointerEvents: \"auto\",\n        overflow: \"hidden\",\n        padding: \"8px\",\n        marginBottom: \"16px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        minHeight: \"50px\",\n        boxShadow: \"0 0 10px #999\",\n        color: \"#fff\",\n        ...backgroundColorProp,\n        backgroundPosition: \"15px\",\n        backgroundRepeat: \"no-repeat\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        boxSizing: \"border-box\"\n    }\n}\n\nexport const notificationIconStyle = () => {\n\n    return {\n        marginRight: \"16px\",\n        width: \"25px\",\n        height: \"25px\",\n        flexShrink: \"0\",\n        \"img\": {\n            maxWidth: \"100%\",\n        }\n    }\n}\n\nexport const notificationMessageContainerStyle = () => {\n\n    return {\n        width: \"calc(100% - 60px)\"\n    }\n}\n\nexport const notificationMessageStyle = () => {\n\n    return {\n        margin: \"0\",\n        textAlign: \"left\",\n        marginLeft: \"-1px\",\n    }\n}\n\nexport const notificationCloseButtonStyle = () => {\n\n    return {\n        width: \"25px\",\n        height: \"25px\",\n        padding: \"0\",\n        border: \"none\",\n        outline: \"none\",\n        backgroundColor: \"transparent\",\n        cursor:\" pointer\",\n        \"img\": {\n            flexShrink: \"0\",\n            maxWidth: \"100%\"\n        }\n    }\n}\n\nexport const iconStyle = (img, theme) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${theme.color.white}`,\n    };\n}\n","export default __webpack_public_path__ + \"static/media/close-circle-filled.2b9a0857.svg\";","export default __webpack_public_path__ + \"static/media/checkmark-filled.73f2a848.svg\";","export default __webpack_public_path__ + \"static/media/warning-filled.178b4e9a.svg\";","export default __webpack_public_path__ + \"static/media/info-filled.2fc272ce.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    notificationContainerStyle,\n    notificationStyle,\n    notificationIconStyle,\n    notificationMessageContainerStyle,\n    notificationMessageStyle,\n    notificationCloseButtonStyle,\n    iconStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close-circle-filled.svg\";\nimport successIcon from \"./resources/checkmark-filled.svg\";\nimport errorIcon from \"./resources/warning-filled.svg\";\nimport infoIcon from \"./resources/info-filled.svg\";\nimport warningIcon from \"./resources/warning-filled.svg\";\n\nexport class CometChatToastNotification extends React.Component {\n\n    interval;\n    static types = {\n        \"INFO\": \"info\",\n        \"WARNING\": \"warning\",\n        \"SUCCESS\": \"success\",\n        \"ERROR\": \"error\",\n    }\n\n    constructor(props) {\n\n        super(props);\n\n        this._isMounted = false;\n        this.state = { \n            type: \"\",\n            message: \"\"\n        };\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    componentWillUnmount = () => {\n\n        this._isMounted = false;\n        this.clearAutoDismiss();\n    }\n\n    setInfo = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"INFO\", message: message, icon: infoIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setError = (message) => {\n        \n        if (this._isMounted) {\n\n            this.setState({ type: \"ERROR\", message: message, icon: errorIcon });\n            //this.setAutoDismiss();\n        }\n    }\n\n    setSuccess = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"SUCCESS\", message: message, icon: successIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setWarning = (message) => {\n\n        if (this._isMounted) {\n\n            this.setState({ type: \"WARNING\", message: message, icon: warningIcon });\n            this.setAutoDismiss();\n        }\n    }\n\n    setAutoDismiss = () => {\n\n        this.clearAutoDismiss();\n        \n        if (this.props.autoDelete) {\n            this.interval = setTimeout(() => this.deleteToast(), this.props.dismissTime);\n        }\n    }\n\n    clearAutoDismiss = () => {\n        clearTimeout(this.interval);\n    }\n\n    deleteToast = () => {\n        this.setState({ type: \"\", message: \"\", icon: \"\" });\n    }\n\n    render() {\n\n        if (!this.state.type.trim().length || !this.state.message.trim().length) {\n            return null;\n        }\n\n        const messageClassName = `toast__message message-${CometChatToastNotification.types[this.state.type]}`;\n        const iconClassName = `toast__icon icon-${CometChatToastNotification.types[this.state.type]}`;\n        let toastIcon = (this.state.icon.trim().length) ? (\n\n            <div css={notificationIconStyle()} className={iconClassName}>\n                <i css={iconStyle(this.state.icon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n            </div>\n        ) : null;\n\n        return (\n            <div css={notificationContainerStyle(this.props, keyframes)} className=\"toast__notification\">\n                <div css={notificationStyle(this.props, this.state)} className=\"toast__container\">\n                    {toastIcon}\n                    <div css={notificationMessageContainerStyle()} className={messageClassName}>\n                        <p css={notificationMessageStyle()}>{Translator.translate(this.state.message, this.props.lang)}</p>\n                    </div>\n                    <button css={notificationCloseButtonStyle()} type=\"button\" onClick={this.deleteToast} className=\"toast__close\">\n                        <i css={iconStyle(closeIcon, this.props.theme)} title={Translator.translate(\"CLOSE\", this.props.lang)}></i>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nCometChatToastNotification.defaultProps = {\n\ttype: \"\",\n\tmessage: \"\",\n\ticon: \"\",\n\tposition: \"center\",\n\tautoDelete: true,\n\tdismissTime: 3000,\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatToastNotification.propTypes = {\n\ttype: PropTypes.oneOf(Object.values(CometChatToastNotification.types).concat(\"\")),\n\tmessage: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tposition: PropTypes.oneOf([\"top-right\", \"bottom-right\", \"top-left\", \"bottom-left\", \"center\"]),\n\tautoDelete: PropTypes.bool,\n\tdismissTime: PropTypes.number,\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n};\n","export const alertWrapperStyle = props => {\n\treturn {\n\t\twidth: \"calc(100% - 32px)\",\n\t\theight: \"auto\",\n\t\tbackgroundColor: `${props.theme.backgroundColor.white}`,\n\t\tposition: \"absolute\",\n\t\tmargin: \"0 auto\",\n\t\tpadding: \"16px\",\n\t\tfontSize: \"13px\",\n\t\tborderRadius: \"8px\",\n\t\tborder: \"1px solid #eee\",\n\t\tzIndex: \"4\",\n\t\ttop: \"50%\",\n\t\tleft: \"0\",\n\t\tright: \"0\",\n\t\ttransform: \"translateY(-50%)\",\n\t};\n};\n\nexport const alertMessageStyle = () => {\n\treturn {\n\t\ttextAlign: \"center\"\n\t}\n}\n\nexport const alertButtonStyle = (props) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tmargin: \"24px 0 0 0\",\n\t\t\"> button\": {\n\t\t\tpadding: \"5px 24px\",\n\t\t\tmargin: \"0 8px\",\n\t\t\tborderRadius: \"4px\",\n\t\t\tfontSize: \"12px\",\n\t\t\tfontWeight: \"600\",\n\t\t\tborder: `1px solid ${props.theme.primaryColor}`,\n\t\t},\n\t\t\"> button[value=yes]\": {\n\t\t\tbackgroundColor: `${props.theme.primaryColor}`,\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t},\n\t\t\"> button[value=no]\": {\n\t\t\tbackgroundColor: `${props.theme.backgroundColor.secondary}`,\n\t\t},\n\t};\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport { CometChatBackdrop } from \"../\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {alertWrapperStyle, alertMessageStyle, alertButtonStyle} from \"./style\";\n\nclass CometChatConfirmDialog extends React.Component {\n\n    render() {\n\n        const confirmButtonText = this.props?.confirmButtonText ? this.props.confirmButtonText : Translator.translate(\"YES\", this.context.language);\n        const cancelButtonText = this.props?.cancelButtonText ? this.props.cancelButtonText : Translator.translate(\"NO\", this.getContext().language);\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} style={{position:\"absolute\"}} clicked={this.props.close} />\n                <div className=\"confirm__dialog\" css={alertWrapperStyle(this.props)}>\n                    <div className=\"confirm__message\" css={alertMessageStyle(this.props)}>{this.props?.message}</div>\n                    <div className=\"confirm__buttons\" css={alertButtonStyle(this.props)}>\n                        <button type=\"button\" value=\"no\" onClick={this.props.onClick}>{cancelButtonText}</button>\n                        <button type=\"button\" value=\"yes\" onClick={this.props.onClick}>{confirmButtonText}</button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport { CometChatConfirmDialog };\n","import tabList from \"../resources/tabs.json\";\n\nexport class UIKitSettings {\n\twidgetSettings;\n\n\tstatic userListFilterOptions = {\n\t\tALL: \"all_users\",\n\t\tNONE: \"none\",\n\t\tFRIENDS: \"friends\",\n\t};\n\n\tstatic groupListFilterOptions = {\n\t\tPUBLIC: \"public_groups\",\n\t\tPASSWORD: \"password_protected_groups\",\n\t\tPUBLIC_AND_PASSWORD: \"public_and_password_protected_groups\",\n\t};\n\n\tstatic chatListFilterOptions = {\n\t\tUSERS: \"users\",\n\t\tGROUPS: \"groups\",\n\t\tUSERS_AND_GROUPS: \"all_chats\",\n\t};\n\n\tconstructor() {\n\t\tthis.customJS = \"\";\n\t\tthis.customCSS = \"\";\n\t\tthis.backgroundColor = \"\";\n\t\tthis.primaryColor = \"\";\n\t\tthis.foregroundColor = \"\";\n\t\tthis.overrideSystemBackgroundColor = \"\";\n\n\t\tthis.chatWindow = window;\n\n\t\tthis.userListMode = UIKitSettings.userListFilterOptions[\"ALL\"];\n\t\tthis.groupInMode = UIKitSettings.groupListFilterOptions[\"PUBLIC_AND_PASSWORD\"];\n\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[\"USERS_AND_GROUPS\"];\n\n\t\tthis.chats = true;\n\t\tthis.calls = false;\n\t\tthis.users = true;\n\t\tthis.groups = true;\n\t\tthis.userSettings = true;\n\t\tthis.tabs = Object.values(tabList);\n\n\t\tthis.searchUsers = true;\n\t\tthis.searchGroups = true;\n\t\tthis.searchMessages = true;\n\t\tthis.searchChats = true;\n\n\t\tthis.unreadCount = true;\n\n\t\tthis.publicGroup = true;\n\t\tthis.privateGroup = true;\n\t\tthis.passwordGroup = true;\n\n\t\tthis.blockUser = true;\n\t\tthis.viewShareMedia = true;\n\n\t\tthis.groupCreation = true;\n\t\tthis.allowDeleteGroup = true;\n\t\tthis.joinOrLeaveGroup = true;\n\t\tthis.viewGroupMembers = true;\n\t\tthis.kickMember = true;\n\t\tthis.banMember = true;\n\t\tthis.allowPromoteDemoteMembers = true;\n\t\tthis.allowAddMembers = true;\n\n\t\tthis.callNotifications = true;\n\t\tthis.joinLeaveNotifications = true;\n\n\t\tthis.enableSoundForMessages = true;\n\t\tthis.enableSoundForCalls = true;\n\n\t\tthis.userVideoCall = true;\n\t\tthis.groupVideoCall = true;\n\t\tthis.userAudioCall = true;\n\t\tthis.groupAudioCall = true;\n\n\t\tthis.sendTypingIndicator = true;\n\t\tthis.showUserPresence = true;\n\t\tthis.showReadDeliveryReceipts = true;\n\n\t\tthis.threadedChats = true;\n\t\tthis.hideDeletedMessages = false;\n\n\t\tthis.sendMessageInOneOnOne = true;\n\t\tthis.sendMessageInGroup = true;\n\t\tthis.editMessage = true;\n\t\tthis.deleteMessage = true;\n\t\tthis.replyingToMessage = true;\n\n\t\tthis.sendEmojis = true;\n\t\tthis.sendEmojisInLargerSize = true;\n\t\tthis.sendGifs = false;\n\t\tthis.shareCopyForwardMessage = false;\n\t\tthis.sendFiles = true;\n\t\tthis.sendPhotoVideos = true;\n\t\tthis.sendVoiceNotes = true;\n\t\tthis.sendLiveReaction = true;\n\n\t\tthis.sendMessageReaction = true;\n\t\tthis.collaborativeWhiteboard = true;\n\t\tthis.collaborativeDocument = true;\n\t\tthis.sendStickers = true;\n\t\tthis.shareLocation = false;\n\t\tthis.polls = true;\n\t\tthis.messageTranslation = true;\n\n\t\tthis.allowModeratorToDeleteMemberMessages = true;\n\t\tthis.setGroupInQnaModeByModerators = false;\n\t\tthis.highlightMessageFromModerators = false;\n\t\tthis.emailReplies = true;\n\t\tthis.smartReplies = true;\n\t\tthis.callRecording = true;\n\t\tthis.callLiveStreaming = true;\n\t\tthis.callTranscription = true;\n\t\tthis.thumbnailGeneration = true;\n\t\tthis.linkPreview = true;\n\t\tthis.saveMessages = true;\n\t\tthis.pinMessages = true;\n\t\tthis.richMediaPreview = true;\n\t\tthis.voiceTranscription = true;\n\t\tthis.mentions = true;\n\t\tthis.xssFilter = true;\n\t\tthis.profanityFilter = true;\n\t\tthis.imageModeration = true;\n\t\tthis.dataMasking = true;\n\t\tthis.malwareScanner = true;\n\t\tthis.sentimentAnalysis = true;\n\t\tthis.inflightMessageModeration = true;\n\t\tthis.messageHistory = true;\n\n\t\tthis.viewProfile = true;\n\t\tthis.messageInPrivate = true;\n\n\t\tthis.showCallRecordingOption = true;\n\t}\n\n\tsetCustomJS = customJS => {\n\t\tthis.customJS = customJS;\n\t};\n\n\tsetCustomCSS = customCSS => {\n\t\tthis.customCSS = customCSS;\n\t};\n\n\tsetTabs = tabList => {\n\t\tthis.tabs = tabList;\n\t};\n\n\tsetUserSettings = userSettings => {\n\t\tthis.userSettings = userSettings;\n\t};\n\n\tsetCalls = calls => {\n\t\tthis.calls = calls;\n\t};\n\n\tsetUsers = users => {\n\t\tthis.users = users;\n\t};\n\n\tsetChats = chats => {\n\t\tthis.chats = chats;\n\t};\n\n\tsetGroups = groups => {\n\t\tthis.groups = groups;\n\t};\n\n\tsetChatListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst chatListFilterKey = this.returnMatchedKey(UIKitSettings.chatListFilterOptions, option);\n\t\tif (chatListFilterKey) {\n\t\t\tthis.chatListMode = UIKitSettings.chatListFilterOptions[chatListFilterKey];\n\t\t}\n\t};\n\n\tsetUserListMode = option => {\n\t\tif (!option.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst userListFilterKey = this.returnMatchedKey(UIKitSettings.userListFilterOptions, option);\n\t\tif (userListFilterKey) {\n\t\t\tthis.userListMode = UIKitSettings.userListFilterOptions[userListFilterKey];\n\t\t}\n\t};\n\n\tsetGroupListMode = () => {};\n\n\tsetUserVideoCall = userVideoCall => {\n\t\tthis.userVideoCall = userVideoCall;\n\t};\n\n\tsetGroupVideoCall = groupVideoCall => {\n\t\tthis.groupVideoCall = groupVideoCall;\n\t};\n\n\tsetUserAudioCall = userAudioCall => {\n\t\tthis.userAudioCall = userAudioCall;\n\t};\n\n\tsetGroupAudioCall = groupAudioCall => {\n\t\tthis.groupAudioCall = groupAudioCall;\n\t};\n\n\tsetEditMessage = editMessage => {\n\t\tthis.editMessage = editMessage;\n\t};\n\n\tsetSendMessageInOneOnOne = sendMessageInOneOnOne => {\n\t\tthis.sendMessageInOneOnOne = sendMessageInOneOnOne;\n\t};\n\n\tsetSendMessageInGroup = sendMessageInGroup => {\n\t\tthis.sendMessageInGroup = sendMessageInGroup;\n\t};\n\n\tsetJoinOrLeaveGroup = joinOrLeaveGroup => {\n\t\tthis.joinOrLeaveGroup = joinOrLeaveGroup;\n\t};\n\n\tsetBlockUser = blockUser => {\n\t\tthis.blockUser = blockUser;\n\t};\n\n\tsetSendEmojis = sendEmojis => {\n\t\tthis.sendEmojis = sendEmojis;\n\t};\n\n\tsetSendEmojisInLargerSize = sendEmojisInLargerSize => {\n\t\tthis.sendEmojisInLargerSize = sendEmojisInLargerSize;\n\t};\n\n\tsetSendGifs = sendGifs => {\n\t\tthis.sendGifs = sendGifs;\n\t};\n\n\tsetShareCopyForwardMessage = shareCopyForwardMessage => {\n\t\tthis.shareCopyForwardMessage = shareCopyForwardMessage;\n\t};\n\n\tsetSendFiles = sendFiles => {\n\t\tthis.sendFiles = sendFiles;\n\t};\n\n\tsetSendPhotoVideos = sendPhotoVideos => {\n\t\tthis.sendPhotoVideos = sendPhotoVideos;\n\t};\n\n\tsetViewShareMedia = viewShareMedia => {\n\t\tthis.viewShareMedia = viewShareMedia;\n\t};\n\n\tsetEnableSoundForMessages = enableSoundForMessages => {\n\t\tthis.enableSoundForMessages = enableSoundForMessages;\n\t};\n\n\tsetEnableSoundForCalls = enableSoundForCalls => {\n\t\tthis.enableSoundForCalls = enableSoundForCalls;\n\t};\n\n\tsetSendStickers = sendStickers => {\n\t\tthis.sendStickers = sendStickers;\n\t};\n\n\tsetViewGroupMembers = viewGroupMembers => {\n\t\tthis.viewGroupMembers = viewGroupMembers;\n\t};\n\n\tsetCallNotifications = callNotifications => {\n\t\tthis.callNotifications = callNotifications;\n\t};\n\n\tsetAllowDeleteGroup = allowDeleteGroup => {\n\t\tthis.allowDeleteGroup = allowDeleteGroup;\n\t};\n\n\tsetKickMember = kickMember => {\n\t\tthis.kickMember = kickMember;\n\t};\n\n\tsetBanMember = banMember => {\n\t\tthis.banMember = banMember;\n\t};\n\n\tsetAllowPromoteDemoteMembers = allowPromoteDemoteMembers => {\n\t\tthis.allowPromoteDemoteMembers = allowPromoteDemoteMembers;\n\t};\n\n\tsetAllowAddMembers = allowAddMembers => {\n\t\tthis.allowAddMembers = allowAddMembers;\n\t};\n\n\tsetShareLocation = shareLocation => {\n\t\tthis.shareLocation = shareLocation;\n\t};\n\n\tsetJoinLeaveNotifications = joinLeaveNotifications => {\n\t\tthis.joinLeaveNotifications = joinLeaveNotifications;\n\t};\n\n\tsetSendVoiceNotes = sendVoiceNotes => {\n\t\tthis.sendVoiceNotes = sendVoiceNotes;\n\t};\n\n\tsetMessageTranslation = messageTranslation => {\n\t\tthis.messageTranslation = messageTranslation;\n\t};\n\n\tsetGroupCreation = groupCreation => {\n\t\tthis.groupCreation = groupCreation;\n\t};\n\n\tsetSendTypingIndicator = sendTypingIndicator => {\n\t\tthis.sendTypingIndicator = sendTypingIndicator;\n\t};\n\n\tsetShowUserPresence = showUserPresence => {\n\t\tthis.showUserPresence = showUserPresence;\n\t};\n\n\tsetDeleteMessage = deleteMessage => {\n\t\tthis.deleteMessage = deleteMessage;\n\t};\n\n\tsetThreadedChats = threadedChats => {\n\t\tthis.threadedChats = threadedChats;\n\t};\n\n\tsetReplyingToMessage = replyingToMessage => {\n\t\tthis.replyingToMessage = replyingToMessage;\n\t};\n\n\tsetShowReadDeliveryReceipts = showReadDeliveryReceipts => {\n\t\tthis.showReadDeliveryReceipts = showReadDeliveryReceipts;\n\t};\n\n\tsetHideDeletedMessages = hideDeletedMessages => {\n\t\tthis.hideDeletedMessages = hideDeletedMessages;\n\t};\n\n\tsetEmailReplies = emailReplies => {\n\t\tthis.emailReplies = emailReplies;\n\t};\n\n\tsetSendMessageReaction = sendMessageReaction => {\n\t\tthis.sendMessageReaction = sendMessageReaction;\n\t};\n\n\tsetCollaborativeWhiteboard = collaborativeWhiteboard => {\n\t\tthis.collaborativeWhiteboard = collaborativeWhiteboard;\n\t};\n\n\tsetCollaborativeDocument = collaborativeDocument => {\n\t\tthis.collaborativeDocument = collaborativeDocument;\n\t};\n\n\tsetPolls = polls => {\n\t\tthis.polls = polls;\n\t};\n\n\tsetSendLiveReaction = sendLiveReaction => {\n\t\tthis.sendLiveReaction = sendLiveReaction;\n\t};\n\n\tsetPublicGroup = publicGroup => {\n\t\tthis.publicGroup = publicGroup;\n\t};\n\n\tsetPrivateGroup = privateGroup => {\n\t\tthis.privateGroup = privateGroup;\n\t};\n\n\tsetPasswordGroup = passwordGroup => {\n\t\tthis.passwordGroup = passwordGroup;\n\t};\n\n\tsetAllowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages => {\n\t\tthis.allowModeratorToDeleteMemberMessages = allowModeratorToDeleteMemberMessages;\n\t};\n\n\tsetUnreadCount = unreadCount => {\n\t\tthis.unreadCount = unreadCount;\n\t};\n\n\tsetSmartReplies = smartReplies => {\n\t\tthis.smartReplies = smartReplies;\n\t};\n\n\tsetSearchUsers = searchUsers => {\n\t\tthis.searchUsers = searchUsers;\n\t};\n\n\tsetSearchGroups = searchGroups => {\n\t\tthis.searchGroups = searchGroups;\n\t};\n\n\tsetSearchMessages = searchMessages => {\n\t\tthis.searchMessages = searchMessages;\n\t};\n\n\tsetCallRecording = callRecording => {\n\t\tthis.callRecording = callRecording;\n\t};\n\n\tsetCallLiveStreaming = callLiveStreaming => {\n\t\tthis.callLiveStreaming = callLiveStreaming;\n\t};\n\n\tsetCallTranscription = callTranscription => {\n\t\tthis.callTranscription = callTranscription;\n\t};\n\n\tsetThumbnailGeneration = thumbnailGeneration => {\n\t\tthis.thumbnailGeneration = thumbnailGeneration;\n\t};\n\n\tsetLinkPreview = linkPreview => {\n\t\tthis.linkPreview = linkPreview;\n\t};\n\n\tsetSaveMessages = saveMessages => {\n\t\tthis.saveMessages = saveMessages;\n\t};\n\n\tsetPinMessages = pinMessages => {\n\t\tthis.pinMessages = pinMessages;\n\t};\n\n\tsetRichMediaPreview = richMediaPreview => {\n\t\tthis.richMediaPreview = richMediaPreview;\n\t};\n\n\tsetVoiceTranscription = voiceTranscription => {\n\t\tthis.voiceTranscription = voiceTranscription;\n\t};\n\n\tsetMentions = mentions => {\n\t\tthis.mentions = mentions;\n\t};\n\n\tsetXssFilter = xssFilter => {\n\t\tthis.xssFilter = xssFilter;\n\t};\n\n\tsetProfanityFilter = profanityFilter => {\n\t\tthis.profanityFilter = profanityFilter;\n\t};\n\n\tsetImageModeration = imageModeration => {\n\t\tthis.imageModeration = imageModeration;\n\t};\n\n\tsetDataMasking = dataMasking => {\n\t\tthis.dataMasking = dataMasking;\n\t};\n\n\tsetMalwareScanner = malwareScanner => {\n\t\tthis.malwareScanner = malwareScanner;\n\t};\n\n\tsetSentimentAnalysis = sentimentAnalysis => {\n\t\tthis.sentimentAnalysis = sentimentAnalysis;\n\t};\n\n\tsetInflightMessageModeration = inflightMessageModeration => {\n\t\tthis.inflightMessageModeration = inflightMessageModeration;\n\t};\n\n\tsetMessageHistory = messageHistory => {\n\t\tthis.messageHistory = messageHistory;\n\t};\n\n\tsetViewProfile = viewProfile => {\n\t\tthis.viewProfile = viewProfile;\n\t};\n\n\tsetMessageInPrivate = messageInPrivate => {\n\t\tthis.messageInPrivate = messageInPrivate;\n\t};\n\n\tsetShowCallRecordingOption = showCallRecordingOption => {\n\t\tthis.showCallRecordingOption = showCallRecordingOption;\n\t};\n\n\tsetChatWindow = chatWindow => {\n\t\tthis.chatWindow = chatWindow;\n\t};\n\n\treturnMatchedKey = (matchWith, optionToMatch) => {\n\t\tfor (const [key, value] of Object.entries(matchWith)) {\n\t\t\tif (value === optionToMatch) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport class FeatureRestriction {\n\t/**\n\t * Core Chat\n\t */\n\tstatic chat_users_list_enabled = \"core.chat.users.list.enabled\";\n\tstatic chat_users_presence_enabled = \"core.chat.users.presence.enabled\";\n\tstatic chat_users_search_enabled = \"core.chat.users.search.enabled\";\n\n\tstatic chat_groups_enabled = \"core.chat.groups.enabled\";\n\tstatic chat_groups_public_enabled = \"core.chat.groups.public.enabled\";\n\tstatic chat_groups_private_enabled = \"core.chat.groups.private.enabled\";\n\tstatic chat_groups_password_enabled = \"core.chat.groups.password.enabled\";\n\tstatic chat_groups_search_enabled = \"core.chat.groups.search.enabled\";\n\n\tstatic chat_messages_media_enabled = \"core.chat.messages.media.enabled\";\n\tstatic chat_messages_threads_enabled = \"core.chat.messages.threads.enabled\";\n\tstatic chat_messages_replies_enabled = \"core.chat.messages.replies.enabled\";\n\tstatic chat_messages_receipts_enabled = \"core.chat.messages.receipts.enabled\";\n\tstatic chat_messages_unread_count_enabled = \"core.chat.messages.unread-count.enabled\";\n\tstatic chat_messages_search_enabled = \"core.chat.messages.search.enabled\";\n\tstatic chat_messages_history_enabled = \"core.chat.messages.history.enabled\";\n\tstatic chat_messages_custom_enabled = \"core.chat.messages.custom.enabled\";\n\n\tstatic chat_one_on_one_enabled = \"core.chat.one-on-one.enabled\";\n\tstatic chat_voice_notes_enabled = \"core.chat.voice-notes.enabled\";\n\tstatic chat_typing_indicator_enabled = \"core.chat.typing-indicator.enabled\";\n\n\t/**\n\t * Voice & Video Calling/Conferencing\n\t */\n\tstatic calls_enabled = \"core.call.enabled\";\n\tstatic call_one_on_one_video_enabled = \"core.call.one-on-one.video.enabled\";\n\tstatic call_groups_video_enabled = \"core.call.groups.video.enabled\";\n\tstatic call_one_on_one_audio_enabled = \"core.call.one-on-one.audio.enabled\";\n\tstatic call_groups_audio_enabled = \"core.call.groups.audio.enabled\";\n\tstatic call_recording_enabled = \"core.call.recording.enabled\";\n\tstatic call_live_streaming_enabled = \"core.call.live-streaming.enabled\";\n\tstatic call_transcript_enabled = \"core.call.transcript.enabled\";\n\n\t/**\n\t * Collaboration\n\t */\n\tstatic collaboration_whiteboard_enabled = \"features.collaboration.whiteboard.enabled\";\n\tstatic collaboration_document_enabled = \"features.collaboration.document.enabled\";\n\n\t/**\n\t * Moderation\n\t */\n\tstatic moderation_groups_moderators_enabled = \"features.moderation.groups.moderators.enabled\";\n\tstatic moderation_users_block_enabled = \"features.moderation.users.block.enabled\";\n\tstatic moderation_groups_kick_enabled = \"features.moderation.groups.kick.enabled\";\n\tstatic moderation_groups_ban_enabled = \"features.moderation.groups.ban.enabled\";\n\tstatic moderation_xss_filter_enabled = \"features.moderation.xss-filter.enabled\";\n\tstatic moderation_profanity_filter_enabled = \"features.moderation.profanity-filter.enabled\";\n\tstatic moderation_image_moderation_enabled = \"features.moderation.image-moderation.enabled\";\n\tstatic moderation_data_masking_enabled = \"features.moderation.data-masking.enabled\";\n\tstatic moderation_malware_scanner_enabled = \"features.moderation.malware-scanner.enabled\";\n\tstatic moderation_sentiment_analysis_enabled = \"features.moderation.sentiment-analysis.enabled\";\n\tstatic moderation_inflight_message_moderation_enabled = \"features.moderation.inflight-message-moderation.enabled\";\n\n\t/**\n\t * User Engagement\n\t */\n\tstatic reactions_enabled = \"features.ue.reactions.enabled\";\n\tstatic emojis_enabled = \"features.ue.emojis.enabled\";\n\tstatic stickers_enabled = \"features.ue.stickers.enabled\";\n\tstatic message_translation_enabled = \"features.ue.message-translation.enabled\";\n\tstatic email_replies_enabled = \"features.ue.email-replies.enabled\";\n\tstatic polls_enabled = \"features.ue.polls.enabled\";\n\tstatic live_reactions_enabled = \"features.ue.live-reactions.enabled\";\n\tstatic smart_replies_enabled = \"features.ue.smart-replies.enabled\";\n\tstatic mentions_enabled = \"features.ue.mentions.enabled\";\n\n\t/**\n\t * User Experience\n\t */\n\tstatic thumbnail_generation_enabled = \"features.ux.thumbnail-generation.enabled\";\n\tstatic link_preview_enabled = \"features.ux.link-preview.enabled\";\n\tstatic messages_saved_enabled = \"features.ux.messages.saved.enabled\";\n\tstatic messages_pinned_enabled = \"features.ux.messages.pinned.enabled\";\n\tstatic rich_media_preview_enabled = \"features.ux.rich-media-preview.enabled\";\n\tstatic voice_transcription_enabled = \"features.ux.voice-transcription.enabled\";\n\n\t/**\n\t * Extensions slug\n\t */\n\tstatic dataMasking = \"data-masking\";\n\tstatic profanityFilter = \"profanity-filter\";\n\tstatic thumbnailGeneration = \"thumbnail-generator\";\n\tstatic linkPreview = \"link-preview\";\n\tstatic richMediaPreview = \"rich-media\";\n\tstatic sticker = \"stickers\";\n\tstatic reactions = \"reactions\";\n\tstatic messageTranslation = \"message-translation\";\n\tstatic smartReplies = \"smart-reply\";\n\tstatic collaborationWhiteboard = \"whiteboard\";\n\tstatic collaborationDocument = \"document\";\n\tstatic pinMessages = \"pin-message\";\n\tstatic saveMessages = \"save-message\";\n\tstatic voiceTranscription = \"voice-transcription\";\n\tstatic polls = \"polls\";\n\tstatic xssFilter = \"xss-filter\";\n\tstatic imageModeration = \"image-moderation\";\n\tstatic malwareScanner = \"virus-malware-scanner\";\n\tstatic sentimentAnalysis = \"sentiment-analysis\";\n\tstatic emailReplies = \"email-replies\";\n\tstatic emojis = \"emojis\";\n\tstatic mentions = \"mentions\";\n\n\tstatic isExtensionEnabled = extensionKey => {\n\t\treturn new Promise(resolve =>\n\t\t\tCometChat.isExtensionEnabled(extensionKey)\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false)),\n\t\t);\n\t};\n\n\tUIKitSettings;\n\n\tconstructor(UIKitSettings) {\n\t\tthis.UIKitSettings = UIKitSettings;\n\t}\n\n\tisRecentChatListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.chats));\n\tisGroupListEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groups));\n\tisUserSettingsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.userSettings));\n\tisEditMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.editMessage));\n\tisQNAModeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.setGroupInQnaModeByModerators));\n\tisHighlightMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.highlightMessageFromModerators));\n\tisJoinLeaveGroupsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinOrLeaveGroup));\n\tisLargerSizeEmojisEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendEmojisInLargerSize));\n\tisGifsEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.sendGifs));\n\tisShareCopyForwardMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareCopyForwardMessage));\n\tisSharedMediaEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewShareMedia));\n\tisMessagesSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForMessages));\n\tisCallsSoundEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.enableSoundForCalls));\n\tisViewingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewGroupMembers));\n\tisCallActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.callNotifications));\n\tisGroupDeletionEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowDeleteGroup));\n\tisChangingGroupMemberScopeEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowPromoteDemoteMembers));\n\tisAddingGroupMembersEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.allowAddMembers));\n\tisLocationSharingEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.shareLocation));\n\tisGroupActionMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.joinLeaveNotifications));\n\tisGroupCreationEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.groupCreation));\n\tisDeleteMessageEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.deleteMessage));\n\tisHideDeletedMessagesEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.hideDeletedMessages));\n\tisViewProfileEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.viewProfile));\n\tisMessageInPrivateEnabled = () => new Promise(resolve => resolve(this.UIKitSettings.messageInPrivate));\n\n\tisCallListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.calls_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.calls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserListEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_list_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.users))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupVideoCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_video_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupVideoCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_one_on_one_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.userAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupAudioCallEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_groups_audio_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.groupAudioCall))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisOneOnOneChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_one_on_one_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInOneOnOne))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupChatEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageInGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeleteMemberMessageEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_moderators_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.allowModeratorToDeleteMemberMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBlockUserEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_users_block_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.blockUser))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmojisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.emojis_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendEmojis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisFilesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendFiles))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPhotosVideosEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_media_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendPhotoVideos))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisKickingGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_kick_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.kickMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisBanningGroupMembersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_groups_ban_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.banMember))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceNotesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_voice_notes_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendVoiceNotes))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisTypingIndicatorsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_typing_indicator_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendTypingIndicator))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserPresenceEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_presence_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showUserPresence))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThreadedMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_threads_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.threadedChats))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_replies_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.replyingToMessage))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDeliveryReceiptsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_receipts_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.showReadDeliveryReceipts))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLiveReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.live_reactions_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendLiveReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPublicGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_public_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.publicGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPrivateGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_private_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.privateGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPasswordGroupEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_password_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.passwordGroup))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUnreadCountEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_unread_count_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.unreadCount))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisUserSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_users_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchUsers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisGroupSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_groups_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchGroups))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageSearchEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_search_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.searchMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallRecordingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_recording_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callRecording))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallLiveStreamingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_live_streaming_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callLiveStreaming))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCallTranscriptEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.call_transcript_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.callTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageHistoryEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.chat_messages_history_enabled)\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageHistory))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMessageTranslationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.message_translation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.messageTranslation))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.messageTranslation))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisReactionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.reactions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.reactions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendMessageReaction))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeWhiteBoardEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_whiteboard_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationWhiteboard))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeWhiteboard))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisCollaborativeDocumentEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.collaboration_document_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.collaborationDocument))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.collaborativeDocument))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisStickersEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.stickers_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sticker))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sendStickers))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisEmailRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.email_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.emailReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.emailReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPollsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.polls_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.polls))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.polls))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSmartRepliesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.smart_replies_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.smartReplies))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.smartReplies))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisThumbnailGenerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.thumbnail_generation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.thumbnailGeneration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.thumbnailGeneration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisLinkPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.link_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.linkPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.linkPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSaveMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_saved_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.saveMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.saveMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisPinMessagesEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.messages_pinned_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.pinMessages))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.pinMessages))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisRichMediaPreviewEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.rich_media_preview_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.richMediaPreview))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.richMediaPreview))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisVoiceTranscriptionEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.voice_transcription_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.voiceTranscription))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.voiceTranscription))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMentionsEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.mentions_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.mentions))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.mentions))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisXssFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_xss_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.xssFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.xssFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisProfanityFilterEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_profanity_filter_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.profanityFilter))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.profanityFilter))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisImageModerationEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_image_moderation_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.imageModeration))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.imageModeration))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisDataMaskingEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_data_masking_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.dataMasking))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.dataMasking))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisMalwareScannerEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_malware_scanner_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.malwareScanner))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.malwareScanner))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tisSentimentAnalysisEnabled = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tCometChat.isFeatureEnabled(FeatureRestriction.moderation_sentiment_analysis_enabled)\n\t\t\t\t.then(response => response && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis))\n\t\t\t\t.then(response => resolve(response && this.UIKitSettings.sentimentAnalysis))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\t// isInFlightMessageModerationEnabled = () => {\n\n\t//     return new Promise(resolve => {\n\n\t//         CometChat.isFeatureEnabled(FeatureRestriction.moderation_inflight_message_moderation_enabled)\n\t//             .then(response => {\n\n\t//                 return response\n\t//                     && FeatureRestriction.isExtensionEnabled(FeatureRestriction.sentimentAnalysis)\n\t//                     && this.UIKitSettings.inflightMessageModeration;\n\t//             })\n\t//             .catch(error => resolve(false));\n\t//     });\n\t// }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatToastNotification } from \"../components/Shared\";\nimport { UIKitSettings } from \"./UIKitSettings\";\nimport * as enums from \"./enums.js\";\n\nimport Translator from \"../resources/localization/translator\";\nimport { FeatureRestriction } from \"./FeatureRestriction\";\nimport { theme } from \"../resources/theme\";\n\nexport const CometChatContext = React.createContext({});\n\nexport class CometChatContextProvider extends React.Component {\n\tloggedInUser;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tconst settings = new UIKitSettings();\n\t\tconst featureRestriction = new FeatureRestriction(settings);\n\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\ttype: \"\",\n\t\t\ttoastMessage: props.toastMessage,\n\t\t\tgroupMembers: props.groupMembers,\n\t\t\tbannedGroupMembers: props.bannedGroupMembers,\n\t\t\tgroupAdmins: props.groupAdmins,\n\t\t\tgroupModerators: props.groupModerators,\n\t\t\tcallInProgress: props.callInProgress,\n\t\t\tcallType: \"\",\n\t\t\tdeletedGroupId: \"\",\n\t\t\tleftGroupId: \"\",\n\t\t\tlastMessage: {},\n\t\t\tunreadMessages: [],\n\t\t\tclearedUnreadMessages: false,\n\t\t\tdirectCallCustomMessage: {},\n\t\t\tdirectCallCustomMessageAction: \"\",\n\t\t\tUIKitSettings: settings,\n\t\t\tFeatureRestriction: featureRestriction,\n\t\t\ttheme: theme,\n\t\t\tlanguage: props.language,\n\t\t\troles: {\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", props.language),\n\t\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", props.language),\n\t\t\t},\n\t\t\tgetLoggedinUser: this.getLoggedinUser,\n\t\t\tsetGroupMembers: this.setGroupMembers,\n\t\t\tupdateGroupMembers: this.updateGroupMembers,\n\t\t\tsetAllGroupMembers: this.setAllGroupMembers,\n\t\t\tsetGroupAdmins: this.setGroupAdmins,\n\t\t\tsetGroupModerators: this.setGroupModerators,\n\t\t\tsetBannedGroupMembers: this.setBannedGroupMembers,\n\t\t\tupdateBannedGroupMembers: this.updateBannedGroupMembers,\n\t\t\tclearGroupMembers: this.clearGroupMembers,\n\t\t\tsetToastMessage: this.setToastMessage,\n\t\t\tsetCallInProgress: this.setCallInProgress,\n\t\t\tsetItem: this.setItem,\n\t\t\tsetType: this.setType,\n\t\t\tsetTypeAndItem: this.setTypeAndItem,\n\t\t\tsetDeletedGroupId: this.setDeletedGroupId,\n\t\t\tsetLeftGroupId: this.setLeftGroupId,\n\t\t\tsetLastMessage: this.setLastMessage,\n\t\t\tsetClearedUnreadMessages: this.setClearedUnreadMessages,\n\t\t\tsetDirectCallCustomMessage: this.setDirectCallCustomMessage,\n\t\t\tcheckIfDirectCallIsOngoing: this.checkIfDirectCallIsOngoing,\n\t\t\tcheckIfCallIsOngoing: this.checkIfCallIsOngoing,\n\t\t\tgetActiveCallSessionID: this.getActiveCallSessionID,\n\t\t\thasKeyValue: this.hasKeyValue,\n\t\t\tsetRoles: this.setRoles,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLoggedinUser();\n\n\t\tif (this.props.user.trim().length) {\n\t\t\tthis.getUser(this.props.user.trim())\n\t\t\t\t.then(user => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\tthis.setItem(user);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length) {\n\t\t\tthis.getGroup(this.props.group.trim())\n\t\t\t\t.then(group => {\n\t\t\t\t\tthis.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\tthis.setItem(group);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.user.trim().length === 0 && this.props.group.trim().length === 0 && this.props._component === enums.CONSTANTS[\"MESSAGES_COMPONENT\"]) {\n\t\t\tconst errorCode = \"UID_OR_GUID_NOT_AVAILABLE\";\n\t\t\tthis.toastRef.setError(errorCode);\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tif (this.props.user.trim().length && prevProps.user !== this.props.user) {\n\t\t\tthis.getUser(this.props.user)\n\t\t\t\t.then(user => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t\t//this.setItem(user);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_USER, user);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"uid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t} else if (this.props.group.trim().length && prevProps.group !== this.props.group) {\n\t\t\tthis.getGroup(this.props.group)\n\t\t\t\t.then(group => {\n\t\t\t\t\t//this.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t//this.setItem(group);\n\t\t\t\t\tthis.setTypeAndItem(CometChat.ACTION_TYPE.TYPE_GROUP, group);\n\t\t\t\t\t//this.setClearedUnreadMessages(false);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"guid not available\";\n\t\t\t\t\tthis.toastRef.setError(errorCode);\n\t\t\t\t});\n\t\t}\n\n\t\t//when the active group is deleted, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.deletedGroupId) {\n\t\t\t//this.setItem({});\n\t\t\t//this.setType(\"\");\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setDeletedGroupId(\"\");\n\t\t}\n\n\t\t//when the active group is left, close the chat window.\n\t\tif (this.state.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.item.guid === this.state.leftGroupId) {\n\t\t\tthis.setTypeAndItem({}, \"\");\n\t\t\tthis.setLeftGroupId(\"\");\n\t\t}\n\n\t\tif (prevProps.language !== this.props.language) {\n\t\t\tthis.setState({ language: this.props.language });\n\t\t\tthis.setRoles();\n\t\t}\n\t}\n\n\tsetRoles = () => {\n\t\tconst roles = {\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.ADMIN]: Translator.translate(\"ADMINISTRATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]: Translator.translate(\"MODERATOR\", this.props.language),\n\t\t\t[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]: Translator.translate(\"PARTICIPANT\", this.props.language),\n\t\t};\n\t\tthis.setState({ roles: roles });\n\t};\n\n\tgetUser = uid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!uid) {\n\t\t\t\tconst error = { code: \"uid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getUser(uid)\n\t\t\t\t.then(user => resolve(user))\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tgetGroup = guid => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (!guid) {\n\t\t\t\tconst error = { code: \"guid not available\" };\n\t\t\t\treject(error);\n\t\t\t}\n\n\t\t\tCometChat.getGroup(guid)\n\t\t\t\t.then(group => {\n\t\t\t\t\tif (group.hasJoined === false) {\n\t\t\t\t\t\tconst guid = group.guid;\n\t\t\t\t\t\tconst groupType = group.type;\n\t\t\t\t\t\tlet password = \"\";\n\t\t\t\t\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\t\t\t\tconst promptMessage = Translator.translate(\"Enter password\", this.props.lang);\n\t\t\t\t\t\t\tpassword = prompt(promptMessage);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t\t\t\t.then(group => resolve(group))\n\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(group);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tsetToastMessage = (type, message) => {\n\t\t// switch(type) {\n\n\t\t//     case \"error\":\n\t\t//         this.toastRef.setError(message);\n\t\t//     break;\n\t\t//     case \"success\":\n\t\t//         this.toastRef.setSuccess(message);\n\t\t//         break;\n\t\t//     case \"info\":\n\t\t//         this.toastRef.setInfo(message);\n\t\t//         break;\n\t\t//     case \"warning\":\n\t\t//         this.toastRef.setWarning(message);\n\t\t//         break;\n\t\t//     default:\n\t\t//     break;\n\t\t// }\n\n\t\treturn null;\n\t};\n\n\tgetLoggedinUser = () => {\n\t\tlet timerCounter = 10000;\n\t\tlet timer = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (timerCounter === timer) {\n\t\t\t\treturn reject(`timer reached ${timerCounter}`);\n\t\t\t}\n\n\t\t\tif (this.loggedInUser) {\n\t\t\t\treturn resolve(this.loggedInUser);\n\t\t\t}\n\n\t\t\tif (!CometChat.isInitialized()) {\n\t\t\t\treturn reject(\"CometChat not initialized\");\n\t\t\t}\n\n\t\t\tthis.isUserLoggedIn = setInterval(() => {\n\t\t\t\tCometChat.getLoggedinUser()\n\t\t\t\t\t.then(user => {\n\t\t\t\t\t\tthis.loggedInUser = user;\n\t\t\t\t\t\tclearInterval(this.isUserLoggedIn);\n\t\t\t\t\t\treturn resolve(user);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => reject(error));\n\n\t\t\t\ttimer += 100;\n\t\t\t}, 100);\n\t\t});\n\n\t\t// return new Promise((resolve, reject) => {\n\t\t// \tCometChat.getLoggedinUser()\n\t\t// \t\t.then(user => resolve(user))\n\t\t// \t\t.catch(error => reject(error));\n\t\t// });\n\t};\n\n\tclearGroupMembers = () => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [],\n\t\t\tgroupAdmins: [],\n\t\t\tgroupModerators: [],\n\t\t\tbannedGroupMembers: [],\n\t\t});\n\t};\n\n\tsetAllGroupMembers = (groupMembers, groupAdmins, groupModerators) => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tupdateGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupMembers = groupMembers => {\n\t\tthis.setState({\n\t\t\tgroupMembers: [...this.state.groupMembers, ...groupMembers],\n\t\t});\n\t};\n\n\tsetGroupAdmins = groupAdmins => {\n\t\tthis.setState({\n\t\t\tgroupAdmins: [...this.state.groupAdmins, ...groupAdmins],\n\t\t});\n\t};\n\n\tsetGroupModerators = groupModerators => {\n\t\tthis.setState({\n\t\t\tgroupModerators: [...this.state.groupModerators, ...groupModerators],\n\t\t});\n\t};\n\n\tsetBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...this.state.bannedGroupMembers, ...bannedMembers],\n\t\t});\n\t};\n\n\tupdateBannedGroupMembers = bannedMembers => {\n\t\tthis.setState({\n\t\t\tbannedGroupMembers: [...bannedMembers],\n\t\t});\n\t};\n\n\tsetCallInProgress = (call, callType) => {\n\t\tthis.setState({ callInProgress: { ...call }, callType });\n\t};\n\n\tsetItem = item => {\n\t\tthis.setState({ item: { ...item } });\n\t};\n\n\tsetType = type => {\n\t\tthis.setState({ type });\n\t};\n\n\tsetTypeAndItem = (type, item) => {\n\t\tthis.setState({ item: { ...item }, type });\n\t};\n\n\tsetDeletedGroupId = guid => {\n\t\tthis.setState({ deletedGroupId: guid });\n\t};\n\n\tsetLeftGroupId = guid => {\n\t\tthis.setState({ leftGroupId: guid });\n\t};\n\n\tsetLastMessage = message => {\n\t\tthis.setState({ lastMessage: message });\n\t};\n\n\tsetClearedUnreadMessages = flag => {\n\t\tthis.setState({ clearedUnreadMessages: flag });\n\t};\n\n\tsetDirectCallCustomMessage = (message, event) => {\n\t\tthis.setState({ directCallCustomMessage: message, directCallCustomMessageAction: event });\n\t};\n\n\tcheckIfDirectCallIsOngoing = () => {\n\t\tlet output = null;\n\n\t\tif (Object.keys(this.state.callInProgress).length && (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"])) {\n\t\t\tif (this.state.callInProgress.customData.sessionID === this.state.item.guid) {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"];\n\t\t\t} else {\n\t\t\t\toutput = enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"];\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tcheckIfCallIsOngoing = () => {\n\t\tif (Object.keys(this.state.callInProgress).length) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\tlet sessionID;\n\t\tif (this.state.callType === enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"] || this.state.callType === enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]) {\n\t\t\tsessionID = this.state.callInProgress?.data?.customData?.sessionID;\n\t\t} else {\n\t\t\tsessionID = this.state.callInProgress?.sessionId;\n\t\t}\n\n\t\treturn sessionID;\n\t};\n\n\thasKeyValue = (data, key) => {\n\t\tif (data.hasOwnProperty(key) === false || data[key] === null || data[key] === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<CometChatContext.Provider value={this.state}>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.language} position={this.props.toastNotificationPos} />\n\t\t\t\t{this.props.children}\n\t\t\t</CometChatContext.Provider>\n\t\t);\n\t}\n}\n\nCometChatContextProvider.defaultProps = {\n\ttoastMessage: {},\n\tgroupMembers: [],\n\tbannedGroupMembers: [],\n\tgroupAdmins: [],\n\tgroupModerators: [],\n\tcallInProgress: {},\n\tuser: \"\",\n\tgroup: \"\",\n\t_component: \"\",\n\tlanguage: Translator.getDefaultLanguage(),\n};\n\nCometChatContextProvider.propTypes = {\n\ttoastMessage: PropTypes.object,\n\tgroupMembers: PropTypes.array,\n\tbannedGroupMembers: PropTypes.array,\n\tgroupAdmins: PropTypes.array,\n\tgroupModerators: PropTypes.array,\n\tcallInProgress: PropTypes.object,\n\tgroup: PropTypes.string,\n\tuser: PropTypes.string,\n\t_component: PropTypes.string,\n\tlanguage: PropTypes.string,\n};\n","export class Storage {\n\n    static attachChangeDetection = (callback) => {\n        window.addEventListener('storage', callback);\n    }\n\n    static detachChangeDetection = (callback) => {\n        window.removeEventListener('storage', callback);\n    }\n\n    static setItem = (storageKey, storageValue) => {\n        localStorage.setItem(storageKey, JSON.stringify(storageValue));\n    }\n\n    static getItem = (storageKey) => {\n        return JSON.parse(localStorage.getItem(storageKey));\n    }\n\n    static removeItem = (storageKey) => {\n        localStorage.removeItem(storageKey);\n    }\n\n    static clear = () => {\n\n    }\n}","import Translator from \"../../../resources/localization/translator\";\n\nexport const LocalizedString = language => {\n\treturn {\n\t\tSELECT_VIDEO_SOURCE: Translator.translate(\"SELECT_VIDEO_SOURCE\", language),\n\t\tSELECT_INPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_INPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_OUTPUT_AUDIO_SOURCE: Translator.translate(\"SELECT_OUTPUT_AUDIO_SOURCE\", language),\n\t\tSELECT_MODE: Translator.translate(\"SELECT_MODE\", language),\n\t\tCALL_RECORDING_STARTED_MSG: Translator.translate(\"CALL_RECORDING_STARTED_MSG\", language),\n\t\tUSER_JOINED_CALL_MSG: Translator.translate(\"USER_JOINED_CALL_MSG\", language),\n\t\tCALL_RECORDING_ENDED_MSG: Translator.translate(\"CALL_RECORDING_ENDED_MSG\", language),\n\t\tUSER_LEFT_CALL_MSG: Translator.translate(\"USER_LEFT_CALL_MSG\", language),\n\t\tCAMERA_ERROR_MSG: Translator.translate(\"CAMERA_ERROR_MSG\", language),\n\t\tMIC_ERROR_MSG: Translator.translate(\"MIC_ERROR_MSG\", language),\n\t\tCAMERA_MIC_ERROR_MSG: Translator.translate(\"CAMERA_MIC_ERROR_MSG\", language),\n\t\tRECORDING_TEXT: Translator.translate(\"RECORDING_TEXT\", language),\n\t\tTRYING_TO_START_RECORDING_TEXT: Translator.translate(\"TRYING_TO_START_RECORDING_TEXT\", language),\n\t\tJOINING_TEXT: Translator.translate(\"JOINING_TEXT\", language),\n\t\tUN_MUTE_AUDIO_TEXT: Translator.translate(\"UN_MUTE_AUDIO_TEXT\", language),\n\t\tMUTE_AUDIO_TEXT: Translator.translate(\"MUTE_AUDIO_TEXT\", language),\n\t\tEND_CALL_TEXT: Translator.translate(\"END_CALL_TEXT\", language),\n\t\tSTART_RECORDING_TEXT: Translator.translate(\"START_RECORDING_TEXT\", language),\n\t\tSTOP_RECORDING_TEXT: Translator.translate(\"STOP_RECORDING_TEXT\", language),\n\t\tSTART_SCREEN_SHARE_TEXT: Translator.translate(\"START_SCREEN_SHARE_TEXT\", language),\n\t\tSTOP_SCREEN_SHARE_TEXT: Translator.translate(\"STOP_SCREEN_SHARE_TEXT\", language),\n\t\tMUTE_VIDEO_TEXT: Translator.translate(\"MUTE_VIDEO_TEXT\", language),\n\t\tUN_MUTE_VIDEO_TEXT: Translator.translate(\"UN_MUTE_VIDEO_TEXT\", language),\n\t\tSELECT_LAYOUT_HEADER: Translator.translate(\"SELECT_LAYOUT_HEADER\", language),\n\t\tNO_OF_USER_IN_TILE_TEXT: Translator.translate(\"NO_OF_USER_IN_TILE_TEXT\", language),\n\t\tCHANGE_AUDIO_SOURCE: Translator.translate(\"CHANGE_AUDIO_SOURCE\", language),\n\t\tCHANGE_AUDIO_SOURCE_DESC: Translator.translate(\"CHANGE_AUDIO_SOURCE_DESC\", language),\n\t\tAUDIO_INPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_INPUT_DEVICE_LABEL\", language),\n\t\tNO_AUDIO_DEVICE_AVAILABLE: Translator.translate(\"NO_AUDIO_DEVICE_AVAILABLE\", language),\n\t\tAUDIO_OUTPUT_DEVICE_LABEL: Translator.translate(\"AUDIO_OUTPUT_DEVICE_LABEL\", language),\n\t\tCHANGE_VIDEO_SOURCE: Translator.translate(\"CHANGE_VIDEO_SOURCE\", language),\n\t\tCHANGE_VIDEO_SOURCE_DESC: Translator.translate(\"CHANGE_VIDEO_SOURCE_DESC\", language),\n\t\tVIDEO_DEVICES_LABEL: Translator.translate(\"VIDEO_DEVICES_LABEL\", language),\n\t\tFULL_SCREEN: Translator.translate(\"FULL_SCREEN\", language),\n\t\tEXIT_FULL_SCREEN: Translator.translate(\"EXIT_FULL_SCREEN\", language),\n\t\tCHANGE_LAYOUT: Translator.translate(\"CHANGE_LAYOUT\", language),\n\t\tAUDIO_SETTING: Translator.translate(\"AUDIO_SETTING\", language),\n\t\tVIDEO_SETTING: Translator.translate(\"VIDEO_SETTING\", language),\n\t\tUSER_LIST: Translator.translate(\"USER_LIST\", language),\n\t\tMORE: Translator.translate(\"MORE\", language),\n\t\tMUTE_USER: Translator.translate(\"MUTE_USER\", language),\n\t\tPIN_USER: Translator.translate(\"PIN_USER\", language),\n\t\tUNPIN_USER: Translator.translate(\"UNPIN_USER\", language),\n\t\tUN_MUTE_USER: Translator.translate(\"UN_MUTE_USER\", language),\n\t\tMUTED: Translator.translate(\"MUTED\", language),\n\t\tYOU_HAVE_BLOCKED: Translator.translate(\"YOU_HAVE_BLOCKED\", language),\n\t\tNOT_POSSIBLE_TO_SEND_MESSAGES: Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", language),\n\t\tIOS_BROWSER_WARNING: Translator.translate(\"IOS_BROWSER_WARNING\", language),\n\t\tPEOPLE_TEXT: Translator.translate(\"PEOPLE_TEXT\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT1: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT1\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT2: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT2\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT3: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT3\", language),\n\t\tSPOTLIGHT_DETAIL_TEXT4: Translator.translate(\"SPOTLIGHT_DETAIL_TEXT4\", language),\n\t};\n};\n","\n\nexport const callScreenWrapperStyle = (props, keyframes) => {\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 50px)\",\n        position: \"absolute\",\n        top: \"50px\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        zIndex: \"999\",\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n        \"iframe\": {\n            border: \"none\"\n        },\n    }\n}\n\nexport const callScreenBackgroundStyle = (state) => {\n\n    return {\n        display: \"none\",\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483001\",\n    }\n}\n\nexport const callScreenContainerStyle = (props) => {\n\n    return {\n        width: props.maxWidth,\n        height: props.maxHeight,\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        overflow: \"hidden\",\n        zIndex: \"2147483002\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const callScreenInnerBackgroundStyle = () => {\n\n    return {\n        display: \"none\",\n        position: \"absolute\",\n        top: \"0\",\n        left: \"0\",\n        bottom: \"0\",\n        right: \"0\",\n        zIndex: \"2147483003\",\n    }\n}\n\nexport const callScreenHeaderStyle = (state) => {\n\n    const cursorStyle = (state.maximized) ? {} : {\n        cursor: \"grabbing\",\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        backgroundColor: \"#282c34\",\n        width: \"100%\",\n        height: \"50px\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"2147483004\",\n        ...cursorStyle\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        width: \"calc(100% - 55px)\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"55px\",\n        padding: \"16px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"button\": {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            outline: \"none\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            width: \"100%\",\n            padding: \"0px\",\n            userSelect: \"none\",\n            \"img\": {\n                maxWidth: \"100%\",\n                flexShrink: \"0\"\n            }\n        }\n    }\n}\n\nexport const callScreenResizerStyle = (state) => {\n\n    const backgroundStyle = (state.maximized) ? {\n        display: \"none\"\n    }: {\n        cursor: \"nwse-resize\",\n        clipPath: \"polygon(100% 0,100% 100%,0 100%)\",\n        background: \"repeating-linear-gradient(135deg,hsla(0,0%,100%,.5),hsla(0,0%,100%,.5) 2px,#000 0,#000 4px)\",\n    };\n\n    return {\n        width: \"35px\",\n        height: \"35px\",\n        position: \"absolute\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"2147483004\", \n        ...backgroundStyle\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `white`,\n    }\n}","export default __webpack_public_path__ + \"static/media/reduce-size.e5af2bb8.svg\";","export default __webpack_public_path__ + \"static/media/increase-size.97e9cd75.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { Storage } from \"../../../util/Storage\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\nimport { LocalizedString } from \"./strings\";\n\nimport {\n    callScreenBackgroundStyle,\n    callScreenContainerStyle,\n    callScreenInnerBackgroundStyle,\n    callScreenHeaderStyle,\n    callScreenWrapperStyle,\n    headerTitleStyle,\n    headerButtonStyle,\n    callScreenResizerStyle,\n    iconStyle\n} from \"./style\";\n\nimport minimizeIcon from \"./resources/reduce-size.svg\";\nimport maximizeIcon from \"./resources/increase-size.svg\";\n\nclass CometChatCallScreen extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            x: 0,\n            y: 0,\n            rel: null, // position relative to the cursor\n            dragging: false,\n            maximized: true\n        };\n\n        this.loggedInUser = props.loggedInUser;\n        \n        this.callScreenBackgroundEl = React.createRef();\n        this.callScreenInnerBackgroundEl = React.createRef();\n        this.callScreenEl = React.createRef();\n        this.callScreenFrame = React.createRef();\n    }\n\n    componentDidMount() {\n\n        this.document = window.document;\n\n        if (this.props.call.type === enums.CUSTOM_TYPE_MEETING) {\n            this.startDirectCall(this.props.call);\n        } else {\n            this.startDefaultCall(this.props.call);\n        }\n    }\n\n    enableDragging = (e) => {\n\n        e.preventDefault();\n        \n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        this.setState({\n            dragging: true,\n            rel: {\n                x: e.pageX - this.state.x,\n                y: e.pageY - this.state.y\n            }\n        });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n\n        this.document.onmousemove = (e) => this.startDragging(e);\n        this.document.onmouseup = (e) => this.disableDragging(e);\n    }\n\n    checkIfCallScreenIsMaximized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (dialogWidth === windowWidth && dialogHeight === windowHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    checkIfCallScreenIsMinimized = () => {\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth;\n        const dialogHeight = elem.clientHeight;\n\n        const minimumWidth = this.props.minWidth;\n        const minimumHeight = this.props.minHeight;\n\n        if (dialogWidth === minimumWidth && dialogHeight === minimumHeight) {\n            return true;\n        }\n\n        return false;\n    }\n\n    startDragging = (e) => {\n        \n        if (!this.state.dragging) return;\n        \n        e = e || window.event;\n\n        const elem = this.callScreenEl.current;\n\n        const dialogWidth = elem.clientWidth; \n        const dialogHeight = elem.clientHeight; \n        const x = Math.min(\n            Math.max(0, e.pageX - this.state.rel.x),\n            window.innerWidth - dialogWidth - 20\n        );\n        const y = Math.min(\n            Math.max(0, e.pageY - this.state.rel.y),\n            window.innerHeight - dialogHeight - 20\n        ); \n\n        this.setState({\n            x: x,\n            y: y\n        });\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    disableDragging = (e) => {\n\n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.setState({ dragging: false });\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n    }\n\n    initResize = (e) => {\n\n        e.preventDefault();\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            return false;\n        }\n\n        const element = this.callScreenEl.current;\n\n        this.startX = e.pageX;\n        this.startY = e.pageY;\n\n        this.startWidth = parseFloat(getComputedStyle(element, null).getPropertyValue(\"width\").replace(\"px\", \"\"));\n        this.startHeight = parseInt(getComputedStyle(element, null).getPropertyValue(\"height\").replace(\"px\", \"\"));\n\n        this.document.onmousemove = (e) => this.startResize(e);\n        this.document.onmouseup = (e) => this.stopResize(e);\n    }\n\n    startResize = (e) => {\n        \n        let width = this.startWidth + (e.pageX - this.startX);\n        let height = this.startHeight + (e.pageY - this.startY);\n\n        if (width < this.props.minWidth) {\n            width = this.props.minHWidth;\n        }\n\n        if (width > window.innerWidth) {\n            width = this.props.maxWidth;\n        }\n\n        if (height < this.props.minHeight) {\n            height = this.props.minHeight;\n        }\n\n        if (height > window.innerHeight) {\n            height = this.props.maxHeight;\n        }\n\n        this.callScreenEl.current.style.width = width + \"px\";\n        this.callScreenEl.current.style.height = height + \"px\";\n\n        this.setDimensionOfCallScreenInnerBackground({ width: width + \"px\", height: height + \"px\" });\n\n        this.toggleCallScreenBackground(true);\n        this.toggleCallScreenInnerBackground(true);\n    }\n\n    stopResize = () => {\n        \n        this.document.onmousemove = null;\n        this.document.onmouseup = null;\n\n        this.toggleCallScreenBackground(false);\n        this.toggleCallScreenInnerBackground(false);\n\n        if (this.checkIfCallScreenIsMaximized() === true) {\n            this.setState({ maximized: true });\n        } \n        if (this.checkIfCallScreenIsMinimized() === true) {\n            this.setState({ maximized: false });\n        }\n    }\n\n    toggleCallScreenBackground = (flag) => {\n\n        if (this.callScreenBackgroundEl && this.callScreenBackgroundEl.current) {\n            this.callScreenBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    toggleCallScreenInnerBackground = (flag) => {\n\n        if (this.callScreenInnerBackgroundEl && this.callScreenInnerBackgroundEl.current) {\n            this.callScreenInnerBackgroundEl.current.style.display = (flag) ? \"block\" : \"none\";\n        }\n    }\n\n    setDimensionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.width = props.width;\n        this.callScreenInnerBackgroundEl.current.style.height = props.height;\n    }\n\n    setPositionOfCallScreenInnerBackground = (props) => {\n\n        this.callScreenInnerBackgroundEl.current.style.top = props.y;\n        this.callScreenInnerBackgroundEl.current.style.left = props.x;\n    }\n\n    minimize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.minWidth + \"px\";\n        const height = this.props.minHeight + \"px\";\n\n        this.setState({ maximized: false });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    maximize = () => {\n\n        if (!this.callScreenEl || !this.callScreenEl.current) {\n            return false;\n        }\n\n        const width = this.props.maxWidth;\n        const height = this.props.maxHeight;\n\n        this.setState({ maximized: true });\n        this.setSizingAndPostionOfCallScreen({ width: width, height: height });\n        this.setDimensionOfCallScreenInnerBackground({ width: width, height: height });\n        this.setPositionOfCallScreenInnerBackground({ x: \"0px\", y: \"0px\" });\n    }\n\n    setSizingAndPostionOfCallScreen = (props) => {\n\n        this.callScreenEl.current.style.width = props.width;\n        this.callScreenEl.current.style.height = props.height;\n        this.callScreenEl.current.style.top = \"0px\";\n        this.callScreenEl.current.style.left = \"0px\";\n    }\n\n    toggle = (e) => {\n\n        this.setState({ x: 0, y: 0 });\n\n        if (this.state.maximized) {\n            this.minimize();\n        } else {\n            this.maximize();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    }\n\n    startDirectCall = (call) => {\n\n        const sessionId = call.data.customData.sessionID;\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n            .enableDefaultLayout(true)\n            .setSessionID(sessionId)\n            .setIsAudioOnlyCall(false)\n            .showRecordingButton(showRecordingButton)\n            .setCustomCSS(customCSS)\n            .setLocalizedStringObject(LocalizedString(this.props.lang)).build();\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onCallEnded: call => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress({}, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ENDED\"]);\n                },\n                onError: error => {\n\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    \n                    this.props.actionGenerated(enums.ACTIONS[\"DIRECT_CALL_ERROR\"]);\n                    const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n                    this.context.setToastMessage(\"error\", errorCode);\n                }\n            })\n        );\n    }\n\n    startDefaultCall = (call) => {\n\n        const sessionId = call.getSessionId();\n        const callType = (call.type === CometChat.CALL_TYPE.AUDIO ? true : false);\n        const customCSS = this.context.UIKitSettings.customCSS;\n        const showRecordingButton = this.context.UIKitSettings.showCallRecordingOption;\n\n        const callSettings = new CometChat.CallSettingsBuilder()\n\t\t\t\t\t.setSessionID(sessionId)\n\t\t\t\t\t.enableDefaultLayout(true)\n\t\t\t\t\t.setMode(CometChat.CALL_MODE.DEFAULT)\n\t\t\t\t\t.setIsAudioOnlyCall(callType)\n\t\t\t\t\t.showRecordingButton(showRecordingButton)\n\t\t\t\t\t.setCustomCSS(customCSS)\n\t\t\t\t\t.setLocalizedStringObject(LocalizedString(this.props.lang))\n\t\t\t\t\t.build();\n\n\n        const el = this.callScreenFrame;\n        CometChat.startCall(\n            callSettings,\n            el,\n            new CometChat.OngoingCallListener({\n                onUserJoined: user => {\n\n                    /* Notification received here if another user joins the call. */\n                    /* this method can be use to display message or perform any actions if someone joining the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": call.action,\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_JOINED_CALL\"], callMessage);\n                    }\n                },\n                onUserLeft: user => {\n                    /* Notification received here if another user left the call. */\n                    /* this method can be use to display message or perform any actions if someone leaving the call */\n                    //call initiator gets the same info in outgoingcallaccpeted event\n                    if (call.callInitiator.uid !== this.loggedInUser.uid && call.callInitiator.uid !== user.uid) {\n\n                        const callMessage = {\n                            \"category\": call.category,\n                            \"type\": call.type,\n                            \"action\": \"left\",\n                            \"status\": call.status,\n                            \"callInitiator\": call.callInitiator,\n                            \"callReceiver\": call.callReceiver,\n                            \"receiverId\": call.receiverId,\n                            \"receiverType\": call.receiverType,\n                            \"sentAt\": call.sentAt,\n                            \"sender\": { ...user }\n                        };\n\n                        this.props.actionGenerated(enums.ACTIONS[\"USER_LEFT_CALL\"], callMessage);\n                    }\n                },\n                onCallEnded: endedCall => {\n\n                    /* Notification received here if current ongoing call is ended. */\n                    if (this.context) {\n                        this.context.setCallInProgress(null, \"\");\n                    }\n                    Storage.removeItem(enums.CONSTANTS[\"ACTIVECALL\"]);\n                    this.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ENDED\"], endedCall);\n                    /* hiding/closing the call screen can be done here. */\n                }\n            })\n        );\n    }\n\n    render() {\n\n        const resizeText = Translator.translate(\"RESIZE\", this.props.lang);\n        let iconView = (<i css={iconStyle(minimizeIcon)} title={resizeText}></i>);\n        if (this.state.maximized === false) {\n            iconView = (<i css={iconStyle(maximizeIcon)} title={resizeText}></i>);\n        }\n\n        return (\n            <React.Fragment>\n                <div css={callScreenBackgroundStyle(this.state)} ref={this.callScreenBackgroundEl}></div>\n                <div ref={this.callScreenEl} className=\"callscreen__container\" css={callScreenContainerStyle(this.props)} \n                    style={{ top: this.state.y + \"px\", left: this.state.x + \"px\" }}>\n                    <div css={callScreenInnerBackgroundStyle()} ref={this.callScreenInnerBackgroundEl}></div>\n                    <div css={callScreenHeaderStyle(this.state)} className=\"callscreen__header\" onMouseDown={this.enableDragging}>\n                        <div css={headerTitleStyle()}>&nbsp;</div>\n                        <div className=\"callscreen__resize\" css={headerButtonStyle()} onClick={this.toggle} onMouseDown={e => e.stopPropagation()}><button type=\"button\" title={resizeText}>{iconView}</button></div>\n                    </div>\n                    <div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}></div>\n                    <div css={callScreenResizerStyle(this.state)} className=\"callscreen__resizer-both\" onMouseDown={this.initResize}></div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\n// Specifies the default values for props:\nCometChatCallScreen.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n    minWidth: 400,\n    minHeight: 300,\n    maxWidth: \"100%\",\n    maxHeight: \"100%\",\n    style: {},\n};\n\nCometChatCallScreen.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n    minWidth: PropTypes.number,\n    minHeight: PropTypes.number,\n    maxWidth: PropTypes.string,\n    maxHeight: PropTypes.string,\n    style: PropTypes.object,\n}\n\nexport { CometChatCallScreen }\n","import * as enums from \"./enums\";\n\nexport class SoundManager {\n\tstatic widgetSettings;\n\tstatic incomingCallAudio = null;\n\tstatic outgoingCallAudio = null;\n\tstatic incomingMessageAudio = null;\n\tstatic outgoingMessageAudio = null;\n\tstatic incomingOtherMessageAudio = null;\n\n\tstatic play = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.onIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.onOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\t\tthis.onIncomingMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\t\tthis.onIncomingOtherMessage(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\t\tthis.onOutgoingMessage(context);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic pause = (action, context) => {\n\t\tswitch (action) {\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"]:\n\t\t\t\tthis.pauseIncomingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"]:\n\t\t\t\tthis.pauseOutgoingCall(context);\n\t\t\t\tbreak;\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"]:\n\t\t\tcase enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"]:\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tstatic onIncomingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onIncomingOtherMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingOtherMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingothermessage.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingOtherMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.incomingOtherMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingMessage = context => {\n\t\tthis.enableSoundForMessages(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingMessageAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingmessage.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingMessageAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playMessageAlert(this.outgoingMessageAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playMessageAlert = messageAudio => {\n\t\tmessageAudio.currentTime = 0;\n\t\tmessageAudio.play();\n\t};\n\n\tstatic onIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/incomingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.incomingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.incomingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic onOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio === null) {\n\t\t\t\t\timport(\"../resources/audio/outgoingcall.wav\").then(response => {\n\t\t\t\t\t\tthis.outgoingCallAudio = new Audio(response.default);\n\t\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.playCallAlert(this.outgoingCallAudio);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic playCallAlert = callAudio => {\n\t\ttry {\n\t\t\tcallAudio.currentTime = 0;\n\t\t\tif (typeof callAudio.loop == \"boolean\") {\n\t\t\t\tcallAudio.loop = true;\n\t\t\t} else {\n\t\t\t\tcallAudio.addEventListener(\n\t\t\t\t\t\"ended\",\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t},\n\t\t\t\t\tfalse,\n\t\t\t\t);\n\t\t\t}\n\t\t\tcallAudio.play();\n\t\t} catch (error) {}\n\t};\n\n\tstatic pauseIncomingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.incomingCallAudio) {\n\t\t\t\t\tthis.incomingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic pauseOutgoingCall = context => {\n\t\tthis.enableSoundForCalls(context).then(response => {\n\t\t\tif (response === true) {\n\t\t\t\tif (this.outgoingCallAudio) {\n\t\t\t\t\tthis.outgoingCallAudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tstatic enableSoundForCalls = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isCallsSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n\n\tstatic enableSoundForMessages = context => {\n\t\treturn new Promise(resolve => {\n\t\t\tcontext.FeatureRestriction.isMessagesSoundEnabled()\n\t\t\t\t.then(response => resolve(response))\n\t\t\t\t.catch(error => resolve(false));\n\t\t});\n\t};\n}","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n    \n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n                \n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                    \n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n                    \n                    if(props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\"); \n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n                \n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n        cursor: \"pointer\",\n        padding: \"8px 16px\",\n        backgroundColor: backgroundColor,\n        borderRadius: \"5px\",\n        color: `${props.theme.color.white}`,\n        fontSize: \"100%\",\n        outline: \"0\",\n        border: \"0\",\n        width: \"49%\",\n        overflow: \"hidden\"\n    }\n}\n\nexport const callIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/incoming-call.aaaf0cb6.svg\";","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallAlertManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport audioCallIcon from \"./resources/incoming-call.svg\";\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: props.incomingCall,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.CallAlertManager = new CallAlertManager();\n\t\tthis.CallAlertManager.attachListeners(this.callScreenUpdated);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tcallScreenUpdated = (key, call) => {\n\t\tswitch (key) {\n\t\t\tcase enums.INCOMING_CALL_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_CANCELLED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.incomingCallCancelled(call);\n\t\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED: //occurs(call dismissed) at the callee end, caller cancels the call\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = incomingCall => {\n\t\tif (this._isMounted) {\n\t\t\tif (this.state.incomingCall === null) {\n\t\t\t\tif (incomingCall?.callInitiator.uid !== this.loggedInUser?.uid) {\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\t\tthis.setState({ incomingCall: incomingCall });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tincomingCallCancelled = call => {\n\t\tif (this._isMounted) {\n\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\tthis.setState({ incomingCall: null });\n\t\t}\n\t};\n\n\toutgoingCallAccepted = call => {\n\n\t\tif(call.sender?.uid === this.loggedInUser?.uid) {\n\t\t\tif (this._isMounted) {\n\t\t\t\t//we are not marking this as read as it will done in messagelist component\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trejectCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tlet callStatus = this.isCallActive() ? CometChat.CALL_STATUS.BUSY : CometChat.CALL_STATUS.REJECTED;\n\n\t\tCometChat.rejectCall(this.state.incomingCall.sessionId, callStatus)\n\t\t\t.then(rejectedCall => {\n\t\t\t\tif (this.isCallActive() === false) {\n\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t}\n\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], rejectedCall);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_REJECTED\"], rejectedCall);\n\t\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tacceptCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tCometChat.acceptCall(this.state.incomingCall.sessionId)\n\t\t\t\t\t.then(call => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"INCOMING_DEFAULT_CALLING\"]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], call);\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"], call);\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: call });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (this.context) {\n\t\t\t\t\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setState({ incomingCall: null, callInProgress: null });\n\n\t\t\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({ success: true });\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tactionHandler = (action, call) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.getSessionId() === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({ incomingCall: null });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(audioCallIcon, this.context)} title={Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_AUDIO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t\tif (this.state.incomingCall.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\tcallType = (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t\t\t\t<CometChatAvatar user={this.state.incomingCall.sender} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__decline\" onClick={() => this.rejectCall(this.state.incomingCall, CometChat.CALL_STATUS.REJECTED)}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"DECLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__accept\" onClick={this.acceptCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"ACCEPT\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n\tincomingCall: null\n};\n\nCometChatIncomingCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n\tincomingCall: PropTypes.object\n}\n\nexport { CometChatIncomingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class CallScreenManager {\n\n\tcallListenerId = \"callscreen_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\n\t\tCometChat.addCallListener(\n\t\t\tthis.callListenerId,\n\t\t\tnew CometChat.CallListener({\n\t\t\t\tonOutgoingCallAccepted: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_ACCEPTED, call);\n\t\t\t\t},\n\t\t\t\tonOutgoingCallRejected: call => {\n\t\t\t\t\tcallback(enums.OUTGOING_CALL_REJECTED, call);\n\t\t\t\t},\n\t\t\t\tonIncomingCallCancelled: call => {\n\t\t\t\t\tcallback(enums.INCOMING_CALL_CANCELLED, call);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeCallListener(this.callListenerId);\n\t}\n}","export const callScreenWrapperStyle = (props, keyframes) => {\n\n    let styles = {\n        width: \"100%\",\n        height: \"100%\",\n        position: \"absolute\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        left: \"0\",\n        zIndex: \"999\",\n    }\n\n    if (props.widgetsettings) {\n\n        styles = {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"fixed\",\n            top: \"0\",\n            right: \"0\",\n            bottom: \"0\",\n            left: \"0\",\n            zIndex: \"2147483000\",\n        }\n    }\n\n    const fadeAnimation = keyframes`\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }`;\n\n    return {\n        ...styles,\n        backgroundColor: `${props.theme.backgroundColor.darkGrey}`,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        animation: `${fadeAnimation} 250ms ease`,\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callScreenContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const headerStyle = () => {\n\n    return {\n        padding: \"20px 10px\",\n        width: \"100%\",\n        height: \"20%\",\n    }\n}\n\nexport const headerDurationStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        display: \"inline-block\",\n        padding: \"5px\"\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        textTransform: \"capitalize\",\n        fontSize: \"16px\",\n    }\n}\n\nexport const thumbnailWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"50%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"200px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const headerIconStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"15%\",\n        padding: \"10px\",\n        display: \"flex\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        display: \"flex\"\n    }\n}\n\nexport const iconStyle = (img) => {\n\n    return {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"27px\",\n        backgroundColor: \"red\",\n        display: \"flex\",\n        margin: \"auto 10px\",\n        cursor: \"pointer\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"i\": {\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `white`,\n            display: \"inline-block\",\n            width: \"24px\",\n            height: \"24px\",\n        },\n    };\n}\n\nexport const errorContainerStyle = () => {\n\n    return {\n        color: \"#fff\",\n        textAlign: \"center\",\n        borderRadius: \"2px\",\n        padding: \"13px 10px\",\n        fontSize: \"13px\",\n        width: \"100%\",\n        height: \"10%\",\n        backgroundColor: \"#333\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/end-call.0d5e5b21.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CallScreenManager } from \"./controller\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tcallScreenWrapperStyle,\n\tcallScreenContainerStyle,\n\theaderStyle,\n\theaderDurationStyle,\n\theaderNameStyle,\n\tthumbnailWrapperStyle,\n\tthumbnailStyle,\n\theaderIconStyle,\n\ticonWrapperStyle,\n\ticonStyle,\n\terrorContainerStyle\n} from \"./style\"; \n\nimport callIcon from \"./resources/end-call.svg\";\n\nclass CometChatOutgoingCall extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.callScreenFrame = React.createRef();\n\n\t\tthis.state = {\n\t\t\terrorScreen: false,\n\t\t\terrorMessage: null,\n\t\t\toutgoingCallScreen: false,\n\t\t\tcallInProgress: null,\n\t\t}\n\n\t\tCometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.CallScreenManager = new CallScreenManager();\n\t\tthis.CallScreenManager.attachListeners(this.callScreenUpdated);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.CallScreenManager.removeListeners();\n\t\tthis.CallScreenManager = null;\n\t}\n\n\tcallScreenUpdated = (key, call) => {\n\n\t\tswitch (key) {\n\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED://occurs at the caller end\n\t\t\t\tthis.outgoingCallAccepted(call);\n\t\t\tbreak;\n\t\t\tcase enums.OUTGOING_CALL_REJECTED://occurs at the caller end, callee rejects the call\n\t\t\t\tthis.outgoingCallRejected(call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\toutgoingCallAccepted = (call) => {\n\n\t\tif (this.state.outgoingCallScreen === true) {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"], call);\n\n\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: call, errorScreen: false, errorMessage: null });\n\n\t\t\tif(this.context) {\n\t\t\t\tthis.context.setCallInProgress(call, enums.CONSTANTS[\"OUTGOING_DEFAULT_CALLING\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\toutgoingCallRejected = (call) => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tif (call.hasOwnProperty(\"status\") && call.status === CometChat.CALL_STATUS.BUSY) {\n\n\t\t\t//show busy message.\n\t\t\tconst errorMessage = `${call.sender.name} ${Translator.translate(\"ON_ANOTHER_CALL\", this.props.lang)}`;\n\t\t\tthis.setState({ errorScreen: true, errorMessage: errorMessage });\n\t\t\tthis.clearCallInProgress();\n\n\t\t} else {\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"], call);\n\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null, errorScreen: false, errorMessage: null });\n\t\t\tthis.clearCallInProgress();\n\n\t\t}\n\t}\n\n\tstartCall = (call) => {\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\tthis.setState({ outgoingCallScreen: true, callInProgress: call, errorScreen: false, errorMessage: null });\n\t}\n\n\tactionHandler = (action, call) => {\n\n\t\tswitch (action) {\n\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\t\tthis.setState({ callInProgress: null });\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\t\tthis.props.actionGenerated(action, call);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t//cancelling an outgoing call\n\tcancelCall = () => {\n\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"OUTGOING_CALL\"], this.context);\n\t\t//if user busy error, just close the callscreen, no need to reject the call\n\t\tif (this.state.errorScreen) {\n\n\t\t\tthis.setState({ errorScreen: false, errorMessage: null, outgoingCallScreen: false, callInProgress: null });\n\t\t\tthis.clearCallInProgress();\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t} else {\n\n\t\t\tCometChat.rejectCall(this.state.callInProgress.sessionId, CometChat.CALL_STATUS.CANCELLED).then(call => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]);\n\n\t\t\t}).catch(error => {\n\n\t\t\t\tthis.setState({ outgoingCallScreen: false, callInProgress: null });\n\t\t\t\tthis.clearCallInProgress();\n\n\t\t\t});\n\t\t}\n\t}\n\n\tclearCallInProgress = () => {\n\t\tif (this.context) {\n\t\t\tthis.context.setCallInProgress(null, \"\");\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet callScreen = null, errorScreen = null;\n\t\tif (this.state.callInProgress) {\n\n\t\t\tlet avatar = (<CometChatAvatar user={this.state.callInProgress.receiver} />);\n\t\t\tif (this.state.errorScreen) {\n\t\t\t\terrorScreen = (\n\t\t\t\t\t<div css={errorContainerStyle()} className=\"callscreen__error__wrapper\"><div>{this.state.errorMessage}</div></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.state.outgoingCallScreen) {\n\t\t\t\tcallScreen = (\n\t\t\t\t\t<div css={callScreenWrapperStyle(this.props, keyframes)} className=\"callscreen__wrapper\" ref={el => { this.callScreenFrame = el; }}>\n\t\t\t\t\t\t<div css={callScreenContainerStyle()} className=\"callscreen__container\">\n\t\t\t\t\t\t\t<div css={headerStyle()} className=\"callscreen__header\">\n\t\t\t\t\t\t\t\t<span css={headerDurationStyle()} className=\"header__calling\">{Translator.translate(\"CALLING\", this.props.lang)}</span>\n\t\t\t\t\t\t\t\t<h6 css={headerNameStyle()} className=\"header__name\">{this.state.callInProgress.receiver.name}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={thumbnailWrapperStyle()} className=\"callscreen__thumbnail__wrapper\">\n\t\t\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"callscreen__thumbnail\">{avatar}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{errorScreen}\n\t\t\t\t\t\t\t<div css={headerIconStyle()} className=\"callscreen__icons\">\n\t\t\t\t\t\t\t\t<div css={iconWrapperStyle()} className=\"icon__block\" onClick={this.cancelCall}>\n\t\t\t\t\t\t\t\t\t<div css={iconStyle(callIcon)} className=\"icon icon__end\"><i></i></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\t}\n\t\t}\n\t\treturn callScreen;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatOutgoingCall.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n};\n\nCometChatOutgoingCall.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n}\n\nexport { CometChatOutgoingCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class messageAlertManager {\n\n    msgListenerId = \"incoming_message_\" + new Date().getTime();\n\n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.msgListenerId);\n    }\n}\n","export const incomingCallWrapperStyle = (props, keyframes) => {\n\n    const slideDown = keyframes`\n    0% { transform: translateY(-50px); }\n    100% { transform: translateY(0px); }\n    `;\n\n    let positionValue = \"absolute\";\n    let leftPos = \"0\";\n    let rightPos = \"0\";\n    let topPos = \"0\";\n    let bottomPos = \"unset\";\n    let zIndexValue = \"998\";\n\n    if (props.hasOwnProperty(\"widgetsettings\")) {\n\n        if (props.widgetsettings.hasOwnProperty(\"dockedview\") && props.widgetsettings.dockedview) {\n\n            //if chat window is open\n            if (props.widgetsettings.hasOwnProperty(\"launched\") && props.widgetsettings.launched) {\n\n                zIndexValue = \"2147483000\";\n                positionValue = \"fixed\";\n                topPos = \"unset\";\n                bottomPos = \"100px\";\n\n                if (props.widgetsettings.hasOwnProperty(\"alignment\") && props.widgetsettings.alignment === \"left\") {\n\n                    rightPos = \"unset\";\n                    leftPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n\n                } else {\n\n                    leftPos = \"unset\";\n                    rightPos = \"20px\";\n\n                    if (props.widgetsettings.hasOwnProperty(\"width\")) {\n\n                        if (props.widgetsettings.width.includes(\"px\")) {\n\n                            const widgetWidth = props.widgetsettings.width.replace(\"px\", \"\");\n                            rightPos = parseInt(widgetWidth) - 250 - 15;\n                            rightPos = rightPos + \"px\";\n                        }\n                    }\n\n                    if (props.widgetsettings.hasOwnProperty(\"height\")) {\n\n                        if (props.widgetsettings.height.includes(\"px\")) {\n\n                            const widgetHeight = props.widgetsettings.height.replace(\"px\", \"\");\n                            bottomPos = parseInt(widgetHeight) - 140 + 100;\n                            bottomPos = bottomPos + \"px\";\n                        }\n                    }\n                }\n\n            } else {\n\n                leftPos = \"unset\";\n                positionValue = \"fixed\";\n            }\n        } else {\n            zIndexValue = \"2147483000\";\n        }\n    }\n\n    return {\n        position: positionValue,\n        top: topPos,\n        left: leftPos,\n        bottom: bottomPos,\n        right: rightPos,\n        borderRadius: \"10px\",\n        margin: \"16px\",\n        backgroundColor: `${props.theme.backgroundColor.callScreenGrey}`,\n        zIndex: zIndexValue,\n        color: `${props.theme.color.white}`,\n        textAlign: \"center\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        animation: `${slideDown} 250ms ease`,\n        width: \"248px\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        },\n    }\n}\n\nexport const callContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        padding: \"16px\",\n    }\n}\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n    }\n}\n\nexport const callDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 36px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"left\"\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n    }\n}\n\nexport const callTypeStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        textTransform: \"capitalize\",\n        lineHeight: \"20px\",\n        color: \"#8A8A8A\",\n        display: \"flex\",\n        justifyContent: \"start\",\n        alignItems: \"center\",\n        padding: \"2px 0 0 0px\",\n        \"span\": {\n            padding: \"0 5px\"\n        }\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n    }\n}\n\nexport const headerButtonStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        margin: \"10px 0 0 0\",\n    }\n}\n\nexport const ButtonStyle = (props, action) => {\n\n    const backgroundColor = (action) ? `${props.theme.backgroundColor.blue}!important` : `${props.theme.backgroundColor.red}!important`;\n\n    return {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: backgroundColor,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${props.theme.color.white}`,\n\t\t\tfontSize: \"100%\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\twidth: \"49%\",\n\t\t\toverflow: \"hidden\",\n\t\t};\n}\n\nexport const callIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/incoming-video-call.37a9f849.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { messageAlertManager } from \"./controller\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { Storage } from \"../../../util/Storage\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    incomingCallWrapperStyle,\n    callContainerStyle,\n    headerWrapperStyle,\n    callDetailStyle,\n    nameStyle,\n    callTypeStyle,\n    thumbnailStyle,\n    headerButtonStyle,\n    ButtonStyle,\n\tcallIconStyle\n} from \"./style\";\n\nimport videoCallIcon from \"./resources/incoming-video-call.svg\";\n\nclass CometChatIncomingDirectCall extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tincomingCall: null,\n\t\t\tcallInProgress: null,\n\t\t\tmaximize: true,\n\t\t};\n\n\t\tthis.callButtonRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\n\t\tthis.MessageAlertManager = new messageAlertManager();\n\t\tthis.MessageAlertManager.attachListeners(this.messageListenerCallback);\n\n\t\tStorage.attachChangeDetection(this.logStorageChange);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.incomingCall) {\n\t\t\tthis.adjustFontSize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tStorage.detachChangeDetection(this.logStorageChange);\n\t}\n\n\tadjustFontSize = () => {\n\t\tif (this.callButtonRef && this.callButtonRef.current) {\n\t\t\tlet reduceFontSize = false;\n\t\t\tconst buttonNodeList = this.callButtonRef.current.querySelectorAll(\"button\");\n\n\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\tconst parentContainerWidth = buttonNode.clientWidth;\n\t\t\t\tconst currentTextWidth = buttonNode.scrollWidth;\n\n\t\t\t\tif (parentContainerWidth < currentTextWidth) {\n\t\t\t\t\treduceFontSize = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (reduceFontSize) {\n\t\t\t\tbuttonNodeList.forEach(buttonNode => {\n\t\t\t\t\tbuttonNode.style.fontSize = \"85%\";\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageListenerCallback = (key, message) => {\n\t\tswitch (key) {\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED: //occurs at the callee end\n\t\t\t\tthis.incomingCallReceived(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tincomingCallReceived = message => {\n\t\tif (this._isMounted) {\n\t\t\tif (message.type !== enums.CUSTOM_TYPE_MEETING) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (Object.keys(this.context.callInProgress).length) {\n\t\t\t\tif (this.context.checkIfDirectCallIsOngoing() && this.context.getActiveCallSessionID() === message.data.customData.sessionID) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message?.sender.uid !== this.loggedInUser?.uid) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: message});\n\t\t\t}\n\t\t}\n\t};\n\n\tjoinCall = () => {\n\t\tthis.checkForActiveCallAndEndCall()\n\t\t\t.then(response => {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ACCEPT_DIRECT_CALL\"], true);\n\n\t\t\t\tif (this.context) {\n\t\t\t\t\tthis.context.setCallInProgress(this.state.incomingCall, enums.CONSTANTS[\"INCOMING_DIRECT_CALLING\"]);\n\t\t\t\t}\n\t\t\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\t\t\tthis.setState({incomingCall: null, callInProgress: this.state.incomingCall});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst errorCode = error && error.hasOwnProperty(\"code\") ? error.code : \"ERROR\";\n\t\t\t\tthis.context.setToastMessage(\"error\", errorCode);\n\t\t\t});\n\t};\n\n\tignoreCall = () => {\n\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\tStorage.setItem(enums.CONSTANTS[\"ACTIVECALL\"], this.state.incomingCall);\n\t\tthis.setState({incomingCall: null});\n\t};\n\n\tcheckForActiveCallAndEndCall = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tif (this.isCallActive() === false) {\n\t\t\t\treturn resolve({success: true});\n\t\t\t}\n\n\t\t\tlet sessionID = this.getActiveCallSessionID();\n\t\t\tCometChat.endCall(sessionID)\n\t\t\t\t.then(response => {\n\t\t\t\t\treturn resolve(response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\treturn reject(error);\n\t\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tisCallActive = () => {\n\t\tif (Object.keys(this.context.callInProgress).length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet sessionID = this.getActiveCallSessionID();\n\t\tif (!sessionID) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tgetActiveCallSessionID = () => {\n\t\treturn this.context.getActiveCallSessionID();\n\t};\n\n\tactionHandler = action => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tthis.setState({callInProgress: null});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tlogStorageChange = event => {\n\t\tif (event?.key !== enums.CONSTANTS[\"ACTIVECALL\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (event.newValue || event.oldValue) {\n\t\t\tlet call;\n\t\t\tif (event.newValue) {\n\t\t\t\tcall = JSON.parse(event.newValue);\n\t\t\t} else if (event.oldValue) {\n\t\t\t\tcall = JSON.parse(event.oldValue);\n\t\t\t}\n\n\t\t\tif (this.state.incomingCall?.sessionId === call?.sessionId) {\n\t\t\t\tSoundManager.pause(enums.CONSTANTS.AUDIO[\"INCOMING_CALL\"], this.context);\n\t\t\t\tthis.setState({incomingCall: null});\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tlet callScreen = null,\n\t\t\tincomingCallAlert = null;\n\t\tif (this.state.incomingCall) {\n\t\t\tlet avatar = (\n\t\t\t\t<div css={thumbnailStyle()} className=\"header__thumbnail\">\n\t\t\t\t\t<CometChatAvatar cornerRadius=\"50%\" image={this.state.incomingCall.sender.avatar} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tconst callType = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={callIconStyle(videoCallIcon, this.context)} title={Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}></i>\n\t\t\t\t\t<span>{Translator.translate(\"INCOMING_VIDEO_CALL\", this.props.lang)}</span>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tincomingCallAlert = (\n\t\t\t\t<div css={incomingCallWrapperStyle(this.props, keyframes)} className=\"callalert__wrapper\">\n\t\t\t\t\t<div css={callContainerStyle()} className=\"callalert__container\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"callalert__header\">\n\t\t\t\t\t\t\t<div css={callDetailStyle()} className=\"header__detail\">\n\t\t\t\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.incomingCall.sender.name}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={callTypeStyle(this.props)} className=\"calltype\">\n\t\t\t\t\t\t\t\t\t{callType}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={headerButtonStyle()} className=\"callalert__buttons\" ref={this.callButtonRef}>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 0)} className=\"button button__ignore\" onClick={this.ignoreCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"IGNORE\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type=\"button\" css={ButtonStyle(this.props, 1)} className=\"button button__join\" onClick={this.joinCall}>\n\t\t\t\t\t\t\t\t{Translator.translate(\"JOIN\", this.props.lang)}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.state.callInProgress) {\n\t\t\tcallScreen = <CometChatCallScreen loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{incomingCallAlert}\n\t\t\t\t{callScreen}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatIncomingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatIncomingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatIncomingDirectCall };\n","/* eslint-disable no-useless-concat */\n/* eslint-disable no-extend-native */\nimport dateFormat from \"dateformat\";\nimport Translator from \"../resources/localization/translator\";\nconst milliseconds = 1000;\nconst seconds = 1 * milliseconds;\nconst minute = 60 * seconds;\nconst hour = 60 * minute;\nconst day = 24 * hour;\n\nconst wordBoundary = {\n    start: `(?:^|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n    end: `(?=$|:|;|'|\"|,|{|}|\\\\.|\\\\s|\\\\!|\\\\?|\\\\(|\\\\)|\\\\[|\\\\]|\\\\*)`,\n};\n\nconst emailPattern = new RegExp(\n    wordBoundary.start +\n    `[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\\\.[A-Za-z]{2,6}` +\n    wordBoundary.end,\n    'gi'\n); \nconst urlPattern = new RegExp(\n    wordBoundary.start +\n    `((https?://|www\\\\.|pic\\\\.)[-\\\\w;/?:@&=+$\\\\|\\\\_.!~*\\\\|'()\\\\[\\\\]%#,]+[\\\\w/#](\\\\(\\\\))?)` +\n    wordBoundary.end,\n    'gi'\n);\nconst phoneNumPattern = new RegExp(\n    wordBoundary.start +\n    `(?:\\\\+?(\\\\d{1,3}))?([-. (]*(\\\\d{3})[-. )]*)?((\\\\d{3})[-. ]*(\\\\d{2,4})(?:[-.x ]*(\\\\d+))?)` +\n    wordBoundary.end,\n    'gi'\n);\n\nexport const linkify = (message) => {\n\n    let outputStr = message.replace(phoneNumPattern, \"<a target='blank' rel='noopener noreferrer' href='tel:$&'>$&</a>\");\n    outputStr = outputStr.replace(emailPattern, \"<a target='blank' rel='noopener noreferrer' href='mailto:$&'>$&</a>\");\n\n    const results = outputStr.match(urlPattern);\n\n    results &&\n        results.forEach((url) => {\n\n            url = url.trim();\n            let normalizedURL = url;\n            if (!url.startsWith('http')) {\n                normalizedURL = `//${url}`;\n            }\n            outputStr = outputStr.replace(\n                url,\n                `<a target='blank' rel='noopener noreferrer' href=\"${normalizedURL}\">${url}</a>`\n            );\n        });\n\n    return outputStr;\n}\n\nexport const checkMessageForExtensionsData = (message, extensionKey) => {\n\n    let output = null;\n    \n    if (message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message.metadata;\n        const injectedObject = metadata[\"@injected\"];\n        if (injectedObject && injectedObject.hasOwnProperty(\"extensions\")) {\n\n            const extensionsObject = injectedObject[\"extensions\"];\n            if (extensionsObject && extensionsObject.hasOwnProperty(extensionKey)) {\n\n                output = extensionsObject[extensionKey];\n            }\n        }\n    }\n\n    return output;\n}\n\nexport const getMessageFileMetadata = (message, metadataKey) => {\n\n    let fileMetadata = null;\n    if(message.hasOwnProperty(\"metadata\")) {\n\n        const metadata = message[\"metadata\"];\n        if (metadata.hasOwnProperty(metadataKey)) {\n            fileMetadata = metadata[metadataKey];\n        }\n    }\n\n    return fileMetadata;\n}\n\nexport const ID = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nexport const getUnixTimestamp = () => {\n\n    return Math.round(+new Date() / 1000);\n}\n\nconst dateDiffInDays = (a, b) => {\n\n    const milliSecondsPerDay = day;\n\n    // Discard the time and time-zone information.\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n\n    return Math.floor((utc2 - utc1) / milliSecondsPerDay);\n}\n\n\nexport const getTimeStampForLastMessage = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(messageTimestamp, \"dS mmm\");\n    }\n\n    return timestamp;\n}\n\nexport const getMessageSentTime = (timestamp, lang) => {\n\n    let oTimestamp = null;\n\n    const messageTimestamp = new Date(timestamp) * 1000;\n    oTimestamp = dateFormat(messageTimestamp, \"shortTime\");\n\n    return oTimestamp;\n}\n\nexport const getMessageDate = (timestamp, lang) => {\n\n    const timeStampInMilliSeconds = timestamp * 1000;\n\n    const messageTimestamp = new Date(timeStampInMilliSeconds);\n    const currentTimestamp = new Date(Date.now());\n\n    const dateDifferenceInDays = dateDiffInDays(messageTimestamp, currentTimestamp);\n\n    if (dateDifferenceInDays < 1) {\n\n        timestamp = Translator.translate(\"TODAY\", lang);\n\n    } else if (dateDifferenceInDays < 2) {\n\n        timestamp = Translator.translate(\"YESTERDAY\", lang);\n\n    } else if (dateDifferenceInDays < 7) {\n\n        timestamp = dateFormat(messageTimestamp, \"dddd\");\n        timestamp = Translator.translate(timestamp, lang);\n\n    } else {\n\n        timestamp = dateFormat(timeStampInMilliSeconds, \"dS mmm, yyyy\");\n    }\n\n    return timestamp;\n}\n\nexport const countEmojiOccurences = (string, word) =>  {\n    if(string.split(word).length - 1 >= 3){\n        return 3\n    }else{\n        let content = string;\n        content = string.replace(/<img[^>\"']*(((\"[^\"]*\")|('[^']*'))[^\"'>]*)*>/g,\"\");\n\n        if(content.length>0){\n            return 3;\n            \n        }else{\n            return string.split(word).length - 1;\n        }\n        \n        }\n }","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatCallScreen } from \"../CometChatCallScreen\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nclass CometChatOutgoingDirectCall extends React.Component {\n\n    sessionID;\n    static contextType = CometChatContext;\n    \n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            callInProgress: null,\n        }\n\n        this.callScreenRef = React.createRef();\n        \n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    actionHandler = (action) => {\n\n        switch(action) {\n\n            case enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n            case enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n                this.setState({ callInProgress: null });\n            break;\n            default:\n            break;\n        }\n    }\n\n    startCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (!this.sessionID) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if(this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n\n        setTimeout(() => {\n            this.sendCustomMessage();\n        }, 5);\n    }\n\n    joinCall = (sessionID) => {\n\n        this.sessionID = sessionID;\n        if (this.sessionID === null) {\n            const errorCode = \"ERR_EMPTY_CALL_SESSION_ID\";\n            this.context.setToastMessage(\"error\", errorCode);\n            return false;\n        }\n\n        const customMessage = this.prepareCustomMessageData();\n        this.setState({ callInProgress: customMessage });\n        if (this.context) {\n            this.context.setCallInProgress(customMessage, enums.CONSTANTS[\"OUTGOING_DIRECT_CALLING\"]);\n        }\n    }\n\n    prepareCustomMessageData = () => {\n\n        const receiverType = CometChat.RECEIVER_TYPE.GROUP;\n        const customData = { \"sessionID\": this.sessionID, \"sessionId\": this.sessionID, \"callType\": CometChat.CALL_TYPE.VIDEO };\n        const customType = enums.CUSTOM_TYPE_MEETING;\n        const conversationId = `group_${this.sessionID}`;\n\n        const customMessage = new CometChat.CustomMessage(this.sessionID, receiverType, customType, customData);\n        customMessage.setSender(this.loggedInUser);\n        customMessage.setReceiver(receiverType);\n        customMessage.setConversationId(conversationId);\n        customMessage._composedAt = getUnixTimestamp();\n        customMessage._id = ID();\n\n        return customMessage;\n    }\n\n    sendCustomMessage = () => {\n\n        const customMessage = this.prepareCustomMessageData();\n        this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\n        CometChat.sendCustomMessage(customMessage).then(message => {\n\n            const newMessageObj = { ...message, \"_id\": customMessage._id };\n            this.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\n        }).catch(error => {\n\n            const newMessageObj = { ...customMessage, \"error\": error };\n            this.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    render() {\n\n        let callScreen = null;\n        if(this.state.callInProgress) {\n\n            callScreen = (\n                <CometChatCallScreen ref={el => this.callScreenRef = el} loggedInUser={this.loggedInUser} call={this.state.callInProgress} lang={this.props.lang} actionGenerated={this.actionHandler} />\n            );\n        }\n        return callScreen;\n    }\n}\n\n// Specifies the default values for props:\nCometChatOutgoingDirectCall.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme,\n};\n\nCometChatOutgoingDirectCall.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object,\n}\n\nexport { CometChatOutgoingDirectCall };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\n\nexport class ConversationListManager {\n\n    conversationRequest = null;\n\n    conversationListenerId = \"chatlist_\" + new Date().getTime();\n    userListenerId = \"chatlist_user_\" + new Date().getTime();\n    groupListenerId = \"chatlist_group_\" + new Date().getTime();\n    callListenerId = \"chatlist_call_\" + new Date().getTime();\n\n    constructor(context) {\n\n        const chatListMode = context.UIKitSettings.chatListMode;\n        const chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n        switch (chatListMode) {\n            case chatListFilterOptions[\"USERS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_USER).setLimit(30).build();\n            break;\n            case chatListFilterOptions[\"GROUPS\"]:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setConversationType(CometChat.ACTION_TYPE.TYPE_GROUP).setLimit(30).build();\n                break;\n            default:\n                this.conversationRequest = new CometChat.ConversationsRequestBuilder().setLimit(30).build();\n            break;\n        }\n    }\n\n    fetchNextConversation() {\n        return this.conversationRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, changedGroup, message, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, message, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, message, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, unbannedFrom, message, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn, message, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, message, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup, message, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.conversationListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, null, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, null, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, null, customMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, null, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, null, editedMessage);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, null, messageReceipt);\n                }\n            })\n        );\n\n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, null, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, null, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.conversationListenerId);\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n\n}\n","class CometChatEvent {\n\tstatic _triggers = {};\n\n\tstatic on(event, callback) {\n\t\tif (!CometChatEvent._triggers[event]) CometChatEvent._triggers[event] = [];\n\t\tCometChatEvent._triggers[event].push(callback);\n\t}\n\n\tstatic triggerHandler(event, params) {\n\t\tif (CometChatEvent._triggers[event]) {\n\t\t\tfor (const i in CometChatEvent._triggers[event]) CometChatEvent._triggers[event][i](params);\n\t\t}\n\t}\n}\n\nexport { CometChatEvent };","export const chatsWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatsHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"69px\",\n\t};\n};\n\nexport const chatsHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) no-repeat left center`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const chatsHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n    \n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const chatsMsgStyle = () =>{\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const chatsMsgTxtStyle = theme => {\n    \n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const chatsListStyle = () => {\n\n    return {\n        height: \"calc(100% - 75px)\",\n        width: \"100%\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { ConversationListManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { CometChatConversationListItem } from \"../\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { UIKitSettings } from \"../../../util/UIKitSettings\";\nimport { SoundManager } from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n  chatsWrapperStyle,\n  chatsHeaderStyle,\n  chatsHeaderCloseStyle,\n  chatsHeaderTitleStyle,\n  chatsMsgStyle,\n  chatsMsgTxtStyle,\n  chatsListStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatConversationList extends React.Component {\n\n\tloggedInUser = null;\n\tincrementUnreadCount = false;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tconversationlist: [],\n\t\t\tonItemClick: null,\n\t\t\thideGroupActionMessages: false,\n\t\t\tshowConfirmDialog: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t\tconversationToBeDeleted: null,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\n\t\tthis.setState({ conversationlist: [] }, () => {\n\t\t\tthis.ConversationListManager = new ConversationListManager(this.getContext());\n\t\t\tthis.getConversations();\n\t\t\tthis.ConversationListManager.attachListeners(this.conversationCallback);\n\t\t});\n\n\t\t//updating last message whenever a message is composed and sent\n\t\tCometChatEvent.on(\"updateLastMessage\", args => this.updateLastMessage(args));\n\n\t\t//updating unreadcount whenever a new message is received and not read.\n\t\tCometChatEvent.on(enums.EVENTS[\"NEW_MESSAGES\"], args => this.updateUnreadCount(args));\n\n\t\t//clearing unreadcount whenever scrolled to the bottom.\n\t\tCometChatEvent.on(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], args => this.clearUnreadCount(args));\n\t}\n\n\tcomponentDidUpdate() {\n\n\t\t//when a particular chat is selected from the chats list\n\t\tif ((Object.keys(this.getContext().item).length && this.getContext().type.length) || this.getContext().item !== this.item) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\t\t\tconst conversationObj = this.filterConversation();\n\t\t\t\n\t\t\tif (conversationObj && conversationObj.unreadMessageCount > 0 && this.incrementUnreadCount === false) {\n\t\t\t\tlet conversationKey = conversationlist.indexOf(conversationObj);\n\t\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if user is blocked/unblocked, update conversationlist in state\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"uid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid && this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\t\t\tlet conversationlist = [...this.state.conversationlist];\n\n\t\t\t//search for user\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_USER && c.conversationWith.uid === this.getContext().item.uid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { blockedByMe: this.getContext().item.blockedByMe });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.item.hasOwnProperty(\"guid\") && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet convKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === this.getContext().item.guid);\n\t\t\tif (convKey > -1) {\n\t\t\t\tconst convObj = conversationlist[convKey];\n\n\t\t\t\tlet convWithObj = { ...convObj.conversationWith };\n\t\t\t\tlet newConvWithObj = Object.assign({}, convWithObj, { membersCount: this.getContext().item.membersCount });\n\n\t\t\t\tlet newConvObj = Object.assign({}, convObj, { conversationWith: newConvWithObj });\n\n\t\t\t\tconversationlist.splice(convKey, 1, newConvObj);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from conversation list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\t//upon user leaving a group, remove group from conversation list\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst conversationlist = [...this.state.conversationlist];\n\n\t\t\tlet conversationKey = conversationlist.findIndex(c => c.conversationType === CometChat.ACTION_TYPE.TYPE_GROUP && c.conversationWith.guid === guid);\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tconversationlist.splice(conversationKey, 1);\n\t\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.hideGroupActionMessages();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis._isMounted = false;\n\t\tthis.ConversationListManager.removeListeners();\n\t\tthis.ConversationListManager = null;\n\n\t};\n\n\tfilterConversation = () => {\n\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationObj = conversationlist.find(c => {\n\t\t\tif (\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && c.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(c.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && c.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\treturn c;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\n\t\treturn conversationObj;\n\t}\n\n\tupdateLastMessage = lastMessage => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === lastMessage.conversationId);\n\n\t\tif (conversationKey > -1) {\n\t\t\tconst conversationObj = conversationList[conversationKey];\n\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: { ...lastMessage } };\n\n\t\t\tif (conversationKey === 0) {\n\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t} else {\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t}\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t} else {\n\t\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\t\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && lastMessage.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet newConversation = new CometChat.Conversation();\n\t\t\tnewConversation.setConversationId(lastMessage.conversationId);\n\t\t\tnewConversation.setConversationType(this.getContext().type);\n\t\t\tnewConversation.setConversationWith(this.getContext().item);\n\t\t\tnewConversation.setLastMessage(lastMessage);\n\t\t\tnewConversation.setUnreadMessageCount(0);\n\n\t\t\tconversationList.unshift(newConversation);\n\n\t\t\tif (this._isMounted) {\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t}\n\t\t}\n\t};\n\n\tupdateUnreadCount = params => {\n\t\t\n\t\tthis.incrementUnreadCount = true;\n\t\treturn false;\n\t};\n\n\tclearUnreadCount = params => {\n\n\t\tthis.incrementUnreadCount = false;\n\n\t\tlet conversationList = [...this.state.conversationlist];\n\t\tconst conversationObj = this.filterConversation();\n\n\t\tif (conversationObj && conversationObj.unreadMessageCount > 0) {\n\t\t\tlet conversationKey = conversationList.indexOf(conversationObj);\n\t\t\tlet newConversationObj = { ...conversationObj, unreadMessageCount: 0 };\n\n\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t}\n\t\treturn false;\n\t};\n\n\tconversationCallback = (key, item, message, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateUser(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.markMessageAsDelivered(message);\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.conversationUpdated(key, message, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmarkMessageAsDelivered = message => {\n\n\t\t//if chat window is not open, mark message as delivered\n\t\tif ((this.getContext().type === \"\" || Object.keys(this.getContext().item).length === 0) \n\t\t&& message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message).catch(error => {});\n\t\t}\n\t};\n\n\tconversationUpdated = (key, message, options) => {\n\t\tconst chatListMode = this.getContext().UIKitSettings.chatListMode;\n\t\tconst chatListFilterOptions = UIKitSettings.chatListFilterOptions;\n\n\t\tif (chatListMode !== chatListFilterOptions[\"USERS_AND_GROUPS\"]) {\n\t\t\tif ((chatListMode === chatListFilterOptions[\"USERS\"] && message.receiverType === CometChat.RECEIVER_TYPE.GROUP) || (chatListMode === chatListFilterOptions[\"GROUPS\"] && message.receiverType === CometChat.RECEIVER_TYPE.USER)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tswitch (key) {\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\t\tthis.updateConversation(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.conversationEditedDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tthis.updateGroupMemberAdded(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateGroupMemberRemoved(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateGroupMemberScopeChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.updateGroupMemberChanged(message, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessagesRead(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateUser = user => {\n\t\tconst conversationlist = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationlist.findIndex(conversationObj => conversationObj.conversationType === \"user\" && conversationObj.conversationWith.uid === user.uid);\n\n\t\tif (conversationKey > -1) {\n\t\t\tlet conversationObj = { ...conversationlist[conversationKey] };\n\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith, status: user.getStatus() };\n\n\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: conversationWithObj };\n\t\t\tconversationlist.splice(conversationKey, 1, newConversationObj);\n\t\t\tthis.setState({ conversationlist: conversationlist });\n\t\t}\n\t};\n\n\thideGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.hideGroupActionMessages) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.hideGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ hideGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tplayAudio = message => {\n\t\tif (message.category === CometChat.CATEGORY_ACTION && message.type === CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER && this.state.hideGroupActionMessages === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Sound alert for incoming messages\n\t\t */\n\t\tconst receiverType = message.getReceiverType();\n\t\tconst receiverId = receiverType === CometChat.RECEIVER_TYPE.USER ? message.getSender().uid : message.getReceiverId();\n\n\t\tif (receiverType === this.getContext().type) {\n\t\t\tif ((receiverType === CometChat.RECEIVER_TYPE.USER && receiverId === this.getContext().item.uid) || (receiverType === CometChat.RECEIVER_TYPE.GROUP && receiverId === this.getContext().item.guid)) {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t} else {\n\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t\t}\n\t\t} else {\n\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_OTHER_MESSAGE\"], this.getContext());\n\t\t}\n\t};\n\n\tonMessagesRead = messageReceipt => {\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconversationList.forEach((conversation, conversationKey) => {\n\t\t\tif (conversation?.conversationType === messageReceipt.receiverType) {\n\t\t\t\tif ((conversation?.conversationType === CometChat.RECEIVER_TYPE.USER && messageReceipt.receiver === conversation?.conversationWith?.uid) || (conversation?.conversationType === CometChat.RECEIVER_TYPE.GROUP && messageReceipt.receiver === conversation?.conversationWith?.guid)) {\n\t\t\t\t\tlet unreadMessageCount = conversation.unreadMessageCount;\n\t\t\t\t\t/**\n\t\t\t\t\t * If the message id of the read reciept if greater than or equal to the lastmessage id, set unreadmessagecount to 0\n\t\t\t\t\t */\n\t\t\t\t\tif (messageReceipt?.messageId >= conversation?.lastMessage?.id) {\n\t\t\t\t\t\tunreadMessageCount = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationObj = { ...conversation, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmakeConversation = message => {\n\t\tconst promise = new Promise(resolve => {\n\t\t\tCometChat.CometChatHelper.getConversationFromMessage(message).then(conversation => {\n\t\t\t\tlet conversationList = [...this.state.conversationlist];\n\t\t\t\tlet conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\t\t\tlet conversationObj = { ...conversation };\n\t\t\t\tif (conversationKey > -1) {\n\t\t\t\t\tconversationObj = { ...conversationList[conversationKey] };\n\t\t\t\t}\n\n\t\t\t\tresolve({ conversationKey: conversationKey, conversationObj: conversationObj, conversationList: conversationList });\n\t\t\t});\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\tmakeUnreadMessageCount = (message, conversation = {}) => {\n\t\t/**\n\t\t * If the received message is sent by the logged in user, don't increment the unread count\n\t\t */\n\t\tif (Object.keys(conversation).length === 0) {\n\t\t\tif (message.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tlet unreadMessageCount = parseInt(conversation.unreadMessageCount);\n\t\tif (\n\t\t\t(this.getContext().item.hasOwnProperty(\"guid\") && conversation.conversationWith.hasOwnProperty(\"guid\") && this.getContext().item.guid === conversation.conversationWith.guid) ||\n\t\t\t(this.getContext().item.hasOwnProperty(\"uid\") && conversation.conversationWith.hasOwnProperty(\"uid\") && this.getContext().item.uid === conversation.conversationWith.uid)\n\t\t) {\n\t\t\tif (this.incrementUnreadCount === true) {\n\t\t\t\tunreadMessageCount = ++unreadMessageCount;\n\t\t\t} else {\n\t\t\t\tunreadMessageCount = 0;\n\t\t\t}\n\t\t} else {\n\t\t\tunreadMessageCount = this.shouldIncrementCount(message) ? ++unreadMessageCount : unreadMessageCount;\n\t\t}\n\t\treturn unreadMessageCount;\n\t};\n\n\tshouldIncrementCount = incomingMessage => {\n\t\tlet output = false;\n\t\tif (\n\t\t\t(incomingMessage.category === CometChat.CATEGORY_MESSAGE && incomingMessage.sender.uid !== this.loggedInUser?.uid) ||\n\t\t\t(this.getContext().hasKeyValue(incomingMessage, enums.KEYS[\"METADATA\"]) &&\n\t\t\t\tthis.getContext().hasKeyValue(incomingMessage[enums.KEYS[\"METADATA\"]], enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]) &&\n\t\t\t\tincomingMessage[enums.KEYS[\"METADATA\"]][enums.KEYS[\"INCREMENT_UNREAD_COUNT\"]] === true &&\n\t\t\t\tincomingMessage.sender.uid !== this.loggedInUser?.uid)\n\t\t) {\n\t\t\toutput = true;\n\t\t}\n\t\t\n\t\treturn output;\n\t};\n\n\tmakeLastMessage = (message, conversation = {}) => {\n\t\tconst newMessage = Object.assign({}, message);\n\t\treturn newMessage;\n\t};\n\n\tupdateConversation = (key, message) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, conversationObj);\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\t\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet unreadMessageCount = this.makeUnreadMessageCount(message, {});\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\n\t\t\t\tlet newConversationObj = { ...conversationObj, lastMessage: lastMessageObj, unreadMessageCount: unreadMessageCount };\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\n\t\t\t\tif (key !== enums.INCOMING_CALL_RECEIVED && key !== enums.INCOMING_CALL_CANCELLED) {\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconversationEditedDeleted = message => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = conversationObj.lastMessage;\n\n\t\t\t\tif (lastMessageObj.id === message.id) {\n\t\t\t\t\tconst newLastMessageObj = Object.assign({}, lastMessageObj, message);\n\t\t\t\t\tlet newConversationObj = Object.assign({}, conversationObj, { lastMessage: newLastMessageObj });\n\t\t\t\t\tconversationList.splice(conversationKey, 1, newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberAdded = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t} else {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\t\t\t\t\tlet scope = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n\t\t\t\t\tlet hasJoined = options.hasJoined;\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope, hasJoined: hasJoined };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberRemoved = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t} else {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberScopeChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\n\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\n\t\t\t\tlet scope = conversationWithObj.scope;\n\t\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\t\tscope = options.scope;\n\t\t\t\t}\n\n\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount, scope: scope };\n\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\tthis.playAudio(message);\n\t\t\t}\n\t\t});\n\t};\n\n\tupdateGroupMemberChanged = (message, options) => {\n\t\tthis.makeConversation(message).then(response => {\n\t\t\tconst { conversationKey, conversationObj, conversationList } = response;\n\t\t\tif (conversationKey > -1) {\n\t\t\t\tif (options && this.loggedInUser.uid !== options.user.uid) {\n\t\t\t\t\tlet lastMessageObj = this.makeLastMessage(message, conversationObj);\n\t\t\t\t\tlet conversationWithObj = { ...conversationObj.conversationWith };\n\n\t\t\t\t\tlet membersCount = parseInt(conversationWithObj.membersCount);\n\t\t\t\t\tif (message.hasOwnProperty(\"actionFor\") && message.actionFor.hasOwnProperty(\"membersCount\")) {\n\t\t\t\t\t\tmembersCount = message.actionFor.membersCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newConversationWithObj = { ...conversationWithObj, membersCount: membersCount };\n\t\t\t\t\tlet newConversationObj = { ...conversationObj, conversationWith: newConversationWithObj, lastMessage: lastMessageObj };\n\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\tconversationList.unshift(newConversationObj);\n\t\t\t\t\tthis.setState({ conversationlist: conversationList });\n\t\t\t\t\tthis.playAudio(message);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getConversations();\n\t};\n\n\t//click handler\n\thandleClick = conversation => {\n\n\t\tif (!this.props.onItemClick) return;\n\t\tthis.props.onItemClick(conversation.conversationWith, conversation.conversationType);\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tgetConversations = () => {\n\t\t\n\t\tthis.ConversationListManager.fetchNextConversation()\n\t\t\t.then(conversationList => {\n\n\t\t\t\tif (conversationList.length === 0) {\n\t\t\t\t\tif (this.state.conversationlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_CHATS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\tlet conversations = [...this.state.conversationlist];\n\t\t\t\t//if conversation exists already in the state, remove it from this list\n\t\t\t\tconversationList.forEach(eachConversation => {\n\n\t\t\t\t\tlet conversationKey = conversations.findIndex(c => c.conversationId === eachConversation.conversationId);\n\t\t\t\t\tif (conversationKey > -1) {\n\n\t\t\t\t\t\tconst newUnreadMessageCount = conversations[conversationKey][\"unreadMessageCount\"] + eachConversation[\"unreadMessageCount\"];\n\t\t\t\t\t\tconst updatedConversation = { ...conversations[conversationKey], unreadMessageCount: newUnreadMessageCount };\n\t\t\t\t\t\tconversations.splice(conversationKey, 1, updatedConversation);\n\n\t\t\t\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis.setState({ conversationlist: [...conversations, ...conversationList] });\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, conversation) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CONVERSATION_DELETED\"]:\n\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_CONVERSATION\"]:\n\t\t\t\tthis.deleteConversation(conversation);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tdeleteConversation = conversation => {\n\n\t\tif (!this.state.showConfirmDialog) {\n\t\t\tthis.setState({ showConfirmDialog: true, conversationToBeDeleted: conversation });\n\t\t}\n\t};\n\n\tonDeleteConfirm = e => {\n\n\t\tconst optionSelected = e.target.value;\n\n\t\tthis.setState({ showConfirmDialog: false });\n\t\tif (optionSelected === \"yes\") {\n\n\t\t\tconst conversation = this.state.conversationToBeDeleted;\n\t\t\tconst conversationWith = conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP ? conversation?.conversationWith?.guid : conversation?.conversationWith?.uid;\n\t\t\tCometChat.deleteConversation(conversationWith, conversation.conversationType)\n\t\t\t\t.then(deletedConversation => {\n\t\t\t\t\tthis.conversationDeleted(conversation);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\t} else {\n\n\t\t\tthis.setState({ showConfirmDialog: false, conversationToBeDeleted: null });\n\t\t}\n\t};\n\n\tconversationDeleted = conversation => {\n\n\t\tconst conversationList = [...this.state.conversationlist];\n\t\tconst conversationKey = conversationList.findIndex(c => c.conversationId === conversation.conversationId);\n\n\t\tif (conversationKey > -1) {\n\n\t\t\tif (\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.USER && conversation.conversationWith.uid === this.getContext().item.uid) ||\n\t\t\t\t(conversation.conversationType === this.getContext().type && this.getContext().type === CometChat.RECEIVER_TYPE.GROUP && conversation.conversationWith.guid === this.getContext().item.guid)\n\t\t\t) {\n\t\t\t\tthis.getContext().setTypeAndItem(\"\", {});\n\t\t\t}\n\n\t\t\tconversationList.splice(conversationKey, 1);\n\t\t\tthis.setState({ conversationlist: conversationList, conversationToBeDeleted: null });\n\t\t}\n\n\t};\n\n\trender() {\n\n\t\tconst conversationList = this.state.conversationlist.map((conversation, key) => {\n\n\t\t\treturn <CometChatConversationListItem key={conversation.conversationId} conversation={conversation} loggedInUser={this.loggedInUser} handleClick={this.handleClick} actionGenerated={this.actionHandler} />;\n\t\t});\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={chatsMsgStyle()} className=\"chats__decorator-message\">\n\t\t\t\t\t<p css={chatsMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet closeBtn = <div css={chatsHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet showConfirmDialog = null;\n\t\tif (this.state.showConfirmDialog) {\n\t\t\tshowConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onDeleteConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"DELETE_CONFIRM\", this.getContext().language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"DELETE\", this.getContext().language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.getContext().language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst chatList = (\n\t\t\t<div css={chatsWrapperStyle(this.props, theme)} className=\"chats\">\n\t\t\t\t<div css={chatsHeaderStyle(theme)} className=\"chats__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={chatsHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"CHATS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={chatsListStyle()} className=\"chats__list\" onScroll={this.handleScroll} ref={el => (this.chatListRef = el)}>\n\t\t\t\t\t{conversationList}\n\t\t\t\t</div>\n\t\t\t\t{showConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\n\t\tlet chatListWrapper = chatList;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tchatListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{chatList}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn chatListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => { },\n\t_parent: \"\"\n};\n\nCometChatConversationList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatConversationList };","export const conversationActionStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"8px\",\n\t\tmargin: \"0\",\n\t\twidth: \"72px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.primary}`,\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tposition: \"absolute\",\n\t\tright: \"16px\",\n\t\theight: \"100%\",\n\t};\n};\n\nexport const groupButtonStyle = (actionInProgress, progressIcon, actionIcon) => {\n\n\tconst backgroundImage = actionInProgress ? progressIcon : actionIcon;\n\n\treturn {\n\t\toutline: \"0\",\n\t\tborder: \"0\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t\tborderRadius: \"4px\",\n\t\talignItems: \"center\",\n\t\tdisplay: \"inline-flex\",\n\t\tjustifyContent: \"center\",\n\t\tposition: \"relative\",\n\t\tbackground: `url(${backgroundImage}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/progress.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {conversationActionStyle, groupButtonStyle} from \"./style.js\";\n\nimport loadingIcon from \"./resources/progress.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\n\nclass CometChatConversationListActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tdeleteInProgress: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tdeleteConversation = event => {\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_CONVERSATION\"], this.props.conversation);\n\t\tevent.stopPropagation();\n\t};\n\n\trender() {\n\t\tconst deleteConversation = (\n\t\t\t<li>\n\t\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tcss={groupButtonStyle(this.state.deleteInProgress, loadingIcon, deleteIcon)}\n\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\tdata-title={Translator.translate(\"DELETE\", this.context.language)}\n\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\tonClick={this.deleteConversation} />\n\t\t\t</li>\n\t\t);\n\n\t\treturn (\n\t\t\t<ul css={conversationActionStyle(this.context)} className=\"list__item__actions\">\n\t\t\t\t{deleteConversation}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport {CometChatConversationListActions};","export const listItem = (props) => {\n\n    const selectedState = (props.selectedConversation && props.selectedConversation.conversationId === props.conversation.conversationId) ? {\n        backgroundColor: `${props.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        position: \"relative\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${props.theme.backgroundColor.primary}`\n        },\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemRowStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"baseline\",\n    }\n}\n\nexport const itemNameStyle = (props) => {\n\n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        width: \"calc(100% - 70px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"22px\",\n        color: `${props.theme.color.primary}`\n    }\n}\n\nexport const itemLastMsgStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n\nexport const itemLastMsgTimeStyle = (props) => {\n\n    return {\n        fontSize: \"11px\",\n        width: \"70px\",\n        textAlign: \"right\",\n        color: `${props.theme.color.helpText}`,\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport {CometChatAvatar, CometChatBadgeCount, CometChatUserPresence } from \"../../Shared\";\nimport {CometChatConversationListActions} from \"../CometChatConversationListActions\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getTimeStampForLastMessage } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  listItem,\n  itemThumbnailStyle,\n  itemDetailStyle,\n  itemRowStyle,\n  itemNameStyle,\n  itemLastMsgStyle,\n  itemLastMsgTimeStyle\n} from \"./style\";\n\nclass CometChatConversationListItem extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlastMessage: \"\",\n\t\t\tlastMessageTimestamp: \"\",\n\t\t\tenableUnreadCount: false,\n\t\t\tisHovering: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst message = this.getLastMessage();\n\t\tconst timestamp = this.getLastMessageTimestamp();\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousItem = JSON.stringify(prevProps.conversation);\n\t\tconst currentItem = JSON.stringify(this.props.conversation);\n\n\t\tif (previousItem !== currentItem) {\n\t\t\tconst message = this.getLastMessage();\n\t\t\tconst timestamp = this.getLastMessageTimestamp();\n\n\t\t\tthis.setState({ lastMessage: message, lastMessageTimestamp: timestamp });\n\t\t}\n\n\t\tthis.enableUnreadCount();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tgetLastMessage = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet message = null;\n\t\tconst lastMessage = this.props.conversation.lastMessage;\n\n\t\tif (lastMessage.hasOwnProperty(\"deletedAt\")) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessage = \"\";\n\t\t\t} else {\n\t\t\t\tmessage = this.props.loggedInUser.uid === lastMessage.sender.uid ? `${Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", this.context.language)}` : `${Translator.translate(\"THIS_MESSAGE_DELETED\", this.context.language)}`;\n\t\t\t}\n\t\t} else {\n\t\t\tswitch (lastMessage.category) {\n\t\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\t\tmessage = this.getMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\t\tmessage = this.getCallMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\t\t\tmessage = this.getActionMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\t\tmessage = this.getCustomMessage(lastMessage);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetLastMessageTimestamp = () => {\n\t\tif (this.props.hasOwnProperty(\"conversation\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.hasOwnProperty(\"lastMessage\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.props.conversation.lastMessage.hasOwnProperty(\"sentAt\") === false && this.props.conversation.lastMessage.hasOwnProperty(\"_composedAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet timestamp = this.props.conversation.lastMessage._composedAt || this.props.conversation.lastMessage.sentAt;\n\t\ttimestamp = getTimeStampForLastMessage(timestamp, this.context.language);\n\n\t\treturn timestamp;\n\t};\n\n\tgetCustomMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t{\n\t\t\t\t\tconst pollMessage = Translator.translate(\"CUSTOM_MESSAGE_POLL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${pollMessage}` : `${pollMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t{\n\t\t\t\t\tconst stickerMessage = Translator.translate(\"CUSTOM_MESSAGE_STICKER\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${stickerMessage}` : `${stickerMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t{\n\t\t\t\t\tconst docMessage = Translator.translate(\"CUSTOM_MESSAGE_DOCUMENT\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${docMessage}` : `${docMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t{\n\t\t\t\t\tconst whiteboardMessage = Translator.translate(\"CUSTOM_MESSAGE_WHITEBOARD\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${whiteboardMessage}` : `${whiteboardMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t{\n\t\t\t\t\tconst meetingMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = `${sender} ${meetingMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn message;\n\t};\n\n\tgetTextMessage = message => {\n\t\tlet messageText = message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\")) {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\treturn messageText;\n\t};\n\n\tgetMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props?.loggedInUser?.uid !== lastMessage?.sender?.uid ? `${lastMessage?.sender?.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t{\n\t\t\t\t\tconst textMessage = this.getTextMessage(lastMessage);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${textMessage}` : `${textMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.MEDIA:\n\t\t\t\t{\n\t\t\t\t\tconst mediaMessage = Translator.translate(\"MEDIA_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${mediaMessage}` : `${mediaMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t{\n\t\t\t\t\tconst imageMessage = Translator.translate(\"MESSAGE_IMAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${imageMessage}` : `${imageMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t{\n\t\t\t\t\tconst fileMessage = Translator.translate(\"MESSAGE_FILE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${fileMessage}` : `${fileMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"MESSAGE_VIDEO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"MESSAGE_AUDIO\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.CUSTOM:\n\t\t\t\t{\n\t\t\t\t\tconst customMessage = Translator.translate(\"CUSTOM_MESSAGE\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${customMessage}` : `${customMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetCallMessage = lastMessage => {\n\t\tlet message = null;\n\t\tconst sender = this.props.loggedInUser.uid !== lastMessage.sender.uid ? `${lastMessage.sender.name}: ` : ``;\n\n\t\tswitch (lastMessage.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t{\n\t\t\t\t\tconst videoMessage = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${videoMessage}` : `${videoMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t{\n\t\t\t\t\tconst audioMessage = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\t\t\t\tmessage = lastMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP ? `${sender} ${audioMessage}` : `${audioMessage}`;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn message;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.hasOwnProperty(\"actionBy\") === false || message.hasOwnProperty(\"actionOn\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT && (message.actionBy.hasOwnProperty(\"name\") === false || message.actionOn.hasOwnProperty(\"name\") === false)) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED) {\n\t\t\tif (message.hasOwnProperty(\"data\") && message.data.hasOwnProperty(\"extras\")) {\n\t\t\t\tif (message.data.extras.hasOwnProperty(\"scope\")) {\n\t\t\t\t\tif (message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\t\t\t\treturn actionMessage;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn actionMessage;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn actionMessage;\n\t\t\t}\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.hasOwnProperty(\"scope\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tif (message.action === CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED && message.data.extras.scope.hasOwnProperty(\"new\") === false) {\n\t\t\treturn actionMessage;\n\t\t}\n\n\t\tconst byEntity = message.actionBy;\n\t\tconst onEntity = message.actionOn;\n\n\t\tconst byString = byEntity.name;\n\t\tconst forString = message.action !== CometChat.ACTION_TYPE.MEMBER_JOINED && message.action !== CometChat.ACTION_TYPE.MEMBER_LEFT ? onEntity.name : \"\";\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"ADDED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"KICKED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"BANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"UNBANNED\", this.context.language)} ${forString}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message[\"data\"][\"extras\"][\"scope\"][\"new\"];\n\t\t\t\tactionMessage = `${byString} ${Translator.translate(\"MADE\", this.context.language)} ${forString} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableUnreadCount = () => {\n\t\tthis.context.FeatureRestriction.isUnreadCountEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableUnreadCount) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUnreadCount !== false) {\n\t\t\t\t\tthis.setState({ enableUnreadCount: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = toggleFlag => {\n\t\tif (toggleFlag && !this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: true });\n\t\t} else if (!toggleFlag && this.state.isHovering) {\n\t\t\tthis.setState({ isHovering: false });\n\t\t}\n\t};\n\n\trender() {\n\t\tlet lastMessageTimeStamp = null;\n\t\tif (this.state.lastMessage) {\n\t\t\tlastMessageTimeStamp = (\n\t\t\t\t<span css={itemLastMsgTimeStyle(this.props)} className=\"item__details__timestamp\">\n\t\t\t\t\t{this.state.lastMessageTimestamp}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet presence;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tconst status = this.props.conversation.conversationWith.status;\n\t\t\tpresence = <CometChatUserPresence status={status} borderColor={this.props.theme.borderColor.primary} />;\n\t\t}\n\n\t\tlet avatar = null;\n\t\tif (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\tavatar = <CometChatAvatar user={this.props.conversation.conversationWith} />;\n\t\t} else if (this.props.conversation.conversationType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = <CometChatAvatar group={this.props.conversation.conversationWith} />;\n\t\t}\n\n\t\tlet unreadCount = null;\n\t\tif (this.state.enableUnreadCount) {\n\t\t\tunreadCount = <CometChatBadgeCount count={this.props.conversation.unreadMessageCount} />;\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatConversationListActions {...this.props} conversation={this.props.conversation} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props)} className=\"list__item\" onMouseEnter={() => this.handleMouseHover(true)} onMouseLeave={() => this.handleMouseHover(false)} onClick={() => this.props.handleClick(this.props.conversation)}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t{presence}\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_one\">\n\t\t\t\t\t\t<div css={itemNameStyle(this.props)} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.props.conversation.conversationWith.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{lastMessageTimeStamp}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemRowStyle()} className=\"item__details_block_two\">\n\t\t\t\t\t\t<div css={itemLastMsgStyle(this.props)} className=\"item__details__last-message\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.state.lastMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{unreadCount}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{toolTipView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListItem.defaultProps = {\n\ttheme: theme,\n\tloggedInUser: null,\n\tconversation: {\n\t\tconversationWith: {}\n\t}\n};\n\nCometChatConversationListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tloggedInUser: PropTypes.shape(CometChat.User),\n\tconversation: PropTypes.shape(CometChat.Conversation)\n}\n\nexport { CometChatConversationListItem };\n","export const previewWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"8px 8px 16px 8px\",\n        marginBottom: \"-8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tfontSize: \"13px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row-reverse\",\n\t\tjustifyContent: \"space-between\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const previewOptionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        width: \"100%\",\n    }\n}\n\nexport const previewOptionStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px\",\n\t\tmargin: \"0 8px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRadius: \"10px\",\n\t\tcursor: \"pointer\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import { useContext } from 'react';\n\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { theme } from \"../../../../resources/theme\";\n\nimport {\n    previewWrapperStyle,\n    previewHeadingStyle,\n    previewCloseStyle,\n    previewOptionsWrapperStyle,\n    previewOptionStyle,\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatSmartReplyPreview = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    const options = props.options.map((option, key) => {\n\n        return (<div key={key} css={previewOptionStyle(context)} className=\"option\" onClick={() => props.clicked(option)}>{option}</div>)\n    })\n\n    return (\n        <div css={previewWrapperStyle(context, keyframes)} className=\"reply__preview__wrapper\">\n            <div css={previewHeadingStyle()} className=\"preview__heading\">\n                <div css={previewCloseStyle(closeIcon, context)} onClick={props.close} className=\"preview__close\"></div>\n            </div>\n            <div css={previewOptionsWrapperStyle()} className=\"preview__options\">{options}</div>\n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatSmartReplyPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatSmartReplyPreview.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatSmartReplyPreview };","export const stickerWrapperStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -55px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.grey}`,\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: \"none\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tborderRadius: \"10px 10px 0 0\",\n\t\theight: \"215px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t};\n};\n\nexport const stickerSectionListStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.silver}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\ttextTransform: \"uppercase\",\n\t\toverflowX: \"auto\",\n\t\toverflowY: \"hidden\",\n\t\tpadding: \"10px\",\n\t\t\"::-webkit-scrollbar\": {\n\t\t\tbackground: `${context.theme.backgroundColor.primary}`,\n\t\t},\n\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\tbackground: `${context.theme.backgroundColor.silver}`,\n\t\t},\n\t};\n};\n\nexport const sectionListItemStyle = () => {\n\n    return {\n\n        height: \"35px\",\n        width: \"35px\",\n        cursor: \"pointer\",\n        flexShrink: \"0\",\n        \":not(:first-of-type)\": {\n            marginLeft: \"16px\",\n        },\n    }\n}\n\nexport const stickerListStyle = () => {\n\n    return {\n        height: \"calc(100% - 50px)\",\n        display: \"flex\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    }\n}\n\nexport const stickerItemStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"50px\",\n\t\tminHeight: \"50px\",\n\t\tmaxWidth: \"70px\",\n\t\tmaxHeight: \"70px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\tmarginRight: \"20px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}`]: {\n\t\t\tmaxWidth: \"70px\",\n\t\t\tmaxHeight: \"70px\",\n\t\t},\n\t};\n};\n\nexport const stickerMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"35%\",\n    }\n}\n\nexport const stickerMsgTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"24px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};\n\nexport const stickerCloseStyle = (img, context) => {\n\t\n\treturn {\n\t\twidth: \"20px\",\n\t\theight: \"20px\",\n\t\tborderRadius: \"50%\",\n\t\talignSelf: \"flex-end\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t\tmargin: \"8px 8px 0 0\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/core';\nimport PropTypes from 'prop-types';\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { \n    stickerWrapperStyle, \n    stickerSectionListStyle, \n    stickerListStyle,\n    sectionListItemStyle,\n    stickerItemStyle,\n    stickerMsgStyle,\n    stickerMsgTxtStyle,\n    stickerCloseStyle\n} from \"./style\";\n\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatStickerKeyboard extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.decoratorMessage = Translator.translate(\"LOADING\", context.language);\n\n        this.state = {\n            stickerlist: [],\n            stickerset: {},\n            activestickerlist: [],\n            activestickerset: null\n        }\n    }\n\n    componentDidMount() {\n        this.getStickers();\n    }\n\n    getStickers = () => {\n\n        CometChat.callExtension('stickers', 'GET', 'v1/fetch', null).then(stickers => {\n\n            // Stickers received\n            let activeStickerSet = null; \n            const customStickers = (stickers.hasOwnProperty(\"customStickers\")) ? stickers[\"customStickers\"] : [];\n            const defaultStickers = (stickers.hasOwnProperty(\"defaultStickers\")) ? stickers[\"defaultStickers\"] : [];\n\n            defaultStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            customStickers.sort(function (a, b) {\n                return a.stickerSetOrder - b.stickerSetOrder;\n            });\n\n            const stickerList = [...defaultStickers, ...customStickers];\n            \n            if (stickerList.length === 0) {\n                this.decoratorMessage = Translator.translate(\"NO_STICKERS_FOUND\", this.context.language);\n            }\n\n            const stickerSet = stickerList.reduce((r, sticker, index) => {\n\n                const { stickerSetName } = sticker;\n                if (index === 0) {\n                    activeStickerSet = stickerSetName;\n                }\n\n                r[stickerSetName] = [...r[stickerSetName] || [], { ...sticker}];\n\n                return r;\n            }, {});\n\n            let activeStickerList = [];\n            if (Object.keys(stickerSet).length) {\n\n                Object.keys(stickerSet).forEach(key => {\n                    stickerSet[key].sort(function (a, b) {\n                        return a.stickerOrder - b.stickerOrder;\n                    });\n                });\n\n                activeStickerList = stickerSet[activeStickerSet];\n            }\n            \n            this.setState({ \n                \"stickerlist\": stickerList, \n                \"stickerset\": stickerSet, \n                \"activestickerlist\": activeStickerList, \n                \"activestickerset\": activeStickerSet \n            });\n\n        }).catch(error => {\n            \n            this.decoratorMessage = Translator.translate(\"SOMETHING_WRONG\", this.context.language);\n            this.setState({ \"activestickerlist\": [], \"stickerset\": {} });\n        });\n    }\n\n    sendStickerMessage = (stickerItem) => {\n        this.props.actionGenerated(enums.ACTIONS[\"SEND_STICKER\"], stickerItem);\n    }\n\n    onStickerSetClicked = (sectionItem) => {\n\n        this.setState({ activestickerlist: [] }, () => {\n\n            const stickerSet = { ...this.state.stickerset };\n            const activeStickerList = stickerSet[sectionItem];\n            this.setState({ \"activestickerset\": sectionItem, \"activestickerlist\": activeStickerList });\n        });\n    }\n\n    closeStickerKeyboard = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]);\n    }\n\n    render() {\n\n        let messageContainer = null;\n        if (this.state.activestickerlist.length === 0) {\n            messageContainer = (\n                <div css={stickerMsgStyle()} className=\"stickers__decorator-message\">\n                    <p css={stickerMsgTxtStyle(this.context)} className=\"decorator-message\">{this.decoratorMessage}</p>\n                </div>\n            );\n        }\n\n        let stickers = null;\n        if (Object.keys(this.state.stickerset).length) {\n\n            const sectionItems = Object.keys(this.state.stickerset).map((sectionItem, key) => {\n\n                const stickerSetThumbnail = this.state.stickerset[sectionItem][0][\"stickerUrl\"];\n                return( <div  key={key}  className=\"stickers__sectionitem\" css={sectionListItemStyle()}  onClick={() => this.onStickerSetClicked(sectionItem)}>\n                    <img src={stickerSetThumbnail} alt={sectionItem} />\n                </div>\n                );\n            });\n\n            let activeStickerList = [];\n            if (this.state.activestickerlist.length) {\n\n                const stickerList = [...this.state.activestickerlist];\n                activeStickerList = stickerList.map((stickerItem, key) => {\n\n                    return (\n                        <div key={key} css={stickerItemStyle(this.context)} onClick={() => this.sendStickerMessage(stickerItem)} className=\"stickers__listitem\">\n                            <img src={stickerItem.stickerUrl} alt={stickerItem.stickerName} />\n                        </div>\n                    );\n                });\n            }\n\n            stickers = (\n                <React.Fragment>\n                    <div css={stickerCloseStyle(closeIcon, this.context)} className=\"stickers__close\" onClick={this.closeStickerKeyboard}></div>\n                    <div css={stickerListStyle(this.props)} className=\"stickers__list\">\n                        {activeStickerList}\n                    </div>\n                    <div css={stickerSectionListStyle(this.context)} className=\"stickers__sections\">\n                        {sectionItems}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div css={stickerWrapperStyle(this.context, keyframes)} className=\"stickers\">\n                {messageContainer}\n                {stickers}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatStickerKeyboard.defaultProps = {\n    theme: theme\n};\n\nCometChatStickerKeyboard.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatStickerKeyboard };","export const messageReactionsStyle = (props, reactionData, context, loggedInUser) => {\n\n\tconst uid = loggedInUser?.uid;\n\tlet borderStyle = {};\n\tlet hoveredBorderStyle = {};\n\n\tif (reactionData.hasOwnProperty(uid)) {\n\t\tborderStyle = {\n\t\t\tborder: `1px solid ${context.theme.primaryColor}`,\n\t\t};\n\n\t\thoveredBorderStyle = { ...borderStyle };\n\t} else {\n\t\tborderStyle = {\n\t\t\tborder: \"1px solid transparent\",\n\t\t};\n\n\t\thoveredBorderStyle = {\n\t\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t\t};\n\t}\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tpadding: \"2px 6px\",\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\",\n\t\tverticalAlign: \"top\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tborderRadius: \"12px\",\n\t\tmargin: \"4px 4px 0 0\",\n\t\t...borderStyle,\n\t\t\".emoji-mart-emoji\": {\n\t\t\tdisplay: \"inline-flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t\t\"&:hover\": {\n\t\t\t...hoveredBorderStyle,\n\t\t},\n\t};\n};\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        \"i\": {\n            height: \"24px\",\n            width: \"24px\",\n            mask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n        }        \n    }\n}\n\nexport const reactionCountStyle = context => {\n\n\treturn {\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tpadding: \"0 1px 0 3px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Emoji } from \"emoji-mart\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageReactionsStyle,\n    reactionCountStyle,\n    emojiButtonStyle,\n} from \"./style\";\n\nimport reactIcon from \"./resources/reactions.svg\";\n\nclass CometChatMessageReactions extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tenableMessageReaction: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.enableMessageReaction();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableMessageReaction && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableMessageReaction !== false) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treactToMessages = emoji => {\n\n\t\tlet messageObject = { ...this.props.message };\n\t\tdelete messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons][this.loggedInUser.uid];\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], messageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.props.message.id,\n\t\t\temoji: emoji.colons,\n\t\t}).then(response => {\n\t\t\t\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t});\n\t};\n\n\tgetMessageReactions = reaction => {\n\t\t\n\t\tif (reaction === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst messageReactions = Object.keys(reaction).map((data, key) => {\n\t\t\tconst reactionData = reaction[data];\n\t\t\tconst reactionName = data.replaceAll(\":\", \"\");\n\t\t\tconst reactionCount = Object.keys(reactionData).length;\n\n\t\t\tif (!reactionCount) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst userList = [];\n\t\t\tlet reactionTitle = \"\";\n\n\t\t\tfor (const user in reactionData) {\n\t\t\t\tuserList.push(reactionData[user][\"name\"]);\n\t\t\t}\n\n\t\t\tif (userList.length) {\n\t\t\t\treactionTitle = userList.join(\", \");\n\t\t\t\tconst str = ` ${Translator.translate(\"REACTED\", this.context.language)}`;\n\t\t\t\treactionTitle = reactionTitle.concat(str);\n\t\t\t}\n\n\t\t\tconst reactionClassName = `reaction reaction__${reactionName}`;\n\t\t\treturn (\n\t\t\t\t<div key={key} css={messageReactionsStyle(this.props, reactionData, this.context, this.loggedInUser)} className={reactionClassName} title={reactionTitle}>\n\t\t\t\t\t<Emoji emoji={{ id: reactionName }} size={16} native onClick={this.reactToMessages} />\n\t\t\t\t\t<span css={reactionCountStyle(this.context)} className=\"reaction__count\">\n\t\t\t\t\t\t{reactionCount}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\n\t\treturn messageReactions;\n\t};\n\n\taddMessageReaction = () => {\n\t\t//If reacting to messages feature is disabled\n\t\tif (this.state.enableMessageReaction === false) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst addReactionEmoji = (\n\t\t\t<div key=\"-1\" css={messageReactionsStyle(this.props, {}, this.context)} className=\"reaction reaction__add\" title={Translator.translate(\"ADD_REACTION\", this.context.language)}>\n\t\t\t\t<button type=\"button\" css={emojiButtonStyle(reactIcon, this.context)} className=\"button__reacttomessage\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message)}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\n\t\treturn addReactionEmoji;\n\t};\n\n\trender() {\n\t\tconst reaction = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tconst messageReactions = this.getMessageReactions(reaction);\n\n\t\tconst addReactionEmoji = this.addMessageReaction();\n\n\t\tif (messageReactions !== null && messageReactions.length && addReactionEmoji !== null) {\n\t\t\tif (this.props.message?.sender?.uid !== this.loggedInUser?.uid) {\n\t\t\t\tmessageReactions.push(addReactionEmoji);\n\t\t\t} else {\n\t\t\t\tmessageReactions.unshift(addReactionEmoji);\n\t\t\t}\n\t\t}\n\n\t\treturn messageReactions;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageReactions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageReactions.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageReactions };\n","export const modalWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"50%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n    }\n}\n\nexport const modalTableStyle = context => {\n\n\treturn {\n\t\tborderCollapse: \"collapse\",\n\t\tmargin: \"0\",\n\t\tpadding: \"0\",\n\t\twidth: \"100%\",\n\t\theight: \"90%\",\n\t\ttr: {\n\t\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\t\tdisplay: \"table\",\n\t\t\twidth: \"100%\",\n\t\t\ttableLayout: \"fixed\",\n\t\t},\n\t};\n};\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 16px\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    \"&:focus\": {\n                        outline: \"none\"\n                    }\n                },\n                \"label\": {\n                    padding: \"8px 16px\", \n                },\n                \":first-of-type\": {\n                    width: \"120px\"\n                }\n            }\n        }\n    }\n}\n\n\nexport const tableFootStyle = (context, state, img) => {\n\n\tlet loadingState = {};\n\tlet textMargin = {};\n\n\tif (state.creatingPoll) {\n\t\tloadingState = {\n\t\t\tdisabled: \"true\",\n\t\t\tpointerEvents: \"none\",\n\t\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n\t\t};\n\n\t\ttextMargin = {\n\t\t\tmarginRight: \"24px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\ttr: {\n\t\t\tborder: \"none\",\n\t\t\ttd: {\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tbutton: {\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tpadding: \"8px 16px\",\n\t\t\t\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\t\t\t\tborderRadius: \"5px\",\n\t\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\t\tfontSize: \"14px\",\n\t\t\t\t\toutline: \"0\",\n\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t...loadingState,\n\t\t\t\t\tspan: {\n\t\t\t\t\t\t...textMargin,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n\n    return {\n        width: \"50px\"\n    }\n}\n\nexport const addOptionIconStyle = (img, context) => {\n\n    return {\n        backgroundSize: \"28px 28px\",\n        cursor: \"pointer\",\n        display: \"block\",\n        height: \"24px\",\n        width: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../../Shared\";\nimport { CometChatCreatePollOptions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport * as enums from \"../../../../util/enums.js\"; \n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalErrorStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    tableFootStyle,\n    iconWrapperStyle,\n    addOptionIconStyle\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport addIcon from \"./resources/add-circle-filled.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatCreatePoll extends React.Component {\n\n    loggedInUser = null;\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n        this.state = {\n            errorMessage: \"\",\n            options: [],\n            creatingPoll: false\n        }\n\n        this.questionRef = React.createRef();\n        this.optionOneRef = React.createRef();\n        this.optionTwoRef = React.createRef();\n        this.optionRef = React.createRef();\n    }\n\n    addPollOption = () => {\n\n        const options = [...this.state.options];\n        options.push({ value: \"\", id: new Date().getTime() });\n        this.setState({options: options});\n    }\n\n    removePollOption = (option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id);\n        if (optionKey > -1) {\n\n            options.splice(optionKey, 1);\n            this.setState({ options: options});\n        }\n    }\n\n    optionChangeHandler = (event, option) => {\n\n        const options = [...this.state.options];\n        const optionKey = options.findIndex(opt => opt.id === option.id); \n        if (optionKey > -1) {\n\n            const newOption = { ...option, value: event.target.value}\n            options.splice(optionKey, 1, newOption);\n            this.setState({ options: options });\n        }\n    }\n\n    createPoll = () => {\n\n        const question = this.questionRef.current.value.trim();\n        const firstOption = this.optionOneRef.current.value.trim();\n        const secondOption = this.optionTwoRef.current.value.trim();\n        const optionItems = [firstOption, secondOption];\n\n        if (question.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_QUESTION\", this.context.language) });\n            return false;\n        }\n\n        if (firstOption.length === 0 || secondOption.length === 0) {\n\n            this.setState({ errorMessage: Translator.translate(\"INVALID_POLL_OPTION\", this.context.language) });\n            return false;\n        }\n\n        this.state.options.forEach(function (option) {\n            optionItems.push(option.value)\n        })\n\n        let receiverId;\n        let receiverType = this.context.type;\n        if (this.context.type === CometChat.RECEIVER_TYPE.USER) {\n            receiverId = this.context.item.uid;\n        } else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP) {\n            receiverId = this.context.item.guid;\n        }\n        \n        this.setState({ creatingPoll: true, errorMessage: \"\" });\n\n        CometChat.callExtension('polls', 'POST', 'v2/create', {\n            \"question\": question,\n            \"options\": optionItems,\n            \"receiver\": receiverId,\n            \"receiverType\": receiverType\n        }).then(response => {\n\n            if (response && response.hasOwnProperty(\"success\") && response[\"success\"] === true) {\n\n                this.setState({ creatingPoll: false });\n                this.props.actionGenerated(enums.ACTIONS[\"POLL_CREATED\"]);\n\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => {\n\n            this.setState({ creatingPoll: false });\n            this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n        });\n    }\n\n    render() {\n\n        const optionList = [...this.state.options];\n        const pollOptionView = optionList.map((option, index) => {\n            return (\n                <CometChatCreatePollOptions \n                key={index} \n                option={option} \n                tabIndex={index+4}\n                lang={this.context.language}\n                optionChangeHandler={this.optionChangeHandler}\n                removePollOption={this.removePollOption} />\n            );\n        });\n\n        const createText = (this.state.creatingPoll) ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__createpoll\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <table css={modalTableStyle(this.context)}>\n                            <caption css={tableCaptionStyle()} className=\"modal__title\">{Translator.translate(\"CREATE_POLL\", this.context.language)}</caption>\n                            <tbody css={tableBodyStyle()}>\n                                <tr className=\"error\">\n                                    <td colSpan=\"3\"><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n                                </tr>\n                                <tr className=\"poll__question\">\n                                    <td><label>{Translator.translate(\"QUESTION\", this.context.language)}</label></td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" autoFocus tabIndex=\"1\" placeholder={Translator.translate(\"ENTER_YOUR_QUESTION\", this.context.language)} ref={this.questionRef} />\n                                    </td>\n                                </tr>\n                                <tr className=\"poll__options\">\n                                    <td>\n                                        <label>{Translator.translate(\"OPTIONS\", this.context.language)}</label>\n                                    </td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"2\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionOneRef} />\n                                    </td>\n                                </tr>\n                                <tr ref={this.optionRef} className=\"poll__options\">\n                                    <td>&nbsp;</td>\n                                    <td colSpan=\"2\">\n                                        <input type=\"text\" tabIndex=\"3\" placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", this.context.language)} ref={this.optionTwoRef} />\n                                    </td>\n                                </tr>\n                                {pollOptionView}\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>\n                                        <label>{Translator.translate(\"ADD_NEW_OPTION\", this.context.language)}</label>\n                                    </td>\n                                    <td css={iconWrapperStyle()}>\n                                        <i tabIndex=\"100\" css={addOptionIconStyle(addIcon, this.context)} className=\"option__add\" onClick={this.addPollOption}></i>\n                                    </td>\n                                </tr>\n                            </tbody>\n                            <tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n                                <tr className=\"createpoll\">\n                                    <td colSpan=\"2\">\n                                        <button type=\"button\" onClick={this.createPoll}>\n                                            <span>{createText}</span>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tfoot>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatCreatePoll.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatCreatePoll.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatCreatePoll };\n","export const removeOptionIconStyle = (img, context) => {\n\n\treturn {\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.red}`,\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"block\",\n\t\theight: \"24px\",\n\t\twidth: \"24px\",\n\t};\n};\n\nexport const iconWrapperStyle = () => {\n    return {\n        width: \"50px\"\n    }\n}","export default __webpack_public_path__ + \"static/media/remove.b83180e3.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\n\nimport { iconWrapperStyle } from \"../CometChatCreatePoll/style\";\n\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport { removeOptionIconStyle } from \"./style\";\nimport removeIcon from \"./resources/remove.svg\";\n\nconst CometChatCreatePollOptions = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    return (\n        <tr className=\"poll__options\">\n            <td>&nbsp;</td>\n            <td>\n                <input \n                autoFocus\n                tabIndex={props.tabIndex}\n                type=\"text\" \n                autoComplete=\"off\" \n                placeholder={Translator.translate(\"ENTER_YOUR_OPTION\", context.language)}\n                value={props.value}\n                onChange={(event) => props.optionChangeHandler(event, props.option)} />\n            </td>\n            <td css={iconWrapperStyle()} className=\"option__remove\">\n                <span css={removeOptionIconStyle(removeIcon, context)} onClick={() => props.removePollOption(props.option)}></span>\n            </td>\n        </tr>\n    );\n}\n\nexport { CometChatCreatePollOptions };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    messageTxtTitleStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatReceiverDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_DOCUMENT\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__document__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDocumentBubble };\n","\nexport const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"100%\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n\twidth: \"calc(100% - 36px)\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (state, optionData, context) => {\n\n\tlet countPadding = \"0px 16px 0px 0px\";\n    let widthProp = \"calc(100% - 40px)\";\n\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(state?.loggedInUser?.uid)) {\n\t\t//countPadding = \"0px 8px\";\n\t\twidthProp = \"calc(100% - 80px)\";\n\t}\n\n\treturn {\n\t\twidth: \"100%\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tminHeight: \"35px\",\n        \tpadding: \"0 16px\",\n\t\theight: \"100%\",\n\t\tzIndex: \"2\",\n\t\tp: {\n\t\t\tmargin: \"0\",\n\t\t\twidth: widthProp,\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tspan: {\n\t\t\twidth: \"40px\",\n\t\t\tpadding: countPadding,\n\t\t\tfontWeight: \"bold\",\n\t\t\tdisplay: \"inline-block\",\n\t\t\tfontSize: \"13px\",\n\t\t},\n\t};\n};\n\nexport const checkIconStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"40px\",\n\t\theight: \"24px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/checkmark.2fca5711.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\nimport * as enums from \"../../../../util/enums.js\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageTxtContainerStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    checkIconStyle,\n    pollTotalStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\n\nimport checkImg from \"./resources/checkmark.svg\";\n\nclass CometChatReceiverPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tloggedInUser: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: {...user} });\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n        \n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tanswerPollQuestion = (event, selectedOption) => {\n\t\tCometChat.callExtension(\"polls\", \"POST\", \"v2/vote\", {\n\t\t\tvote: selectedOption,\n\t\t\tid: this.pollId,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (response.hasOwnProperty(\"success\") === false || (response.hasOwnProperty(\"success\") && response[\"success\"] === false)) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// if (!this.props.message.hasOwnProperty(\"metadata\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata.hasOwnProperty(\"@injected\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"].hasOwnProperty(\"extensions\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\t// if (!this.props.message.metadata[\"@injected\"][\"extensions\"].hasOwnProperty(\"polls\")) {\n\t\t//     return null;\n\t\t// }\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst pollOptions = [];\n\t\t//const pollExtensionData = this.props.message.metadata[\"@injected\"][\"extensions\"][\"polls\"];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tlet checkIcon = null;\n\t\t\tif (optionData.hasOwnProperty(\"voters\") && optionData.voters.hasOwnProperty(this.state.loggedInUser?.uid)) {\n\t\t\t\tcheckIcon = <i css={checkIconStyle(checkImg, this.context)}></i>;\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option} onClick={event => this.answerPollQuestion(event, option)}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.state, optionData, this.context)}>\n\t\t\t\t\t\t{checkIcon}\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__poll__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverPollMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle,\n    messageImgContainerStyle,\n    messageImgWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverStickerMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t{stickerImg}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverStickerMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverStickerMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverStickerMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\nimport { CometChatAvatar } from \"../../../Shared\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatReceiverWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = `${this.props.message.sender.name} ${Translator.translate(\"SHARED_COLLABORATIVE_WHITEBOARD\", this.context.language)}`;\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__whiteboard__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(whiteboardIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_WHITEBOARD\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"whiteboard__title\">\n\t\t\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"whiteboard__button\">\n\t\t\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t\t\t<p>{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverWhiteboardBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle,\n} from \"./style\";\n\nimport documentIcon from \"./resources/collaborative-document.svg\";\n\nclass CometChatSenderDocumentBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n            \n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeDocument = () => {\n\t\tlet documentUrl = null;\n\t\tlet documentData = checkMessageForExtensionsData(this.props.message, \"document\");\n\t\tif (documentData && documentData.hasOwnProperty(\"document_url\") && documentData.document_url.length) {\n\t\t\tdocumentUrl = documentData.document_url;\n\t\t\twindow.open(documentUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_DOCUMENT\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__document\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__document__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__document__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(documentIcon, this.context)} title={Translator.translate(\"COLLABORATIVE_DOCUMENT\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeDocument}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDocumentBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDocumentBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDocumentBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const pollQuestionStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"100%\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const pollAnswerStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tmargin: \"10px 0\",\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t},\n\t};\n};\n\nexport const pollTotalStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        alignSelf: \"flex-end\"\n    }\n}\n\nexport const pollPercentStyle = (context, width) => {\n\n    const curvedBorders = (width === \"100%\") ? { borderRadius: \"8px\" } : {\n        borderRadius: \"8px 0 0 8px\"\n    };\n\n    return {\n        maxWidth: \"100%\",\n        width: width,\n        ...curvedBorders,\n        backgroundColor: `${context.theme.backgroundColor.primary}`,\n        minHeight: \"35px\",\n        height: \"100%\",\n        position: \"absolute\",\n        zIndex: \"1\",\n    }\n}\n\nexport const answerWrapperStyle = (context, width) => {\n\n    return {\n        width: \"100%\",\n        color: `${context.theme.color.primary}`,\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: \"35px\",\n        padding: \"0 16px\",\n        height: \"100%\",\n        zIndex: \"2\",\n        \"p\": {\n            margin: \"0\",\n            width: \"calc(100% - 40px)\",\n            whiteSpace: \"pre-wrap\",\n            wordWrap: \"break-word\",\n            fontSize: \"14px\",\n        },\n        \"span\": {\n            maxWidth: \"40px\",\n            padding: \"0px 16px 0px 0px\",\n            fontWeight: \"bold\",\n            display: \"inline-block\",\n            fontSize: \"13px\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    pollQuestionStyle,\n    pollAnswerStyle,\n    pollTotalStyle,\n    pollPercentStyle,\n    answerWrapperStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderPollMessageBubble extends React.Component {\n\tpollId;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tconst pollExtensionData = checkMessageForExtensionsData(this.props.message, \"polls\");\n\t\tif (!pollExtensionData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pollOptions = [];\n\n\t\tthis.pollId = pollExtensionData.id;\n\t\tconst total = pollExtensionData.results.total;\n\t\tlet totalText = Translator.translate(\"NO_VOTE\", this.context.language);\n\n\t\tif (total === 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTE\", this.context.language)}`;\n\t\t} else if (total > 1) {\n\t\t\ttotalText = `${total} ${Translator.translate(\"VOTES\", this.context.language)}`;\n\t\t}\n\n\t\tfor (const option in pollExtensionData.results.options) {\n\t\t\tconst optionData = pollExtensionData.results.options[option];\n\t\t\tconst vote = optionData[\"count\"];\n\n\t\t\tlet width = \"0%\";\n\t\t\tif (total) {\n\t\t\t\tconst fraction = vote / total;\n\t\t\t\twidth = fraction.toLocaleString(\"en\", { style: \"percent\" });\n\t\t\t}\n\n\t\t\tconst template = (\n\t\t\t\t<li key={option}>\n\t\t\t\t\t<div css={pollPercentStyle(this.context, width)}> </div>\n\t\t\t\t\t<div css={answerWrapperStyle(this.context, width)}>\n\t\t\t\t\t\t<span>{width}</span>\n\t\t\t\t\t\t<p>{optionData.text}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t\tpollOptions.push(template);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__poll\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__poll__wrapper\">\n\t\t\t\t\t\t<p css={pollQuestionStyle()} className=\"poll__question\">\n\t\t\t\t\t\t\t{pollExtensionData.question}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul css={pollAnswerStyle(this.context)} className=\"poll__options\">\n\t\t\t\t\t\t\t{pollOptions}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p css={pollTotalStyle()} className=\"poll__votes\">\n\t\t\t\t\t\t\t{totalText}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderPollMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderPollMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderPollMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"128px\",\n\t\theight: \"128px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tmaxWidth: \"128px\",\n\t\t\theight: \"128px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageImgWrapper,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderStickerBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet stickerData = null;\n\t\tlet stickerImg = null;\n\t\tif (this.props.message.hasOwnProperty(\"data\") && this.props.message.data.hasOwnProperty(\"customData\")) {\n\t\t\tstickerData = this.props.message.data.customData;\n\n\t\t\tif (stickerData.hasOwnProperty(\"sticker_url\")) {\n\t\t\t\tconst stickerName = stickerData.hasOwnProperty(\"sticker_name\") ? stickerData.sticker_name : Translator.translate(\"STICKER\", this.context.language);\n\t\t\t\tstickerImg = <img src={stickerData.sticker_url} alt={stickerName} />;\n\t\t\t}\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__sticker\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} className=\"message__img__wrapper\">\n\t\t\t\t\t\t{stickerImg}{\" \"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderStickerBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderStickerBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderStickerBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"> img\": {\n            backgroundColor: \"white\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 24px)\",\n        fontSize: \"14px\",\n        paddingLeft: \"8px\"\n    }\n}\n\nexport const messageTxtIconStyle = (img, context) => {\n\n    return {\n        mask: `url(${img}) no-repeat left center`,\n        backgroundColor: `${context.theme.color.white}`,\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"16px 0 0 0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n                fontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        padding: \"4px 8px\",\n        height: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../../\";\nimport { CometChatMessageReactions } from \"../\";\n\nimport { CometChatContext } from \"../../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../../util/common\";\n\nimport { theme } from \"../../../../resources/theme\";\nimport Translator from \"../../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageTxtIconStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n} from \"./style\";\n\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\n\nclass CometChatSenderWhiteboardBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tlaunchCollaborativeWhiteboard = () => {\n\t\tlet whiteboardUrl = null;\n\t\tlet whiteboardData = checkMessageForExtensionsData(this.props.message, \"whiteboard\");\n\t\tif (whiteboardData && whiteboardData.hasOwnProperty(\"board_url\") && whiteboardData.board_url.length) {\n\t\t\tlet username = this.loggedInUser?.name.split(\" \").join(\"_\");\n\t\t\t// Appending the username to the board_url\n\t\t\twhiteboardUrl = whiteboardData.board_url + \"&username=\" + username;\n\t\t\twindow.open(whiteboardUrl, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst documentTitle = Translator.translate(\"CREATED_WHITEBOARD\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__whiteboard\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__whiteboard__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__whiteboard__container\">\n\t\t\t\t\t\t\t<i css={messageTxtIconStyle(whiteboardIcon, this.context)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"document__title\">\n\t\t\t\t\t\t\t\t{documentTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"document__button\">\n\t\t\t\t\t\t\t<li onClick={this.launchCollaborativeWhiteboard}>\n\t\t\t\t\t\t\t\t<p>{Translator.translate(\"LAUNCH\", this.context.language)}</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderWhiteboardBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderWhiteboardBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderWhiteboardBubble };","export const actionMessageStyle = () => {\n\n    return {\n        padding: \"8px 16px\",\n        marginBottom: \"16px\",\n        textAlign: \"center\",\n        height: \"36px\"\n    }\n}\n\nexport const actionMessageTxtStyle = () => {\n\n    return {\n        fontSize: \"13.5px\",\n        margin: \"0\",\n        lineHeight: \"20px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { actionMessageStyle, actionMessageTxtStyle } from \"./style\"\n\nclass CometChatActionMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tgetCallActionMessage = message => {\n\t\tconst call = message;\n\t\tlet actionMessage = null;\n\n\t\tswitch (call.status) {\n\t\t\tcase CometChat.CALL_STATUS.INITIATED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_INITIATED\", this.context.language);\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_AUDIO_CALL\", this.context.language) : Translator.translate(\"INCOMING_AUDIO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO) {\n\t\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.INITIATED) {\n\t\t\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"OUTGOING_VIDEO_CALL\", this.context.language) : Translator.translate(\"INCOMING_VIDEO_CALL\", this.context.language);\n\t\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.ONGOING: {\n\t\t\t\tif (call.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\t\tactionMessage = Translator.translate(\"CALL_ACCEPTED\", this.context.language);\n\t\t\t\t} else if (call.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\t\tif (call.action === CometChat.CALL_STATUS.ONGOING) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_ACCEPTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === CometChat.CALL_STATUS.REJECTED) {\n\t\t\t\t\t\tactionMessage = call.sender.uid === this.loggedInUser?.uid ? Translator.translate(\"CALL_REJECTED\", this.context.language) : `${call.sender.name} ${Translator.translate(\"REJECTED_CALL\", this.context.language)}`;\n\t\t\t\t\t} else if (call.action === \"left\") {\n\t\t\t\t\t\tif (call.sender.uid === this.loggedInUser?.uid) {\n\t\t\t\t\t\t\tactionMessage = `${Translator.translate(\"YOU\", this.context.language)} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactionMessage = `${call.sender.name} ${Translator.translate(\"LEFT_THE_CALL\", this.context.language)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.UNANSWERED: {\n\t\t\t\tactionMessage = Translator.translate(\"CALL_UNANSWERED\", this.context.language);\n\n\t\t\t\tif (call.type === CometChat.CALL_TYPE.AUDIO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_AUDIO_CALL\", this.context.language) : Translator.translate(\"MISSED_AUDIO_CALL\", this.context.language);\n\t\t\t\t} else if (call.type === CometChat.CALL_TYPE.VIDEO && (call.receiverType === CometChat.RECEIVER_TYPE.USER || call.receiverType === CometChat.RECEIVER_TYPE.GROUP)) {\n\t\t\t\t\tactionMessage = call.callInitiator.uid === this.loggedInUser?.uid ? Translator.translate(\"UNANSWERED_VIDEO_CALL\", this.context.language) : Translator.translate(\"MISSED_VIDEO_CALL\", this.context.language);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase CometChat.CALL_STATUS.REJECTED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_REJECTED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.ENDED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_ENDED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.CANCELLED:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_CANCELLED\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CALL_STATUS.BUSY:\n\t\t\t\tactionMessage = Translator.translate(\"CALL_BUSY\", this.context.language);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetActionMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tconst byUser = message?.actionBy?.name;\n\t\tconst onUser = message?.actionOn?.name;\n\n\t\tswitch (message.action) {\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_JOINED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"JOINED\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_LEFT:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"LEFT\", this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_ADDED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"ADDED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_KICKED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"KICKED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_BANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"BANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_UNBANNED:\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"UNBANNED\", this.context.language)} ${onUser}`;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED: {\n\t\t\t\tconst newScope = message?.newScope;\n\t\t\t\tactionMessage = `${byUser} ${Translator.translate(\"MADE\", this.context.language)} ${onUser} ${Translator.translate(newScope, this.context.language)}`;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\tgetMessage = message => {\n\t\tlet actionMessage = null;\n\n\t\tif (message.category === CometChat.CATEGORY_CALL) {\n\t\t\tactionMessage = this.getCallActionMessage(message);\n\t\t} else if (message.category === CometChat.CATEGORY_ACTION) {\n\t\t\tactionMessage = this.getActionMessage(message);\n\t\t}\n\n\t\treturn actionMessage;\n\t};\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div css={actionMessageStyle()} className=\"action__message\">\n\t\t\t\t<p css={actionMessageTxtStyle()}>{this.getMessage(this.props.message)}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatActionMessageBubble.defaultProps = {\n    theme: theme,\n};\n\nCometChatActionMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatActionMessageBubble };","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageContainerStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\"\n    } : {\n        alignSelf: \"flex-start\"\n    };\n\n    return {\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        flexShrink: \"0\",\n        ...alignment\n    }\n}\n\nexport const messageWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        display: \"flex\",\n        flexDirection : \"column\",\n    } : {};\n\n    return {\n        flex: \"1 1\",\n        position: \"relative\",\n        width: \"100%\",\n        ...alignment\n    }\n}\n\nexport const messageTxtWrapperStyle = (props, context, loggedInUser) => {\n\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf: \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        padding: \"8px 12px\",\n        alignSelf: \"flex-end\",\n        Width: \"100%\",\n        backgroundColor: `${context.theme.backgroundColor.secondary}`,\n        fontStyle: \"italic\",\n        ...alignment\n    }\n}\n\nexport const messageTxtStyle = context => {\n\n\treturn {\n\t\tfontSize: \"14px!important\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"20px!important\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageInfoWrapperStyle = (props, loggedInUser) => {\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? {\n        alignSelf : \"flex-end\",\n    } : {\n        alignSelf: \"flex-start\",\n    };\n\n    return {\n        ...alignment,\n    }\n}\n\nexport const messageTimeStampStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: 500,\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"uppercase\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"12px 0\",\n        float: \"left\",\n    }\n}\n\nexport const messageDetailStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpaddingLeft: \"5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\tflex: \"1 1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tposition: \"relative\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameWrapperStyle = (props, loggedInUser) => {\n\n\tlet paddingSpace = {};\n\tif (props.message?.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\tpaddingSpace = {\n\t\t\tpadding: \"3px 5px\",\n\t\t};\n\t}\n\n\treturn {\n\t\talignSelf: \"flex-start\",\n\t\t...paddingSpace,\n\t};\n};\n\nexport const nameStyle = context => {\n\treturn {\n\t\tfontSize: \"10px\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t};\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtStyle,\n    messageInfoWrapperStyle,\n    messageTimeStampStyle,\n    messageThumbnailStyle,\n    messageDetailStyle,\n    nameWrapperStyle,\n    nameStyle\n} from \"./style\";\n\nconst CometChatDeleteMessageBubble = (props) => {\n\n    const context = useContext(CometChatContext);\n\n\tconst [loggedInUser, setLoggedInUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tcontext.getLoggedinUser().then(user => {\n\t\t\tsetLoggedInUser({ ...user });\n\t\t});\n\t}, [context]);\n\n    let message = null;\n    const messageDate = (props.message.sentAt * 1000);\n    if (props.message?.sender?.uid === loggedInUser?.uid) {\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t{Translator.translate(\"YOU_DELETED_THIS_MESSAGE\", context.language)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tlet avatar = null,\n\t\t\t\tname = null;\n\t\t\tif (props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tavatar = (\n\t\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t\t<CometChatAvatar user={props.message.sender} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t\tname = (\n\t\t\t\t\t<div css={nameWrapperStyle(props, loggedInUser)} className=\"message__name__wrapper\">\n\t\t\t\t\t\t<span css={nameStyle(context)} className=\"message__name\">\n\t\t\t\t\t\t\t{props.message.sender.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tmessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(props, loggedInUser)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t<div css={messageTxtWrapperStyle(props, context, loggedInUser)} className=\"message__txt__wrapper\">\n\t\t\t\t\t\t\t<p css={messageTxtStyle(context)} className=\"message__txt\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"THIS_MESSAGE_DELETED\", context.language)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle(props, loggedInUser)} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<span css={messageTimeStampStyle(context)} className=\"message__timestamp\">\n\t\t\t\t\t\t\t\t{dateFormat(messageDate, \"shortTime\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n    return (\n        <div css={messageContainerStyle(props, loggedInUser)} className=\"message__deleted\">\n            <div css={messageWrapperStyle(props, loggedInUser)} className=\"message__wrapper\">{message}</div>                            \n        </div>\n    )\n}\n\n// Specifies the default values for props:\nCometChatDeleteMessageBubble.defaultProps = {\n    theme: theme\n};\n\nCometChatDeleteMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatDeleteMessageBubble };","export const pickerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \".emoji-mart\": {\n            borderRadius: \"5px 5px 0 0\",\n            borderBottom: \"0px\",\n            \".emoji-mart-category-list\": {\n                \" > li\": {\n                    width: \"50px\",\n                    height: \"30px\",\n                    margin: \"8px\",\n                    \".emoji-mart-emoji\": {\n                        width: \"50px\",\n                        height: \"30px\",\n                        padding: \"0px\",\n                        \" > span\": {\n                            width: \"50px!important\",\n                            height: \"30px!important\",\n                            cursor: \"pointer\",\n                        }\n                    }\n                }\n            },\n        },\n        \".emoji-mart-scroll\": {\n            height: \"200px\"\n        },\n        \".emoji-mart-preview, .emoji-mart-search\": {\n            display: \"none\"\n        },\n        \".emoji-mart-category\": {\n            \".emoji-mart-emoji:hover:before\": {\n                background: \"none\",\n                borderRadius: \"0px\",\n            }\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { Picker } from \"emoji-mart\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    pickerStyle\n} from \"./style\";\n\nclass CometChatEmojiKeyboard extends React.Component {\n\n    categories = {};\n    title = \"\";\n\n    constructor(props) {\n\n        super(props);\n\n        const categories = {\n            people: Translator.translate(\"SMILEY_PEOPLE\", props.lang),\n            nature: Translator.translate(\"ANIMALES_NATURE\", props.lang),\n            foods: Translator.translate(\"FOOD_DRINK\", props.lang),\n            activity: Translator.translate(\"ACTIVITY\", props.lang),\n            places: Translator.translate(\"TRAVEL_PLACES\", props.lang),\n            objects: Translator.translate(\"OBJECTS\", props.lang),\n            symbols: Translator.translate(\"SYMBOLS\", props.lang),\n            flags: Translator.translate(\"FLAGS\", props.lang)\n        }\n\n        const title = Translator.translate(\"PICK_YOUR_EMOJI\", props.lang);\n\n        this.state = {\n            categories: categories, \n            title: title\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(prevProps.lang !== this.props.lang) {\n\n            const categories = {\n                search: Translator.translate(\"SEARCH\", this.props.lang),\n                people: Translator.translate(\"SMILEY_PEOPLE\", this.props.lang),\n                nature: Translator.translate(\"ANIMALES_NATURE\", this.props.lang),\n                foods: Translator.translate(\"FOOD_DRINK\", this.props.lang),\n                activity: Translator.translate(\"ACTIVITY\", this.props.lang),\n                places: Translator.translate(\"TRAVEL_PLACES\", this.props.lang),\n                objects: Translator.translate(\"OBJECTS\", this.props.lang),\n                symbols: Translator.translate(\"SYMBOLS\", this.props.lang),\n                flags: Translator.translate(\"FLAGS\", this.props.lang)\n            }\n\n            const title = Translator.translate(\"PICK_YOUR_EMOJI\", this.props.lang);\n\n            this.setState({ categories: { ...categories}, title: title });\n        }\n    }\n\n    render() {\n\n        const exclude = [\"search\", \"recent\"];\n        return(\n            <div css={pickerStyle()}>\n            <Picker\n            title={this.state.title}\n            emoji=\"point_up\"\n            native\n            onClick={this.props.emojiClicked}\n            showPreview={false}\n            exclude={exclude}\n            i18n={{ categories: this.state.categories }} \n            style={{ bottom: \"100px\", \"zIndex\": \"2\", \"width\": \"100%\", height: \"230px\" }} />\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatEmojiKeyboard.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n};\n\nCometChatEmojiKeyboard.propTypes = {\n    lang: PropTypes.string,\n}\n\nexport { CometChatEmojiKeyboard };","export const imageWrapperStyle = (context, closeIcon, img) => {\n\n    const heightProps = (img) ? {\n        height: \"auto\",\n    } : {\n        height: \"100%\",\n    };\n\n\tconst mq = [...context.theme.breakPoints];\n\n    return {\n\t\tposition: \"absolute\",\n\t\ttop: \"0\",\n\t\tleft: \"0\",\n\t\tbottom: \"0\",\n\t\tright: \"0\",\n\t\twidth: \"100%\",\n\t\tpadding: \"1.8% 2.3%\",\n\t\tzIndex: \"9999\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tbackground: `url(${closeIcon}) no-repeat 99% 0.8% #fff`,\n\t\tcursor: \"pointer\",\n\t\t...heightProps,\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n}\n\nexport const imgStyle = image => {\n\n    const sizeProps = (!image) ? {\n        width: \"24px\",\n        height: \"24px\",\n    } : {\n\t\tmaxHeight: \"100%\",\n\t};\n\n\treturn {\n\t\tobjectFit: \"contain\",\n\t\t...sizeProps,\n\t};\n};","export default __webpack_public_path__ + \"static/media/ring.f2985674.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React, { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport {\n    imageWrapperStyle,\n    imgStyle,\n} from \"./style\";\n\nimport loadingIcon from \"./resources/ring.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nconst CometChatImageViewer = (props) => {\n\n    const context = useContext(CometChatContext);\n    const [image, setImage] = React.useState(null);\n\n    let img = new Image();\n    img.src = props.message.data.url;\n\n    img.onload = () => {\n        setImage(img.src);\n    };\n\n    let imageIcon = null;\n    if (image) {\n        imageIcon = image;\n    } else {\n        imageIcon = loadingIcon;\n    }\n\n    return (\n        <React.Fragment>\n            <CometChatBackdrop show={true} clicked={props.close} />\n            <div css={imageWrapperStyle(context, closeIcon, image)} onClick={props.close} className=\"image__wrapper\">\n                <img src={imageIcon} css={imgStyle(image)} alt={imageIcon} />\n            </div>\n        </React.Fragment>\n    );\n}\n\n\n// Specifies the default values for props:\nCometChatImageViewer.defaultProps = {\n\tcount: 0,\n\tclose: () => {},\n};\n\nCometChatImageViewer.propTypes = {\n\tshow: PropTypes.bool,\n\tclose: PropTypes.func,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatImageViewer };","export const messagePreviewContainerStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tboxShadow: \"0px 1px 2px 1px rgba(0,0,0,0.18)\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messagePreviewWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\"\n    }\n}\n\nexport const previewImageStyle = (img) => {\n\n    return {\n        background: `url(${img}) no-repeat center center`,\n        backgroundSize: \"contain\",\n        height: \"150px\",\n        margin: \"12px 0\",\n    }\n}\n\nexport const previewDataStyle = context => {\n\n\treturn {\n\t\tborderTop: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid  ${context.theme.borderColor.primary}`,\n\t\tpadding: \"16px\",\n\t};\n};\n\nexport const previewTitleStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontWeight: \"700\",\n\t\tmarginBottom: \"8px\",\n\t};\n};\n\nexport const previewDescStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontStyle: \"italic\",\n\t\tfontSize: \"13px\",\n\t};\n};\n\nexport const previewTextStyle = context => {\n\n\treturn {\n\t\twhiteSpace: \"pre-wrap\",\n\t\twordBreak: \"break-word\",\n\t\ttextAlign: \"left\",\n\t\twidth: \"auto\",\n\t\t\".message__txt__wrapper\": {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.helpText}`,\n\t\t\tfontStyle: \"normal\",\n\t\t\tpadding: \"8px 0\",\n\t\t},\n\t};\n};\n\nexport const previewLinkStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\tpadding: \"12px\",\n\t\t\"> a\": {\n\t\t\tdisplay: \"inline-block\",\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t\tfontWeight: \"700\",\n\t\t},\n\t};\n};\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messagePreviewContainerStyle,\n    messagePreviewWrapperStyle,\n    previewImageStyle,\n    previewDataStyle,\n    previewTitleStyle,\n    previewDescStyle,\n    previewLinkStyle,\n    previewTextStyle,\n} from \"./style\";\n\nclass CometChatLinkPreview extends React.PureComponent {\n\n    static contextType = CometChatContext;\n\n    render() {\n\n        const linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n        const linkObject = linkPreviewData[\"links\"][0];\n\n        const pattern = /(http:|https:)?\\/\\/(www\\.)?(youtube.com|youtu.be)(\\S+)?/;\n        const linkText = (linkObject[\"url\"].match(pattern)) ? Translator.translate(\"VIEW_ON_YOUTUBE\", this.context.language) : Translator.translate(\"VISIT\", this.context.language);\n\n        return (\n            <div css={messagePreviewContainerStyle(this.context)} className=\"message__preview\">\n                <div css={messagePreviewWrapperStyle()} className=\"preview__card\">\n                    <div css={previewImageStyle(linkObject[\"image\"])} className=\"card__image\"></div>\n                    <div css={previewDataStyle(this.context)} className=\"card__info\">\n                        <div css={previewTitleStyle(this.context)} className=\"card__title\"><span>{linkObject[\"title\"]}</span></div>\n                        <div css={previewDescStyle(this.context)} className=\"card__desc\"><span>{linkObject[\"description\"]}</span></div>\n                        <div css={previewTextStyle(this.context)} className=\"card__text\">{this.props.messageText}</div>\n                    </div>\n                    <div css={previewLinkStyle(this.context)} className=\"card__link\">\n                        <a href={linkObject[\"url\"]} target=\"_blank\" rel=\"noopener noreferrer\">{linkText}</a>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatLinkPreview.defaultProps = {\n    theme: theme\n};\n\nCometChatLinkPreview.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatLinkPreview };","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n    reactionContainerStyle,\n    reactionEmojiStyle\n} from \"./style\";\n\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatLiveReactions extends React.PureComponent {\n\n    static contextType = CometChatContext;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.parentElement = React.createRef();\n\n\t\tthis.counter = 0;\n\t\tthis.verticalSpeed = 5;\n\t\tthis.horizontalSpeed = 2;\n\t\tthis.items = [];\n\n\t\tthis.before = Date.now();\n\n\t\tconst reaction = props.reaction ? enums.CONSTANTS[\"LIVE_REACTIONS\"][props.reaction] : enums.CONSTANTS[\"LIVE_REACTIONS\"][\"heart\"];\n\t\tconst reactionImg = <img src={heartIcon} alt={reaction} />;\n\t\tthis.emojis = Array(6).fill(reactionImg);\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//this.sendMessage();\n\t\tthis.setItems();\n\t\tthis.requestAnimation();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.timer = null;\n\t}\n\n\tsendMessage = () => {\n\n        //fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n        const receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n        const receiverId = (this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER) ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\tsetItems = () => {\n\t\tconst width = this.parentElement.offsetWidth;\n\t\tconst height = this.parentElement.offsetHeight;\n\n\t\tconst elements = this.parentElement.querySelectorAll(\".emoji\");\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i],\n\t\t\t\telementWidth = element.offsetWidth,\n\t\t\t\telementHeight = element.offsetHeight;\n\n\t\t\tconst item = {\n\t\t\t\telement: element,\n\t\t\t\telementHeight: elementHeight,\n\t\t\t\telementWidth: elementWidth,\n\t\t\t\tySpeed: -this.verticalSpeed,\n\t\t\t\tomega: (2 * Math.PI * this.horizontalSpeed) / (width * 60), //omega= 2Pi*frequency\n\t\t\t\trandom: (Math.random() / 2 + 0.5) * i * 10000, //random time offset\n\t\t\t\tx: function (time) {\n\t\t\t\t\treturn ((Math.sin(this.omega * (time + this.random)) + 1) / 2) * (width - elementWidth);\n\t\t\t\t},\n\t\t\t\ty: height + (Math.random() + 1) * i * elementHeight,\n\t\t\t};\n\n\t\t\tthis.items.push(item);\n\t\t}\n\t};\n\n\trequestAnimation = () => {\n\t\tthis.timer = setTimeout(this.animate, 1000 / 60);\n\t};\n\n\tanimate = () => {\n\t\tif (!this.parentElement) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst height = this.parentElement.offsetHeight;\n\t\tconst time = +new Date(); //little trick, gives unix time in ms\n\n\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\tconst item = this.items[i];\n\n\t\t\tconst transformString = \"translate3d(\" + item.x(time) + \"px, \" + item.y + \"px, 0px)\";\n\t\t\titem.element.style.transform = transformString;\n\n\t\t\titem.element.style.visibility = \"visible\";\n\n\t\t\tif (item.y <= height) {\n\t\t\t\titem.element.classList.add(\"fade\");\n\t\t\t}\n\n\t\t\titem.y += item.ySpeed;\n\t\t}\n\n\t\tthis.requestAnimation();\n\t};\n\n\trender() {\n\t\tconst emojis = this.emojis.map((emoji, index) => (\n\t\t\t<span className=\"emoji\" css={reactionEmojiStyle()} key={index}>\n\t\t\t\t{emoji}\n\t\t\t</span>\n\t\t));\n\t\treturn (\n\t\t\t<div ref={el => (this.parentElement = el)} css={reactionContainerStyle()}>\n\t\t\t\t{emojis}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatLiveReactions };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","export const reactionContainerStyle = () => {\n\n    return {\n        width: \"100px\",\n        height: \"calc(100% - 120px)\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"0\",\n    }\n}\n\nexport const reactionEmojiStyle = () => {\n\n    return {\n        position: \"absolute\",\n        color: \"#DD4144\",\n        visibility: \"hidden\",\n        width: \"20px\",\n        height: \"20px\",\n        opacity: \"1\",\n        transition: \"opacity 3s\",\n        \"&.fade\": {\n            opacity: \"0\"\n        }\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const messageActionStyle = (props, context, loggedInUser) => {\n\n    const topPos = (props.message.sender?.uid !== loggedInUser?.uid && props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) ? { top: \"-4px\" } : { top: \"-30px\" };\n\n    const alignment = (props.message?.sender?.uid === loggedInUser?.uid) ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" };\n    const direction = (props.message?.sender?.uid === loggedInUser?.uid) ? { \n        \"li:not(:last-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    } : {\n        flexDirection: \"row-reverse\",\n        \"li:not(:first-of-type)\": {\n            marginRight: \"8px\",\n        }\n\n    };\n\n    return {\n        position: \"absolute\",\n        zIndex: \"1\",\n        display: \"flex\",\n        listStyleType: \"none\",\n        padding: \"8px\",\n        margin: \"0\",\n        height: \"35px\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        ...alignment,\n        ...topPos,\n        ...direction,\n    }\n}\n\nexport const actionGroupStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        position: \"relative\",\n    }\n}\n\nexport const groupButtonStyle = (img, context, deleteOption) => {\n\n    const backgroundProp = (deleteOption) ? {\n        backgroundColor: `${context.theme.color.red}!important`\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}!important`\n    };\n\n    return {\n        outline: \"0\",\n        border: \"0\",\n        height: \"24px\",\n        width: \"24px\",\n        borderRadius: \"4px\",\n        alignItems: \"center\",\n        display: \"inline-flex\",\n        justifyContent: \"center\",\n        position: \"relative\",\n        mask: `url(${img}) center center no-repeat`,\n        ...backgroundProp\n    }\n}","export default __webpack_public_path__ + \"static/media/threaded-message.d845cc3f.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/reactions.db072cb2.svg\";","export default __webpack_public_path__ + \"static/media/message-translate.80731563.svg\";","export default __webpack_public_path__ + \"static/media/send-message-in-private.293d36b5.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageActionStyle,\n\tactionGroupStyle,\n\tgroupButtonStyle\n} from \"./style\";\n\nimport startThreadIcon from \"./resources/threaded-message.svg\";\nimport deleteIcon from \"./resources/delete.svg\";\nimport editIcon from \"./resources/edit.svg\";\nimport reactIcon from \"./resources/reactions.svg\";\nimport translateIcon from \"./resources/message-translate.svg\";\nimport sendMessageInPrivateIcon from \"./resources/send-message-in-private.svg\";\n\n\nclass CometChatMessageActions extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tenableMessageReaction: false,\n\t\t\tenableThreadedChats: false,\n\t\t\tenableDeleteMessage: false,\n\t\t\tenableEditMessage: false,\n\t\t\tenableTranslateMessage: false,\n\t\t\tenableMessageInPrivate: false,\n\t\t\tenableDeleteMessageForModerator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\n\t\t\tthis.setState({loggedInUser: { ...user }});\n\n\t\t}).then(() => {\n\n\t\t\tthis.enableMessageReaction();\n\t\t\tthis.enableThreadedChats();\n\t\t\tthis.enableDeleteMessage();\n\t\t\tthis.enableDeleteMessageForModerator();\n\t\t\tthis.enableEditMessage();\n\t\t\tthis.enableTranslateMessage();\n\t\t\tthis.enableMessageInPrivate();\n\t\t});\n\t}\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.dataset.title);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tenableMessageReaction = () => {\n\t\t/**\n\t\t * If reacting to messages feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageReaction: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageReaction: false });\n\t\t\t});\n\t};\n\n\tenableThreadedChats = () => {\n\t\t/**\n\t\t * If threaded chats are open, return false\n\t\t */\n\t\tif (this.props.message.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If threaded replies feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableThreadedChats: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableThreadedChats: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessage = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessage: false });\n\t\t\t});\n\t};\n\n\tenableDeleteMessageForModerator = () => {\n\t\tthis.context.FeatureRestriction.isDeleteMemberMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableDeleteMessageForModerator: false });\n\t\t\t});\n\t};\n\n\tenableEditMessage = () => {\n\t\t/**\n\t\t * If the message is not sent by the logged in user or the message type is not text\n\t\t */\n\t\tif (this.props.message.sender?.uid !== this.state.loggedInUser?.uid || this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isEditMessageEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableEditMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableEditMessage: false });\n\t\t\t});\n\t};\n\n\tenableTranslateMessage = () => {\n\t\t/**\n\t\t * message type is not text\n\t\t */\n\t\tif (this.props.message.type !== CometChat.MESSAGE_TYPE.TEXT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.context.FeatureRestriction.isMessageTranslationEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableTranslateMessage: false });\n\t\t\t});\n\t};\n\n\t/**\n\t * If message in private feature is enabled\n\t */\n\tenableMessageInPrivate = () => {\n\t\tthis.context.FeatureRestriction.isMessageInPrivateEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: true });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ enableMessageInPrivate: false });\n\t\t\t});\n\t};\n\n\tsendMessageInPrivate = () => {\n\t\t\n\t\tconst item = this.props.message?.sender;\n\t\tconst type = CometChat.ACTION_TYPE.TYPE_USER;\n\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\treactToMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REACT_TO_MESSAGE\"], this.props.message);\n\t};\n\n\tviewThread = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], this.props.message);\n\t};\n\n\tdeleteMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"DELETE_MESSAGE\"], this.props.message);\n\t};\n\n\teditMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"EDIT_MESSAGE\"], this.props.message);\n\t};\n\n\ttranslateMessage = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TRANSLATE_MESSAGE\"], this.props.message);\n\t};\n\n\trender() {\n\t\t//don't show the tooltip while the message is being sent\n\t\tif (this.props.message.hasOwnProperty(\"sentAt\") === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet reactToMessage = null;\n\t\tif (this.state.enableMessageReaction) {\n\t\t\treactToMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(reactIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__reacttomessage\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"ADD_REACTION\", this.context.language)}\n\t\t\t\t\t\tonClick={this.reactToMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet threadedChats = null;\n\t\tif (this.state.enableThreadedChats) {\n\t\t\tthreadedChats = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(startThreadIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__threadedchats\"\n\t\t\t\t\t\tdata-title={this.props.message.replyCount ? Translator.translate(\"REPLY_TO_THREAD\", this.context.language) : Translator.translate(\"REPLY_IN_THREAD\", this.context.language)}\n\t\t\t\t\t\tonClick={this.viewThread}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * in one-on-one chat, allow deleting self messages if delete feature is enabled\n\t\t * in group chat, allow deleting other's messages for moderators and admins if moderator delete feature && delete feature is enabled\n\t\t */\n\t\tlet deleteMessage = null;\n\t\tif (\n\t\t\t(this.props.message.sender?.uid === this.state.loggedInUser?.uid && this.state.enableDeleteMessage) ||\n\t\t\t(this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP &&\n\t\t\t\tthis.props.message.sender?.uid !== this.state.loggedInUser?.uid &&\n\t\t\t\tthis.context.item.hasOwnProperty(\"scope\") &&\n\t\t\t\tthis.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT &&\n\t\t\t\tthis.state.enableDeleteMessageForModerator &&\n\t\t\t\tthis.state.enableDeleteMessage)\n\t\t) {\n\t\t\tdeleteMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(deleteIcon, this.context, 1)}\n\t\t\t\t\t\tclassName=\"group__button button__delete\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"DELETE_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.deleteMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet editMessage = null;\n\t\tif (this.state.enableEditMessage) {\n\t\t\teditMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(editIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__edit\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"EDIT_MESSAGE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.editMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet translateMessage = null;\n\t\tif (this.state.enableTranslateMessage) {\n\t\t\ttranslateMessage = (\n\t\t\t\t<li css={actionGroupStyle()} className=\"action__group\">\n\t\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\tcss={groupButtonStyle(translateIcon, this.context)}\n\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\tdata-title={Translator.translate(\"TRANSLATE_MESSAGE\", this.context.language)}\n\t\t\t\t\tonClick={this.translateMessage}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * if send message in private feature is enabled, if group chat window is open, and messages are not sent by the loggedin user...\n\t\t */\n\t\tlet messageInPrivate = null;\n\t\tif (this.state.enableMessageInPrivate === true && this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.props.message?.sender?.uid !== this.state.loggedInUser?.uid) {\n\t\t\tmessageInPrivate = (\n\t\t\t\t<li>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonMouseEnter={event => this.toggleTooltip(event, true)}\n\t\t\t\t\t\tonMouseLeave={event => this.toggleTooltip(event, false)}\n\t\t\t\t\t\tcss={groupButtonStyle(sendMessageInPrivateIcon, this.context)}\n\t\t\t\t\t\tclassName=\"group__button button__translate\"\n\t\t\t\t\t\tdata-title={Translator.translate(\"SEND_MESSAGE_IN_PRIVATE\", this.context.language)}\n\t\t\t\t\t\tonClick={this.sendMessageInPrivate}></button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet tooltip = (\n\t\t\t<ul css={messageActionStyle(this.props, this.context, this.state.loggedInUser)} className=\"message__actions\">\n\t\t\t\t{reactToMessage}\n\t\t\t\t{threadedChats}\n\t\t\t\t{editMessage}\n\t\t\t\t{deleteMessage}\n\t\t\t\t{messageInPrivate}\n\t\t\t\t{translateMessage}\n\t\t\t</ul>\n\t\t);\n\n\t\tif (threadedChats === null && deleteMessage === null && editMessage === null && reactToMessage === null && translateMessage === null && messageInPrivate === null) {\n\t\t\ttooltip = null;\n\t\t}\n\n\t\treturn tooltip;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageActions.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatMessageActions.propTypes = {\n\ttheme: PropTypes.object.isRequired,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatMessageActions };\n","export const chatComposerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\torder: \"3\",\n\t\tposition: \"relative\",\n\t\tflex: \"none\",\n\t\tminHeight: \"105px\",\n\t};\n};\n\nexport const editPreviewContainerStyle = (context, keyframes) => {\n\n\tconst slideAnimation = keyframes`\n    from {\n        bottom: -60px\n    }\n    to {\n        bottom: 0px\n    }`;\n\n\treturn {\n\t\tpadding: \"7px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tborderColor: `${context.theme.borderColor.primary}`,\n\t\tborderWidth: \"1px 1px 1px 5px\",\n\t\tborderStyle: \"solid\",\n\t\tcolor: `${context.theme.color.helpText}`,\n\t\tfontSize: \"13px\",\n\t\tanimation: `${slideAnimation} 0.5s ease-out`,\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const previewHeadingStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\"\n    }\n}\n\nexport const previewTextStyle = () => {\n\n    return {\n        padding: \"5px 0\",\n    }\n}\n\nexport const previewCloseStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const composerInputStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        position: \"relative\",\n        zIndex: \"2\",\n        padding: \"0\",\n        minHeight: \"85px\",\n    }\n}\n\nexport const inputInnerStyle = (props, state, context) => {\n\n    const borderRadiusVal = (state.emojiViewer || state.stickerViewer) ? {\n        borderRadius: \"0 0 8px 8px\",\n    } : {\n        borderRadius: \"8px\",\n    };\n\n    return {\n        flex: \"1 1 auto\",\n        position: \"relative\",\n        outline: \"none\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        minHeight: \"85px\",\n        ...borderRadiusVal\n    }\n}\n\nexport const messageInputStyle = (disabled) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents : \"none\",\n        opacity: \"0.4\"\n    } : {};\n\n    return {\n        width: \"100%\",\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        padding: \"16px\",\n        outline: \"none\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        position: \"relative\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        zIndex: \"1\",\n        minHeight: \"50px\",\n        maxHeight: \"100px\",\n        userSelect: \"text\",\n        ...disabledState,\n        '&:empty:before': {\n            content: \"attr(placeholder)\",\n            color: \"rgb(153, 153, 153)\",\n            pointerEvents: \"none\",\n            display: \"block\", /* For Firefox */\n        }\n    }\n}\n\nexport const inputStickyStyle = (disabled, attachments, context) => {\n\n    const disabledState = (disabled) ? {\n        pointerEvents: \"none\",\n    } : {};\n\n    const flexDirectionProp = (attachments === null) ? {\n        flexDirection: \"row-reverse\",\n    } : {};\n\n    return {\n        padding: \"8px 16px\",\n        // height: \"40px\",\n        borderTop: `1px solid ${context.theme.borderColor.primary}`,\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        ...flexDirectionProp,\n        ...disabledState,\n        '&:empty:before': {\n            pointerEvents: \"none\",\n        }\n    }\n}\n\nexport const stickyAttachmentStyle = () => {\n\n    return {\n        display: \"flex\",\n        width: \"auto\"\n    }\n}\n\nexport const attachmentIconStyle = () => {\n\n    return {\n        margin: \"auto 0\",\n        width: \"24px\",\n        height: \"20px\",\n        cursor: \"pointer\",\n    }\n}\n\nexport const filePickerStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        width: \"calc(100% - 20px)\",\n        opacity: \"1\",\n    } : {};\n\n    return {\n        width: \"0\",\n        borderRadius: \"8px\",\n        overflow: \"hidden\",\n        zIndex: \"1\",\n        opacity: \"0\",\n        transition: \"width 0.5s linear\",\n        ...active,\n    }\n}\n\nexport const fileListStyle = () => {\n\n    return {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"0 0 0 16px\",\n    }\n}\n\nexport const fileItemStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: \"0 16px 0 0\",\n        \" > i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        },\n        ' > input': {\n            display: \"none\",\n        },\n    }\n}\n\nexport const stickyAttachButtonStyle = (img, context) => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"24px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const stickyButtonStyle = (state) => {\n\n    const active = (state.showFilePicker) ? {\n        display: \"none\",\n    } : {\n        display: \"flex\",\n    };\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        cursor: \"pointer\",\n        width: \"auto\",\n        ...active\n    }\n}\n\nexport const emojiButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}\n\nexport const sendButtonStyle = (img, context) => {\n\n    return {\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.primaryColor}`\n        }\n    }\n}\n\nexport const reactionBtnStyle = () => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n    }\n}\n\nexport const stickerBtnStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        height: \"24px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/add-circle-filled.a7750fa2.svg\";","export default __webpack_public_path__ + \"static/media/video.2493964e.svg\";","export default __webpack_public_path__ + \"static/media/audio-file.5e5200f5.svg\";","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","export default __webpack_public_path__ + \"static/media/image.74b5a891.svg\";","export default __webpack_public_path__ + \"static/media/emoji.c7a39969.svg\";","export default __webpack_public_path__ + \"static/media/send-message.1fcc4bdc.svg\";","export default __webpack_public_path__ + \"static/media/polls.30ae277d.svg\";","export default __webpack_public_path__ + \"static/media/stickers.d5d3db8f.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-document.3c15f5d4.svg\";","export default __webpack_public_path__ + \"static/media/collaborative-whiteboard.78916c4e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx, keyframes } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport \"emoji-mart/css/emoji-mart.css\";\n\nimport { CometChatSmartReplyPreview, CometChatCreatePoll, CometChatStickerKeyboard } from \"../Extensions\";\nimport { CometChatEmojiKeyboard } from \"../\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, ID, getUnixTimestamp } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { SoundManager } from \"../../../util/SoundManager\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatComposerStyle,\n\teditPreviewContainerStyle,\n\tpreviewHeadingStyle,\n\tpreviewCloseStyle,\n\tpreviewTextStyle,\n\tcomposerInputStyle,\n\tinputInnerStyle,\n\tmessageInputStyle,\n\tinputStickyStyle,\n\tstickyAttachmentStyle,\n\tfilePickerStyle,\n\tfileListStyle,\n\tfileItemStyle,\n\tstickyAttachButtonStyle,\n\tstickyButtonStyle,\n\temojiButtonStyle,\n\tsendButtonStyle,\n\treactionBtnStyle,\n\tstickerBtnStyle\n} from \"./style\";\n\nimport roundedPlus from \"./resources/add-circle-filled.svg\";\nimport videoIcon from \"./resources/video.svg\";\nimport audioIcon from \"./resources/audio-file.svg\";\nimport docIcon from \"./resources/file-upload.svg\";\nimport imageIcon from \"./resources/image.svg\";\nimport insertEmoticon from \"./resources/emoji.svg\";\nimport sendBlue from \"./resources/send-message.svg\";\nimport pollIcon from \"./resources/polls.svg\";\nimport stickerIcon from \"./resources/stickers.svg\";\nimport closeIcon from \"./resources/close.svg\";\nimport documentIcon from \"./resources/collaborative-document.svg\";\nimport whiteboardIcon from \"./resources/collaborative-whiteboard.svg\";\nimport heartIcon from \"./resources/heart.png\";\n\nclass CometChatMessageComposer extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.imageUploaderRef = React.createRef();\n\t\tthis.fileUploaderRef = React.createRef();\n\t\tthis.audioUploaderRef = React.createRef();\n\t\tthis.videoUploaderRef = React.createRef();\n\t\tthis.messageInputRef = React.createRef();\n\t\tthis.liveReactionInProgress = false;\n\t\tthis.isTyping = false;\n\n\t\tthis.state = {\n\t\t\tshowFilePicker: false,\n\t\t\tmessageInput: \"\",\n\t\t\tmessageType: \"\",\n\t\t\temojiViewer: false,\n\t\t\tcreatePoll: false,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tstickerViewer: false,\n\t\t\tmessageToReact: \"\",\n\t\t\tshareDocument: false,\n\t\t\tshareWhiteboard: false,\n\t\t\tenableLiveReaction: false,\n\t\t\tenablePolls: false,\n\t\t\tenableTypingIndicator: false,\n\t\t\tenableStickers: false,\n\t\t\tenablePhotosVideos: false,\n\t\t\tenableFiles: false,\n\t\t\tenableEmojis: false,\n\t\t\tenableCollaborativeDocument: false,\n\t\t\tenableCollaborativeWhiteboard: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevProps.messageToBeEdited !== this.props.messageToBeEdited) {\n\t\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\t\tthis.setState({ messageInput: messageToBeEdited, messageToBeEdited: messageToBeEdited });\n\n\t\t\tconst element = this.messageInputRef.current;\n\t\t\tif (messageToBeEdited) {\n\t\t\t\tlet messageText = messageToBeEdited.text;\n\n\t\t\t\t//xss extensions data\n\t\t\t\tconst xssData = checkMessageForExtensionsData(messageToBeEdited, \"xss-filter\");\n\t\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t\telement.textContent = \"\";\n\t\t\t\tthis.pasteHtmlAtCaret(messageText, false);\n\t\t\t} else {\n\t\t\t\telement.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\tif (prevProps.replyPreview !== this.props.replyPreview) {\n\t\t\tthis.setState({ replyPreview: this.props.replyPreview });\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messageToReact);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messageToReact);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ messageToReact: this.props.messageToReact });\n\t\t}\n\n\t\tif (this.context.item !== this.item) {\n\t\t\tthis.messageInputRef.current.textContent = \"\";\n\t\t\tthis.setState({ stickerViewer: false, emojiViewer: false, replyPreview: null, messageToBeEdited: \"\", messageInput: \"\" });\n\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tif (prevState.messageInput !== this.state.messageInput) {\n\t\t\tthis.focusOnMessageComposer();\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : null;\n\t\tthis.enableLiveReaction();\n\t\tthis.enablePolls();\n\t\tthis.enableTypingIndicator();\n\t\tthis.enableStickers();\n\t\tthis.enablePhotosVideos();\n\t\tthis.enableFiles();\n\t\tthis.enableEmojis();\n\t\tthis.enableCollaborativeDocument();\n\t\tthis.enableCollaborativeWhiteboard();\n\t}\n\n\t/**\n\t * if live reactions feature is disabled\n\t */\n\tenableLiveReaction = () => {\n\t\tthis.context.FeatureRestriction.isLiveReactionsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLiveReaction) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLiveReaction !== false) {\n\t\t\t\t\tthis.setState({ enableLiveReaction: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if polls feature is disabled\n\t */\n\tenablePolls = () => {\n\t\tthis.context.FeatureRestriction.isPollsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePolls) {\n\t\t\t\t\tthis.setState({ enablePolls: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePolls !== false) {\n\t\t\t\t\tthis.setState({ enablePolls: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({ enableTypingIndicator: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if stickers feature is disabled\n\t */\n\tenableStickers = () => {\n\t\tthis.context.FeatureRestriction.isStickersEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableStickers) {\n\t\t\t\t\tthis.setState({ enableStickers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableStickers !== false) {\n\t\t\t\t\tthis.setState({ enableStickers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding photos, videos feature is disabled\n\t */\n\tenablePhotosVideos = () => {\n\t\tthis.context.FeatureRestriction.isPhotosVideosEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enablePhotosVideos) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePhotosVideos !== false) {\n\t\t\t\t\tthis.setState({ enablePhotosVideos: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if uploding files feature is disabled\n\t */\n\tenableFiles = () => {\n\t\tthis.context.FeatureRestriction.isFilesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableFiles) {\n\t\t\t\t\tthis.setState({ enableFiles: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableFiles !== false) {\n\t\t\t\t\tthis.setState({ enableFiles: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sending emojis feature is disabled\n\t */\n\tenableEmojis = () => {\n\t\tthis.context.FeatureRestriction.isEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableEmojis) {\n\t\t\t\t\tthis.setState({ enableEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative document feature is disabled\n\t */\n\tenableCollaborativeDocument = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeDocumentEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeDocument) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeDocument !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeDocument: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if sharing collborative whiteboard feature is disabled\n\t */\n\tenableCollaborativeWhiteboard = () => {\n\t\tthis.context.FeatureRestriction.isCollaborativeWhiteBoardEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableCollaborativeWhiteboard) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCollaborativeWhiteboard !== false) {\n\t\t\t\t\tthis.setState({ enableCollaborativeWhiteboard: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfocusOnMessageComposer = () => {\n\t\tif (this.messageInputRef && this.messageInputRef.current) {\n\t\t\tthis.messageInputRef.current.focus();\n\t\t}\n\t};\n\n\tpasteHtmlAtCaret(html, selectPastedContent) {\n\t\tvar sel, range;\n\t\tconst chatWindow = this.context.UIKitSettings.chatWindow;\n\t\tif (chatWindow.getSelection) {\n\t\t\t// IE9 and non-IE\n\t\t\tsel = chatWindow.getSelection();\n\t\t\tif (sel.getRangeAt && sel.rangeCount) {\n\t\t\t\trange = sel.getRangeAt(0);\n\t\t\t\trange.deleteContents();\n\n\t\t\t\t// Range.createContextualFragment() would be useful here but is\n\t\t\t\t// only relatively recently standardized and is not supported in\n\t\t\t\t// some browsers (IE9, for one)\n\t\t\t\tvar el = document.createElement(\"div\");\n\t\t\t\tel.innerText = html;\n\t\t\t\tvar frag = document.createDocumentFragment(),\n\t\t\t\t\tnode,\n\t\t\t\t\tlastNode;\n\t\t\t\twhile ((node = el.firstChild)) {\n\t\t\t\t\tlastNode = frag.appendChild(node);\n\t\t\t\t}\n\t\t\t\tvar firstNode = frag.firstChild;\n\t\t\t\trange.insertNode(frag);\n\n\t\t\t\t// Preserve the selection\n\t\t\t\tif (lastNode) {\n\t\t\t\t\trange = range.cloneRange();\n\t\t\t\t\trange.setStartAfter(lastNode);\n\t\t\t\t\tif (selectPastedContent) {\n\t\t\t\t\t\trange.setStartBefore(firstNode);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t}\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type !== \"Control\") {\n\t\t\t// IE < 9\n\t\t\tvar originalRange = sel.createRange();\n\t\t\toriginalRange.collapse(true);\n\t\t\tsel.createRange().pasteHTML(html);\n\t\t\tif (selectPastedContent) {\n\t\t\t\trange = sel.createRange();\n\t\t\t\trange.setEndPoint(\"StartToStart\", originalRange);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t}\n\t}\n\n\temojiClicked = (emoji, event) => {\n\t\tif (this.state.messageToReact) {\n\t\t\tthis.reactToMessages(emoji);\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = this.messageInputRef.current;\n\t\telement.focus();\n\t\tthis.pasteHtmlAtCaret(emoji.native, false);\n\t\tthis.setState({ messageInput: element.innerText, messageType: \"text\" });\n\t};\n\n\tchangeHandler = event => {\n\t\tthis.startTyping();\n\n\t\tconst elem = event.currentTarget;\n\t\tlet messageInput = elem.textContent.trim();\n\n\t\tif (!messageInput.length) {\n\t\t\tevent.currentTarget.textContent = messageInput;\n\t\t\t//return false;\n\t\t}\n\n\t\tthis.setState({ messageInput: elem.innerText, messageType: \"text\" });\n\t};\n\n\ttoggleFilePicker = () => {\n\t\tconst currentState = !this.state.showFilePicker;\n\t\tthis.setState({ showFilePicker: currentState });\n\t};\n\n\topenFileDialogue = fileType => {\n\t\tswitch (fileType) {\n\t\t\tcase \"image\":\n\t\t\t\tthis.imageUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"file\":\n\t\t\t\tthis.fileUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"audio\":\n\t\t\t\tthis.audioUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tcase \"video\":\n\t\t\t\tthis.videoUploaderRef.current.click();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonImageChange = e => {\n\t\tif (!this.imageUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.imageUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.IMAGE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonFileChange = e => {\n\t\tif (!this.fileUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.fileUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\tevent => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.FILE);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonAudioChange = e => {\n\t\tif (!this.audioUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.audioUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.AUDIO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tonVideoChange = e => {\n\t\tif (!this.videoUploaderRef.current.files[\"0\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst uploadedFile = this.videoUploaderRef.current.files[\"0\"];\n\n\t\tvar reader = new FileReader(); // Creating reader instance from FileReader() API\n\t\treader.addEventListener(\n\t\t\t\"load\",\n\t\t\t() => {\n\t\t\t\t// Setting up base64 URL on image\n\n\t\t\t\tconst newFile = new File([reader.result], uploadedFile.name, uploadedFile);\n\t\t\t\tthis.sendMediaMessage(newFile, CometChat.MESSAGE_TYPE.VIDEO);\n\t\t\t},\n\t\t\tfalse,\n\t\t);\n\n\t\treader.readAsArrayBuffer(uploadedFile);\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.context.item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.context.item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\tsendMediaMessage = (messageInput, messageType) => {\n\t\tthis.toggleFilePicker();\n\t\tthis.endTyping(null, null);\n\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet mediaMessage = new CometChat.MediaMessage(receiverId, messageInput, messageType, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\tmediaMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\n\t\tmediaMessage.setSender(this.loggedInUser);\n\t\tmediaMessage.setReceiver(this.context.type);\n\t\tmediaMessage.setType(messageType);\n\t\tmediaMessage.setMetadata({\n\t\t\t[enums.CONSTANTS[\"FILE_METADATA\"]]: messageInput,\n\t\t});\n\t\tmediaMessage._composedAt = getUnixTimestamp();\n\t\tmediaMessage._id = ID();\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [mediaMessage]);\n\n\t\tCometChat.sendMessage(mediaMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: mediaMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...mediaMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendMessageOnEnter = event => {\n\t\tif (event.keyCode === 13 && !event.shiftKey) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendTextMessage();\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tsendTextMessage = () => {\n\t\tif (this.state.emojiViewer) {\n\t\t\tthis.setState({ emojiViewer: false });\n\t\t}\n\n\t\tif (!this.state.messageInput.trim().length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tthis.editMessage();\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.endTyping(null, null);\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageInput = this.state.messageInput.trim();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage.setText(messageInput);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\t\tthis.setState({ messageInput: \"\", replyPreview: false });\n\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\teditMessage = () => {\n\t\tthis.endTyping(null, null);\n\n\t\tconst messageToBeEdited = this.props.messageToBeEdited;\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet messageText = this.state.messageInput.trim();\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageText, receiverType);\n\t\ttextMessage.setId(messageToBeEdited.id);\n\n\t\tconst newMessage = Object.assign({}, textMessage, { messageFrom: messageToBeEdited.messageFrom });\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessage);\n\n\t\tthis.setState({ messageInput: \"\" });\n\t\tthis.messageInputRef.current.textContent = \"\";\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tthis.closeEditPreview();\n\n\t\tCometChat.editMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], { ...message });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseEditPreview = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]);\n\t};\n\n\tstartTyping = (timer, metadata) => {\n\t\tlet typingInterval = timer || 5000;\n\n\t\t//if typing indicator feature is disabled\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.isTyping) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.startTyping(typingNotification);\n\n\t\tthis.isTyping = setTimeout(() => {\n\t\t\tthis.endTyping(null, typingMetadata);\n\t\t}, typingInterval);\n\t};\n\n\tendTyping = (event, metadata) => {\n\t\t//fixing synthetic issue\n\t\tif (event) {\n\t\t\tevent.persist();\n\t\t}\n\n\t\t//if typing indicator is disabled for chat wigdet in dashboard\n\t\tif (this.state.enableTypingIndicator === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet typingMetadata = metadata || undefined;\n\n\t\tlet typingNotification = new CometChat.TypingIndicator(receiverId, receiverType, typingMetadata);\n\t\tCometChat.endTyping(typingNotification);\n\n\t\tclearTimeout(this.isTyping);\n\t\tthis.isTyping = null;\n\t};\n\n\ttoggleStickerPicker = () => {\n\t\tconst stickerViewer = this.state.stickerViewer;\n\t\tthis.setState({ stickerViewer: !stickerViewer, emojiViewer: false });\n\t};\n\n\ttoggleEmojiPicker = () => {\n\t\tconst emojiViewer = this.state.emojiViewer;\n\t\tthis.setState({ emojiViewer: !emojiViewer, stickerViewer: false });\n\t};\n\n\ttoggleCreatePoll = () => {\n\t\tconst createPoll = this.state.createPoll;\n\t\tthis.setState({ createPoll: !createPoll });\n\t};\n\n\ttoggleCollaborativeDocument = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"document\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with document url\n\t\t\t\tif (response && response.hasOwnProperty(\"document_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"DOCUMENT_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"DOCUMENT_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleCollaborativeBoard = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tCometChat.callExtension(\"whiteboard\", \"POST\", \"v1/create\", {\n\t\t\treceiver: receiverId,\n\t\t\treceiverType: receiverType,\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\t// Response with board_url\n\t\t\t\tif (response && response.hasOwnProperty(\"board_url\")) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"WHITEBOARD_SUCCESS\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.setToastMessage(\"error\", \"WHITEBOARD_FAIL\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tcloseCreatePoll = () => {\n\t\tthis.toggleCreatePoll();\n\t\tthis.toggleFilePicker();\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"POLL_CREATED\"]:\n\t\t\t\tthis.toggleCreatePoll();\n\t\t\t\tthis.toggleFilePicker();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_STICKER\"]:\n\t\t\t\tthis.sendSticker(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_STICKER_KEYBOARD\"]:\n\t\t\t\tthis.toggleStickerPicker();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsendSticker = stickerMessage => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tconst customData = { sticker_url: stickerMessage.stickerUrl, sticker_name: stickerMessage.stickerName };\n\t\tconst customType = enums.CUSTOM_TYPE_STICKER;\n\n\t\tconst customMessage = new CometChat.CustomMessage(receiverId, receiverType, customType, customData);\n\t\tif (this.props.parentMessageId) {\n\t\t\tcustomMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\tcustomMessage.setSender(this.loggedInUser);\n\t\tcustomMessage.setReceiver(this.context.type);\n\t\tcustomMessage.setMetadata({ incrementUnreadCount: true });\n\t\tcustomMessage._composedAt = getUnixTimestamp();\n\t\tcustomMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [customMessage]);\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\n\t\tCometChat.sendCustomMessage(customMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: customMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...customMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tsendReplyMessage = messageInput => {\n\t\tlet { receiverId, receiverType } = this.getReceiverDetails();\n\n\t\tlet textMessage = new CometChat.TextMessage(receiverId, messageInput, receiverType);\n\t\tif (this.props.parentMessageId) {\n\t\t\ttextMessage.setParentMessageId(this.props.parentMessageId);\n\t\t}\n\t\ttextMessage.setSender(this.loggedInUser);\n\t\ttextMessage.setReceiver(this.context.type);\n\t\ttextMessage._composedAt = getUnixTimestamp();\n\t\ttextMessage._id = ID();\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_COMPOSED\"], [textMessage]);\n\n\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"OUTGOING_MESSAGE\"], this.context);\n\t\tthis.setState({ replyPreview: null });\n\n\t\tCometChat.sendMessage(textMessage)\n\t\t\t.then(message => {\n\t\t\t\tconst newMessageObj = { ...message, _id: textMessage._id };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_SENT\"], [newMessageObj]);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newMessageObj = { ...textMessage, error: error };\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"], [newMessageObj]);\n\t\t\t});\n\t};\n\n\tclearReplyPreview = () => {\n\t\tthis.setState({ replyPreview: null });\n\t};\n\n\tstartLiveReaction = event => {\n\t\t//if a live reaction is already in progress, return\n\t\tif (this.animationInProgress === true) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\t//fetch the interval from the constants\n\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\n\t\t//mount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"SEND_LIVE_REACTION\"]);\n\t\tthis.sendTransientMessage();\n\n\t\t//set the timer to stop the live reaction\n\t\tthis.timeout = setTimeout(this.stopLiveReaction, liveReactionInterval);\n\t};\n\n\tstopLiveReaction = () => {\n\t\t\n\t\t//unmount the live reaction component\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"]);\n\n\t\t//set the animation flag to false\n\t\tthis.animationInProgress = false;\n\t};\n\t\n\t\n\tsendTransientMessage = () => {\n\t\t//fetching the metadata type from constants\n\t\tconst metadata = { type: enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"], reaction: this.props.reaction };\n\n\t\tconst receiverType = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? CometChat.ACTION_TYPE.TYPE_USER : CometChat.ACTION_TYPE.TYPE_GROUP;\n\t\tconst receiverId = this?.context?.type === CometChat.ACTION_TYPE.TYPE_USER ? this?.context?.item?.uid : this?.context?.item?.guid;\n\n\t\tlet transientMessage = new CometChat.TransientMessage(receiverId, receiverType, metadata);\n\t\tCometChat.sendTransientMessage(transientMessage);\n\t};\n\n\treactToMessages = emoji => {\n\n\t\t//close the emoji keyboard\n\t\tthis.toggleEmojiPicker();\n\n\t\t//message object data structure\n\t\tlet messageObject = { ...this.state.messageToReact };\n\t\tlet newMessageObject = {};\n\t\tlet reactionObject = {};\n\n\t\tconst userObject = {};\n\t\tif (this.loggedInUser.avatar && this.loggedInUser.avatar.length) {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t\tuserObject[\"avatar\"] = this.loggedInUser.avatar;\n\t\t} else {\n\t\t\tuserObject[\"name\"] = this.loggedInUser.name;\n\t\t}\n\n\t\tconst emojiObject = {\n\t\t\t[emoji.colons]: { [this.loggedInUser.uid]: userObject },\n\t\t};\n\n\t\tconst reactionExtensionsData = checkMessageForExtensionsData(messageObject, \"reactions\");\n\t\t//if the message object has reactions extension data in metadata\n\t\tif (reactionExtensionsData) {\n\t\t\t//if the reactions metadata has the selected emoji/reaction\n\t\t\tif (reactionExtensionsData[emoji.colons]) {\n\t\t\t\t//if the reactions metadata has the selected emoji/reaction for the loggedin user\n\t\t\t\tif (reactionExtensionsData[emoji.colons][this.loggedInUser.uid]) {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t};\n\t\t\t\t\tdelete reactionObject[emoji.colons][this.loggedInUser.uid];\n\t\t\t\t} else {\n\t\t\t\t\treactionObject = {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t\t[emoji.colons]: {\n\t\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"][emoji.colons],\n\t\t\t\t\t\t\t[this.loggedInUser.uid]: userObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treactionObject = {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"],\n\t\t\t\t\t...emojiObject,\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\tif (messageObject.hasOwnProperty(\"metadata\") === false) {\n\t\t\t\tmessageObject[\"metadata\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"].hasOwnProperty(\"@injected\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"].hasOwnProperty(\"extensions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"] = {};\n\t\t\t}\n\n\t\t\tif (messageObject[\"metadata\"][\"@injected\"][\"extensions\"].hasOwnProperty(\"reactions\") === false) {\n\t\t\t\tmessageObject[\"metadata\"][\"@injected\"][\"extensions\"][\"reactions\"] = {};\n\t\t\t}\n\n\t\t\treactionObject = {\n\t\t\t\t...emojiObject,\n\t\t\t};\n\t\t}\n\n\t\tconst metadatObject = {\n\t\t\tmetadata: {\n\t\t\t\t...messageObject[\"metadata\"],\n\t\t\t\t\"@injected\": {\n\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"],\n\t\t\t\t\textensions: {\n\t\t\t\t\t\t...messageObject[\"metadata\"][\"@injected\"][\"extensions\"],\n\t\t\t\t\t\treactions: {\n\t\t\t\t\t\t\t...reactionObject,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tnewMessageObject = {\n\t\t\t...messageObject,\n\t\t\tdata: {\n\t\t\t\t...messageObject,\n\t\t\t\t...metadatObject,\n\t\t\t},\n\t\t\t...metadatObject,\n\t\t};\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_EDITED\"], newMessageObject);\n\n\t\tCometChat.callExtension(\"reactions\", \"POST\", \"v1/react\", {\n\t\t\tmsgId: this.state.messageToReact.id,\n\t\t\temoji: emoji.colons,\n\t\t})\n\t\t.then(response => {\n\t\t\t// Reaction failed\n\t\t\tif (!response || !response.success || response.success !== true) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\trender() {\n\t\tlet liveReactionBtn = null;\n\t\tconst liveReactionText = Translator.translate(\"LIVE_REACTION\", this.context.language);\n\t\tif (enums.CONSTANTS[\"LIVE_REACTIONS\"].hasOwnProperty(this.props.reaction)) {\n\t\t\tconst reactionName = this.props.reaction;\n\t\t\tliveReactionBtn = (\n\t\t\t\t<div title={liveReactionText} css={reactionBtnStyle()} className=\"button__reactions\" onClick={this.startLiveReaction}>\n\t\t\t\t\t<img src={heartIcon} alt={reactionName} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet disabledState = false;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tdisabledState = true;\n\t\t}\n\n\t\tconst docText = Translator.translate(\"ATTACH_FILE\", this.context.language);\n\t\tlet docs = (\n\t\t\t<div\n\t\t\t\ttitle={docText}\n\t\t\t\tcss={fileItemStyle(docIcon, this.context)}\n\t\t\t\tclassName=\"filelist__item item__file\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.openFileDialogue(\"file\");\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t\t<input onChange={this.onFileChange} type=\"file\" id=\"file\" ref={this.fileUploaderRef} />\n\t\t\t</div>\n\t\t);\n\n\t\tconst videoText = Translator.translate(\"ATTACH_VIDEO\", this.context.language);\n\t\tconst audioText = Translator.translate(\"ATTACH_AUDIO\", this.context.language);\n\t\tconst imageText = Translator.translate(\"ATTACH_IMAGE\", this.context.language);\n\t\tlet avp = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\ttitle={videoText}\n\t\t\t\t\tcss={fileItemStyle(videoIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__video\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"video\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onVideoChange} accept=\"video/*\" type=\"file\" ref={this.videoUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={audioText}\n\t\t\t\t\tcss={fileItemStyle(audioIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__audio\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"audio\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onAudioChange} accept=\"audio/*\" type=\"file\" ref={this.audioUploaderRef} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\ttitle={imageText}\n\t\t\t\t\tcss={fileItemStyle(imageIcon, this.context)}\n\t\t\t\t\tclassName=\"filelist__item item__image\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.openFileDialogue(\"image\");\n\t\t\t\t\t}}>\n\t\t\t\t\t<i></i>\n\t\t\t\t\t<input onChange={this.onImageChange} accept=\"image/*\" type=\"file\" ref={this.imageUploaderRef} />\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tconst pollText = Translator.translate(\"CREATE_POLL\", this.context.language);\n\t\tlet createPollBtn = (\n\t\t\t<div title={pollText} css={fileItemStyle(pollIcon, this.context)} className=\"filelist__item item__poll\" onClick={this.toggleCreatePoll}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeDocText = Translator.translate(\"COLLABORATE_USING_DOCUMENT\", this.context.language);\n\t\tlet collaborativeDocBtn = (\n\t\t\t<div title={collaborativeDocText} css={fileItemStyle(documentIcon, this.context)} className=\"filelist__item item__document\" onClick={this.toggleCollaborativeDocument}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst collaborativeBoardText = Translator.translate(\"COLLABORATE_USING_WHITEBOARD\", this.context.language);\n\t\tlet collaborativeBoardBtn = (\n\t\t\t<div title={collaborativeBoardText} css={fileItemStyle(whiteboardIcon, this.context)} className=\"filelist__item item__whiteboard\" onClick={this.toggleCollaborativeBoard}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst emojiText = Translator.translate(\"EMOJI\", this.context.language);\n\t\tlet emojiBtn = (\n\t\t\t<div\n\t\t\t\ttitle={emojiText}\n\t\t\t\tcss={emojiButtonStyle(insertEmoticon, this.context)}\n\t\t\t\tclassName=\"button__emoji\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.toggleEmojiPicker();\n\t\t\t\t\tthis.setState({ messageToReact: \"\" });\n\t\t\t\t}}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst StickerText = Translator.translate(\"STICKER\", this.context.language);\n\t\tlet stickerBtn = (\n\t\t\t<div title={StickerText} css={stickerBtnStyle(stickerIcon, this.context)} className=\"button__sticker\" onClick={this.toggleStickerPicker}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tconst sendMessageText = Translator.translate(\"SEND_MESSAGE\", this.context.language);\n\t\tlet sendBtn = (\n\t\t\t<div title={sendMessageText} css={sendButtonStyle(sendBlue, this.context)} className=\"button__send\" onClick={this.sendTextMessage}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if uploading photos, videos feature is disabled\n\t\tif (this.state.enablePhotosVideos === false) {\n\t\t\tavp = null;\n\t\t}\n\n\t\t//if files upload are disabled for chat widget in dashboard\n\t\tif (this.state.enableFiles === false) {\n\t\t\tdocs = null;\n\t\t}\n\n\t\t//if polls feature is disabled\n\t\tif (this.state.enablePolls === false || this.props.parentMessageId) {\n\t\t\tcreatePollBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeDocument === false || this.props.parentMessageId) {\n\t\t\tcollaborativeDocBtn = null;\n\t\t}\n\n\t\t//if collaborative_document are disabled for chat widget in dashboard\n\t\tif (this.state.enableCollaborativeWhiteboard === false || this.props.parentMessageId) {\n\t\t\tcollaborativeBoardBtn = null;\n\t\t}\n\n\t\t//if emojis are disabled for chat widget in dashboard\n\t\tif (this.state.enableEmojis === false) {\n\t\t\temojiBtn = null;\n\t\t}\n\n\t\t//if live reactions is disabled for chat widget in dashboard\n\t\tif (this.state.enableLiveReaction === false || this.state.messageInput.length || this.props.parentMessageId) {\n\t\t\tliveReactionBtn = null;\n\t\t}\n\n\t\t//if stickers is disabled for chat widget in dashboard\n\t\tif (this.state.enableStickers === false) {\n\t\t\tstickerBtn = null;\n\t\t}\n\n\t\tif (!this.state.messageInput.length) {\n\t\t\tsendBtn = null;\n\t\t}\n\n\t\tconst attachText = Translator.translate(\"ATTACH\", this.context.language);\n\t\tlet attach = (\n\t\t\t<div css={stickyAttachmentStyle()} className=\"input__sticky__attachment\">\n\t\t\t\t<div css={stickyAttachButtonStyle(roundedPlus, this.context)} className=\"attachment__icon\" onClick={this.toggleFilePicker} title={attachText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t\t<div css={filePickerStyle(this.state)} className=\"attachment__filepicker\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={fileListStyle()} className=\"filepicker__filelist\">\n\t\t\t\t\t\t{avp}\n\t\t\t\t\t\t{docs}\n\t\t\t\t\t\t{createPollBtn}\n\t\t\t\t\t\t{collaborativeDocBtn}\n\t\t\t\t\t\t{collaborativeBoardBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (avp === null && docs === null && createPollBtn === null && collaborativeDocBtn === null && collaborativeBoardBtn === null) {\n\t\t\tattach = null;\n\t\t}\n\n\t\tlet createPoll = null;\n\t\tif (this.state.createPoll) {\n\t\t\tcreatePoll = <CometChatCreatePoll close={this.closeCreatePoll} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet editPreview = null;\n\t\tif (this.state.messageToBeEdited) {\n\t\t\tlet messageText = this.state.messageToBeEdited.text;\n\n\t\t\t//xss extensions data\n\t\t\tconst xssData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"xss-filter\");\n\t\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\t\tmessageText = xssData.sanitized_text;\n\t\t\t}\n\n\t\t\t//datamasking extensions data\n\t\t\tconst maskedData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"data-masking\");\n\t\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\t\tmessageText = maskedData.data.message_masked;\n\t\t\t}\n\n\t\t\t//profanity extensions data\n\t\t\tconst profaneData = checkMessageForExtensionsData(this.state.messageToBeEdited, \"profanity-filter\");\n\t\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\t\tmessageText = profaneData.message_clean;\n\t\t\t}\n\n\t\t\teditPreview = (\n\t\t\t\t<div css={editPreviewContainerStyle(this.context, keyframes)}>\n\t\t\t\t\t<div css={previewHeadingStyle()}>\n\t\t\t\t\t\t<div css={previewTextStyle()}>{Translator.translate(\"EDIT_MESSAGE\", this.context.language)}</div>\n\t\t\t\t\t\t<span css={previewCloseStyle(closeIcon, this.context)} onClick={this.closeEditPreview}></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{messageText}</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet smartReplyPreview = null;\n\t\tif (this.state.replyPreview) {\n\t\t\tconst message = this.state.replyPreview;\n\n\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\tconst options = [smartReplyData[\"reply_positive\"], smartReplyData[\"reply_neutral\"], smartReplyData[\"reply_negative\"]];\n\t\t\t\tsmartReplyPreview = <CometChatSmartReplyPreview options={options} clicked={this.sendReplyMessage} close={this.clearReplyPreview} />;\n\t\t\t}\n\t\t}\n\n\t\tlet stickerViewer = null;\n\t\tif (this.state.stickerViewer) {\n\t\t\tstickerViewer = <CometChatStickerKeyboard actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet emojiViewer = null;\n\t\tif (this.state.emojiViewer) {\n\t\t\temojiViewer = <CometChatEmojiKeyboard emojiClicked={this.emojiClicked} lang={this.context.language} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatComposerStyle(this.context)} className=\"chat__composer\">\n\t\t\t\t{editPreview}\n\t\t\t\t{smartReplyPreview}\n\t\t\t\t{stickerViewer}\n\t\t\t\t{emojiViewer}\n\t\t\t\t<div css={composerInputStyle()} className=\"composer__input\">\n\t\t\t\t\t<div tabIndex=\"-1\" css={inputInnerStyle(this.props, this.state, this.context)} className=\"input__inner\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={messageInputStyle(disabledState)}\n\t\t\t\t\t\t\tclassName=\"input__message-input\"\n\t\t\t\t\t\t\tcontentEditable=\"true\"\n\t\t\t\t\t\t\tplaceholder={Translator.translate(\"ENTER_YOUR_MESSAGE_HERE\", this.context.language)}\n\t\t\t\t\t\t\tdir={Translator.getDirection(this.context.language)}\n\t\t\t\t\t\t\tonInput={this.changeHandler}\n\t\t\t\t\t\t\tonBlur={event => this.endTyping(event)}\n\t\t\t\t\t\t\tonKeyDown={this.sendMessageOnEnter}\n\t\t\t\t\t\t\tref={this.messageInputRef}></div>\n\t\t\t\t\t\t<div css={inputStickyStyle(disabledState, attach, this.context)} className=\"input__sticky\">\n\t\t\t\t\t\t\t{attach}\n\t\t\t\t\t\t\t<div css={stickyButtonStyle(this.state)} className=\"input__sticky__buttons\">\n\t\t\t\t\t\t\t\t{stickerBtn}\n\t\t\t\t\t\t\t\t{emojiBtn}\n\t\t\t\t\t\t\t\t{sendBtn}\n\t\t\t\t\t\t\t\t{liveReactionBtn}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createPoll}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageComposer.defaultProps = {\n  theme: theme,\n  reaction: \"heart\"\n};\n\nCometChatMessageComposer.propTypes = {\n  theme: PropTypes.object,\n  reaction: PropTypes.string\n}\n\nexport { CometChatMessageComposer };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAUCAYAAACXtf2DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAFAAAAAAnxZisAAACpElEQVQ4Ea1VzUsVURQ/5868UrEg/AMy0NTMRQRBJfIQszKxgh5ByzbVIooiiDbZBwUtXAWJtGgRJW0MQsxnxfhRIbgpsqcQtajoA8uITGfu3Hs6Z+zJU3pq+n4wc+fee87vd+bcM2cQ5mB0Z+0WMuERQNiNgO+UgtYAgs7K7uffM01fVlevyc9391iAo5bsOkT1gPdvlvd4Q5l2mJ68bahdG2rTwvMmB9HV1gKP0WWA3oSWzlc86rsj9qm6mkOuwgsKsMQSgeErxpEYS5oQOpSLp0u7vA9iGwmkdsWLlaGuPKXKJw3TyU4GYizEYG+OFglXAt7gOWomzoRY5TsO+Na+8pEaqpJ97/FeIuFUjX++X+C4jb+ZPBsUi3C0Wvb5OSaRZ0MBi0xY01GxvfYApuprtjkE/ZZAZXeZpkrnczF2Ek9oaKtCi2c4ogXJRUKIFyJP2zmolHLUSZeAGjWXQq4RcpHwMTVxIeCwVEuuIWfGSPGIl/9OcqohnA7QVWUCeMg1PyJ1nCsIl7ZmVIcqqSo97xen6aK8UC4SleZB5VwS7ijs8p7e9sDQLflIlos8R4FPdLs9Gb8rXJEAq5K7YurEpLHeckTEd8rYp77G483QHNXmTOJLuwZ/ukof9I0dWIqI+PjWDFqHEps870c6EzMCslCSfPYVQtzvG9MpDos5E7GZJrc9gfX3buju/5Qml3GWgCyUed7YtwmdYJHrLqqom8r6vyDfT0whsG3bqrzV+6oeD36ZazdvkCN1NYe5nq8xSRHndpYvd14Igca5dZxdn+xtm7WZMZlXQOxe18c3ukQtLLJDc0cUSPsOiJ6AMqfKugdeRItZbgsKiN/Q5s2xwqLCYw7hOWl3/FO5oj+OtVYODwdZeJe2LD+mVDxe/D/efwCuAQs2cnkFkQAAAABJRU5ErkJggg==\"","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class MessageHeaderManager {\n\n    userListenerId = \"head_user_\" + new Date().getTime();\n    msgListenerId = \"head_message_\" + new Date().getTime();\n    groupListenerId = \"head_group_\" + new Date().getTime();\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, offlineUser);\n                }\n            })\n        );\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTypingStarted: typingIndicator => {\n                    callback(enums.TYPING_STARTED, typingIndicator);\n                },\n                onTypingEnded: typingIndicator => {\n                    callback(enums.TYPING_ENDED, typingIndicator);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, kickedFrom, kickedUser);\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, bannedFrom, bannedUser);\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, userAddedIn);\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, group, leavingUser);\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, joinedGroup);\n                }\n            })\n        );\n\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","import { CometChat } from \"@cometchat-pro/chat\";\n\nexport const chatHeaderStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t};\n};\n\nexport const chatDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: \"calc(100% - 116px)\",\n    }\n}\n\nexport const chatSideBarBtnStyle = (img, props, context) => {\n\n    const displayValue = (props.hasOwnProperty(\"sidebar\") && props.sidebar === 0) ? { display: \"none!important\"} : {};\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        float: \"left\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block\"\n\t\t},\n        ...displayValue\n    }\n}\n\nexport const chatThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        margin: \"0 16px\",\n    }\n}\n\nexport const chatUserStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\tpadding: \"0\",\n\t\tflexGrow: \"1\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\twidth: \"calc(100% - 80px)!important\",\n\t\t},\n\t};\n};\n\nexport const chatNameStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        color: `${context.theme.primary}`,\n    }\n}\n\nexport const chatStatusStyle = (state, context) => {\n\n    let status = {};\n    if (context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\n        status = {\n            color: `${context.theme.color.blue}`,\n            textTransform: \"capitalize\",\n        };\n\n        if (state.presence === \"offline\") {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"capitalize\",\n            }\n        } \n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                textTransform: \"none\",\n                fontStyle: \"italic\",\n            };\n        }\n        \n    } else if (context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\n        status = {\n            color: `${context.theme.color.helpText}`,\n        }\n\n        if (state.typing) {\n            status = {\n                color: `${context.theme.color.helpText}`,\n                fontStyle: \"italic\",\n            };\n        }\n    }\n\n    return {\n        fontSize: \"13px\",\n        width: \"100%\",\n        ...status\n    }\n}\n\nexport const chatOptionWrapStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"auto\",\n    }\n}\n\nexport const chatOptionStyle = (img, context, ongoingCall) => {\n\n    const bgColor = (ongoingCall) ? {\n        backgroundColor: `${context.theme.secondaryTextColor}`\n    } : {\n        backgroundColor: `${context.theme.primaryColor}`\n    };\n    \n    return {\n        width: \"24px\",\n        height: \"24px\",\n        cursor: \"pointer\",\n        display: \"flex\",\n        alignItems: \"center\",\n        margin: \"0 0 0 16px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            mask: `url(${img}) center center no-repeat`,\n            ...bgColor\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/menu.0c8d2d60.svg\";","export default __webpack_public_path__ + \"static/media/audio-call.05d2b303.svg\";","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","export default __webpack_public_path__ + \"static/media/info.aadd7d93.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageHeaderManager } from \"./controller\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  chatHeaderStyle, \n  chatDetailStyle, \n  chatSideBarBtnStyle, \n  chatThumbnailStyle,\n  chatUserStyle,\n  chatNameStyle,\n  chatStatusStyle,\n  chatOptionWrapStyle,\n  chatOptionStyle\n} from \"./style\";\n\nimport menuIcon from \"./resources/menu.svg\";\nimport audioCallIcon from \"./resources/audio-call.svg\";\nimport videoCallIcon from \"./resources/video-call.svg\";\nimport detailPaneIcon from \"./resources/info.svg\";\n\nclass CometChatMessageHeader extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstatus: \"\",\n\t\t\tpresence: \"offline\",\n\t\t\ttyping: null,\n\t\t\tenableGroupVoiceCall: false,\n\t\t\tenableGroupVideoCall: false,\n\t\t\tenableOneOnOneVoiceCall: false,\n\t\t\tenableOneOnOneVideoCall: false,\n\t\t\tenableUserPresence: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableTypingIndicator: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\n\t\tthis.MessageHeaderManager = new MessageHeaderManager();\n\t\tthis.MessageHeaderManager.attachListeners(this.updateHeader);\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForUser();\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && (this.item !== this.context.item || prevProps.lang !== this.props.lang)) {\n\t\t\tthis.setStatusForGroup();\n\t\t}\n\n\t\tthis.item = this.context.item;\n\n\t\tthis.enableGroupVoiceCall();\n\t\tthis.enableGroupVideoCall();\n\t\tthis.enableOneOnOneVoiceCall();\n\t\tthis.enableOneOnOneVideoCall();\n\t\tthis.enableUserPresence();\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableTypingIndicator();\n\t}\n\n\tsetStatusForUser = () => {\n\t\tlet status = \"\";\n\t\tconst presence = this.context.item.status === CometChat.USER_STATUS.ONLINE ? CometChat.USER_STATUS.ONLINE : CometChat.USER_STATUS.OFFLINE;\n\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\t\t\n\t\tthis.setState({status: status, presence: presence});\n\t};\n\n\tsetStatusForGroup = () => {\n\t\tlet membersText = Translator.translate(\"MEMBERS\", this.props.lang);\n\t\tconst status = `${this.context.item.membersCount} ${membersText}`;\n\t\tthis.setState({status: status});\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageHeaderManager.removeListeners();\n\t\tthis.MessageHeaderManager = null;\n\t}\n\n\tupdateHeader = (key, item, groupUser) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === item.uid) {\n\t\t\t\t\t\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.context.language);\n\t\t\t\t\t} else if (item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.context.language);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({status: status, presence: item.status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid && this.loggedInUser?.uid !== groupUser?.uid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid === item.guid) {\n\t\t\t\t\tlet membersCount = parseInt(item.membersCount);\n\t\t\t\t\tconst status = `${membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`;\n\t\t\t\t\tthis.setState({status: status});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_STARTED:\n\t\t\t\tthis.onTypingStarted(item);\n\t\t\t\tbreak;\n\t\t\tcase enums.TYPING_ENDED: \n\t\t\t\tthis.onTypingEnded(item);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonTypingStarted = item => {\n\n\t\tconst showTyping = typingText => {\n\t\t\t\n\t\t\t/**\n\t\t\t * if metadata is available, show live reactions else show typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"SHOW_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: typingText});\n\t\t\t\t} \n\t\t\t//}\n\t\t};\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\tconst typingText = `${item.sender.name} ${Translator.translate(\"IS_TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\t\t\tconst typingText = `${Translator.translate(\"TYPING\", this.context.language)}`;\n\t\t\tshowTyping(typingText);\n\t\t}\n\t};\n\n\tonTypingEnded = item => {\n\n\t\tconst endTyping = () => {\n\t\t\t/**\n\t\t\t * if metadata is available, end live reactions else end typing\n\t\t\t */\n\t\t\t// if (item.hasOwnProperty(\"metadata\") && item.metadata && item.metadata.hasOwnProperty(\"type\") && item.metadata.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\t\t\t// \tthis.props.actionGenerated(enums.ACTIONS[\"STOP_LIVE_REACTION\"], item);\n\t\t\t// } else {\n\n\t\t\t\tif (this.state.enableTypingIndicator === true) {\n\t\t\t\t\tthis.setState({typing: null});\n\t\t\t\t} \n\t\t\t//}\n\t\t}\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.type === item.receiverType && this.context.item.guid === item.receiverId) {\n\t\t\t\n\t\t\tthis.setStatusForGroup();\n\t\t\tendTyping();\n\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.type === item.receiverType && this.context.item.uid === item.sender.uid) {\n\n\t\t\tif (this.state.presence === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\tthis.setState({status: Translator.translate(\"ONLINE\", this.context.language), presence: CometChat.USER_STATUS.ONLINE});\n\t\t\t} else {\n\t\t\t\tthis.setStatusForUser();\n\t\t\t}\n\n\t\t\tendTyping();\n\t\t}\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.target;\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\tresetChat = () => {\n\t\tthis.context.setItem({});\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\t/**\n\t * if typing indicator feature is disabled\n\t */\n\tenableTypingIndicator = () => {\n\t\tthis.context.FeatureRestriction.isTypingIndicatorsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableTypingIndicator) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableTypingIndicator !== false) {\n\t\t\t\t\tthis.setState({enableTypingIndicator: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableGroupVoiceCall = () => {};\n\n\tenableGroupVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isGroupVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupVideoCall) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableGroupVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVoiceCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneAudioCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVoiceCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVoiceCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVoiceCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableOneOnOneVideoCall = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneVideoCallEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tconst combinedResponse = response && !this.context.item.blockedByMe;\n\t\t\t\tif (combinedResponse !== this.state.enableOneOnOneVideoCall) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: combinedResponse});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableOneOnOneVideoCall !== false) {\n\t\t\t\t\tthis.setState({enableOneOnOneVideoCall: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence) {\n\t\t\t\t\tthis.setState({enableUserPresence: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({enableUserPresence: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableAddGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope) {\n\t\t\t\t\tthis.setState({enableChangeScope: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false) {\n\t\t\t\t\tthis.setState({enableChangeScope: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableKickGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableBanGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false) {\n\t\t\t\t\tthis.setState({enableDeleteGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false) {\n\t\t\t\t\tthis.setState({enableViewGroupMembers: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false) {\n\t\t\t\t\tthis.setState({enableLeaveGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia) {\n\t\t\t\t\tthis.setState({enableSharedMedia: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false) {\n\t\t\t\t\tthis.setState({enableSharedMedia: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser) {\n\t\t\t\t\tthis.setState({enableBlockUser: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false) {\n\t\t\t\t\tthis.setState({enableBlockUser: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tinitiateAudioCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]);\n\t}\n\n\tinitiateVideoCall = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]);\n\t}\n\n\tviewDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_DETAIL\"]);\n\t}\n\n\trender() {\n\n\t\tlet avatar, presence;\n\t\tlet videoCallClassName = \"option__videocall-user\";\n\t\tlet audioCallClassName = \"option__audiocall-user\";\n\t\tlet viewDetailClassName = \"option__viewdetail-user\";\n\t\tlet chatWithClassName = \"chat__user\";\n\t\tlet chatNameClassName = \"user__name\";\n\t\tlet chatStatusClassName = \"user__status\";\n\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tavatar = <CometChatAvatar user={this.context.item} />;\n\t\t\tpresence = <CometChatUserPresence status={this.state.presence} borderColor={this.props.theme.borderColor.primary} />;\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\tchatWithClassName = \"chat__group\";\n\t\t\tchatNameClassName = \"group__name\";\n\t\t\tchatStatusClassName = \"group__members\";\n\t\t\tvideoCallClassName = \"option__videocall-group\";\n\t\t\taudioCallClassName = \"option__audiocall-group\";\n\t\t\tviewDetailClassName = \"option__viewdetail-group\";\n\t\t\tavatar = <CometChatAvatar group={this.context.item} />;\n\t\t}\n\n\t\tlet typing = null;\n\t\tif(this.state.typing) {\n\t\t\ttyping = (\n\t\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t\t{this.state.typing}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\tlet status = (\n\t\t\t<span css={chatStatusStyle(this.state, this.context)} className={chatStatusClassName}>\n\t\t\t\t{this.state.status}\n\t\t\t</span>\n\t\t);\n\n\t\tconst audioCallText = Translator.translate(\"AUDIO_CALL\", this.context.language);\n\t\tlet audioCallBtn = (\n\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 0)} title={audioCallText} onClick={this.initiateAudioCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst audioCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\taudioCallBtn = (\n\t\t\t\t<div className={audioCallClassName} css={chatOptionStyle(audioCallIcon, this.context, 1)} title={audioCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst videoCallText = Translator.translate(\"VIDEO_CALL\", this.context.language);\n\t\tlet videoCallBtn = (\n\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 0)} title={videoCallText} onClick={this.initiateVideoCall}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\tif (this.context.checkIfCallIsOngoing()) {\n\t\t\tconst videoCallText = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\t\t\tvideoCallBtn = (\n\t\t\t\t<div className={videoCallClassName} css={chatOptionStyle(videoCallIcon, this.context, 1)} title={videoCallText}>\n\t\t\t\t\t<i></i>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst viewDetailText = Translator.translate(\"VIEW_DETAIL\", this.context.language);\n\t\tlet viewDetailBtn = (\n\t\t\t<div className={viewDetailClassName} css={chatOptionStyle(detailPaneIcon, this.context, 0)} title={viewDetailText} onClick={this.viewDetail}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t/**\n\t\t * If the chat window open is of users and block user and shared media feature is disabled, hide view detail button\n\t\t */\n\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tif (this.state.enableBlockUser === false && this.state.enableSharedMedia === false) {\n\t\t\t\tviewDetailBtn = null;\n\t\t\t}\n\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t/**\n\t\t\t * If the chat window open is of group\n\t\t\t */\n\t\t\tif (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is participant, leave group, view group members, and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is moderator, leave group, view group members, kick & ban group members, changing scope of group members and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (this.state.enableLeaveGroup === false && this.state.enableSharedMedia === false && this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t} else if (this.context.item?.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t/**\n\t\t\t\t * If the loggedin user scope is admin, add group members, view group members, kick & ban group members, changing scope of group members, leave and delete group and shared media feature is disabled, hide view detail button\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\tthis.state.enableLeaveGroup === false &&\n\t\t\t\t\tthis.state.enableSharedMedia === false &&\n\t\t\t\t\tthis.state.enableViewGroupMembers === false &&\n\t\t\t\t\tthis.state.enableKickGroupMembers === false &&\n\t\t\t\t\tthis.state.enableBanGroupMembers === false &&\n\t\t\t\t\tthis.state.enableChangeScope === false &&\n\t\t\t\t\tthis.state.enableDeleteGroup === false &&\n\t\t\t\t\tthis.state.enableAddGroupMembers === false\n\t\t\t\t) {\n\t\t\t\t\tviewDetailBtn = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//if audiocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVoiceCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVoiceCall === false)) {\n\t\t\taudioCallBtn = null;\n\t\t}\n\n\t\t//if videocall feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableOneOnOneVideoCall === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableGroupVideoCall === false)) {\n\t\t\tvideoCallBtn = null;\n\t\t}\n\n\t\t//if user presence is disabled in chat widget\n\t\tif (this.state.enableUserPresence === false && this.context.type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\tstatus = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={chatHeaderStyle(this.context)} className=\"chat__header\">\n\t\t\t\t<div css={chatDetailStyle()} className=\"chat__details\">\n\t\t\t\t\t<div css={chatSideBarBtnStyle(menuIcon, this.props, this.context)} className=\"chat__sidebar-menu\" onClick={this.resetChat}></div>\n\t\t\t\t\t<div css={chatThumbnailStyle()} className=\"chat__thumbnail\">\n\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t{presence}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatUserStyle(this.context)} className={chatWithClassName}>\n\t\t\t\t\t\t<h6 css={chatNameStyle(this.context)} className={chatNameClassName} onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t\t{this.context.item.name}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t{typing ? typing : status}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={chatOptionWrapStyle()} className=\"chat__options\">\n\t\t\t\t\t{videoCallBtn}\n\t\t\t\t\t{audioCallBtn}\n\t\t\t\t\t{viewDetailBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageHeader.defaultProps = {\n  theme: theme,\n  item: {},\n  type: \"\"\n};\n\nCometChatMessageHeader.propTypes = {\n  theme: PropTypes.object,\n  item: PropTypes.object,\n  type: PropTypes.string\n}\n\nexport { CometChatMessageHeader };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums\";\n\nclass MessageFilter {\n\n\tcategories = {};\n\ttypes = null;\n\tcontext;\n\n\tconstructor(context) {\n\n        this.context = context;\n\n\t\tthis.categories = {\n\t\t\t[CometChat.CATEGORY_MESSAGE]: CometChat.CATEGORY_MESSAGE,\n\t\t\t[CometChat.CATEGORY_CUSTOM]: CometChat.CATEGORY_CUSTOM,\n\t\t\t[CometChat.CATEGORY_ACTION]: CometChat.CATEGORY_ACTION,\n\t\t\t[CometChat.CATEGORY_CALL]: CometChat.CATEGORY_CALL,\n\t\t};\n\n\t\tthis.types = {\n\t\t\t[CometChat.MESSAGE_TYPE.TEXT]: CometChat.MESSAGE_TYPE.TEXT,\n\t\t\t[CometChat.MESSAGE_TYPE.IMAGE]: CometChat.MESSAGE_TYPE.IMAGE,\n\t\t\t[CometChat.MESSAGE_TYPE.VIDEO]: CometChat.MESSAGE_TYPE.VIDEO,\n\t\t\t[CometChat.MESSAGE_TYPE.AUDIO]: CometChat.MESSAGE_TYPE.AUDIO,\n\t\t\t[CometChat.MESSAGE_TYPE.FILE]: CometChat.MESSAGE_TYPE.FILE,\n\t\t\t[enums.CUSTOM_TYPE_POLL]: enums.CUSTOM_TYPE_POLL,\n\t\t\t[enums.CUSTOM_TYPE_STICKER]: enums.CUSTOM_TYPE_STICKER,\n\t\t\t[enums.CUSTOM_TYPE_DOCUMENT]: enums.CUSTOM_TYPE_DOCUMENT,\n\t\t\t[enums.CUSTOM_TYPE_WHITEBOARD]: enums.CUSTOM_TYPE_WHITEBOARD,\n\t\t\t[enums.CUSTOM_TYPE_MEETING]: enums.CUSTOM_TYPE_MEETING,\n\t\t\t[CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER]: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t[CometChat.CALL_TYPE.AUDIO]: CometChat.CALL_TYPE.AUDIO,\n\t\t\t[CometChat.CALL_TYPE.VIDEO]: CometChat.CALL_TYPE.VIDEO,\n\t\t};\n\t}\n\n\tgetCategories = () => {\n\n\t\tconst categories = {...this.categories};\n\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\t}\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tdelete categories[CometChat.CATEGORY_ACTION];\n\t\t\t\t\treturn categories;\n\t\t\t\t})\n\t\t\t\t.then(categories => {\n\t\t\t\t\tthis.context.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tif (response === false) {\n\t\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tdelete categories[CometChat.CATEGORY_CALL];\n\t\t\t\t\t\t\tresolve(categories);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t};\n\n\tgetTypes = () => {\n\n        const types = {...this.types};\n        return new Promise(resolve => resolve(types));\n\t};\n}\n\nexport default MessageFilter;","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport MessageFilter from \"./MessageFilter\";\n\nexport class MessageListManager {\n\n    item = {};\n    type = \"\";\n    parentMessageId = null;\n    messageRequest = null;\n    limit = 30;\n    \n    msgListenerId = \"message_\" + new Date().getTime();\n    groupListenerId = \"group_\" + new Date().getTime();\n    callListenerId = \"call_\" + new Date().getTime(); \n\n    constructor(context, item, type, parentMessageId) {\n\n        this.item = item;\n        this.type = type;\n        this.parentMessageId = parentMessageId;\n        this.context = context;\n    }\n\n    initializeMessageRequest = () => {\n\n        return new Promise(resolve => {\n\n            let categories = {};\n            let types = {};\n\n            let messageFilterManager = new MessageFilter(this.context);\n\n            messageFilterManager\n                .getCategories()\n                .then(categoryList => categories = Object.keys(categoryList))\n                .then(() => messageFilterManager.getTypes())\n                .then(typeList => types = Object.keys(typeList))\n                .then(() => this.context.FeatureRestriction.isHideDeletedMessagesEnabled())\n                .then(hideDeletedMessages => {\n                    if (this.type === CometChat.ACTION_TYPE.TYPE_USER) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setUID(this.item.uid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    } else if (this.type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n                        if (this.parentMessageId) {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setParentMessageId(this.parentMessageId).setCategories(categories).setTypes(types).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        } else {\n                            this.messageRequest = new CometChat.MessagesRequestBuilder().setGUID(this.item.guid).setCategories(categories).setTypes(types).hideReplies(true).hideDeletedMessages(hideDeletedMessages).setLimit(this.limit).build();\n                        }\n                        resolve(this.messageRequest);\n                    }\n                });\n\n        });\n    }\n\n    fetchPreviousMessages() {\n        return this.messageRequest.fetchPrevious();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onTextMessageReceived: textMessage => {\n                    callback(enums.TEXT_MESSAGE_RECEIVED, textMessage);\n                },\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onCustomMessageReceived: customMessage => {\n                    callback(enums.CUSTOM_MESSAGE_RECEIVED, customMessage);\n                },\n                onMessagesDelivered: messageReceipt => {\n                    callback(enums.MESSAGE_DELIVERED, messageReceipt);\n                },\n                onMessagesRead: messageReceipt => {\n                    callback(enums.MESSAGE_READ, messageReceipt);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                },\n                onMessageEdited: editedMessage => {\n                    callback(enums.MESSAGE_EDITED, editedMessage);\n                },\n                onTransientMessageReceived: transientMessage => {\n                    callback(enums.TRANSIENT_MESSAGE_RECEIVED, transientMessage);\n                }\n            })\n        );\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n        \n        CometChat.addCallListener(\n            this.callListenerId,\n            new CometChat.CallListener({\n                onIncomingCallReceived: call => {\n                  callback(enums.INCOMING_CALL_RECEIVED, call);\n                },\n                onIncomingCallCancelled: call => {\n                    callback(enums.INCOMING_CALL_CANCELLED, call);\n                },\n                onOutgoingCallAccepted: call => {\n                    callback(enums.OUTGOING_CALL_ACCEPTED, call);\n                },\n                onOutgoingCallRejected: call => {\n                  callback(enums.OUTGOING_CALL_REJECTED, call);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeMessageListener(this.msgListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n        CometChat.removeCallListener(this.callListenerId);\n    }\n}","export const chatListStyle = context => {\n\n\treturn {\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\twidth: \"100%\",\n\t\tflex: \"1 1 0\",\n\t\torder: \"2\",\n\t\tposition: \"relative\",\n\t};\n};\n\nexport const listWrapperStyle = () => {\n\n    return {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"scroll\",\n        position: \"absolute\",\n        top: \"0\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        paddingTop: \"16px\"\n    }\n}\n\nexport const messageDateContainerStyle = () => {\n\n    return {\n        marginBottom: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"35px\",\n    }\n}\n\nexport const messageDateStyle = context => {\n\n\treturn {\n\t\tpadding: \"8px 12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tcolor: `${context.theme.color.primary}`,\n\t\tborderRadius: \"10px\",\n\t};\n};\n\nexport const decoratorMessageStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const decoratorMessageTxtStyle = context => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"36px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t};\n};","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { MessageListManager } from \"./controller\";\n\nimport { \n  CometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n  CometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n  CometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n  CometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n  CometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n  CometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n  CometChatDeleteMessageBubble, CometChatActionMessageBubble\n} from \"../\"\n\nimport {\n  CometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n  CometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n  CometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n  CometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\"\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { getMessageDate } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n\tchatListStyle,\n\tlistWrapperStyle,\n\tmessageDateContainerStyle,\n\tmessageDateStyle,\n\tdecoratorMessageStyle,\n\tdecoratorMessageTxtStyle\n} from \"./style\";\n\nclass CometChatMessageList extends React.PureComponent {\n\tloggedInUser = null;\n\tlastScrollTop = 0;\n\ttimes = 0;\n\titem = {};\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.state = {\n\t\t\tonItemClick: null,\n\t\t\tloggedInUser: null,\n\t\t\tdecoratorMessage: \"LOADING\",\n\t\t};\n\n\t\tthis.messagesEnd = React.createRef();\t\n\t}\n\n\tcomponentDidMount() {\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedInUser: user,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t\t\n\t\tif (Object.keys(this.context.item).length === 0 && this.context.type.trim().length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\t\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst ifChatWindowChanged = () => {\n\t\t\tlet output = false;\n\n\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && (this.context.item.uid !== this.item.uid || this.context.item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\toutput = true;\n\t\t\t} else if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.context.item.guid !== this.item.guid) {\n\t\t\t\toutput = true;\n\t\t\t} else if (prevProps.parentMessageId !== this.props.parentMessageId) {\n\t\t\t\toutput = true;\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (ifChatWindowChanged() === true) {\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\n\t\t\tthis.MessageListManager?.removeListeners();\n\n\t\t\tif (this.props.parentMessageId) {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t\t} else {\n\t\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t\t}\n\n\t\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]);\n\t\t\t\tthis.MessageListManager?.attachListeners(this.messageUpdated);\n\t\t\t});\n\t\t}\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.messages);\n\t\tconst currentMessageStr = JSON.stringify(this.props.messages);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tif (this.props.scrollToBottom) {\n\t\t\t\tthis.scrollToBottom();\n\t\t\t} else {\n\t\t\t\tthis.scrollToBottom(this.lastScrollTop);\n\t\t\t}\n\t\t}\n\n\t\tthis.item = this.context.type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.context.item : {};\n\t\tif (this.context.leftGroupId.trim().length) {\n\t\t\tthis.item = {};\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.MessageListManager?.removeListeners();\n\t\tthis.MessageListManager = null;\n\t}\n\n\tscrollToBottom = (scrollHeight = 0) => {\n\n\t\tif (this.messagesEnd) {\n\t\t\tthis.messagesEnd.scrollTop = this.messagesEnd.scrollHeight - scrollHeight;\n\t\t}\n\t};\n\n\tmessageHandler = (item, actionGenerated = enums.ACTIONS[\"MESSAGES_FETCHED\"]) => {\n\t\tthis.fetchMessages()\n\t\t\t.then(messageList => {\n\t\t\t\tif (messageList.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"NO_MESSAGES_FOUND\" });\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t\t//updating messagecount variable\n\t\t\t\tthis.messageCount = messageList.length;\n\n\t\t\t\tmessageList.forEach(message => {\n\t\t\t\t\t//if the sender of the message is not the loggedin user\n\t\t\t\t\tif (message.getSender().getUid() !== this.state.loggedInUser?.uid) {\n\t\t\t\t\t\t//mark the message as delivered\n\t\t\t\t\t\tthis.markMessageAsDelivered(message);\n\n\t\t\t\t\t\t//mark the message as read\n\t\t\t\t\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\t\t\t\t\tCometChat.markAsRead(message).catch(error => {});\n\t\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_READ\"], message);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.lastScrollTop = this.messagesEnd.scrollHeight;\n\n\t\t\t\t//abort(don't return messagelist), when the chat window changes\n\t\t\t\tif ((item.hasOwnProperty(\"uid\") && this.context.item.hasOwnProperty(\"uid\") && item.uid === this.context.item.uid) || (item.hasOwnProperty(\"guid\") && this.context.item.hasOwnProperty(\"guid\") && item.guid === this.context.item.guid)) {\n\t\t\t\t\tthis.props.actionGenerated(actionGenerated, messageList);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.props.messages.length === 0) {\n\t\t\t\t\tthis.setState({ decoratorMessage: \"SOMETHING_WRONG\" });\n\t\t\t\t}\n\n\t\t\t\tif (error && error.hasOwnProperty(\"code\") && error.code === \"ERR_GUID_NOT_FOUND\") {\n\t\t\t\t\t//this.context.setDeletedGroupId(this.context.item.guid);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tfetchMessages = () => {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tthis.MessageListManager.fetchPreviousMessages()\n\t\t\t\t.then(messageList => {\n\t\t\t\t\tresolve(messageList);\n\t\t\t\t})\n\t\t\t\t.catch(error => reject(error));\n\t\t});\n\n\t\treturn promise;\n\t};\n\n\t//callback for listener functions\n\tmessageUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) \n\t\t{\n\t\t\tcase enums.MESSAGE_DELETED:\n\t\t\t\tthis.onMessageDeleted(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_EDITED:\n\t\t\t\tthis.onMessageEdited(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.MESSAGE_DELIVERED:\n\t\t\tcase enums.MESSAGE_READ:\n\t\t\t\tthis.onMessageReadAndDelivered(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TEXT_MESSAGE_RECEIVED:\n\t\t\tcase enums.MEDIA_MESSAGE_RECEIVED:\n\t\t\t\tthis.onMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_MESSAGE_RECEIVED:\n\t\t\t\tthis.onCustomMessageReceived(message);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\tthis.onGroupUpdated(key, message, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.onCallUpdated(key, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.onTransientMessageReceived(key, message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tonMessageDeleted = message => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_DELETED\"], [message]);\n\t\t}\n\t};\n\n\tonMessageEdited = message => {\n\t\tconst messageList = [...this.props.messages];\n\t\tconst updateEditedMessage = message => {\n\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\tif (messageKey > -1) {\n\t\t\t\tconst messageObj = messageList[messageKey];\n\t\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_EDITED\"], messageList, newMessageObj);\n\t\t\t}\n\t\t};\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getReceiverId() && message.getSender().uid === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && this.state.loggedInUser?.uid === message.getSender().uid && message.getReceiverId() === this.context.item.uid) {\n\t\t\tupdateEditedMessage(message);\n\t\t}\n\t};\n\n\tonMessageReadAndDelivered = message => {\n\n\t\t//read receipts\n\t\tif (message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().getUid() === this.context.item.uid && message.getReceiver() === this.state.loggedInUser?.uid) {\n\t\t\tlet messageList = [...this.props.messages];\n\n\t\t\tif (message.getReceiptType() === \"delivery\") {\n\t\t\t\t//search for message\n\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = messageList[messageKey];\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { deliveredAt: message.getDeliveredAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t} else if (message.getReceiptType() === \"read\") {\n\t\t\t\t//search for message\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.messageId);\n\n\t\t\t\tif (messageKey > -1) {\n\t\t\t\t\tlet messageObj = { ...messageList[messageKey] };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { readAt: message.getReadAt() });\n\n\t\t\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"], messageList);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiver() === this.context.item.guid) {\n\t\t\t//not implemented\n\t\t}\n\t};\n\n\treInitializeMessageBuilder = () => {\n\t\tif (this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\tthis.messageCount = 0;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"REFRESHING_MESSAGES\"], []);\n\t\tthis.setState({ decoratorMessage: \"LOADING\" });\n\t\tthis.MessageListManager.removeListeners();\n\n\t\tif (this.props.parentMessageId) {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type, this.props.parentMessageId);\n\t\t} else {\n\t\t\tthis.MessageListManager = new MessageListManager(this.context, this.context.item, this.context.type);\n\t\t}\n\n\t\tthis.MessageListManager.initializeMessageRequest().then(() => {\n\t\t\tthis.messageHandler(this.context.item, enums.ACTIONS[\"MESSAGES_REFRESHED\"]);\n\t\t\tthis.MessageListManager.attachListeners(this.messageUpdated);\n\t\t});\n\t};\n\n\t//mark the message as delivered\n\tmarkMessageAsDelivered = message => {\n\n\t\tif (message.sender?.uid !== this.state.loggedInUser?.uid && message.hasOwnProperty(\"deliveredAt\") === false) {\n\t\t\tCometChat.markAsDelivered(message).catch(error => {});\n\t\t}\n\t};\n\n\tmarkMessageAsRead = (message, type) => {\n\t\tif (message.hasOwnProperty(\"readAt\") === false) {\n\t\t\tCometChat.markAsRead(message).catch(error => {});\n\t\t}\n\t};\n\n\tonMessageReceived = message => {\n\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t/**\n\t\t * message receiver is chat window group\n\t\t */\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t/**\n\t\t\t * If the message sender is chat window user and message receiver is logged-in user\n\t\t\t * OR\n\t\t\t * If the message sender is logged-in user and message receiver is chat window user\n\t\t\t */\n\t\t\tif ((message.getSender().uid === this.context.item.uid && message.getReceiverId() === this.state.loggedInUser?.uid) || (message.getSender().uid === this.state.loggedInUser?.uid && message.getReceiverId() === this.context.item.uid)) {\n\t\t\t\tthis.messageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled up in chat window\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\t//polls, stickers, collaborative document, collaborative whiteboard\n\tonCustomMessageReceived = message => {\n\t\t//mark the message as delivered\n\t\tthis.markMessageAsDelivered(message);\n\n\t\t//new messages\n\t\tif (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.guid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.GROUP);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.customMessageReceivedHandler(message, CometChat.RECEIVER_TYPE.USER);\n\t\t} else if (\n\t\t\tthis.context.type === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tmessage.getReceiverType() === CometChat.RECEIVER_TYPE.USER &&\n\t\t\tthis.state.loggedInUser?.uid === message.getSender().uid &&\n\t\t\tmessage.getReceiverId() === this.context.item.uid &&\n\t\t\t(message.type === enums.CUSTOM_TYPE_POLL || message.type === enums.CUSTOM_TYPE_DOCUMENT || message.type === enums.CUSTOM_TYPE_WHITEBOARD)\n\t\t) {\n\t\t\t//showing polls, collaborative document and whiteboard for sender (custom message received listener for sender)\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tcustomMessageReceivedHandler = (message, type) => {\n\t\t//handling dom lag - increment count only for main message list\n\t\tif (message.hasOwnProperty(\"parentMessageId\") === false && this.props.hasOwnProperty(\"parentMessageId\") === false) {\n\t\t\t++this.messageCount;\n\n\t\t\t//if the user has not scrolled in chat window(scroll is at the bottom of the chat window)\n\t\t\tif (this.messagesEnd.scrollHeight - this.messagesEnd.scrollTop - this.messagesEnd.clientHeight <= 1) {\n\t\t\t\tif (this.messageCount > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\t\t\tthis.reInitializeMessageBuilder();\n\t\t\t\t} else {\n\t\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//if the user has scrolled in chat window\n\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"NEW_MESSAGES\"], [message]);\n\t\t\t}\n\t\t} else if (message.hasOwnProperty(\"parentMessageId\") === true && this.props.hasOwnProperty(\"parentMessageId\") === true) {\n\t\t\tif (message.parentMessageId === this.props.parentMessageId) {\n\t\t\t\tthis.markMessageAsRead(message, type);\n\t\t\t}\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t} else {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"], [message]);\n\t\t}\n\t};\n\n\tonCallUpdated = (key, message) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonTransientMessageReceived = (key, message) => {\n\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t} else if (this.context.type === CometChat.RECEIVER_TYPE.USER && message.getReceiverType() === CometChat.RECEIVER_TYPE.USER && message.getSender().uid === this.context.item.uid) {\n\t\t\tthis.props.actionGenerated(key, message);\n\t\t}\n\t};\n\n\tonGroupUpdated = (key, message, group, options) => {\n\t\tif (this.context.type === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP && message.getReceiverId() === this.context.item.guid) {\n\t\t\tthis.props.actionGenerated(key, message, null, group, options);\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\n\t\tconst scrollTop = e.currentTarget.scrollTop;\n\t\tconst scrollHeight = e.currentTarget.scrollHeight;\n\t\tconst clientHeight = e.currentTarget.clientHeight;\n\n\t\tthis.lastScrollTop = scrollHeight - scrollTop;\n\n\t\tif (this.lastScrollTop === clientHeight) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]);\n\t\t}\n\n\t\tconst top = Math.round(scrollTop) === 0;\n\t\tif (top && this.props.messages.length) {\n\t\t\tthis.messageHandler(this.context.item);\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\t\tcomponent = message.text ? <CometChatReceiverTextMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverImageMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\t\tcomponent = message.data.attachments ? <CometChatReceiverFileMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverAudioMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\t\tcomponent = message.data.url ? <CometChatReceiverVideoMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} /> : null;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatSenderStickerBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\n\t\tlet component;\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\t\n\t\tif (message.hasOwnProperty(\"deletedAt\")) {\n\t\t\tcomponent = <CometChatDeleteMessageBubble key={messageKey} message={message} />;\n\t\t} else {\n\t\t\tswitch (message.type) {\n\t\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={messageKey} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetActionMessageComponent = message => {\n\n\t\tconst messageKey = message._id ? message._id : message.id;\n\t\treturn <CometChatActionMessageBubble key={messageKey} message={message} />;\n\t};\n\n\tgetComponent = (message, key) => {\n\t\tlet component;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_ACTION:\n\t\t\tcase CometChat.CATEGORY_CALL:\n\t\t\t\tcomponent = this.getActionMessageComponent(message);\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.state.loggedInUser?.uid === message.sender?.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0 && this.props.messages.length === 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={decoratorMessageStyle()} className=\"messages__decorator-message\">\n\t\t\t\t\t<p css={decoratorMessageTxtStyle(this.context)} className=\"decorator-message\">\n\t\t\t\t\t\t{Translator.translate(this.state.decoratorMessage, this.props.lang)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet cDate = null;\n\t\tconst messages = this.props.messages.map((message, key) => {\n\t\t\tlet dateSeparator = null;\n\n\t\t\tconst dateField = message._composedAt || message.sentAt;\n\n\t\t\tconst messageDate = message.sentAt * 1000;\n\t\t\tconst messageSentDate = dateFormat(messageDate, \"dd/mm/yyyy\");\n\n\t\t\tif (cDate !== messageSentDate) {\n\t\t\t\tdateSeparator = (\n\t\t\t\t\t<div css={messageDateContainerStyle()} className=\"message__date\">\n\t\t\t\t\t\t<span css={messageDateStyle(this.context)}>{getMessageDate(dateField, this.context.language)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcDate = messageSentDate;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={key}>\n\t\t\t\t\t{dateSeparator}\n\t\t\t\t\t{this.getComponent(message, key)}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"chat__list\" css={chatListStyle(this.context)}>\n\t\t\t\t{messageContainer}\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"list__wrapper\"\n\t\t\t\t\tcss={listWrapperStyle()}\n\t\t\t\t\tref={el => {\n\t\t\t\t\t\tthis.messagesEnd = el;\n\t\t\t\t\t}}\n\t\t\t\t\tonScroll={this.handleScroll}>\n\t\t\t\t\t{messages}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageList.defaultProps = {\n  theme: theme\n};\n\nCometChatMessageList.propTypes = {\n  theme: PropTypes.object\n}\n\nexport { CometChatMessageList };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class SharedMediaManager {\n\n    mediaMessageListenerId = new Date().getTime();\n    mediaMessageRequest = null;\n\n    constructor(item, type, messagetype) {\n\n        if(type === \"user\") {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setUID(item.uid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n\n        } else {\n\n            this.mediaMessageRequest = new CometChat.MessagesRequestBuilder()\n            .setGUID(item.guid)\n            .setLimit(10).setCategory(\"message\").setType(messagetype).build();\n        }\n    }\n\n    fetchPreviousMessages() {\n        return this.mediaMessageRequest.fetchPrevious();\n    }\n    \n    attachListeners(callback) {\n\n        CometChat.addMessageListener(\n            this.msgListenerId,\n            new CometChat.MessageListener({\n                onMediaMessageReceived: mediaMessage => {\n                    callback(enums.MEDIA_MESSAGE_RECEIVED, mediaMessage);\n                },\n                onMessageDeleted: deletedMessage => {\n                    callback(enums.MESSAGE_DELETED, deletedMessage);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeMessageListener(this.mediaMessageListenerId);\n    }\n\n}","export const sectionStyle = (props) => {\n\n    const containerHeightProp = (props.containerHeight) ? {\n        height: `calc(100% - ${props.containerHeight})`\n    } : {\n        height: \"calc(100% - 20px)\"\n    };\n\n    \n    return {\n        width: \"100%\",\n        ...containerHeightProp\n    }\n}\n\nexport const sectionHeaderStyle = (props) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500!important\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"calc(100% - 20px)\"\n    }\n}\n\nexport const mediaBtnStyle = () => {\n\n    return {\n        borderRadius: \"8px\",\n        backgroundColor: \"rgba(20, 20, 20, 0.08)\",\n        width: \"100%\",\n        padding: \"2px\",\n        margin: \"6px 0\",\n        clear: \"both\",\n    }\n}\n\nexport const buttonStyle = (state, type) => {\n\n    const activeBtn = (state.messagetype === type) ? {\n        backgroundColor : \"#fff\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 3px 1px, rgba(20, 20, 20, 0.12) 0 3px 8px\",\n        borderRadius: \"7px\",\n        \"&::before\": {\n            display: \"none\",\n        }\n    } : {};\n\n    return {\n        display: \"inline-block\",\n        width: \"33.33%\",\n        float: \"left\",\n        fontSize: \"13px\",\n        fontWeight: \"500\",\n        lineHeight: \"18px\",\n        padding: \"5px\",\n        position: \"relative\",\n        textAlign: \"center\",\n        cursor: \"pointer\",\n        ...activeBtn,\n        \"&:before\": {\n            \"`content`\": \"\",\n            position: \"absolute\",\n            display: \"block\",\n            width: \"2px\",\n            height: \"16px\",\n            backgroundColor: \"rgba(20, 20, 20, 0.12)\",\n            right: \"-2px\",\n            top: \"6px\",\n        },\n        \"&:last-of-type::before\": {\n            display: \"none\",\n        }\n    }\n}\n\nexport const mediaItemStyle = () => {\n\n    return {\n        height: \"calc(100% - 45px)\",\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        fontSize: \"14px\",\n    }\n}\n\nexport const itemStyle = (state, props, img, context) => {\n\n    let itemTypeStyle = {};\n    let bgColor = `${props.theme.backgroundColor.lightGrey}`;\n\n    if (state.messagetype === \"image\") {\n\n        itemTypeStyle = {\n            height: \"120px\",\n            width: \"120px\",\n            backgroundColor: bgColor,\n            \"> img\": {\n                display: \"block\",\n                width: \"100%\",\n                height: \"100%\",\n                objectFit: \"contain\",\n            }\n        }\n        \n    } else if (state.messagetype === \"video\") {\n\n        itemTypeStyle = {\n            \"> video\": {\n                height: \"120px\",\n                width: \"120px\",\n                margin: \"auto\",\n            }\n        }\n\n    } else if (state.messagetype === \"file\") {\n\n        itemTypeStyle = {\n            backgroundColor: bgColor,\n            \"> a\": {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                margin: \"auto\",\n                display: \"flex\",\n                padding: \"8px\",\n                \"&:hover, &:visited\": {\n                    color: `${props.theme.secondaryTextColor}`,\n                },\n                \"> i\": {\n                    width: \"30px\",\n                    height: \"24px\",\n                    display: \"inline-block\",\n                    mask: `url(${img}) left center no-repeat`,\n\t\t            backgroundColor: `${context.theme.secondaryTextColor}`,\n                },\n                \"> span\": {\n                    fontSize: \"13px\",\n                    color: `${props.theme.secondaryTextColor}`,\n                    whiteSpace: \"pre-wrap\",\n                    wordWrap: \"break-word\",\n                    textAlign: \"left\",\n                    width: \"calc(100% - 30px)\"\n                }\n\n            }\n        }\n\n    }\n\n    return {\n        margin: \"0.5rem\",\n        textAlign: \"center\",\n        flex: \"1 0 auto\",\n        ...itemTypeStyle,\n        \"@for $i from 1 through 36\": {\n            \"&:nth-of-type(#{$i})\": {\n            maxWidth: \"100%\",\n            }\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { SharedMediaManager } from \"./controller\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    mediaBtnStyle,\n    buttonStyle,\n    mediaItemStyle,\n    itemStyle,\n\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSharedMediaView extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            messagetype: \"image\",\n            messageList: []\n        }\n\n        this.messageContainer = React.createRef();\n\n        CometChat.getLoggedinUser().then(user => this.loggedInUser = user).catch(error => {\n            console.error(error);\n        });\n    }\n\n    componentDidMount() {\n\n        this._isMounted = true;\n        this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n        this.getMessages(true);\n        this.SharedMediaManager.attachListeners(this.messageUpdated);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n\n        if(prevState.messagetype !== this.state.messagetype) {\n\n            this.SharedMediaManager = null;\n            this.SharedMediaManager = new SharedMediaManager(this.context.item, this.context.type, this.state.messagetype);\n            this.getMessages(true);\n            this.SharedMediaManager.attachListeners(this.messageUpdated);\n        }\n    }\n\n    componentWillUnmount() {\n        this.SharedMediaManager.removeListeners();\n        this.SharedMediaManager = null;\n        this._isMounted = false;\n    }\n\n    //callback for listener functions\n    messageUpdated = (key, message) => {\n\n        switch(key) {\n\n            case enums.MESSAGE_DELETED:\n              this.messageDeleted(message);\n              break;\n            case enums.MEDIA_MESSAGE_RECEIVED:\n              this.messageReceived(message);\n              break;\n            default:\n              break;\n        }\n    }\n\n    messageDeleted = (deletedMessage) => {\n  \n        const messageType = deletedMessage.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && deletedMessage.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && deletedMessage.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            const messageList = [...this.state.messageList];\n            const filteredMessages = messageList.filter(message => message.id !== deletedMessage.id);\n            this.setState({ messageList: filteredMessages, scrollToBottom: false });\n        }\n    }\n    \n    //message is received or composed & sent\n    messageReceived = (message) => {\n\n        const messageType = message.data.type;\n        if (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP\n        && message.getReceiverType() === CometChat.RECEIVER_TYPE.GROUP\n        && message.getReceiver().guid === this.context.item.guid\n        && messageType === this.state.messagetype) {\n\n            let messages = [...this.state.messageList];\n            messages = messages.concat(message);\n            this.setState({ messageList: messages, scrollToBottom: true });\n        }\n    }\n\n    getMessages = (scrollToBottom = false) => {\n        \n        this.SharedMediaManager.fetchPreviousMessages().then(messages => {\n    \n            const messageList = [...messages, ...this.state.messageList];\n            if (this._isMounted) {\n\n                this.setState({messageList: messageList});\n                if(scrollToBottom) {\n                    this.scrollToBottom();\n                }\n            } \n    \n        }).catch(error => {\n\n            const errorCode = (error && error.hasOwnProperty(\"code\")) ? error.code : \"ERROR\";\n            this.context.setToastMessage(\"error\", errorCode);\n        });\n    }\n\n    scrollToBottom = () => {\n      \n        if (this.messageContainer) {\n            this.messageContainer.scrollTop = this.messageContainer.scrollHeight;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const top = Math.round(e.currentTarget.scrollTop) === 0;\n        if (top && this.state.messageList.length) {\n            this.getMessages();\n        }\n    }\n\n    mediaClickHandler = (type) => {\n        this.setState({messagetype: type, messageList: []});\n    }\n\n    render() {\n\n        const template = (message, key) => {\n\n            if(this.state.messagetype === \"image\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__image\">\n                        <img src={message.data.url} alt={Translator.translate(\"SHARED_MEDIA\", this.props.lang)} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"video\" && message.data.url) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__video\">\n                        <video src={message.data.url} />\n                    </div>\n                );\n\n            } else if (this.state.messagetype === \"file\" && message.data.attachments) {\n\n                return (\n                    <div id={message.id} key={key} css={itemStyle(this.state, this.props, fileIcon, this.context)} className=\"item item__file\">\n                        <a href={message.data.attachments[0].url} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\">\n                            <i></i>\n                           <span>{message.data.attachments[0].name}</span>\n                        </a>\n                    </div>\n                );\n            }\n        }\n\n        const messages = [...this.state.messageList];\n        const messageList = messages.map((message, key) => {\n            return (template(message, key));\n        });\n\n        return (\n            <div css={sectionStyle(this.props)} className=\"section section__sharedmedia\">\n                <h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">{Translator.translate(\"SHARED_MEDIA\", this.props.lang)}</h6>\n                <div css={sectionContentStyle(this.props)} data-id=\"sharedmedia\" className=\"section__content\">\n                    <div css={mediaBtnStyle()} className=\"media__button\">\n                        <span css={buttonStyle(this.state, \"image\")} onClick={() => this.mediaClickHandler(\"image\")}>{Translator.translate(\"PHOTOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"video\")} onClick={() => this.mediaClickHandler(\"video\")}>{Translator.translate(\"VIDEOS\", this.props.lang)}</span>\n                        <span css={buttonStyle(this.state, \"file\")} onClick={() => this.mediaClickHandler(\"file\")}>{Translator.translate(\"DOCS\", this.props.lang)}</span>\n                    </div>\n                    <div css={mediaItemStyle()} className=\"media_items\" \n                    ref={el => this.messageContainer = el}\n                    onScroll={this.handleScroll}>{(messageList.length) ? messageList : Translator.translate(\"NO_RECORDS_FOUND\", this.props.lang)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatSharedMediaView.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatSharedMediaView.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatSharedMediaView };","import {CometChat} from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class UserDetailManager {\n\tuserListenerId = \"user_detail_\" + new Date().getTime();\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(enums.USER_ONLINE, onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(enums.USER_OFFLINE, offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","import {CometChat} from \"@cometchat-pro/chat\";\nimport Translator from \"../../../resources/localization/translator\";\n\nexport const userDetailStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tposition: \"relative\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\theight: \"69px\",\n\t};\n};\n\nexport const headerCloseStyle = (img, context) => {\n\t\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\t[`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n};\n\nexport const headerTitleStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontWeight: \"700\",\n\t\tfontSize: \"20px\",\n\t};\n};\n\nexport const sectionStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const actionSectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\t\".item__link\": {\n\t\t\tcolor: `${context.theme.color.blue}`,\n\t\t},\n\t};\n};\n\nexport const privacySectionStyle = context => {\n\treturn {\n\t\twidth: \"100%\",\n\t\t\"> div\": {\n\t\t\tcolor: `${context.theme.color.red}`,\n\t\t\tfontWeight: \"600\",\n\t\t\tcursor: \"pointer\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t};\n};\n\nexport const mediaSectionStyle = () => {\n\treturn {\n\t\theight: \"calc(100% - 255px)\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0\",\n\t\tpadding: \"16px 16px 0 16px\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const sectionHeaderStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"12px\",\n\t\tfontWeight: \"500!important\",\n\t\tlineHeight: \"20px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\ttextTransform: \"uppercase\",\n\t};\n};\n\nexport const sectionContentStyle = () => {\n\treturn {\n\t\twidth: \"100%\",\n\t\tmargin: \"6px 0\",\n\t};\n};\n\nexport const contentItemStyle = () => {\n\treturn {\n\t\t\"width\": 100 % \"\",\n\t\t\"&:not(:first-of-type):not(:last-of-type)\": {\n\t\t\tpadding: \"6px 0\",\n\t\t},\n\t};\n};\n\nexport const itemLinkStyle = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tlineHeight: \"20px\",\n\t\tfontWeight: \"600\",\n\t\tdisplay: \"inline-block\",\n\t\tcolor: `${context.theme.color.red}`,\n\t};\n};\n\nexport const userInfoSectionStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-start\",\n\t};\n};\n\nexport const userThumbnailStyle = () => {\n\treturn {\n\t\twidth: \"35px\",\n\t\theight: \"35px\",\n\t\tdisplay: \"inline-block\",\n\t\tflexShrink: \"0\",\n\t\tmargin: \"0 16px 0 0\",\n\t};\n};\n\nexport const userNameStyle = () => {\n\treturn {\n\t\tmargin: \"0\",\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"22px\",\n\t\twidth: \"100%\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const userStatusStyle = () => {\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t};\n};\n\nexport const userPresenceStyle = (context, state) => {\n\t\n\tlet status = state.status ? state.status.toLowerCase() : \"\";\n\tlet compareTo = Translator.translate((CometChat.USER_STATUS.ONLINE).toUpperCase(), context.language).toLowerCase();\n\tstatus = status === compareTo ? { color: `${context.theme.color.blue}` } : { color: `${context.theme.color.helpText}` };\n\n\treturn {\n\t\twidth: \"calc(100% - 50px)\",\n\t\ttextTransform: \"capitalize\",\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"400\",\n\t\tlineHeight: \"20px\",\n\t\t...status,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\nimport dateFormat from \"dateformat\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared/\";\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { UserDetailManager } from \"./controller\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tuserDetailStyle,\n\theaderStyle,\n\theaderCloseStyle,\n\theaderTitleStyle,\n\tsectionStyle,\n\tactionSectionStyle,\n\tmediaSectionStyle,\n\tprivacySectionStyle,\n\tsectionHeaderStyle,\n\tsectionContentStyle,\n\tcontentItemStyle,\n\titemLinkStyle,\n\tuserInfoSectionStyle,\n\tuserThumbnailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\tuserPresenceStyle,\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserDetails extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tstatus: null,\n\t\t\tenableSharedMedia: false,\n\t\t\tenableBlockUser: false,\n\t\t\tenableViewProfile: false,\n\t\t\tenableUserPresence: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.UserDetailManager = new UserDetailManager();\n\t\tthis.UserDetailManager.attachListeners(this.updateUser);\n\n\t\tthis.setStatusForUser();\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSharedMedia();\n\t\tthis.enableBlockUser();\n\t\tthis.enableViewProfile();\n\t\tthis.enableUserPresence();\n\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.setStatusForUser();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t\tthis.UserDetailManager.removeListeners();\n\t\tthis.UserDetailManager = null;\n\t}\n\n\tenableUserPresence = () => {\n\t\tthis.context.FeatureRestriction.isUserPresenceEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableUserPresence && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableUserPresence: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableUserPresence !== false) {\n\t\t\t\t\tthis.setState({ enableUserPresence: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tupdateUser = (key, user) => {\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE: {\n\t\t\t\tif (this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.context.item.uid === user.uid) {\n\t\t\t\t\t//if user presence feature is disabled\n\t\t\t\t\tif (this.state.enableUserPresence === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet status = \"\";\n\t\t\t\t\tif (user.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t\t\t\t} else if (user.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\t\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState({ status: status });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tsetStatusForUser = () => {\n\t\tlet status = null;\n\t\tif (this.context.item.status === CometChat.USER_STATUS.OFFLINE && this.context.item.lastActiveAt) {\n\t\t\tconst lastActive = this.context.item.lastActiveAt * 1000;\n\t\t\tconst messageDate = dateFormat(lastActive, \"dS mmm yyyy, h:MM TT\");\n\n\t\t\tstatus = `${Translator.translate(\"LAST_ACTIVE_AT\", this.props.lang)}: ${messageDate}`;\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.OFFLINE) {\n\t\t\tstatus = Translator.translate(\"OFFLINE\", this.props.lang);\n\t\t} else if (this.context.item.status === CometChat.USER_STATUS.ONLINE) {\n\t\t\tstatus = Translator.translate(\"ONLINE\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ status: status });\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewProfile = () => {\n\t\tthis.context.FeatureRestriction.isViewProfileEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableViewProfile && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewProfile !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewProfile: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.blockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: true });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tunblockUser = () => {\n\t\tlet uid = this.context.item.uid;\n\t\tlet usersList = [uid];\n\t\tCometChat.unblockUsers(usersList)\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\t\t\t\t\t\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, this.context.item, { blockedByMe: false });\n\t\t\t\t\tthis.context.setTypeAndItem(newType, newItem);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tviewProfile = () => {\n\t\tconst profileLink = this.context.item.link;\n\t\twindow.open(profileLink, \"\", \"fullscreen=yes, scrollbars=auto\");\n\t};\n\n\tcloseDetailView = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_USER_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewProfile = null;\n\t\tif (this.state.enableViewProfile === true && this.context.item.hasOwnProperty(\"link\") && this.context.item.link && this.context.item.link.trim().length) {\n\t\t\tviewProfile = (\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={actionSectionStyle(this.context)} className=\"section section__viewprofile\">\n\t\t\t\t\t\t<h6 css={sectionHeaderStyle(this.props)} className=\"section__header\">\n\t\t\t\t\t\t\t{Translator.translate(\"ACTIONS\", this.context.language)}\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.viewProfile}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"VIEW_PROFILE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserText;\n\t\tif (this.context.item.blockedByMe) {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.unblockUser}>\n\t\t\t\t\t{Translator.translate(\"UNBLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\tblockUserText = (\n\t\t\t\t<div css={itemLinkStyle(this.context)} className=\"item__link\" onClick={this.blockUser}>\n\t\t\t\t\t{Translator.translate(\"BLOCK_USER\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet blockUserView = (\n\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<div css={privacySectionStyle(this.context)} className=\"section section__privacy\">\n\t\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t\t</h6>\n\t\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t\t\t{blockUserText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\t//if block/unblock user feature is disabled\n\t\tif (this.state.enableBlockUser === false) {\n\t\t\tblockUserView = null;\n\t\t}\n\n\t\tlet sharedmediaView = (\n\t\t\t<div css={mediaSectionStyle()} className=\"detailpane__section\">\n\t\t\t\t<CometChatSharedMediaView theme={this.props.theme} lang={this.context.language} />\n\t\t\t</div>\n\t\t);\n\n\t\t//if shared media feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userDetailStyle(this.context)} className=\"detailpane detailpane--user\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeDetailView}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={sectionStyle()} className=\"detailpane__section\">\n\t\t\t\t\t<div css={userInfoSectionStyle()} className=\"section section__userinfo\">\n\t\t\t\t\t\t<div css={userThumbnailStyle()} className=\"user__thumbnail\">\n\t\t\t\t\t\t\t<CometChatAvatar user={this.context.item} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userStatusStyle()} className=\"user__status\">\n\t\t\t\t\t\t\t<h6 css={userNameStyle()}>{this.context.item.name}</h6>\n\t\t\t\t\t\t\t<span css={userPresenceStyle(this.context, this.state)}>{this.state.status}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{viewProfile}\n\t\t\t\t{blockUserView}\n\t\t\t\t{sharedmediaView}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserDetails.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatUserDetails.propTypes = {\n\ttheme: PropTypes.object,\n};\n\nexport { CometChatUserDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class UserListManager {\n\n    userRequest = null;\n    userListenerId = \"userlist_\" + new Date().getTime();\n\n    constructor(context, searchKey) {\n\n        this.context = context;\n        this.searchKey = searchKey;\n    }\n\n    initializeUsersRequest = () => {\n\n        const userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n        return new Promise((resolve, reject) => {\n            if (userListMode === userListModeOptions[\"ALL\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n                if (this.searchKey) {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n                } else {\n                    this.usersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n                }\n\n                return resolve(this.usersRequest);\n            } else {\n                return reject({message: \"Invalid filter for userlist\"});\n            }\n        });\n    }\n\n    fetchNextUsers() {\n        return this.usersRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n        \n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(onlineUser);\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(offlineUser);\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n    }\n}","export const contactWrapperStyle = (props, theme) => {\n\n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const contactHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const contactHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const contactHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const contactSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const contactSearchButtonStyle = (img, theme) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const contactSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        height: \"100%\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\",\n    }\n}\n\nexport const contactMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const contactListStyle = () => {\n    \n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n\nexport const contactAlphabetStyle = (props) => {\n    \n    return {\n        padding: \"0 16px\",\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${props.theme.color.tertiary}`\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { UserListManager } from \"./controller\";\n\nimport { CometChatUserListItem } from \"../../Users\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n  contactWrapperStyle, \n  contactHeaderStyle, \n  contactHeaderCloseStyle, \n  contactHeaderTitleStyle,\n  contactSearchStyle,\n  contactSearchButtonStyle,\n  contactSearchInputStyle,\n  contactMsgStyle,\n  contactMsgTxtStyle,\n  contactListStyle,\n  contactAlphabetStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatUserList extends React.PureComponent {\n\n\titem;\n\ttimeout;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tuserlist: [],\n\t\t\tenableSearchUser: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.userListRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\n\t\tthis.UserListManager = new UserListManager(this.getContext())\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.getUsers();\n\t\t\t\tthis.UserListManager.attachListeners(this.userUpdated);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\t//if user is blocked/unblocked, update userlist\n\t\tif (this.item \n\t\t&& Object.keys(this.item).length\n\t\t&& this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.item.uid === this.getContext().item.uid\n\t\t&& this.item.blockedByMe !== this.getContext().item.blockedByMe) {\n\n\t\t\tlet userlist = [...this.state.userlist];\n\n\t\t\t\t//search for user\n\t\t\t\tlet userKey = userlist.findIndex(u => u.uid === this.getContext().item.uid);\n\t\t\t\tif(userKey > -1) {\n\n\t\t\t\tlet userObject = { ...userlist[userKey] };\n\t\t\t\tlet newUserObject = Object.assign({}, userObject, { blockedByMe: this.getContext().item.blockedByMe });\n\t\t\t\t\n\t\t\t\tuserlist.splice(userKey, 1, newUserObject);\n\t\t\t\tthis.setState({ userlist: userlist });\n\t\t\t}\n\t\t}\n\n\t\tthis.item = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) ? this.getContext().item : null;\n\t\tthis.toggleUserSearch();\n\t}\n\n\tcomponentWillUnmount() {\n\n\t\tthis.UserListManager.removeListeners();\n\t\tthis.UserListManager = null;\n\t}\n\n\ttoggleUserSearch = () => {\n\n\t\tthis.getContext().FeatureRestriction.isUserSearchEnabled().then(response => {\n\n\t\t\t/**\n\t\t\t* Don't update state if the response has the same value\n\t\t\t*/\n\t\t\tif (response !== this.state.enableSearchUser) {\n\t\t\t\tthis.setState({enableSearchUser: response});\n\t\t\t}\n\n\t\t}).catch(error => {\n\n\t\t\tif (this.state.enableSearchUser !== false) {\n\t\t\t\tthis.setState({enableSearchUser: false});\n\t\t\t}\n\n\t\t});\n\t}\n\n\tuserUpdated = (user) => {\n\t\t\n\t\tlet userlist = [...this.state.userlist];\n\n\t\t//search for user\n\t\tlet userKey = userlist.findIndex(u => u.uid === user.uid);\n\t\t\n\t\t//if found in the list, update user object\n\t\tif(userKey > -1) {\n\n\t\t\tlet userObj = {...userlist[userKey]};\n\t\t\tlet newUserObj = {...userObj, ...user};\n\t\t\tuserlist.splice(userKey, 1, newUserObj);\n\n\t\t\tthis.setState({ userlist: userlist });\n\t\t}\n\t}\n\n\thandleScroll = (e) => {\n\n\t\tconst bottom =\n\t\tMath.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getUsers();\n\t}\n\n\thandleClick = (user) => {\n\n\t\tif(!this.props.onItemClick)\n\t\t\treturn;\n\n\t\tthis.props.onItemClick(user, CometChat.ACTION_TYPE.TYPE_USER);\n\t}\n\n  \thandleMenuClose = () => {\n\n\t\tif(!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n  \t}\n  \n \tsearchUsers = (e) => {\n\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.UserListManager = new UserListManager(this.getContext(), val);\n\t\tthis.UserListManager.initializeUsersRequest()\n\t\t\t.then(response => {\n\t\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\t\tthis.setState({ userlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) }, () => this.getUsers());\n\t\t\t\t}, 500);\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n  \t}\n\n\tgetUsers = () => {\n\n\t\tthis.UserListManager.fetchNextUsers()\n\t\t\t.then(userList => {\n\n\t\t\t\tif (userList.length === 0) {\n\t\t\t\t\tif (this.state.userlist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ userlist: [...this.state.userlist, ...userList], decoratorMessage: \"\" });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t}\n\n\tgetContext = () => {\n\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t}\n\n  \trender() {\n\n\t\tlet messageContainer = null;\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={contactMsgStyle()} className=\"contacts__decorator-message\">\n\t\t\t\t\t<p css={contactMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userList = [...this.state.userlist];\n\t\tlet currentLetter = \"\";\n\t\t\n\t\tconst users = userList.map(user => {\n\t\t\n\t\t\tconst chr = user.name[0].toUpperCase();\n\t\t\tlet firstChar = null;\n\t\t\tif (chr !== currentLetter) {\n\t\t\t\tcurrentLetter = chr;\n\t\t\t\tfirstChar = (<div css={contactAlphabetStyle(this.props)} className=\"contacts__list__alphabet-filter\">{currentLetter}</div>);\n\t\t\t} else {\n\t\t\t\tfirstChar = null;\n\t\t\t}\n\t\t\t\n\t\t\tlet selectedUser = (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid === user.uid) ? user : null;\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={user.uid}>\n\t\t\t\t\t{firstChar}\n\t\t\t\t\t<CometChatUserListItem user={user} selectedUser={selectedUser} clickHandler={this.handleClick} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t});\n\n\t\tlet closeBtn = <div css={contactHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchUser = null;\n\t\tif (this.state.enableSearchUser) {\n\t\t\tsearchUser = (\n\t\t\t\t<div css={contactSearchStyle()} className=\"contacts__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={contactSearchButtonStyle(searchIcon, theme)} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={contactSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchUsers} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst userListTemplate = (\n\t\t\t<div css={contactWrapperStyle(this.props, theme)} className=\"contacts\">\n\t\t\t\t<div css={contactHeaderStyle(theme)} className=\"contacts__header\">\n\t\t\t\t\t{closeBtn}\n\t\t\t\t\t<h4 css={contactHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t{Translator.translate(\"USERS\", this.props.lang)}\n\t\t\t\t\t</h4>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t\t{searchUser}\n\t\t\t\t{messageContainer}\n\t\t\t\t<div css={contactListStyle()} className=\"contacts__list\" onScroll={this.handleScroll} ref={el => (this.userListRef = el)}>\n\t\t\t\t\t{users}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet userListWrapper = (userListTemplate);\n\t\tif (this.props._parent === \"\") {\n\t\t\tuserListWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)}>\n\t\t\t\t\t{userListTemplate}\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn (userListWrapper);\n  \t}\n}\n\n// Specifies the default values for props:\nCometChatUserList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatUserList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatUserList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedUser && props.selectedUser.uid === props.user.uid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const itemThumbnailStyle = () => {\n    \n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\"\n    }\n}\n\nexport const itemDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: 1,\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameStyle = (context) => { \n    \n    return {\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n        margin: \"5px 0 0 0\",\n        lineHeight: \"22px\",\n        color: `${context.theme.color.primary}`\n    }\n};\n\nexport const itemDescStyle = context => {\n\treturn {\n\t\tmarginTop: \"10px\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\n","/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { listItem, itemThumbnailStyle, itemDetailStyle, itemNameStyle, itemDescStyle } from \"./style\";\nimport { useContext } from \"react\";\n\nconst CometChatUserListItem = (props) => {\n\n\tconst context = useContext(CometChatContext);\n\n\tlet userPresence = (<CometChatUserPresence status={props.user.status} />);\n\n  \tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif(scrollWidth <= clientWidth) {\n\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t} \n  \n\treturn (\n\t\t<div css={listItem(props, context)} onClick={() => props.clickHandler(props.user)} className=\"list__item\">\n\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t{userPresence}\n\t\t\t</div>\n\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(context.language)}>\n\t\t\t\t<div css={itemNameStyle(context)} className=\"item__details__name\"  \n\t\t\t\tonMouseEnter={event => toggleTooltip(event, true)} \n\t\t\t\tonMouseLeave={event => toggleTooltip(event, false)}>{props.user.name}</div>\n\t\t\t\t<div css={itemDescStyle(context)} className=\"item__details__desc\"></div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n// Specifies the default values for props:\nCometChatUserListItem.defaultProps = {\n\ttheme: theme,\n\tuser: {},\n};\n\nCometChatUserListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tuser: PropTypes.shape(CometChat.User),\n};\n\nexport { CometChatUserListItem };\n","export const userScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const userScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const userScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%!important\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserScreenStyle,\n\tuserScreenSidebarStyle,\n\tuserScreenMainStyle,\n} from \"./style\"\n\nclass CometChatUserListWithMessages extends React.Component {\n\n  \tloggedInUser = null;\n\n  \tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n  \t}\n  \n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (user, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, user);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t<CometChatMessages\n\t\t_parent=\"userscreen\"\n\t\tactionGenerated={this.actionHandler} />);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} language={this.props.lang}>\n\t\t\t\t<div css={userScreenStyle(this.props)} className=\"cometchat cometchat--contacts\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={userScreenSidebarStyle(this.state, this.props)} className=\"contacts__sidebar\">\n\t\t\t\t\t\t<CometChatUserList _parent=\"ulwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={userScreenMainStyle(this.state, this.props)} className=\"contacts__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n};\n\nCometChatUserListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n}\n\nexport { CometChatUserListWithMessages };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n    return {\n        minWidth: \"350px\",\n        minHeight: \"350px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"4\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\",\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\",\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tmargin: \"8px 0\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalTableStyle = (props) => {\n\n    return {\n        borderCollapse: \"collapse\",\n        margin: \"0\",\n        padding: \"0\",\n        width: \"100%\",\n        height: \"90%\",\n        \"tr\": {\n            display: \"table\",\n            width: \"100%\",\n            tableLayout: \"fixed\",\n        }\n    }\n}\n\nexport const tableCaptionStyle = () => {\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"15px\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n    }\n}\n\nexport const tableBodyStyle = () => {\n\n    return {\n        height: \"calc(100% - 40px)\",\n        overflowY: \"auto\",\n        display: \"block\",\n        \"tr\": {\n            \"td\": {\n                padding: \"8px 0\",\n                fontSize: \"14px\",\n                \"input\": {\n                    width: \"100%\",\n                    border: \"none\",\n                    padding: \"8px 16px\",\n                    fontSize: \"14px\",\n                    outline: \"none\",\n                },\n                \"select\": {\n                    outline: \"none\",\n                    padding: \"8px 16px\",\n                }\n            }\n        }\n    }\n}\n\nexport const tableFootStyle = (context, state, img) => {\n\n    const loadingState = (state.creatingGroup) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) no-repeat right 10px center ${context.theme.primaryColor}`,\n    } : {};\n\n    const textMargin = (state.creatingGroup) ? { marginRight: \"24px\", } : {};\n\n    return {\n        display: \"inline-block\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: `${context.theme.color.white}`,\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n        \"tr\": {\n            border: \"none\",\n            \"td\": {\n                textAlign: \"center\",\n            }\n        },\n    }\n}\n\nexport const inputStyle = (context) => {\n\n    return {\n        display: \"block\",\n        width: \"100%\",\n        border: '0',\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `${context.theme.backgroundColor.grey}`,\n        color: `${context.theme.color.helpText}`,\n        fontSize: \"14px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/creating.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalTableStyle,\n    tableCaptionStyle,\n    tableBodyStyle,\n    inputStyle,\n    tableFootStyle,\n\tmodalErrorStyle,\n} from \"./style\";\n\nimport creatingIcon from \"./resources/creating.svg\";\nimport closeIcon from \"./resources/close.svg\";\n\nclass CometChatCreateGroup extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\terrorMessage: \"\",\n\t\t\tpasswordInput: false,\n\t\t\tname: \"\",\n\t\t\ttype: \"\",\n\t\t\tpassword: \"\",\n\t\t\tcreatingGroup: false,\n\t\t\tenablePublicGroup: false,\n\t\t\tenablePasswordGroup: false,\n\t\t\tenablePrivateGroup: false,\n\t\t};\n\t}\n\n    componentDidMount() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n    componentDidUpdate() {\n\n        this.enablePublicGroup();\n        this.enablePasswordGroup();\n        this.enablePrivateGroup();\n    }\n\n\tenablePublicGroup = () => {\n\t\tthis.context.FeatureRestriction.isPublicGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePublicGroup) {\n\t\t\t\t\tthis.setState({enablePublicGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePublicGroup !== false) {\n\t\t\t\t\tthis.setState({enablePublicGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePasswordGroup = () => {\n\t\tthis.context.FeatureRestriction.isPasswordGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePasswordGroup) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePasswordGroup !== false) {\n\t\t\t\t\tthis.setState({enablePasswordGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenablePrivateGroup = () => {\n\t\tthis.context.FeatureRestriction.isPrivateGroupEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enablePrivateGroup) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enablePrivateGroup !== false) {\n\t\t\t\t\tthis.setState({enablePrivateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tpasswordChangeHandler = event => {\n\t\tthis.setState({password: event.target.value});\n\t};\n\n\tnameChangeHandler = event => {\n\t\tthis.setState({name: event.target.value});\n\t};\n\n\ttypeChangeHandler = event => {\n\t\tconst type = event.target.value;\n\t\tthis.setState({type});\n\n\t\tif (type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tthis.setState({passwordInput: true});\n\t\t} else {\n\t\t\tthis.setState({passwordInput: false});\n\t\t}\n\t};\n\n\tvalidate = () => {\n\t\tconst groupName = this.state.name.trim();\n\t\tconst groupType = this.state.type.trim();\n\n\t\tif (!groupName) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_NAME\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!groupType) {\n\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_GROUP_TYPE\", this.context.language) });\n\t\t\treturn false;\n\t\t}\n\n\t\tlet password = \"\";\n\t\tif (groupType === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\tpassword = this.state.password;\n\n\t\t\tif (!password.length) {\n\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"INVALID_PASSWORD\", this.context.language) });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\tcreateGroup = () => {\n\n\t\tif (!this.validate()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ creatingGroup: true });\n\n\t\tconst groupType = this.state.type.trim();\n\n\t\tconst password = this.state.password;\n\t\tconst guid = \"group_\" + new Date().getTime();\n\t\tconst name = this.state.name.trim();\n\t\tlet type = CometChat.GROUP_TYPE.PUBLIC;\n\n\t\tswitch (groupType) {\n\t\t\tcase \"public\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PUBLIC;\n\t\t\t\tbreak;\n\t\t\tcase \"private\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PRIVATE;\n\t\t\t\tbreak;\n\t\t\tcase \"password\":\n\t\t\t\ttype = CometChat.GROUP_TYPE.PASSWORD;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst group = new CometChat.Group(guid, name, type, password);\n\t\tCometChat.createGroup(group)\n\t\t\t.then(newGroup => {\n\t\t\t\tthis.setState({ creatingGroup: false });\n\n\t\t\t\tif (typeof newGroup === \"object\" && Object.keys(newGroup).length) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_CREATION_SUCCESS\");\n\t\t\t\t\tthis.setState({ name: \"\", type: \"\", password: \"\", passwordInput: \"\" });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"GROUP_CREATED\"], newGroup);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tthis.setState({ creatingGroup: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t});\n\t};\n\n\tpopulateGroupType = () => {};\n\n\trender() {\n\n        const groupTypes = {};\n        let groupTypeSelect = null;\n\n        if (this.state.enablePublicGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PUBLIC] = Translator.translate(\"PUBLIC\", this.context.language);\n        }\n\n        if (this.state.enablePasswordGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PASSWORD] = Translator.translate(\"PASSWORD_PROTECTED\", this.context.language);\n        }\n\n        if (this.state.enablePrivateGroup === true) {\n            groupTypes[CometChat.GROUP_TYPE.PRIVATE] = Translator.translate(\"PRIVATE\", this.context.language);\n        }\n\n        const groupTypeKeys = Object.keys(groupTypes);\n        if (groupTypeKeys.length) {\n\n            const groupTypeListOptions = groupTypeKeys.map(groupTypeKey => {\n                return (\n                    <option value={groupTypeKey} key={groupTypeKey}>\n                        {groupTypes[groupTypeKey]}\n                    </option>\n                );\n            });\n\n            if (groupTypeKeys.length > 1) {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                <option value=\"\">{Translator.translate(\"SELECT_GROUP_TYPE\", this.context.language)}</option>\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            } else {\n                groupTypeSelect = (\n                    <tr>\n                        <td>\n                            <select css={inputStyle(this.props)} className=\"grouptype\" onChange={this.typeChangeHandler} value={this.state.type} tabIndex=\"2\">\n                                {groupTypeListOptions}\n                            </select>\n                        </td>\n                    </tr>\n                );\n            }\n        }\n\n\t\tlet password = null;\n\t\tif (this.state.passwordInput) {\n\t\t\tpassword = (\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.context)} placeholder={Translator.translate(\"ENTER_GROUP_PASSWORD\", this.context.language)} type=\"password\" tabIndex=\"3\" onChange={this.passwordChangeHandler} value={this.state.password} />\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\t}\n\n\t\tconst createText = this.state.creatingGroup ? Translator.translate(\"CREATING\", this.context.language) : Translator.translate(\"CREATE\", this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__creategroup\">\n\t\t\t\t\t<span css={modalCloseStyle(closeIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<table css={modalTableStyle(this.props)}>\n\t\t\t\t\t\t\t<caption css={tableCaptionStyle()} className=\"modal__title\"> {Translator.translate(\"CREATE_GROUP\", this.context.language)} </caption>\n\t\t\t\t\t\t\t<tbody css={tableBodyStyle()} className=\"modal__search\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><div css={modalErrorStyle(this.context)}>{this.state.errorMessage}</div></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input autoComplete=\"off\" css={inputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"ENTER_GROUP_NAME\", this.context.language)} type=\"text\" tabIndex=\"1\" onChange={this.nameChangeHandler} value={this.state.name} />\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{groupTypeSelect}\n\t\t\t\t\t\t\t\t{password}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t<tfoot css={tableFootStyle(this.context, this.state, creatingIcon)}>\n\t\t\t\t\t\t\t\t<tr className=\"creategroup\">\n\t\t\t\t\t\t\t\t\t<td><button type=\"button\" tabIndex=\"4\" onClick={this.createGroup}><span>{createText}</span></button></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatCreateGroup };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupDetailManager {\n\n    guid = null;\n    groupMemberRequest = null;\n    bannedGroupMemberRequest = null;\n\n    userListenerId = \"group_detail_user_\" + new Date().getTime();\n    groupListenerId = \"group_detail_group_\" + new Date().getTime();\n\n    constructor(guid) {\n        this.guid = guid;\n        this.groupMemberRequest = new CometChat.GroupMembersRequestBuilder(guid).setLimit(10).build();\n        this.bannedGroupMemberRequest = new CometChat.BannedMembersRequestBuilder(guid).setLimit(10).build();\n    }\n\n    fetchNextGroupMembers() {\n        return this.groupMemberRequest.fetchNext();\n    }\n\n    fetchNextBannedGroupMembers() {\n        return this.bannedGroupMemberRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n\n        CometChat.addUserListener(\n            this.userListenerId,\n            new CometChat.UserListener({\n                onUserOnline: onlineUser => {\n                    /* when someuser/friend comes online, user will be received here */\n                    callback(enums.USER_ONLINE, null, {guid: this.guid}, {\"user\": onlineUser});\n                },\n                onUserOffline: offlineUser => {\n                    /* when someuser/friend went offline, user will be received here */\n                    callback(enums.USER_OFFLINE, null, {guid: this.guid}, {\"user\": offlineUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n\n        CometChat.removeUserListener(this.userListenerId);\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const detailStyle = (context) => {\n\n    return {\n        height: \"100%\",\n        position: \"relative\",\n        boxSizing: \"border-box\",\n        fontFamily: `${context.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${context.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (context) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        height: \"69px\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        cursor: \"pointer\",\n        display: \"none\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        width: \"24px\",\n        height: \"24px\",\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, , ${mq[4]}`]: {\n            display: \"block\"\n        },\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontWeight: \"700\",\n        fontSize: \"22px\",\n        lineHeight: \"26px\"\n    }\n}\n\nexport const detailPaneStyle = () => {\n\n    return {\n        margin: \"0\",\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100% - 70px)\"\n    }\n}\n\nexport const sectionStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n\nexport const sectionHeaderStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        fontWeight: \"500\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.secondary}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const sectionContentStyle = () => {\n\n    return {\n        width: \"100%\",\n        margin: \"6px 0\",\n        '&:not(:last-of-type)': {\n            marginBottom: \"16px\",\n        }\n    }\n}\n\nexport const contentItemStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"flex\",\n        clear: \"both\",\n        width: \"100%\",\n        padding:\" 6px 0\",\n        '&:first-of-type': {\n            paddingTop: \"0\",\n        },\n        '&:last-of-type': {\n            paddingBottom: \"0\",\n        }\n    }\n}\n\nexport const itemLinkStyle = (context, deleteLink) => {\n\n    const deleteCss = (deleteLink) ? {\n        color: `${context.theme.color.red}`,\n    } : {\n        color: `${context.theme.color.primary}`,\n    };\n\n    return {\n        fontSize: \"15px\",\n        lineHeight: \"20px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        fontWeight: \"600\",\n        ...deleteCss\n    }\n}\n","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupDetailManager } from \"./controller\";\n\nimport { CometChatConfirmDialog, CometChatToastNotification } from \"../../Shared\";\nimport { \n\tCometChatViewGroupMemberList, \n\tCometChatAddGroupMemberList, \n\tCometChatBanGroupMemberList, \n\tCometChatTransferOwnershipMemberList\n} from \"../../Groups\";\n\nimport { CometChatSharedMediaView } from \"../../Shared/CometChatSharedMediaView/index.js\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    detailStyle,\n    headerStyle,\n    headerCloseStyle,\n    headerTitleStyle,\n    detailPaneStyle,\n    sectionStyle,\n    sectionHeaderStyle,\n    sectionContentStyle,\n    contentItemStyle,\n    itemLinkStyle\n} from \"./style\";\n\nimport navigateIcon from \"./resources/back.svg\";\n\nclass CometChatGroupDetails extends React.Component {\n\titem;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null,\n\t\t\tmemberlist: [],\n\t\t\tbannedmemberlist: [],\n\t\t\tadministratorslist: [],\n\t\t\tmoderatorslist: [],\n\t\t\tviewMember: false,\n\t\t\taddMember: false,\n\t\t\tbanMember: false,\n\t\t\taddAdministrator: false,\n\t\t\taddModerator: false,\n\t\t\tenableAddGroupMembers: false,\n\t\t\tenableChangeScope: false,\n\t\t\tenableKickGroupMembers: false,\n\t\t\tenableBanGroupMembers: false,\n\t\t\tenableDeleteGroup: false,\n\t\t\tenableViewGroupMembers: false,\n\t\t\tenableLeaveGroup: false,\n\t\t\tenableSharedMedia: false,\n\t\t\tshowDeleteConfirmDialog: false,\n\t\t\tshowLeaveGroupConfirmDialog: false,\n\t\t\tshowTransferOwnershipConfirmDialog: false,\n\t\t\ttransferOwnership: false,\n\t\t};\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => {\n\t\t\t\tif (this._isMounted) {\n\t\t\t\t\tthis.setState({ loggedInUser: user });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\n\t\tthis._isMounted = true;\n\t\tthis.context.clearGroupMembers();\n\n\t\tthis.item = this.context.item;\n\n\t\tconst guid = this.context.item.guid;\n\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\tthis.getGroupMembers();\n\t\tthis.getBannedGroupMembers();\n\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.item.guid !== this.context.item.guid) {\n\t\t\tthis.context.clearGroupMembers();\n\n\t\t\tconst guid = this.context.item.guid;\n\t\t\tthis.GroupDetailManager.removeListeners();\n\t\t\tthis.GroupDetailManager = new GroupDetailManager(guid);\n\t\t\tthis.getGroupMembers();\n\t\t\tthis.getBannedGroupMembers();\n\t\t\tthis.GroupDetailManager.attachListeners(this.groupUpdated);\n\t\t}\n\n\t\tthis.item = this.context.item;\n\t\tthis.enableAddGroupMembers();\n\t\tthis.enableChangeScope();\n\t\tthis.enableKickGroupMembers();\n\t\tthis.enableBanGroupMembers();\n\t\tthis.enableViewGroupMembers();\n\t\tthis.enableDeleteGroup();\n\t\tthis.enableLeaveGroup();\n\t\tthis.enableSharedMedia();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupDetailManager.removeListeners();\n\t\tthis.GroupDetailManager = null;\n\t\tthis._isMounted = false;\n\t}\n\n\tenableAddGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isAddingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableAddGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableAddGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableAddGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableChangeScope = () => {\n\t\tthis.context.FeatureRestriction.isChangingGroupMemberScopeEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableChangeScope && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableChangeScope !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableChangeScope: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableKickGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isKickingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableKickGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableKickGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableKickGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBanGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isBanningGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBanGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBanGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBanGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableDeleteGroup = () => {\n\t\tthis.context.FeatureRestriction.isGroupDeletionEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableDeleteGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableDeleteGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableDeleteGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableViewGroupMembers = () => {\n\t\tthis.context.FeatureRestriction.isViewingGroupMembersEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableViewGroupMembers && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableViewGroupMembers !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableViewGroupMembers: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableLeaveGroup = () => {\n\t\tthis.context.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableLeaveGroup && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLeaveGroup !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableLeaveGroup: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSharedMedia = () => {\n\t\tthis.context.FeatureRestriction.isSharedMediaEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSharedMedia && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSharedMedia !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableSharedMedia: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableBlockUser = () => {\n\t\tthis.context.FeatureRestriction.isBlockUserEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableBlockUser && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableBlockUser !== false && this._isMounted) {\n\t\t\t\t\tthis.setState({ enableBlockUser: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tconst guid = this.context.item.guid;\n\t\tif (guid !== group.guid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tswitch (key) {\n\t\t\tcase enums.USER_ONLINE:\n\t\t\tcase enums.USER_OFFLINE:\n\t\t\t\tthis.updateGroupMemberPresence(options.user);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\tthis.addParticipants([updatedMember], false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\t//this.setAvatar(member);\n\t\t\t\t\tthis.banMembers([member]);\n\t\t\t\t\tthis.removeParticipants(key, member, false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tthis.unbanMembers([member]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\t{\n\t\t\t\t\tconst member = options.user;\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: options[\"scope\"] });\n\t\t\t\t\tthis.updateParticipants(updatedMember);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/*\n    Updating group members presence\n    */\n\tupdateGroupMemberPresence = member => {\n\t\tlet memberlist = [...this.context.groupMembers];\n\t\t//search for user\n\t\tlet memberKey = memberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (memberKey > -1) {\n\t\t\tlet memberObj = memberlist[memberKey];\n\t\t\tlet newMemberObj = Object.assign({}, memberObj, member);\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\n\t\tlet bannedmemberlist = [...this.context.bannedGroupMembers];\n\t\t//search for user\n\t\tlet bannedMemberKey = bannedmemberlist.findIndex((m, k) => m.uid === member.uid);\n\t\t//if found in the list, update user object\n\t\tif (bannedMemberKey > -1) {\n\t\t\tlet bannedMemberObj = bannedmemberlist[bannedMemberKey];\n\t\t\tlet newBannedMemberObj = Object.assign({}, bannedMemberObj, member);\n\t\t\tbannedmemberlist.splice(bannedMemberKey, 1, newBannedMemberObj);\n\n\t\t\tthis.updateBannedGroupMembers(bannedmemberlist);\n\t\t}\n\t};\n\n\tgetGroupMembers = () => {\n\t\tconst administratorslist = [],\n\t\t\tmoderatorslist = [];\n\t\tthis.GroupDetailManager.fetchNextGroupMembers()\n\t\t\t.then(groupMembers => {\n\t\t\t\tgroupMembers.forEach(member => {\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\t\t\t\tadministratorslist.push(member);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR) {\n\t\t\t\t\t\tmoderatorslist.push(member);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.context.setAllGroupMembers(groupMembers, administratorslist, moderatorslist);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tgetBannedGroupMembers = () => {\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.GroupDetailManager.fetchNextBannedGroupMembers()\n\t\t\t.then(bannedMembers => {\n\t\t\t\tthis.context.setBannedGroupMembers(bannedMembers);\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tdeleteGroup = () => {\n\t\tthis.setState({ showDeleteConfirmDialog: true, showLeaveGroupConfirmDialog: false, showTransferOwnershipConfirmDialog: false });\n\t};\n\n\tonDeleteConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showDeleteConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.deleteGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"GROUP_DELETION_SUCCESS\");\n\t\t\t\t\tthis.context.setDeletedGroupId(guid);\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonLeaveConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showLeaveGroupConfirmDialog: false });\n\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.leaveGroup(guid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setLeftGroupId(guid);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t};\n\n\tonTransferConfirm = e => {\n\t\tconst optionSelected = e.target.value;\n\t\tthis.setState({ showTransferOwnershipConfirmDialog: false });\n\t\tif (optionSelected === \"no\") {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferOwnership: true });\n\t};\n\n\tleaveGroup = () => {\n\t\t/**\n\t\t * If loggeduser is the owner of the group; ask him to transfer ownership before leaving the group else show leave group confirmtion dialog\n\t\t */\n\t\tif (this.context.item?.owner === this.state.loggedInUser?.uid) {\n\t\t\tthis.setState({ showTransferOwnershipConfirmDialog: true, showDeleteConfirmDialog: false, showLeaveGroupConfirmDialog: false });\n\t\t} else {\n\t\t\tthis.setState({ showLeaveGroupConfirmDialog: true, showTransferOwnershipConfirmDialog: false, showDeleteConfirmDialog: false });\n\t\t}\n\t};\n\n\tclickHandler = (action, flag) => {\n\t\tswitch (action) {\n\t\t\tcase \"viewmember\":\n\t\t\t\tthis.setState({ viewMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"addmember\":\n\t\t\t\tthis.setState({ addMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"banmember\":\n\t\t\t\tthis.setState({ banMember: flag });\n\t\t\t\tbreak;\n\t\t\tcase \"transferownership\":\n\t\t\t\tthis.setState({ transferOwnership: flag });\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tmembersActionHandler = (action, members) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]:\n\t\t\t\tthis.getBannedGroupMembers();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.unbanMembers(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.addParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.removeParticipants(action, members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.updateParticipants(members);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"]:\n\t\t\t\tthis.updateOwnership(members);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMembers = members => {\n\t\tthis.context.setBannedGroupMembers(members);\n\t};\n\n\tunbanMembers = members => {\n\t\tconst bannedMembers = [...this.context.bannedGroupMembers];\n\t\tconst unbannedMembers = [];\n\n\t\tconst filteredBannedMembers = bannedMembers.filter(bannedmember => {\n\t\t\tconst found = members.find(member => bannedmember.uid === member.uid);\n\t\t\tif (found) {\n\t\t\t\tunbannedMembers.push(found);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], unbannedMembers);\n\t\tthis.context.updateBannedGroupMembers(filteredBannedMembers);\n\t};\n\n\taddParticipants = (members, triggerUpdate = true) => {\n\t\tthis.context.setGroupMembers(members);\n\t\t\n\t\tif (triggerUpdate) {\n\t\t\tconst newItem = { ...this.context.item, membersCount: this.context.groupMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], members);\n\t\t}\n\t};\n\n\tremoveParticipants = (action, member, triggerUpdate = true) => {\n\n\t\tconst groupmembers = [...this.context.groupMembers];\n\t\tconst filteredMembers = groupmembers.filter(groupmember => {\n\t\t\tif (groupmember.uid === member.uid) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.context.updateGroupMembers(filteredMembers);\n\n\t\tif (triggerUpdate) {\n\t\t\t\n\t\t\tconst newItem = { ...this.context.item, membersCount: filteredMembers.length };\n\t\t\tthis.context.setItem(newItem);\n\n\t\t\t//if group member is banned, update banned member list in context api\n\t\t\tif(action === enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]) {\n\t\t\t\tthis.context.setBannedGroupMembers([member]);\n\t\t\t}\n\n\t\t\tthis.props.actionGenerated(action, [member]);\n\t\t}\n\t};\n\n\tupdateParticipants = updatedMember => {\n\t\tconst memberlist = [...this.context.groupMembers];\n\n\t\tconst memberKey = memberlist.findIndex(member => member.uid === updatedMember.uid);\n\t\tif (memberKey > -1) {\n\t\t\tconst memberObj = memberlist[memberKey];\n\t\t\tconst newMemberObj = Object.assign({}, memberObj, updatedMember, { scope: updatedMember[\"scope\"] });\n\n\t\t\tmemberlist.splice(memberKey, 1, newMemberObj);\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], [newMemberObj]);\n\t\t\tthis.context.updateGroupMembers(memberlist);\n\t\t}\n\t};\n\n\tupdateOwnership = uid => {\n\t\tconst item = { ...this.context.item, owner: uid };\n\t\tconst type = CometChat.RECEIVER_TYPE.GROUP;\n\n\t\tthis.setState({ transferOwnership: false });\n\t\tthis.context.setTypeAndItem(type, item);\n\t};\n\n\tcloseGroupDetail = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]);\n\t};\n\n\trender() {\n\t\tif (this.state.loggedInUser === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet viewMembersBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"viewmember\", true)}>\n\t\t\t\t\t{Translator.translate(\"VIEW_MEMBERS\", this.context.language)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet addMembersBtn = null,\n\t\t\tdeleteGroupBtn = null,\n\t\t\tbannedMembersBtn = null;\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\taddMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"addmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"ADD_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tdeleteGroupBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<span css={itemLinkStyle(this.context, 1)} className=\"item__link\" onClick={this.deleteGroup}>\n\t\t\t\t\t\t{Translator.translate(\"DELETE_AND_EXIT\", this.context.language)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\tbannedMembersBtn = (\n\t\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t\t<div css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={() => this.clickHandler(\"banmember\", true)}>\n\t\t\t\t\t\t{Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet leaveGroupBtn = (\n\t\t\t<div css={contentItemStyle()} className=\"content__item\">\n\t\t\t\t<span css={itemLinkStyle(this.context, 0)} className=\"item__link\" onClick={this.leaveGroup}>\n\t\t\t\t\t{Translator.translate(\"LEAVE_GROUP\", this.context.language)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\n\t\tlet sharedmediaView = <CometChatSharedMediaView containerHeight=\"225px\" lang={this.context.language} />;\n\n\t\tif (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\t//if viewing group membersfeature is disabled\n\t\t\tif (this.state.enableViewGroupMembers === false) {\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t} else if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR || this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n\t\t\tif (this.state.enableViewGroupMembers === false && this.state.enableKickGroupMembers === false && this.state.enableBanGroupMembers === false && this.state.enableChangeScope === false) {\n\t\t\t\t//if viewing, kicking/banning, promoting/demoting group membersare feature is disabled\n\t\t\t\tviewMembersBtn = null;\n\t\t\t}\n\t\t}\n\n\t\t//if adding group members feature is disabled\n\t\tif (this.state.enableAddGroupMembers === false) {\n\t\t\taddMembersBtn = null;\n\t\t}\n\n\t\t//if kicking/banning/unbanning group members feature is disabled\n\t\tif (this.state.enableBanGroupMembers === false) {\n\t\t\tbannedMembersBtn = null;\n\t\t}\n\n\t\t//if deleting group feature is disabled\n\t\tif (this.state.enableDeleteGroup === false) {\n\t\t\tdeleteGroupBtn = null;\n\t\t}\n\n\t\t//if leaving group feature is disabled\n\t\tif (this.state.enableLeaveGroup === false || this.context?.item?.membersCount === 1) {\n\t\t\tleaveGroupBtn = null;\n\t\t}\n\n\t\t//if viewing shared media group feature is disabled\n\t\tif (this.state.enableSharedMedia === false) {\n\t\t\tsharedmediaView = null;\n\t\t}\n\n\t\tlet members = (\n\t\t\t<div css={sectionStyle()} className=\"section section__members\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"MEMBERS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{viewMembersBtn}\n\t\t\t\t\t{addMembersBtn}\n\t\t\t\t\t{bannedMembersBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tlet options = (\n\t\t\t<div css={sectionStyle()} className=\"section section__options\">\n\t\t\t\t<h6 css={sectionHeaderStyle(this.context)} className=\"section__header\">\n\t\t\t\t\t{Translator.translate(\"OPTIONS\", this.context.language)}\n\t\t\t\t</h6>\n\t\t\t\t<div css={sectionContentStyle()} className=\"section__content\">\n\t\t\t\t\t{leaveGroupBtn}\n\t\t\t\t\t{deleteGroupBtn}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t\tif (viewMembersBtn === null && addMembersBtn === null && bannedMembersBtn === null) {\n\t\t\tmembers = null;\n\t\t}\n\n\t\tif (leaveGroupBtn === null && deleteGroupBtn === null) {\n\t\t\toptions = null;\n\t\t}\n\n\t\tlet viewMembers = null;\n\t\tif (this.state.viewMember) {\n\t\t\tviewMembers = (\n\t\t\t\t<CometChatViewGroupMemberList\n\t\t\t\t\tloggedinuser={this.state.loggedInUser}\n\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\tenableChangeScope={this.state.enableChangeScope}\n\t\t\t\t\tenableKickGroupMembers={this.state.enableKickGroupMembers}\n\t\t\t\t\tenableBanGroupMembers={this.state.enableBanGroupMembers}\n\t\t\t\t\tclose={() => this.clickHandler(\"viewmember\", false)}\n\t\t\t\t\tactionGenerated={this.membersActionHandler}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet addMembers = null;\n\t\tif (this.state.addMember) {\n\t\t\taddMembers = <CometChatAddGroupMemberList close={() => this.clickHandler(\"addmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet bannedMembers = null;\n\t\tif (this.state.banMember) {\n\t\t\tbannedMembers = <CometChatBanGroupMemberList loggedinuser={this.state.loggedInUser} close={() => this.clickHandler(\"banmember\", false)} actionGenerated={this.membersActionHandler} />;\n\t\t}\n\n\t\tlet showDeleteConfirmDialog = null;\n\t\tif (this.state.showDeleteConfirmDialog) {\n\t\t\tshowDeleteConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onDeleteConfirm} message={Translator.translate(\"DELETE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"DELETE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showLeaveGroupConfirmDialog = null;\n\t\tif (this.state.showLeaveGroupConfirmDialog) {\n\t\t\tshowLeaveGroupConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog {...this.props} onClick={this.onLeaveConfirm} message={Translator.translate(\"LEAVE_CONFIRM\", this.context.language)} confirmButtonText={Translator.translate(\"LEAVE\", this.context.language)} cancelButtonText={Translator.translate(\"CANCEL\", this.context.language)} />\n\t\t\t);\n\t\t}\n\n\t\tlet showTransferOwnershipConfirmDialog = null;\n\t\tif (this.state.showTransferOwnershipConfirmDialog) {\n\t\t\tshowTransferOwnershipConfirmDialog = (\n\t\t\t\t<CometChatConfirmDialog\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tonClick={this.onTransferConfirm}\n\t\t\t\t\tmessage={Translator.translate(\"TRANSFER_CONFIRM\", this.context.language)}\n\t\t\t\t\tconfirmButtonText={Translator.translate(\"TRANSFER\", this.context.language)}\n\t\t\t\t\tcancelButtonText={Translator.translate(\"CANCEL\", this.context.language)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tlet transferOwnership = null;\n\t\tif (this.state.transferOwnership) {\n\t\t\ttransferOwnership = <CometChatTransferOwnershipMemberList roles={this.roles} loggedinuser={this.state.loggedInUser} actionGenerated={this.membersActionHandler} close={() => this.clickHandler(\"transferownership\", false)} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={detailStyle(this.context)} className=\"detailpane\">\n\t\t\t\t<div css={headerStyle(this.context)} className=\"detailpane__header\">\n\t\t\t\t\t<div css={headerCloseStyle(navigateIcon, this.context)} className=\"header__close\" onClick={this.closeGroupDetail}></div>\n\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t{Translator.translate(\"DETAILS\", this.context.language)}\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t\t<div css={detailPaneStyle()} className=\"detailpane__section\">\n\t\t\t\t\t{members}\n\t\t\t\t\t{options}\n\t\t\t\t\t{sharedmediaView}\n\t\t\t\t</div>\n\t\t\t\t{viewMembers}\n\t\t\t\t{addMembers}\n\t\t\t\t{bannedMembers}\n\t\t\t\t{transferOwnership}\n\t\t\t\t{showDeleteConfirmDialog}\n\t\t\t\t{showLeaveGroupConfirmDialog}\n\t\t\t\t{showTransferOwnershipConfirmDialog}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupDetails.defaultProps = {\n    lang: Translator.getDefaultLanguage(),\n    theme: theme\n};\n\nCometChatGroupDetails.propTypes = {\n    lang: PropTypes.string,\n    theme: PropTypes.object\n}\n\nexport { CometChatGroupDetails };\n","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport * as enums from \"../../../util/enums.js\";\n\nexport class GroupListManager {\n\n    groupRequest = null;\n    groupListenerId = \"grouplist_\" + new Date().getTime();\n\n    constructor(searchKey) {\n\n        if (searchKey) {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).setSearchKeyword(searchKey).build();\n        } else {\n            this.groupRequest = new CometChat.GroupsRequestBuilder().setLimit(30).build();\n        }\n    }\n\n    fetchNextGroups() {\n        return this.groupRequest.fetchNext();\n    }\n\n    attachListeners(callback) {\n\n        CometChat.addGroupListener(\n            this.groupListenerId,\n            new CometChat.GroupListener({\n                onGroupMemberScopeChanged: (message, changedUser, newScope, oldScope, changedGroup) => {\n                    callback(enums.GROUP_MEMBER_SCOPE_CHANGED, message, changedGroup, {\"user\": changedUser, \"scope\": newScope});\n                }, \n                onGroupMemberKicked: (message, kickedUser, kickedBy, kickedFrom) => {\n                    callback(enums.GROUP_MEMBER_KICKED, message, kickedFrom, {\"user\": kickedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberBanned: (message, bannedUser, bannedBy, bannedFrom) => {\n                    callback(enums.GROUP_MEMBER_BANNED, message, bannedFrom, {\"user\": bannedUser, \"hasJoined\": false});\n                }, \n                onGroupMemberUnbanned: (message, unbannedUser, unbannedBy, unbannedFrom) => {\n                    callback(enums.GROUP_MEMBER_UNBANNED, message, unbannedFrom, {\"user\": unbannedUser, \"hasJoined\": false});\n                }, \n                onMemberAddedToGroup: (message, userAdded, userAddedBy, userAddedIn) => {\n                    callback(enums.GROUP_MEMBER_ADDED, message, userAddedIn, {\"user\": userAdded, \"hasJoined\": true});\n                }, \n                onGroupMemberLeft: (message, leavingUser, group) => {\n                    callback(enums.GROUP_MEMBER_LEFT, message, group, {\"user\": leavingUser});\n                }, \n                onGroupMemberJoined: (message, joinedUser, joinedGroup) => {\n                    callback(enums.GROUP_MEMBER_JOINED, message, joinedGroup, {\"user\": joinedUser});\n                }\n            })\n        );\n    }\n\n    removeListeners() {\n        CometChat.removeGroupListener(this.groupListenerId);\n    }\n}","export const groupWrapperStyle = (props, theme) => {\n    \n    const borderStyle = (props._parent === \"\") ? {\n        border: `1px solid ${theme.borderColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...borderStyle,\n        \"*\": {\n            boxSizing: \"border-box\",\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupHeaderStyle = theme => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tborderBottom: `1px solid ${theme.borderColor.primary}`,\n\t\theight: \"70px\",\n\t};\n};\n\nexport const groupHeaderCloseStyle = (img, theme) => {\n\n\tconst mq = [...theme.breakPoints];\n\n\treturn {\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"none\",\n\t\tmask: `url(${img}) left center no-repeat`,\n\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\theight: \"24px\",\n\t\twidth: \"33%\",\n\t\t[`@media ${mq[0]}`]: {\n\t\t\tdisplay: \"block!important\",\n\t\t},\n\t};\n};\n\nexport const groupHeaderTitleStyle = (props) => {\n\n    const alignment = (props.hasOwnProperty(\"enableCloseMenu\") && props.enableCloseMenu.length > 0) ? {\n        width: \"33%\",\n        textAlign: \"center\"\n    } : {};\n\n    return {\n        margin: \"0\",\n        display: \"inline-block\",\n        width: \"100%\",\n        textAlign: \"left\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n        ...alignment,\n        \"&[dir=rtl]\": {\n            textAlign: \"right\",\n        }\n    }\n}\n\nexport const groupAddStyle = (img, theme) => {\n\n\treturn {\n\t\theight: \"24px\",\n\t\tcursor: \"pointer\",\n\t\ti: {\n\t\t\tdisplay: \"inline-block\",\n\t\t\twidth: \"24px\",\n\t\t\theight: \"24px\",\n\t\t\tmask: `url(${img}) center center no-repeat`,\n\t\t\tbackgroundColor: `${theme.primaryColor}`,\n\t\t},\n\t};\n};\n\nexport const groupSearchStyle = () => {\n    \n    return {\n        margin: \"16px\",\n        position: \"relative\",\n        borderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        backgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        height: \"35px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}\n\nexport const groupSearchButtonStyle = (img, context) => {\n\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"100%\",\n\t\tpadding: \"8px 0 8px 8px\",\n\t\tcursor: \"default\",\n\t\tmask: `url(${img}) 10px center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}!important`,\n\t};\n};\n\nexport const groupSearchInputStyle = (props) => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        outline: \"none\",\n        border: \"none\",\n        color: props.theme.color.search,\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const groupMsgStyle = () => {\n    \n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: \"50%\"\n    }\n}\n\nexport const groupMsgTxtStyle = theme => {\n\n\treturn {\n\t\tmargin: \"0\",\n\t\tminHeight: \"36px\",\n\t\tcolor: `${theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t\tlineHeight: \"30px\",\n\t\twordWrap: \"break-word\",\n\t\tpadding: \"0 16px\",\n\t};\n};\n\nexport const groupListStyle = () => {\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        margin: \"0\",\n        padding: \"0\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/back.e8e05e7c.svg\";","export default __webpack_public_path__ + \"static/media/create.65daf562.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { GroupListManager } from \"./controller\";\n\nimport { CometChatCreateGroup, CometChatGroupListItem }  from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport { CometChatContextProvider, CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n  groupWrapperStyle,\n  groupHeaderStyle,\n  groupHeaderCloseStyle,\n  groupHeaderTitleStyle,\n  groupAddStyle,\n  groupSearchStyle,\n  groupSearchButtonStyle,\n  groupSearchInputStyle,\n  groupMsgStyle,\n  groupMsgTxtStyle,\n  groupListStyle\n} from \"./style\";\n\nimport searchIcon from \"./resources/search.svg\";\nimport navigateIcon from \"./resources/back.svg\";\nimport addIcon from \"./resources/create.svg\";\n\nclass CometChatGroupList extends React.PureComponent {\n\titem;\n\ttimeout;\n\tloggedInUser = null;\n\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tgrouplist: [],\n\t\t\tcreateGroup: false,\n\t\t\tenableSearchGroup: false,\n\t\t\tenableCreateGroup: false,\n\t\t\tenableJoinGroup: false,\n\t\t\tdecoratorMessage: Translator.translate(\"LOADING\", props.lang),\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.groupListRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", props.lang) }));\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\n\t\tthis.GroupListManager = new GroupListManager();\n\t\tthis.getGroups();\n\t\tthis.GroupListManager.attachListeners(this.groupUpdated);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\t//if group detail(membersCount) is updated, update grouplist\n\t\tif (this.item && Object.keys(this.item).length && this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.item.guid === this.getContext().item.guid && this.item.membersCount !== this.getContext().item.membersCount) {\n\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\tlet groupKey = groups.findIndex(group => group.guid === this.getContext().item.guid);\n\t\t\tif (groupKey > -1) {\n\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\tlet newGroupObj = Object.assign({}, groupObj, {membersCount: this.getContext().item.membersCount});\n\n\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\t//upon user deleting a group, remove group from group list\n\t\tif (this.getContext().deletedGroupId.trim().length) {\n\t\t\tconst guid = this.getContext().deletedGroupId.trim();\n\n\t\t\tconst groups = [...this.state.grouplist];\n\t\t\tconst groupKey = groups.findIndex(group => group.guid === guid);\n\n\t\t\tif (groupKey > -1) {\n\t\t\t\tgroups.splice(groupKey, 1);\n\t\t\t\tthis.setState({grouplist: groups});\n\t\t\t}\n\t\t}\n\n\t\tif (this.getContext().leftGroupId.trim().length) {\n\n\t\t\tconst guid = this.getContext().leftGroupId.trim();\n\t\t\tconst groups = [...this.state.grouplist]; const groupKey = groups.findIndex(group => group.guid === guid);\n\t\t\tif (groupKey > -1) {\n\t\t\tconst groupObj = groups[groupKey]; \n\t\t\tconst membersCount = Number(groupObj.membersCount) ? Number(groupObj.membersCount) - 1 : 0 ; \n\t\t\tlet newGroupObj = Object.assign({}, groupObj, { membersCount, hasJoined: false });\n\t\t\tgroups.splice(groupKey, 1, newGroupObj); this.setState({ grouplist: groups }); } }\n\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : null;\n\t\tthis.enableSearchGroup();\n\t\tthis.enableCreateGroup();\n\t\tthis.enableJoinGroup();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.GroupListManager = null;\n\t}\n\n\t/**\n\t * if search group feature is disabled\n\t */\n\tenableSearchGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupSearchEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableSearchGroup) {\n\t\t\t\t\tthis.setState({enableSearchGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSearchGroup !== false) {\n\t\t\t\t\tthis.setState({enableSearchGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if create group feature is disabled\n\t */\n\tenableCreateGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupCreationEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCreateGroup) {\n\t\t\t\t\tthis.setState({enableCreateGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCreateGroup !== false) {\n\t\t\t\t\tthis.setState({enableCreateGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\t/**\n\t * if join group feature is disabled\n\t */\n\tenableJoinGroup = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isJoinLeaveGroupsEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableJoinGroup) {\n\t\t\t\t\tthis.setState({enableJoinGroup: response});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableJoinGroup !== false) {\n\t\t\t\t\tthis.setState({enableJoinGroup: false});\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgroupUpdated = (key, message, group, options) => {\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\t\tthis.updateMemberChanged(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\t\tthis.updateMemberRemoved(group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.updateMemberAddition(group, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateMemberRemoved = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\t\t\t\tlet hasJoined = group.hasJoined;\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount, hasJoined: hasJoined});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t} else {\n\t\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\t\tlet membersCount = parseInt(group.membersCount);\n\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {membersCount: membersCount});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\t// Callback for when group member is added or joined\n\tupdateMemberAddition = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid){\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tlet hasJoined = true;\n\t\t\tlet newgroupObj = Object.assign({}, groupObj, { hasJoined: hasJoined});\n\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist: grouplist});\n\t\t} else {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tlet membersCount = parseInt(groupObj.membersCount);\n\n\t\t\tlet newgroupObj = Object.assign({},groupObj, {membersCount: membersCount});\n\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\tthis.setState({grouplist:grouplist});\n\t\t}\n\n\t\t}\n\t\t};\n\n\tupdateMemberChanged = (group, options) => {\n\t\tlet grouplist = [...this.state.grouplist];\n\n\t\t//search for group\n\t\tlet groupKey = grouplist.findIndex(g => g.guid === group.guid);\n\n\t\tif (groupKey > -1) {\n\t\t\tlet groupObj = {...grouplist[groupKey]};\n\t\t\tif (options && this.loggedInUser.uid === options.user.uid) {\n\t\t\t\tlet newgroupObj = Object.assign({}, groupObj, {scope: options.scope});\n\n\t\t\t\tgrouplist.splice(groupKey, 1, newgroupObj);\n\t\t\t\tthis.setState({grouplist: grouplist});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) this.getGroups();\n\t};\n\n\thandleClick = group => {\n\n\t\tif (!this.props.onItemClick) return;\n\n\t\tif (group.hasJoined === false) {\n\n\t\t\t//if join group feature is disabled\n\t\t\tif (this.state.enableJoinGroup === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet password = \"\";\n\t\t\tif (group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\t\t\t\tpassword = prompt(Translator.translate(\"ENTER_YOUR_PASSWORD\", this.props.lang));\n\t\t\t}\n\n\t\t\tconst guid = group.guid;\n\t\t\tconst groupType = group.type;\n\n\t\t\tCometChat.joinGroup(guid, groupType, password)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (typeof response === \"object\" && Object.keys(response).length) {\n\t\t\t\t\t\tconst groups = [...this.state.grouplist];\n\n\t\t\t\t\t\tlet groupKey = groups.findIndex((g, k) => g.guid === guid);\n\t\t\t\t\t\tif (groupKey > -1) {\n\t\t\t\t\t\t\tconst groupObj = groups[groupKey];\n\t\t\t\t\t\t\tconst newGroupObj = Object.assign({}, groupObj, response, { scope: CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT });\n\n\t\t\t\t\t\t\tgroups.splice(groupKey, 1, newGroupObj);\n\t\t\t\t\t\t\tthis.setState({ grouplist: groups });\n\n\t\t\t\t\t\t\tthis.props.onItemClick(newGroupObj, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\n\t\t\t\t\tif (error.hasOwnProperty(\"code\") && error.code && error.code === \"ERR_WRONG_GROUP_PASS\") {\n\t\t\t\t\t\tthis.toastRef.setError(\"WRONG_PASSWORD\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.toastRef.setError(\"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tthis.props.onItemClick(group, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t}\n\t};\n\n\thandleMenuClose = () => {\n\t\tif (!this.props.actionGenerated) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"TOGGLE_SIDEBAR\"]);\n\t};\n\n\tsearchGroup = e => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t}\n\n\t\tlet val = e.target.value;\n\t\tthis.timeout = setTimeout(() => {\n\t\t\t\n\t\t\tthis.setState({ grouplist: [], decoratorMessage: Translator.translate(\"LOADING\", this.props.lang) });\n\n\t\t\tthis.GroupListManager = new GroupListManager(val);\n\t\t\tthis.getGroups();\n\t\t}, 500);\n\t};\n\n\tgetGroups = () => {\n\t\tthis.GroupListManager.fetchNextGroups()\n\t\t\t.then(groupList => {\n\n\t\t\t\tif (groupList.length === 0) {\n\n\t\t\t\t\tif (this.state.grouplist.length === 0) {\n\t\t\t\t\t\tthis.setState({ decoratorMessage: Translator.translate(\"NO_GROUPS_FOUND\", this.props.lang) });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ grouplist: [...this.state.grouplist, ...groupList], decoratorMessage: \"\" });\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.props.lang) }));\n\t};\n\n\tcreateGroupHandler = flag => {\n\t\tthis.setState({createGroup: flag});\n\t};\n\n\tcreateGroupActionHandler = (action, group) => {\n\t\tif (action === enums.ACTIONS[\"GROUP_CREATED\"]) {\n\t\t\tthis.handleClick(group);\n\n\t\t\tconst groupList = [...this.state.grouplist];\n\t\t\tgroupList.unshift(group);\n\n\t\t\tthis.setState({grouplist: groupList, createGroup: false});\n\t\t}\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\trender() {\n\t\tlet messageContainer = null;\n\n\t\tif (this.state.decoratorMessage.length !== 0) {\n\t\t\tmessageContainer = (\n\t\t\t\t<div css={groupMsgStyle()} className=\"groups__decorator-message\">\n\t\t\t\t\t<p css={groupMsgTxtStyle(theme)} className=\"decorator-message\">\n\t\t\t\t\t\t{this.state.decoratorMessage}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tconst groups = this.state.grouplist.map(group => {\n\t\t\tlet selectedGroup = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid === group.guid ? group : null;\n\n\t\t\treturn <CometChatGroupListItem key={group.guid} group={group} selectedGroup={selectedGroup} clickHandler={this.handleClick} />;\n\t\t});\n\n\t\tlet createGroupBtn = (\n\t\t\t<div css={groupAddStyle(addIcon, theme)} title={Translator.translate(\"CREATE_GROUP\", this.props.lang)} onClick={() => this.createGroupHandler(true)}>\n\t\t\t\t<i></i>\n\t\t\t</div>\n\t\t);\n\n\t\t//if create group feature is disabled\n\t\tif (this.state.enableCreateGroup === false) {\n\t\t\tcreateGroupBtn = null;\n\t\t}\n\n\t\tlet closeBtn = <div css={groupHeaderCloseStyle(navigateIcon, theme)} className=\"header__close\" onClick={this.handleMenuClose}></div>;\n\t\tif (this.getContext() && Object.keys(this.getContext().item).length === 0) {\n\t\t\tcloseBtn = null;\n\t\t}\n\n\t\tlet searchGroup = null;\n\t\tif (this.state.enableSearchGroup) {\n\t\t\tsearchGroup = (\n\t\t\t\t<div css={groupSearchStyle()} className=\"groups__search\">\n\t\t\t\t\t<button type=\"button\" className=\"search__button\" css={groupSearchButtonStyle(searchIcon, this.getContext())} />\n\t\t\t\t\t<input type=\"text\" autoComplete=\"off\" css={groupSearchInputStyle(this.props)} className=\"search__input\" placeholder={Translator.translate(\"SEARCH\", this.props.lang)} onChange={this.searchGroup} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet createGroup = null;\n\t\tif(this.state.createGroup) {\n\t\t\tcreateGroup = <CometChatCreateGroup theme={this.props.theme} close={() => this.createGroupHandler(false)} actionGenerated={this.createGroupActionHandler} />;\t\n\t\t}\n\n\t\tconst groupListTemplate = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={groupWrapperStyle(this.props, theme)} className=\"groups\">\n\t\t\t\t\t<div css={groupHeaderStyle(theme)} className=\"groups__header\">\n\t\t\t\t\t\t{closeBtn}\n\t\t\t\t\t\t<h4 css={groupHeaderTitleStyle(this.props)} className=\"header__title\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t{Translator.translate(\"GROUPS\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t{createGroupBtn}\n\t\t\t\t\t</div>\n\t\t\t\t\t{searchGroup}\n\t\t\t\t\t{messageContainer}\n\t\t\t\t\t<div css={groupListStyle()} className=\"groups__list\" onScroll={this.handleScroll} ref={el => (this.groupListRef = el)}>\n\t\t\t\t\t\t{groups}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{createGroup}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet groupListWrapper = groupListTemplate;\n\t\t//if used as a standalone component, add errorboundary and context provider\n\t\tif (this.props._parent === \"\") {\n\t\t\tgroupListWrapper = <CometChatContextProvider ref={el => (this.contextProviderRef = el)}>{groupListTemplate}</CometChatContextProvider>;\n\t\t}\n\n\t\treturn groupListWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupList.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tonItemClick: () => {},\n\t_parent: \"\"\n};\n\nCometChatGroupList.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tonItemClick: PropTypes.func,\n\t_parent: PropTypes.string\n}\n\nexport { CometChatGroupList };\n","export const listItem = (props, context) => {\n\n    const selectedState = (props.selectedGroup && props.selectedGroup.guid === props.group.guid) ? {\n        backgroundColor: `${context.theme.backgroundColor.primary}`\n    } : {};\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n        cursor: \"pointer\",\n        width: \"100%\",\n        padding: \"8px 16px\",\n        ...selectedState,\n        '&:hover': {\n            backgroundColor: `${context.theme.backgroundColor.primary}`\n        }\n    }\n}\n\nexport const listItemName = context => {\n\treturn {\n\t\tfontSize: \"15px\",\n\t\tfontWeight: \"600\",\n\t\tmaxWidth: \"calc(100% - 30px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t\tmargin: \"0\",\n\t\tlineHeight: \"22px\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const listItemIcon = () => {\n\n    return {\n        width: \"24px\",\n        height: \"auto\",\n        margin: \"0 8px\",\n    }\n}\n\nexport const itemIconStyle = (img, context) => {\n\n    return {\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const itemThumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const itemDetailStyle = () => {\n\n    return {\n        width: \"calc(100% - 70px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const itemNameWrapperStyle = () => { \n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        margin: \"0\",\n    }\n}\n\nexport const itemDescStyle = (context) => { \n\n    return {\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        padding: \"0 0 5px 0\",\n        fontSize: \"13px\",\n        fontWeight: \"400\",\n        lineHeight: \"20px\",\n        color: `${context.theme.color.helpText}`,\n        \"&:hover\": {\n            borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        }\n    }\n}\n","export default __webpack_public_path__ + \"static/media/password-protected-group.d47aaeec.svg\";","export default __webpack_public_path__ + \"static/media/private-group.bc4d777a.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar } from \"../../Shared\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tlistItem,\n\tlistItemIcon,\n\titemIconStyle,\n\titemThumbnailStyle,\n\titemDetailStyle,\n\titemNameWrapperStyle,\n\titemDescStyle,\n\tlistItemName  \n} from \"./style\";\n\nimport shieldIcon from \"./resources/password-protected-group.svg\";\nimport lockIcon from \"./resources/private-group.svg\";\n\nclass CometChatGroupListItem extends React.PureComponent {\n\n\tstatic contextType = CometChatContext;\n\t\n\ttoggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.target;\n\n\t\tconst scrollWidth = elem.scrollWidth;\n\t\tconst clientWidth = elem.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\telem.setAttribute(\"title\", elem.textContent);\n\t\t} else {\n\t\t\telem.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tclickHandler = () => {\n\t\tthis.props.clickHandler(this.props.group);\n\t}\n\n\trender() {\n\n\t\tlet groupTypeIcon = null;\n\t\tif (this.props.group.type === CometChat.GROUP_TYPE.PRIVATE) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(shieldIcon, this.context)} title={Translator.translate(\"PRIVATE_GROUP\", this.context.language)}></i>);\n\n\t\t} else if (this.props.group.type === CometChat.GROUP_TYPE.PASSWORD) {\n\n\t\t\tgroupTypeIcon = (<i css={itemIconStyle(lockIcon, this.context)} title={Translator.translate(\"PROTECTED_GROUP\", this.context.language)}></i>);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={listItem(this.props, this.context)} className=\"list__item\" onClick={this.clickHandler}>\n\t\t\t\t<div css={itemThumbnailStyle()} className=\"list__item__thumbnail\">\n\t\t\t\t\t<CometChatAvatar group={this.props.group} />\n\t\t\t\t</div>\n\t\t\t\t<div css={itemDetailStyle()} className=\"list__item__details\" dir={Translator.getDirection(this.context.language)}>\n\t\t\t\t\t<div css={itemNameWrapperStyle()} className=\"item__details__name\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t\t<p css={listItemName(this.context)}>{this.props.group.name}</p>\n\t\t\t\t\t\t<div css={listItemIcon()}>{groupTypeIcon}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={itemDescStyle(this.context)} className=\"item__details__desc\">{`${this.props.group.membersCount} ${Translator.translate(\"MEMBERS\", this.context.language)}`}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListItem.defaultProps = {\n\ttheme: theme,\n\tgroup: {},\n\tselectedGroup: {},\n\tclickHandler: () => { }\n};\n\nCometChatGroupListItem.propTypes = {\n\ttheme: PropTypes.object,\n\tselectedGroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tgroup: PropTypes.oneOfType([PropTypes.object, PropTypes.shape(CometChat.Group)]),\n\tclickHandler: PropTypes.func\n}\n\nexport { CometChatGroupListItem };\n","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"50%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[3]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n        height: \"31px\"\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",\n    }\n}\n\nexport const nameColumnStyle = (context, editAccess) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (editAccess === null) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        ...widthProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"180px\",\n        marginRight: \"8px\",\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatViewGroupMemberListItem } from \"../../Groups\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n    actionColumnStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatViewGroupMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(this.context.theme.breakPoints[1]);\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: \"\",\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateUserColumnTitle();\n\t}\n    \n\tcomponentDidUpdate(prevProps) {\n\t\tif (prevProps.lang !== this.props.lang) {\n\t\t\tthis.updateUserColumnTitle();\n\t\t}\n\t}\n\n\tupdateUserColumnTitle = () => {\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", this.props.lang);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", this.props.lang);\n\t\t}\n\n\t\tthis.setState({ userColumnTitle });\n\t};\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"BAN_GROUP_MEMBER\"]:\n\t\t\t\tthis.banMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUP_MEMBER\"]:\n\t\t\t\tthis.kickMember(member);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeScope(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tbanMember = memberToBan => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.banGroupMember(guid, memberToBan.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"BAN_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"], memberToBan);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tkickMember = memberToKick => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.kickGroupMember(guid, memberToKick.uid)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"], memberToKick);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tchangeScope = (member, scope) => {\n\t\tconst guid = this.context.item.guid;\n\t\tCometChat.updateGroupMemberScope(guid, member.uid, scope)\n\t\t\t.then(response => {\n\t\t\t\tif (response) {\n\t\t\t\t\tthis.context.setToastMessage(\"success\", \"SCOPECHANGE_GROUPMEMBER_SUCCESS\");\n\t\t\t\t\tconst updatedMember = Object.assign({}, member, { scope: scope });\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"], updatedMember);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n\t};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\t\tconst membersList = [...this.context.groupMembers];\n\n\t\tconst groupMembers = membersList.map((member, key) => {\n\t\t\treturn (\n\t\t\t\t<CometChatViewGroupMemberListItem\n\t\t\t\t\tloggedinuser={this.props.loggedinuser}\n\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\tkey={key}\n\t\t\t\t\tmember={member}\n\t\t\t\t\tenableChangeScope={this.props.enableChangeScope}\n\t\t\t\t\tenableBanGroupMembers={this.props.enableBanGroupMembers}\n\t\t\t\t\tenableKickGroupMembers={this.props.enableKickGroupMembers}\n\t\t\t\t\tactionGenerated={this.updateMembers}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\tlet editAccess = null;\n\t\tif (this.context.item.scope !== CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\t\t\teditAccess = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"ban\">\n\t\t\t\t\t\t{Translator.translate(\"BAN\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={actionColumnStyle(this.context)} className=\"kick\">\n\t\t\t\t\t\t{Translator.translate(\"KICK\", this.context.language)}\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\n\t\t\tif (this.props.enableKickGroupMembers === false && this.props.enableBanGroupMembers === false) {\n\t\t\t\teditAccess = null;\n\t\t\t}\n\t\t}\n\n\t\tthis.mq.addListener(editAccess => this.setUserColumnTitle(editAccess));\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.context)} className=\"modal__viewmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">\n\t\t\t\t\t\t\t{this.state.errorMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={modalListStyle()} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.context, editAccess)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{editAccess}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberList.defaultProps = {\n\ttheme: theme,\n\tuserColumnTitle: \"\",\n\tenableChangeScope: false,\n\tenableKickGroupMembers: false,\n\tenableBanGroupMembers: false\n};\n\nCometChatViewGroupMemberList.propTypes = {\n\ttheme: PropTypes.object,\n\tuserColumnTitle: PropTypes.string,\n\tenableChangeScope: PropTypes.bool,\n\tenableKickGroupMembers: PropTypes.bool,\n\tenableBanGroupMembers: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberList };","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    }\n}\n\nexport const nameColumnStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n\n        width: \"calc(100% - 180px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 140px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 180px)\",\n        }\n\n    } : {\n        width: \"calc(100% - 260px)\",\n        [mq[1]]: {\n            width: \"calc(100% - 220px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 260px)\",\n        },\n        [mq[3]]: {\n            width: \"calc(100% - 240px)\",\n        }\n    };\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        ...widthProp\n    }\n}\n\nexport const avatarStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const marginProp = (participantView) ? {\n        marginRight: \"8px\",\n    } : {\n        marginRight: \"8px\",\n        [mq[1]]: {\n            marginRight: \"0\",\n        }\n    };\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n        ...marginProp\n    }\n}\n\nexport const nameStyle = (context, participantView) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    const widthProp = (participantView) ? {\n        width: \"100%\"\n    } : {\n        width: \"calc(100% - 50px)\"\n    };\n\n    const displayProp = (participantView) ? {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"inline\"\n        }\n\n    } : {\n        display: \"inline\",\n        [mq[1]]: {\n            display: \"none\"\n        }\n    }\n    \n    return {\n        margin: \"8px 0\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        ...widthProp,\n        ...displayProp\n    }\n}\n\nexport const scopeColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: \"180px\",\n        \"img\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n        },\n        [mq[1]]: {\n            width: \"140px\"\n        },\n        [mq[2]]: {\n            width: \"180px\",\n        },\n        [mq[3]]: {\n            width: \"120px\",\n        }\n    }\n}\n\nexport const scopeWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        transition: \"opacity .1s linear\",\n        \"img\": {\n            margin: \"0px 4px\",\n        }\n    }\n}\n\nexport const scopeSelectionStyle = () => {\n\n    return {\n        width: \"65%\",\n        border: \"0\",\n        boxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n        borderRadius: \"8px\",\n        backgroundColor: `rgba(20, 20, 20, 0.04)`,\n        padding: \"8px\",\n        color: `rgba(20, 20, 20, 0.6)`,\n        float: \"left\",\n    }\n}\n\nexport const scopeIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const roleStyle = () => {\n\n    return {\n        fontSize: \"12px\",\n        maxWidth: \"calc(100% - 20px)\"\n    }\n}\n\nexport const actionColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"70px\",\n        [mq[1]]: {\n            width: \"40px\"\n        },\n        [mq[2]]: {\n            width: \"40px\"\n        }\n    }\n}\n\nexport const banIconStyle = (img, context) => {\n\n    return {\n        width: \"24px\",\n        height: \"24px\",\n        display: \"inline-block\",\n        cursor: \"pointer\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n}\n\nexport const kickIconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tcursor: \"pointer\",\n\t\tbackground: `url(${img}) center center no-repeat`,\n\t};\n};","export default __webpack_public_path__ + \"static/media/edit.35ebcb35.svg\";","export default __webpack_public_path__ + \"static/media/done.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","export default __webpack_public_path__ + \"static/media/delete.9436ff08.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalRowStyle,\n    nameColumnStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    scopeColumnStyle,\n    scopeIconStyle,\n    actionColumnStyle,\n    banIconStyle,\n    kickIconStyle,\n    scopeWrapperStyle,\n    scopeSelectionStyle\n} from \"./style\";\n\nimport scopeIcon from \"./resources/edit.svg\";\nimport doneIcon from \"./resources/done.svg\";\nimport clearIcon from \"./resources/close.svg\";\nimport banIcon from \"./resources/ban-member.svg\";\nimport kickIcon from \"./resources/delete.svg\";\n\nclass CometChatViewGroupMemberListItem extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n\n        super(props, context);\n\n        this.changeScopeDropDown = (\n            <select \n            className=\"members-scope-select\"\n            onChange={this.scopeChangeHandler}\n            defaultValue={this.props.member.scope}></select>\n        )\n\n        this.state = {\n            showChangeScope: false,\n            scope: null\n        }\n\n        this.roles = context.roles;\n    }\n\n    toggleChangeScope = (flag) => {\n        this.setState({ showChangeScope: flag });\n    }\n\n    scopeChangeHandler = (event) => {\n        this.setState({scope: event.target.value});\n    }\n\n    updateMemberScope = () => {\n        this.props.actionGenerated(enums.ACTIONS[\"CHANGE_SCOPE_GROUP_MEMBER\"], this.props.member, this.state.scope);\n        this.toggleChangeScope();\n    }\n\n    toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        \n        if (elem.classList.contains(\"name\")) {\n\n            const scrollWidth = elem.scrollWidth;\n            const clientWidth = elem.clientWidth;\n            \n            if (scrollWidth <= clientWidth) {\n                return false;\n            }\n        }\n\n        if(flag) {\n            elem.setAttribute(\"title\", this.props.member.name);\n        } else {\n            elem.removeAttribute(\"title\");\n        }\n    }\n\n    render() {\n\n        let editClassName = \"\";\n    \n        let name = this.props.member.name;\n        let scope = <span css={roleStyle()}>{this.context.roles[this.props.member.scope]}</span>;\n        let changescope = null;\n        let ban = (<i css={banIconStyle(banIcon, this.context)} title={Translator.translate(\"BAN\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"BAN_GROUP_MEMBER\"], this.props.member)}}></i>);\n        let kick = (<i css={kickIconStyle(kickIcon, this.context)} title={Translator.translate(\"KICK\", this.context.language)} onClick={() => { this.props.actionGenerated(enums.ACTIONS[\"KICK_GROUP_MEMBER\"], this.props.member)}}></i>);\n        \n\n        if(this.state.showChangeScope) {\n\n            let options = (\n                <React.Fragment>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    <option value={CometChat.GROUP_MEMBER_SCOPE.ADMIN}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.ADMIN]}</option>\n                </React.Fragment>\n            );\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR\n                && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n\n                options = (\n                    <React.Fragment>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT]}</option>\n                        <option value={CometChat.GROUP_MEMBER_SCOPE.MODERATOR}>{this.context.roles[CometChat.GROUP_MEMBER_SCOPE.MODERATOR]}</option>\n                    </React.Fragment>\n                );\n            }\n\n            changescope = (\n                <div css={scopeWrapperStyle()} className=\"scope__wrapper\">\n                    <select css={scopeSelectionStyle()} className=\"scope__select\" onChange={this.scopeChangeHandler} defaultValue={this.props.member.scope}>\n                        {options}\n                    </select>\n                    <i css={scopeIconStyle(doneIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={this.updateMemberScope}></i>\n                    <i css={scopeIconStyle(clearIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(false)}></i>\n                </div>\n            );\n\n        } else {\n\n            if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n                changescope = scope;\n            } else {\n                changescope = (\n                    <React.Fragment>\n                        {scope}\n                        <i css={scopeIconStyle(scopeIcon, this.context)} title={Translator.translate(\"CHANGE_SCOPE\", this.context.language)} onClick={() => this.toggleChangeScope(true)}></i>\n                    </React.Fragment>\n                );\n            }\n        }\n\n        //disable change scope, kick, ban of group owner\n        if (this.context.item.owner === this.props.member.uid) {\n            scope = (<span css={roleStyle()}>{Translator.translate(\"OWNER\", this.context.language)}</span>);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //disable change scope, kick, ban of self\n        if (this.props.loggedinuser.uid === this.props.member.uid) {\n            name = Translator.translate(\"YOU\", this.context.language);\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is moderator, don't allow to change scope, ban, kick group moderators or administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n        && (this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n\n        //if the loggedin user is administrator but not group owner, don't allow to change scope, ban, kick group administrators\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN\n        && this.context.item.owner !== this.props.loggedinuser.uid \n        && this.props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n            changescope = scope;\n            ban = null;\n            kick = null;\n        }\n        \n        let editAccess = null;\n        //if the loggedin user is participant, don't show the option to change scope, ban, or kick group members\n        if (this.context.item.scope === CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT) {\n            editAccess = null;\n            editClassName = \"true\";\n        } else {\n\n            editAccess = (\n                <React.Fragment>\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                </React.Fragment>\n            );\n\n            /**\n             * if kick and ban feature is disabled\n             */\n            if (this.props.enableBanGroupMembers === false && this.props.enableKickGroupMembers === false) {\n                editAccess = null;\n            } else if (this.props.enableBanGroupMembers === false) { //if ban feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"kick\">{kick}</div>\n                );\n            } else if (this.props.enableKickGroupMembers === false) { //if kick feature is disabled\n                editAccess = (\n                    <div css={actionColumnStyle(this.context)} className=\"ban\">{ban}</div>\n                );\n            }\n\n            /**\n             * if promote_demote_members feature is disabled\n             */\n            if (this.props.enableChangeScope === false) {\n                changescope = scope;\n            }\n        }\n\n        let userPresence = (\n            <CometChatUserPresence status={this.props.member.status} />\n        );\n        \n        return (\n            <div css={modalRowStyle(this.context)} className=\"content__row\">\n                <div css={nameColumnStyle(this.context, editClassName)} className=\"userinfo\">\n                    <div css={avatarStyle(this.context, editClassName)} className=\"thumbnail\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>\n                        <CometChatAvatar user={this.props.member} />\n                        {userPresence}\n                    </div>\n                    <div css={nameStyle(this.context, editClassName)} className=\"name\"\n                    onMouseEnter={event => this.toggleTooltip(event, true)}\n                    onMouseLeave={event => this.toggleTooltip(event, false)}>{name}</div>\n                </div>\n                <div css={scopeColumnStyle(this.context)} className=\"scope\">{changescope}</div>\n                {editAccess}\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatViewGroupMemberListItem.defaultProps = {\n\tloggedinuser: {},\n\tenableChangeScope: false,\n};\n\nCometChatViewGroupMemberListItem.propTypes = {\n\tloggedinuser: PropTypes.shape(CometChat.User),\n\tenableChangeScope: PropTypes.bool\n};\n\nexport { CometChatViewGroupMemberListItem };","import { CometChat } from \"@cometchat-pro/chat\";\n\nimport {UIKitSettings} from \"../../../util/UIKitSettings\";\n\nexport class AddMembersManager {\n\tmembersRequest = null;\n\tuserListenerId = new Date().getTime();\n\n\tconstructor(context, searchKey) {\n\n\t\tthis.context = context;\n\t\tthis.searchKey = searchKey;\n\t}\n\n\tinitializeMembersRequest = () => {\n\n\t\tconst userListMode = this.context.UIKitSettings.userListMode;\n\t\tconst userListModeOptions = UIKitSettings.userListFilterOptions;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tif (userListMode === userListModeOptions[\"ALL\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else if (userListMode === userListModeOptions[\"FRIENDS\"]) {\n\n\t\t\t\tif (this.searchKey) {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).setSearchKeyword(this.searchKey).build();\n\t\t\t\t} else {\n\t\t\t\t\tthis.membersRequest = new CometChat.UsersRequestBuilder().setLimit(30).friendsOnly(true).build();\n\t\t\t\t}\n\n\t\t\t\treturn resolve(this.membersRequest);\n\t\t\t} else {\n\t\t\t\treturn reject({message: \"Invalid filter for userlist\"});\n\t\t\t}\n\t\t});\n\t};\n\n\tfetchNextUsers() {\n\t\treturn this.membersRequest.fetchNext();\n\t}\n\n\tattachListeners(callback) {\n\t\tCometChat.addUserListener(\n\t\t\tthis.userListenerId,\n\t\t\tnew CometChat.UserListener({\n\t\t\t\tonUserOnline: onlineUser => {\n\t\t\t\t\t/* when someuser/friend comes online, user will be received here */\n\t\t\t\t\tcallback(onlineUser);\n\t\t\t\t},\n\t\t\t\tonUserOffline: offlineUser => {\n\t\t\t\t\t/* when someuser/friend went offline, user will be received here */\n\t\t\t\t\tcallback(offlineUser);\n\t\t\t\t},\n\t\t\t}),\n\t\t);\n\t}\n\n\tremoveListeners() {\n\t\tCometChat.removeUserListener(this.userListenerId);\n\t}\n}","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [mq[0]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[1]]: {\n            width: \"100%\",\n            height: \"100%\"\n        },\n        [mq[2]]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : { \n        textAlign: \"left\", \n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"16px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = (context) => {\n\n    return {\n        fontSize: \"12px\",\n        color: `${context.theme.color.red}`,\n        textAlign: \"center\",\n        margin: \"8px 0\",\n        width: \"100%\",\n    };\n}\n\nexport const modalSearchStyle = () => {\n\treturn {\n\t\tfontWeight: \"normal\",\n\t\tmarginBottom: \"16px\",\n\t\twidth: \"100%\",\n        height: \"35px\",\n\t\tborderRadius: \"8px\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.04) 0 0 0 1px inset\",\n\t\tbackgroundColor: \"rgba(20, 20, 20, 0.04)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\t};\n};\n\nexport const searchButtonStyle = (img, context) => {\n\n    return {\n        width: \"30px\",\n        height: \"100%\",\n        padding: \"8px\",\n        cursor: \"default\",\n        mask: `url(${img}) 10px center no-repeat`,\n        backgroundColor: `${context.theme.secondaryTextColor}!important`,\n    }\n}\n\nexport const searchInputStyle = () => {\n\n    return {\n        width: \"calc(100% - 30px)\",\n        height: \"100%\",\n        padding: \"8px\",\n        fontSize: \"15px\",\n        outline: \"none\",\n        border: \"none\",\n        backgroundColor: \"transparent\",\n    };\n}\n\nexport const modalListStyle = (context) => {\n\n    const mq = [...context.theme.breakPoints];\n\n    return {\n        height: \"calc(100% - 125px)\",\n        overflowY: \"auto\",\n        display: \"flex\",\n        width: \"100%\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalFootStyle = (props, state, img, context) => {\n\n    const loadingState = (state.addingMembers) ? {\n        disabled: \"true\",\n        pointerEvents: \"none\",\n        background: `url(${img}) ${context.theme.primaryColor} no-repeat right 10px center`,\n    } : {};\n\n    const textMargin = state.addingMembers ? { marginRight: \"24px\" } : {};\n    \n    return {\n        margin: \"24px auto 0 auto\",\n        \"button\": {\n            cursor: \"pointer\",\n            padding: \"8px 16px\",\n            backgroundColor: `${context.theme.primaryColor}`,\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontSize: \"14px\",\n            outline: \"0\",\n            border: \"0\",\n            ...loadingState,\n            \"span\": {\n                ...textMargin\n            }\n        },\n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = context => {\n\treturn {\n\t\tmargin: \"0\",\n\t\theight: \"30px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tfontSize: \"20px!important\",\n\t\tfontWeight: \"600\",\n\t};\n};","export default __webpack_public_path__ + \"static/media/adding.446449d0.svg\";","export default __webpack_public_path__ + \"static/media/search.61b1c747.svg\";","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { AddMembersManager } from \"./controller\";\n\nimport { CometChatAddGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalSearchStyle,\n    searchButtonStyle,\n    searchInputStyle,\n    modalListStyle,\n    modalFootStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle\n} from \"./style\";\n\nimport addingIcon from \"./resources/adding.svg\";\nimport searchIcon from \"./resources/search.svg\";\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatAddGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            userlist: [],\n            membersToAdd: [],\n            filteredlist: [],\n            addingMembers: false,\n            decoratorMessage: Translator.translate(\"LOADING\", context.language),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        this.AddMembersManager = new AddMembersManager(this.context);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.getUsers();\n            this.AddMembersManager.attachListeners(this.userUpdated);\n        });\n    }\n\n    componentWillUnmount() {\n\n        this.AddMembersManager.removeListeners();\n        this.AddMembersManager = null;\n    }\n\n    userUpdated = (user) => {\n        \n        let userlist = [...this.state.userlist];\n  \n        //search for user\n        let userKey = userlist.findIndex((u, k) => u.uid === user.uid);\n      \n        //if found in the list, update user object\n        if(userKey > -1) {\n\n            let userObj = userlist[userKey];\n            let newUserObj = Object.assign({}, userObj, user);\n            userlist.splice(userKey, 1, newUserObj);\n    \n            this.setState({ userlist: userlist });\n        }\n    }\n\n    handleScroll = (e) => {\n      const bottom =\n        Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n      if (bottom) this.getUsers();\n    }\n    \n    searchUsers = (e) => {\n  \n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n\n        let val = e.target.value;\n        \n        this.AddMembersManager = new AddMembersManager(this.context, val);\n        this.AddMembersManager.initializeMembersRequest().then(() => {\n\n            this.timeout = setTimeout(() => {\n                this.setState({ userlist: [], membersToAdd: [], membersToRemove: [], filteredlist: [], decoratorMessage: Translator.translate(\"LOADING\", this.context.language) }, () => this.getUsers());\n            }, 500);\n\t\t\t\t\t\t\t\n        });\n    }\n  \n    getUsers = () => {\n  \n        this.AddMembersManager.fetchNextUsers()\n            .then(userList => {\n                const filteredUserList = userList.filter(user => {\n                    const found = this.context.groupMembers.find(member => user.uid === member.uid);\n                    const foundbanned = this.context.bannedGroupMembers.find(member => user.uid === member.uid);\n                    if (found || foundbanned) {\n                        return false;\n                    }\n                    return true;\n                });\n\n                if (filteredUserList.length === 0) {\n                    this.setState({ decoratorMessage: Translator.translate(\"NO_USERS_FOUND\", this.context.language) });\n                }\n\n                this.setState({ userlist: [...this.state.userlist, ...userList], filteredlist: [...this.state.filteredlist, ...filteredUserList] });\n            })\n            .catch(error => this.setState({ decoratorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    membersUpdated = (user, userState) => {\n\n        if(userState) {\n\n            const members = [...this.state.membersToAdd];\n            members.push(user);\n            this.setState({membersToAdd: [...members]});\n\n        } else {\n\n            const membersToAdd = [...this.state.membersToAdd];\n            const IndexFound = membersToAdd.findIndex(member => member.uid === user.uid);\n            if(IndexFound > -1) {\n                membersToAdd.splice(IndexFound, 1);\n                this.setState({membersToAdd: [...membersToAdd]})\n            }\n        }\n    }\n\n    updateMembers = () => {\n        \n        const guid = this.context.item.guid;\n        const membersList = [];\n\n        this.state.membersToAdd.forEach(newmember => {\n            //if a selected member is already part of the member list, don't add\n            const IndexFound = this.context.groupMembers.findIndex(member => member.uid === newmember.uid);\n            if(IndexFound === -1) {\n                \n                const newMember = new CometChat.GroupMember(newmember.uid, CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT);\n                membersList.push(newMember);\n\n                newmember[\"type\"] = \"add\";\n            }\n        });\n\n        if(membersList.length) {\n\n            this.setState({ addingMembers: true });\n\n            const membersToAdd = [];\n            CometChat.addMembersToGroup(guid, membersList, []).then(response => {\n\n                if (Object.keys(response).length) {\n                        \n                    for (const member in response) {\n\n                        if(response[member] === \"success\") {\n\n                            const found = this.state.userlist.find(user => user.uid === member);\n                            found[\"scope\"] = CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT;\n                            membersToAdd.push(found);\n                        }\n                    }\n\n                    this.props.actionGenerated(enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"], membersToAdd);\n                }\n                this.setState({ addingMembers: false });\n                this.props.close();\n\n            }).catch(error => {\n                \n                this.setState({ addingMembers: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n                \n            });\n        }\n    }\n\n    render() {\n\n        const createText = this.state.addingMembers ? Translator.translate(\"ADDING\", this.context.language) : Translator.translate(\"ADD\", this.context.language);\n        let addGroupMemberBtn = (\n            <div css={modalFootStyle(this.props, this.state, addingIcon, this.context)} className=\"modal__addmembers\">\n                <button type=\"button\" onClick={this.updateMembers}><span>{createText}</span></button>\n            </div>\n        );\n\n        let messageContainer = null;\n        if (this.state.filteredlist.length === 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"members__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n            addGroupMemberBtn = null;\n        }\n\n        let currentLetter = \"\";\n        const filteredUserList = [...this.state.filteredlist];\n        const users = filteredUserList.map(user => {\n\n            const chr = user.name[0].toUpperCase();\n            let firstLetter = null;\n            if(chr !== currentLetter) {\n                currentLetter = chr;\n                firstLetter = currentLetter;\n            }\n\n            return (\n                <React.Fragment key={user.uid}>\n                    <CometChatAddGroupMemberListItem \n                    theme={this.props.theme}\n                    firstLetter={firstLetter}\n                    user={user}\n                    changed={this.membersUpdated} />\n                </React.Fragment>\n            )\n        });\n\n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__addmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"USERS\", this.context.language)}</div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n                        <div css={modalSearchStyle()} className=\"modal__search\">\n                            <button type=\"button\" className=\"search__button\" css={searchButtonStyle(searchIcon, this.context)} />\n                            <input\n                            type=\"text\"\n                            autoComplete=\"off\"\n                            css={searchInputStyle()}\n                            className=\"search__input\"\n                            placeholder={Translator.translate(\"SEARCH\", this.context.language)}\n                            onChange={this.searchUsers} />\n                        </div>\n                        {messageContainer}\n                        <div css={modalListStyle(this.context)} onScroll={this.handleScroll} className=\"modal__content\">{users}</div>\n                        {addGroupMemberBtn}\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatAddGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberList };\n","export const modalRowStyle = (theme) => {\n\n    return {\n        border: `1px solid ${theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        \"&:not(:last-child)\": {\n            borderBottom: \"none\"\n        }\n    }\n}\n\nexport const modalColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"calc(100% - 50px)\",\n    }\n}\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const selectionColumnStyle = () => {\n\n    return {\n        padding: \"8px\",\n        width: \"50px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    }\n}\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, theme) => {\n\n    return {\n        display: \"none\",\n        \" + label\": {\n            display: \"block\",\n            cursor: \"pointer\",\n            userSelect: \"none\",\n            padding: \"8px\",\n            width: \"100%\",\n            mask: `url(${inactiveStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        },\n        \"&:checked + label\": {\n            width: \"100%\",\n            mask: `url(${activeStateImg}) center center no-repeat`,\n            backgroundColor: `${theme.secondaryTextColor}`,\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import { useState, useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmodalRowStyle,\n\tmodalColumnStyle,\n\tavatarStyle,\n\tnameStyle,\n\tselectionColumnStyle,\n\tselectionBoxStyle\n} from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nconst CometChatAddGroupMemberListItem = (props) => {\n\n\tconst { groupMembers, theme } = useContext(CometChatContext);\n\n\tconst [checked, setChecked] = useState(() => {\n\t\tconst found = groupMembers.find(member => member.uid === props.user.uid);\n\t\tconst value = (found) ? true : false;\n\n\t\treturn value;\n\t});\n\n\tconst handleCheck = (event) => {\n\n\t\tconst value = (checked === true) ? false : true;\n\t\tsetChecked(value);\n\t\tprops.changed(props.user, value);\n\t}\n\n\tconst toggleTooltip = (event, flag) => {\n\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\t\t\n\t\tif(scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t}\n\t\n\treturn (\n\t\t<div css={modalRowStyle(theme)}>\n\t\t\t<div css={modalColumnStyle()} className=\"userinfo\" onMouseEnter={event => toggleTooltip(event, true)} onMouseLeave={event => toggleTooltip(event, false)}>\n\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t<CometChatAvatar user={props.user} />\n\t\t\t\t\t<CometChatUserPresence status={props.user.status} />\n\t\t\t\t</div>\n\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t{props.user.name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div css={selectionColumnStyle()} className=\"selection\">\n\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, theme)} type=\"checkbox\" checked={checked} id={props.user.uid + \"sel\"} onChange={handleCheck} />\n\t\t\t\t<label htmlFor={props.user.uid + \"sel\"}>&nbsp;</label>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Specifies the default values for props:\nCometChatAddGroupMemberListItem.defaultProps = {\n\ttheme: theme\n};\n\nCometChatAddGroupMemberListItem.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatAddGroupMemberListItem };","export const modalWrapperStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        minWidth: \"350px\",\n        minHeight: \"450px\",\n        width: \"40%\",\n        height: \"40%\",\n        overflow: \"hidden\",\n        backgroundColor: `${context.theme.backgroundColor.white}`,\n        position: \"fixed\",\n        left: \"50%\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: \"1002\",\n        margin: \"0 auto\",\n        boxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n        borderRadius: \"12px\",\n        display: \"block\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }\n}\n\nexport const modalCloseStyle = (img, context) => {\n\n    return {\n        position: \"absolute\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"50%\",\n        top: \"16px\",\n        right: \"16px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`,\n        cursor: \"pointer\",\n    }\n}\n\nexport const modalBodyStyle = () => {\n\n    return {\n        padding: \"24px\",\n        height: \"100%\",\n        width: \"100%\"\n    }\n}\n\nexport const modalCaptionStyle = (dir) => {\n\n    const textAlignStyle = (dir === \"rtl\") ? {\n        textAlign: \"right\",\n        paddingRight: \"32px\",\n    } : {\n        textAlign: \"left\",\n    };\n\n    return {\n        fontSize: \"20px\",\n        marginBottom: \"8px\",\n        fontWeight: \"bold\",\n        ...textAlignStyle,\n        width: \"100%\",\n    }\n}\n\nexport const modalErrorStyle = context => {\n\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\twidth: \"100%\",\n\t\theight: \"31px\",\n\t};\n};\n\nexport const modalListStyle = () => {\n\n    return {\n        width: \"100%\",\n        height: \"calc(100% - 70px)\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const listHeaderStyle = (context) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        fontWeight: \"bold\",\n        padding: \"8px\",\n        width: \"100%\",\n        border: `1px solid ${context.theme.borderColor.primary}`,\n    };\n}\n\nexport const nameColumnStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n    return {\n        width: \"calc(100% - 220px)\",\n        [mq[0]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[1]]: {\n            width: \"calc(100% - 185px)\",\n        },\n        [mq[2]]: {\n            width: \"calc(100% - 185px)\",\n        },\n    };\n}\n\nexport const roleColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"150px\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"115px\",\n\t\t},\n\t};\n};\n\nexport const actionColumnStyle = () => {\n\n    return {\n        width: \"70px\"\n    }\n}\n\nexport const listStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        width: \"100%\",\n        height: \"calc(100% - 33px)\",\n        overflowY: \"auto\",        \n    }\n}\n\nexport const contactMsgStyle = () => {\n\n    return {\n        overflow: \"hidden\",\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"55%\",\n    }\n}\n\nexport const contactMsgTxtStyle = (context) => {\n\n    return {\n        margin: \"0\",\n        height: \"30px\",\n        color: `${context.theme.color.secondary}`,\n        fontSize: \"20px!important\",\n        fontWeight: \"600\"\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatBanGroupMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    contactMsgStyle,\n    contactMsgTxtStyle,\n    modalErrorStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    nameColumnStyle,\n    roleColumnStyle,\n    actionColumnStyle,\n    listStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatBanGroupMemberList extends React.Component {\n\n    static contextType = CometChatContext;\n\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            membersToBan: [],\n            membersToUnBan: [],\n            decoratorMessage: Translator.translate(\"LOADING\", Translator.getDefaultLanguage()),\n            errorMessage: \"\"\n        }\n    }\n\n    componentDidMount() {\n\n        if (this.context.bannedGroupMembers.length === 0) {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    componentDidUpdate() {\n        \n        if (this.context.bannedGroupMembers.length === 0 && this.state.decoratorMessage === \"\") {\n            this.setState({ decoratorMessage: Translator.translate(\"NO_BANNED_MEMBERS_FOUND\", this.context.language) });\n        } else if (this.context.bannedGroupMembers.length && this.state.decoratorMessage.length) {\n            this.setState({ decoratorMessage: \"\" });\n        }\n    }\n\n    unbanMember = (memberToUnBan) => {\n\n        const guid = this.context.item.guid;\n        CometChat.unbanGroupMember(guid, memberToUnBan.uid).then(response => {\n            \n            if(response) {\n                this.props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"], [memberToUnBan]);\n            } else {\n                this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n            }\n\n        }).catch(error => this.setState({ errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) }));\n    }\n\n    updateMembers = (action, member) => {\n\n        switch(action) {\n            case enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"]:\n                this.unbanMember(member);\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleScroll = (e) => {\n\n        const bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n        if (bottom) {\n            this.props.actionGenerated(enums.ACTIONS[\"FETCH_BANNED_GROUP_MEMBERS\"]);\n        }\n    }\n    \n    render() {\n        \n        const membersList = [...this.context.bannedGroupMembers];\n        const bannedMembers = membersList.map((member, key) => {\n\n            return (\n                <CometChatBanGroupMemberListItem \n                key={member.uid} \n                member={member}\n                loggedinuser={this.props.loggedinuser}\n                actionGenerated={this.updateMembers} />);\n\n        });\n\n        let messageContainer = null;\n        if (this.state.decoratorMessage.length !== 0) {\n\n            messageContainer = (\n                <div css={contactMsgStyle()} className=\"bannedmembers__decorator-message\">\n                    <p css={contactMsgTxtStyle(this.context)} className=\"decorator-message\">{this.state.decoratorMessage}</p>\n                </div>\n            );\n        }\n        \n        return (\n            <React.Fragment>\n                <CometChatBackdrop show={true} clicked={this.props.close} />\n                <div css={modalWrapperStyle(this.context)} className=\"modal__bannedmembers\">\n                    <span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\n                    <div css={modalBodyStyle()} className=\"modal__body\">\n                        <div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">\n                            {Translator.translate(\"BANNED_MEMBERS\", this.context.language)}\n                        </div>\n                        <div css={modalErrorStyle(this.context)} className=\"modal__error\">\n                            {this.state.errorMessage}\n                        </div>\n\n                        <div css={modalListStyle()} className=\"modal__content\">\n                            <div css={listHeaderStyle(this.context)} className=\"content__header\">\n                                <div css={nameColumnStyle(this.props)} className=\"name\">\n                                    {Translator.translate(\"NAME\", this.context.language)}\n                                </div>\n                                <div css={roleColumnStyle(this.context)} className=\"role\">\n                                    {Translator.translate(\"SCOPE\", this.context.language)}\n                                </div>\n                                <div css={actionColumnStyle(this.context)} className=\"unban\">\n                                    {Translator.translate(\"UNBAN\", this.context.language)}\n                                </div>\n                            </div>\n                            {messageContainer}\n                            <div css={listStyle(this.props)} className=\"content__list\" onScroll={this.handleScroll}>\n                                {bannedMembers}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberList.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberList.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberList };\n","export const modalRowStyle = (context) => {\n\n    return {\n        borderLeft: `1px solid ${context.theme.borderColor.primary}`,\n        borderRight: `1px solid ${context.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${context.theme.borderColor.primary}`,\n        display: \"flex\",\n        width: \"100%\",\n        fontSize: \"14px\",\n        flexDirection: \"row\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        padding: \"8px\",\n    };\n}\n\nexport const userStyle = context => {\n    \n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\n\treturn {\n\t\twidth: \"calc(100% - 220px)\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 185px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        float: \"left\",\n        width: \"36px\",\n        height: \"36px\",\n        marginRight: \"8px\",\n    }\n}\n\nexport const nameStyle = () => {\n\n    return {\n        margin: \"10px 0 0 0\",\n        width: \"calc(100% - 50px)\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\"\n    }\n}\n\nexport const roleStyle = (context) => {\n\n    const mq = context.theme.breakPoints.map(x => `${x}`);\n\n    return {\n        width: \"150px\",\n        fontSize: \"12px\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"115px\"\n        }\n    }\n}\n\nexport const actionStyle = (img, context) => {\n\n    return {\n        width: \"70px\",\n        \"i\": {\n            width: \"24px\",\n            height: \"24px\",\n            cursor: \"pointer\",\n            mask: `url(${img}) center center no-repeat`,\n            backgroundColor: `${context.theme.secondaryTextColor}`,\n            display: \"inline-block\"\n        },\n    };\n}","export default __webpack_public_path__ + \"static/media/ban-member.f8856b3d.svg\";","import { useContext } from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n    modalRowStyle,\n    userStyle,\n    avatarStyle,\n    nameStyle,\n    roleStyle,\n    actionStyle\n} from \"./style\";\n\nimport unban from \"./resources/ban-member.svg\";\n\nconst CometChatBanGroupMemberListItem = (props) => {\n\n    const context = useContext(CometChatContext);\n\n    let name = props.member.name;\n    let scope = context.roles[props.member.scope];\n    let unBan = (<i title={Translator.translate(\"UNBAN\", context.language)} onClick={() => { props.actionGenerated(enums.ACTIONS[\"UNBAN_GROUP_MEMBER\"], props.member)}} />);\n\n    //if the loggedin user is moderator, don't allow unban of banned moderators or administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR \n    && (props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN || props.member.scope === CometChat.GROUP_MEMBER_SCOPE.MODERATOR)) {\n        unBan = null;\n    }\n\n    //if the loggedin user is administrator, don't allow unban of banned administrators\n    if (context.item.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN && props.member.scope === CometChat.GROUP_MEMBER_SCOPE.ADMIN) {\n        if (context.item.owner !== props.loggedinuser.uid) {\n            unBan = null;\n        }\n    }\n\n    const toggleTooltip = (event, flag) => {\n\n        const elem = event.currentTarget;\n        const nameContainer = elem.lastChild;\n    \n        const scrollWidth = nameContainer.scrollWidth;\n        const clientWidth = nameContainer.clientWidth;\n        \n        if(scrollWidth <= clientWidth) {\n          return false;\n        }\n    \n        if(flag) {\n          nameContainer.setAttribute(\"title\", nameContainer.textContent);\n        } else {\n          nameContainer.removeAttribute(\"title\");\n        }\n    }\n    \n    return (\n        <div css={modalRowStyle(context)}>\n            <div css={userStyle(context)} className=\"userinfo\"\n            onMouseEnter={event => toggleTooltip(event, true)}\n            onMouseLeave={event => toggleTooltip(event, false)}>\n                <div css={avatarStyle()} className=\"avatar\">\n                    <CometChatAvatar user={props.member} />\n                    <CometChatUserPresence\n                    status={props.member.status}\n                    borderColor={props.theme.borderColor.primary} />\n                </div>\n                <div css={nameStyle()} className=\"name\">{name}</div>\n            </div>\n            <div css={roleStyle(context)} className=\"role\">{scope}</div>\n            <div css={actionStyle(unban, context)} className=\"unban\">{unBan}</div>\n        </div>\n    );\n}\n\n// Specifies the default values for props:\nCometChatBanGroupMemberListItem.defaultProps = {\n    theme: theme\n};\n\nCometChatBanGroupMemberListItem.propTypes = {\n    theme: PropTypes.object\n}\n\nexport { CometChatBanGroupMemberListItem };\n","export const groupScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const groupScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \".groups\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const groupScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatGroupList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tgroupScreenStyle,\n\tgroupScreenSidebarStyle,\n\tgroupScreenMainStyle,\n} from \"./style\"\n\nclass CometChatGroupListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.groupListRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (group, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, group);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t*/\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, {\"scope\": options[\"scope\"]})\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"groups\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={groupScreenStyle(this.props)} className=\"cometchat cometchat--groups\">\n\t\t\t\t\t<div css={groupScreenSidebarStyle(this.state, this.props)} className=\"groups__sidebar\">\n\t\t\t\t\t\t<CometChatGroupList ref={el => (this.groupListRef = el)} _parent=\"glwm\" theme={this.props.theme} lang={this.props.lang} onItemClick={this.itemClicked} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={groupScreenMainStyle(this.state, this.props)} className=\"groups__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatGroupListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithGroup: \"\",\n};\n\nCometChatGroupListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatGroupListWithMessages };","export const modalWrapperStyle = (props, context) => {\n\n\tconst mq = [`@media (min-width : 320px) and (max-width: 767px)`];\n\treturn {\n\t\tminWidth: \"350px\",\n\t\tminHeight: \"450px\",\n\t\twidth: \"40%\",\n\t\theight: \"40%\",\n\t\toverflow: \"hidden\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tposition: \"fixed\",\n\t\tleft: \"50%\",\n\t\ttop: \"50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t\tzIndex: \"1002\",\n\t\tmargin: \"0 auto\",\n\t\tboxShadow: \"rgba(20, 20, 20, 0.2) 0 16px 32px, rgba(20, 20, 20, 0.04) 0 0 0 1px\",\n\t\tborderRadius: \"12px\",\n\t\tdisplay: \"block\",\n\t\t[mq[0]]: {\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t},\n\t};\n};\n\nexport const modalCloseStyle = (img, context) => {\n\treturn {\n\t\tposition: \"absolute\",\n\t\twidth: \"32px\",\n\t\theight: \"32px\",\n\t\tborderRadius: \"50%\",\n\t\ttop: \"16px\",\n\t\tright: \"16px\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcursor: \"pointer\",\n\t};\n};\n\nexport const modalBodyStyle = () => {\n\treturn {\n\t\tpadding: \"24px\",\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalCaptionStyle = dir => {\n\tconst textAlignStyle =\n\t\tdir === \"rtl\" ? {\n\t\t\ttextAlign: \"right\",\n\t\t\tpaddingRight: \"32px\",\n\t\t}\n\t\t: {\n\t\t\ttextAlign: \"left\",\n\t\t};\n\n\treturn {\n\t\tfontSize: \"20px\",\n\t\tmarginBottom: \"8px\",\n\t\tfontWeight: \"bold\",\n\t\t...textAlignStyle,\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalErrorStyle = context => {\n\treturn {\n\t\tfontSize: \"12px\",\n\t\tcolor: `${context.theme.color.red}`,\n\t\ttextAlign: \"center\",\n\t\tpadding: \"8px 0\",\n\t\theight: \"31px\",\n\t\twidth: \"100%\",\n\t};\n};\n\nexport const modalListStyle = (context) => {\n\treturn {\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 120px)\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t};\n};\n\nexport const listHeaderStyle = context => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tfontWeight: \"bold\",\n\t\tpadding: \"8px\",\n\t\twidth: \"100%\",\n\t\tborder: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const listStyle = () => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"flex-start\",\n\t\twidth: \"100%\",\n\t\theight: \"calc(100% - 100px)\",\n\t\toverflowY: \"auto\",\n\t};\n};\n\nexport const nameColumnStyle = (props, context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const scopeColumnStyle = (context) => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n};\n\n\n\nexport const modalFootStyle = (state, context, img) => {\n\n\tconst btnState = !state.newGroupOwner || state.transferringOwnership ? { \n\t\tdisabled: \"true\",\n\t\tpointerEvents: \"none\",\n\t} : {};\n\n\tconst loadingState = state.transferringOwnership ? {\n\t\tbackground: `url(${img}) no-repeat right 10px center ${context.theme.backgroundColor.blue}`,\n\t} : {};\n\n\tconst textMargin = state.transferringOwnership ? { marginRight: \"24px\" } : {};\n\n\treturn {\n\t\tpaddingTop: \"24px\",\n\t\ttextAlign: \"center\",\n\t\tbutton: {\n\t\t\tcursor: \"pointer\",\n\t\t\tpadding: \"8px 16px\",\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.blue}`,\n\t\t\tborderRadius: \"5px\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tfontSize: \"14px\",\n\t\t\toutline: \"0\",\n\t\t\tborder: \"0\",\n\t\t\t...btnState,\n\t\t\t...loadingState,\n\t\t\tspan: {\n\t\t\t\t...textMargin,\n\t\t\t},\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","export default __webpack_public_path__ + \"static/media/transferring.446449d0.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatTransferOwnershipMemberListItem } from \"../\";\nimport { CometChatBackdrop } from \"../../Shared\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatContext } from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    modalWrapperStyle,\n    modalCloseStyle,\n    modalBodyStyle,\n    modalCaptionStyle,\n    modalListStyle,\n    listHeaderStyle,\n    listStyle,\n    nameColumnStyle,\n    scopeColumnStyle,\n\tmodalFootStyle,\n\tmodalErrorStyle\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\nimport transferIcon from \"./resources/transferring.svg\";\n\nclass CometChatTransferOwnershipMemberList extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis._isMounted = false;\n\t\tconst chatWindow = context.UIKitSettings.chatWindow;\n\t\tthis.mq = chatWindow.matchMedia(context.theme.breakPoints[1]);\n\n\t\tlet userColumnTitle = Translator.translate(\"NAME\", context.language);\n\t\tif (this.mq.matches) {\n\t\t\tuserColumnTitle = Translator.translate(\"AVATAR\", context.language);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tuserColumnTitle: userColumnTitle,\n\t\t\tnewGroupOwner: null,\n\t\t\ttransferringOwnership: false,\n\t\t\terrorMessage: \"\",\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\thandleScroll = e => {\n\t\tconst bottom = Math.round(e.currentTarget.scrollHeight - e.currentTarget.scrollTop) === Math.round(e.currentTarget.clientHeight);\n\t\tif (bottom) {\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"FETCH_GROUP_MEMBERS\"]);\n\t\t}\n\t};\n\n\tupdateMembers = (action, member, scope) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CHANGE_OWNERSHIP_GROUP_MEMBER\"]:\n\t\t\t\tthis.changeOwnership(member, scope);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tupdateGroupOwner = member => {\n\t\tthis.setState({ newGroupOwner: member?.uid });\n\t};\n\n\ttransferOwnership = () => {\n\n\t\tconst guid = this.context?.item?.guid;\n\t\tconst uid = this.state.newGroupOwner;\n\n\t\tif (!guid || !uid) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.setState({ transferringOwnership: true });\n\t\tCometChat.transferGroupOwnership(guid, uid).then(response => {\n\t\t\tthis.setState({ transferringOwnership: false });\n\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"OWNERSHIP_TRANSFERRED\"], uid);\n\n\t\t}).catch(error => {\n\t\t\tthis.setState({ transferringOwnership: false, errorMessage: Translator.translate(\"SOMETHING_WRONG\", this.context.language) });\n\t\t});\n\t};\n\n\tchangeOwnership = () => {};\n\n\tsetUserColumnTitle = editAccess => {\n\t\tif (this._isMounted) {\n\t\t\tif (editAccess !== null && this.mq.matches) {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"AVATAR\", this.context.language) });\n\t\t\t} else {\n\t\t\t\tthis.setState({ userColumnTitle: Translator.translate(\"NAME\", this.context.language) });\n\t\t\t}\n\t\t}\n\t};\n\n\trender() {\n\n\t\tconst memberList = [...this.context.groupMembers];\n\t\tconst groupMembers = memberList\n\t\t\t.filter(member => member?.uid !== this.props?.loggedinuser?.uid)\n\t\t\t.map(member => {\n\t\t\t\treturn <CometChatTransferOwnershipMemberListItem loggedinuser={this.props.loggedinuser} key={member?.uid} checked={this.updateGroupOwner} member={member} actionGenerated={this.updateMembers} />;\n\t\t\t});\n\n\t\tlet transferBtn = null;\n\t\tif(memberList.length) {\n\n\t\t\tconst transferText = this.state.transferringOwnership ? Translator.translate(\"TRANSFERRING\", this.context.language) : Translator.translate(\"TRANSFER\", this.context.language);\n\t\t\ttransferBtn = (\n\t\t\t\t<div css={modalFootStyle(this.state, this.context, transferIcon)} className=\"modal__transferownership\">\n\t\t\t\t\t<button type=\"button\" onClick={this.transferOwnership}>\n\t\t\t\t\t\t<span>{transferText}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<CometChatBackdrop show={true} clicked={this.props.close} />\n\t\t\t\t<div css={modalWrapperStyle(this.props, this.context)} className=\"modal__groupmembers\">\n\t\t\t\t\t<span css={modalCloseStyle(clearIcon, this.context)} className=\"modal__close\" onClick={this.props.close} title={Translator.translate(\"CLOSE\", this.context.language)}></span>\n\t\t\t\t\t<div css={modalBodyStyle()} className=\"modal__body\">\n\t\t\t\t\t\t<div css={modalCaptionStyle(Translator.getDirection(this.context.language))} className=\"modal__title\">{Translator.translate(\"GROUP_MEMBERS\", this.context.language)}</div>\n\t\t\t\t\t\t<div css={modalErrorStyle(this.context)} className=\"modal__error\">{this.state.errorMessage}</div>\n\t\t\t\t\t\t<div css={modalListStyle(this.context)} className=\"modal__content\">\n\t\t\t\t\t\t\t<div css={listHeaderStyle(this.context)} className=\"content__header\">\n\t\t\t\t\t\t\t\t<div css={nameColumnStyle(this.props, this.context)} className=\"name\">\n\t\t\t\t\t\t\t\t\t{this.state.userColumnTitle}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div css={scopeColumnStyle(this.context)} className=\"scope\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"SCOPE\", this.context.language)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={listStyle()} className=\"content__list\" onScroll={this.handleScroll}>\n\t\t\t\t\t\t\t\t{groupMembers}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{transferBtn}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberList };\n","export const modalRowStyle = (props, context) => {\n\treturn {\n\t\tdisplay: \"flex\",\n\t\twidth: \"100%\",\n\t\tfontSize: \"14px\",\n\t\tpadding: \"8px\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tborderLeft: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderRight: `1px solid ${context.theme.borderColor.primary}`,\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t};\n};\n\nexport const modalColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"calc(100% - 180px)\",\n\t\t[mq[1]]: {\n\t\t\twidth: \"calc(100% - 140px)\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"calc(100% - 180px)\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"calc(100% - 120px)\",\n\t\t},\n\t};\n};\n\nexport const avatarStyle = () => {\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfloat: \"left\",\n\t\twidth: \"36px\",\n\t\theight: \"36px\",\n\t\tmarginRight: \"8px\",\n\t};\n};\n\nexport const nameStyle = () => {\n\treturn {\n\t\tmargin: \"10px\",\n\t\twidth: \"calc(100% - 50px)\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\twhiteSpace: \"nowrap\",\n\t};\n};\n\nexport const selectionColumnStyle = context => {\n\n\tconst mq = context.theme.breakPoints.map(x => `@media ${x}`);\n\treturn {\n\t\twidth: \"180px\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t\"span\": {\n\t\t\tfontSize: \"12px\",\n\t\t\tdisplay: \"block\",\n\t\t\tpaddingRight: \"8px\",\n\t\t},\n\t\t[mq[1]]: {\n\t\t\twidth: \"140px\",\n\t\t},\n\t\t[mq[2]]: {\n\t\t\twidth: \"180px\",\n\t\t},\n\t\t[mq[3]]: {\n\t\t\twidth: \"120px\",\n\t\t},\n\t};\n\n};\n\nexport const selectionBoxStyle = (inactiveStateImg, activeStateImg, context) => {\n\treturn {\n\t\tdisplay: \"none\",\n\t\t\" + label\": {\n\t\t\tdisplay: \"block\",\n\t\t\tcursor: \"pointer\",\n\t\t\tmask: `url(${inactiveStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tuserSelect: \"none\",\n\t\t\tpadding: \"8px\",\n\t\t},\n\t\t\"&:checked + label\": {\n\t\t\tmask: `url(${activeStateImg}) center center no-repeat`,\n\t\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\t\tpadding: \"8px\",\n\t\t},\n\t};\n};","export default __webpack_public_path__ + \"static/media/group-member-unselect.ecb59147.svg\";","export default __webpack_public_path__ + \"static/media/group-member-select.301a1077.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatAvatar, CometChatUserPresence } from \"../../Shared\";\n\nimport { modalRowStyle, modalColumnStyle, avatarStyle, nameStyle, selectionColumnStyle, selectionBoxStyle } from \"./style\";\n\nimport inactiveIcon from \"./resources/group-member-unselect.svg\";\nimport activeIcon from \"./resources/group-member-select.svg\";\n\nclass CometChatTransferOwnershipMemberListItem extends React.Component {\n\tstatic contextType = CometChatContext;\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleCheck = e => {\n\t\t\n\t\tthis.setState(this.toggleSelectedState);\n\t\tthis.props.checked(this.props.member);\n\t};\n\n\ttoggleSelectedState = state => {\n\t\treturn {\n\t\t\tisSelected: !state.isSelected,\n\t\t};\n\t};\n\n\ttoggleTooltip = (event, flag) => {\n\t\tconst elem = event.currentTarget;\n\t\tconst nameContainer = elem.lastChild;\n\n\t\tconst scrollWidth = nameContainer.scrollWidth;\n\t\tconst clientWidth = nameContainer.clientWidth;\n\n\t\tif (scrollWidth <= clientWidth) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (flag) {\n\t\t\tnameContainer.setAttribute(\"title\", nameContainer.textContent);\n\t\t} else {\n\t\t\tnameContainer.removeAttribute(\"title\");\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div css={modalRowStyle(this.props, this.context)}>\n\t\t\t\t<div css={modalColumnStyle(this.context)} className=\"memberinfo\" onMouseEnter={event => this.toggleTooltip(event, true)} onMouseLeave={event => this.toggleTooltip(event, false)}>\n\t\t\t\t\t<div css={avatarStyle()} className=\"avatar\">\n\t\t\t\t\t\t<CometChatAvatar user={this.props.member} />\n\t\t\t\t\t\t<CometChatUserPresence status={this.props.member.status} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={nameStyle()} className=\"name\">\n\t\t\t\t\t\t{this.props.member.name}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div css={selectionColumnStyle(this.context)} className=\"selection\">\n\t\t\t\t\t<span>{this.context.roles[this.props.member.scope]}</span>\n\t\t\t\t\t<input css={selectionBoxStyle(inactiveIcon, activeIcon, this.context)} type=\"radio\" name=\"transferOwnership\" checked={this.state.checked} id={this.props.member.uid + \"sel\"} onChange={this.handleCheck} />\n\t\t\t\t\t<label htmlFor={this.props.member.uid + \"sel\"}>&nbsp;</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { CometChatTransferOwnershipMemberListItem };","export const chatWrapperStyle = (props, state) => {\n\n\tlet borderStyle = {};\n\tif (props._parent.trim().length === 0) {\n\t\tif (state.viewdetailscreen || state.threadmessageview) {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t} else {\n\t\t\tborderStyle = {\n\t\t\t\tborderLeft: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderRight: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t\tborderBottom: `1px solid ${props.theme.borderColor.primary}`,\n\t\t\t};\n\t\t}\n\t}\n\n\tconst mq = [...props.theme.breakPoints];\n\n\tconst secondaryViewWidth = (state.threadmessageview || state.viewdetailscreen) ? {\n        width: \"calc(100% - 400px)\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        },\n        [`@media ${mq[3]}, ${mq[4]}`]: {\n            width: \"0\",\n            display: \"none\",\n        },\n    } : {\n        width: \"100%\",\n    };\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tposition: \"relative\",\n\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t...borderStyle,\n\t\t...secondaryViewWidth,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${props.theme.fontFamily}`,\n\t\t\t\"::-webkit-scrollbar\": {\n\t\t\t\twidth: \"8px\",\n\t\t\t\theight: \"4px\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-track\": {\n\t\t\t\tbackground: \"#ffffff00\",\n\t\t\t},\n\t\t\t\"::-webkit-scrollbar-thumb\": {\n\t\t\t\tbackground: \"#ccc\",\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackground: \"#aaa\",\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const chatSecondaryStyle = (props) => {\n\n    const borderStyle = (props._parent.trim().length === 0) ? {\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        float: \"right\",\n        borderLeft: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        width: \"400px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        order: \"3\",\n        ...borderStyle,\n        [`@media ${mq[1]}, ${mq[2]}, ${mq[3]}, ${mq[4]}`]: {\n            position: \"absolute!important\",\n            right: \"0!important\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n        }\n    }\n}\n\nexport const reactionsWrapperStyle = () => {\n\n    return {\n        position: \"absolute\", \n        width: \"100%\", \n        height: \"100%\", \n        top: \"0\", \n        right: \"0\",\n        zIndex: \"2\",\n        display: \"flex\",\n        justifyContent: \"left\",\n        alignItems: \"center\"\n    }\n}\n\n\nexport const messagePaneTopStyle = () => {\n\n    return {\n        top: \"75px\",\n        position: \"absolute\",\n        width: \"auto\",\n        right: \"auto\",\n        left: \"50%\",\n        fontWeight: \"700\",\n        zIndex: \"200\",\n        transform: \"translateX(-50%)\",\n    }\n}\n\nexport const messagePaneBannerStyle = props => {\n\n\treturn {\n\t\tmarginBottom: \"0\",\n\t\tdisplay: \"block\",\n\t\tfontSize: \"13px\",\n\t\tflex: \"1\",\n\t\tbackground: `${props.theme.color.blue}`,\n\t\tborderRadius: \"6px\",\n\t\tzIndex: 200,\n\t};\n};\n\nexport const messagePaneUnreadBannerStyle = () => {\n\n    return {\n        height: \"28px\",\n        borderRadius: \"14px\",\n        display: \"flex\",\n        flex: \"1\",\n        alignItems: \"center\",\n    }\n}\n\nexport const messagePaneUnreadBannerMessageStyle = props => {\n\n\treturn {\n\t\tpadding: \"0 16px\",\n\t\tflex: \"1\",\n\t\ttextAlign: \"center\",\n\t\ttextShadow: \"0 1px rgba(0, 0, 0, .15)\",\n\t\twhiteSpace: \"nowrap\",\n\t\toverflow: \"hidden\",\n\t\ttextOverflow: \"ellipsis\",\n\t\tcolor: `${props.theme.color.white}`,\n\t};\n};\n\nexport const iconArrowDownStyle = () => {\n\n    return {\n        position: \"relative\",\n        display: \"inline-flex\",\n        height: \"20px\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: \"8px\",\n    }\n}\n\nexport const chatContainerStyle = () => {\n\n    return {\n        display: \"flex\", \n        width: \"100%\", \n        height: \"100%\"\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport {CometChat} from \"@cometchat-pro/chat\";\n\nimport {\n\tCometChatMessageHeader, \n\tCometChatMessageList, \n\tCometChatMessageComposer, \n\tCometChatLiveReactions, \n\tCometChatMessageThread, \n\tCometChatImageViewer,\n\tCometChatBlockedUser\n} from \"../\";\n\nimport {\n\tCometChatIncomingCall, \n\tCometChatOutgoingCall, \n\tCometChatOutgoingDirectCall, \n\tCometChatIncomingDirectCall\n} from \"../../Calls\";\n\nimport {CometChatUserDetails} from \"../../Users\";\nimport {CometChatGroupDetails} from \"../../Groups\";\nimport { CometChatToastNotification } from \"../../Shared\";\n\nimport {CometChatContextProvider, CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport {checkMessageForExtensionsData} from \"../../../util/common\";\nimport {SoundManager} from \"../../../util/SoundManager\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tchatWrapperStyle, \n\tchatSecondaryStyle, \n\treactionsWrapperStyle, \n\tmessagePaneTopStyle, \n\tmessagePaneBannerStyle, \n\tmessagePaneUnreadBannerStyle, \n\tmessagePaneUnreadBannerMessageStyle, \n\ticonArrowDownStyle, \n\tchatContainerStyle\n} from \"./style\";\n\nclass CometChatMessages extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\tmessageToBeEdited: \"\",\n\t\t\treplyPreview: null,\n\t\t\tliveReaction: false,\n\t\t\tmessageToReact: null,\n\t\t\tunreadMessages: [],\n\t\t\tviewdetailscreen: false,\n\t\t\tthreadmessageview: false,\n\t\t\tthreadmessagetype: null,\n\t\t\tthreadmessageitem: {},\n\t\t\tthreadmessageparent: {},\n\t\t\tviewOriginalImage: false,\n\t\t\tenableGroupActionMessages: false,\n\t\t\tenableCallActionMessages: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.composerRef = React.createRef();\n\t\tthis.messageListRef = React.createRef();\n\t\tthis.outgoingCallRef = React.createRef();\n\t\tthis.outgoingDirectCallRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.reactionName = \"heart\";\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().item;\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (Object.keys(this.item).length) {\n\t\t\tconst ifChatWindowChanged = () => {\n\t\t\t\tlet output = false;\n\n\t\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER && (this.getContext().item.uid !== this.item.uid || this.getContext().item.blockedByMe !== this.item.blockedByMe)) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.item.guid) {\n\t\t\t\t\toutput = true;\n\t\t\t\t} else if (this.type !== this.getContext().type) {\n\t\t\t\t\toutput = true;\n\t\t\t\t}\n\n\t\t\t\treturn output;\n\t\t\t};\n\n\t\t\tif (ifChatWindowChanged() === true) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, messageToBeEdited: \"\", threadmessageview: false, viewdetailscreen: false, unreadMessages: [] });\n\t\t\t}\n\t\t}\n\n\t\tthis.type = this.getContext().type;\n\t\tthis.item = this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER || CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item : {};\n\n\t\tthis.enableGroupActionMessages();\n\t\tthis.enableCallActionMessages();\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\t/**\n\t\t * Custom message to be appended or updated for direct calling\n\t\t */\n\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\tif (\n\t\t\t\tObject.keys(this.getContext().directCallCustomMessage).length &&\n\t\t\t\tthis.getContext().directCallCustomMessageAction.trim().length &&\n\t\t\t\t(this.getContext().directCallCustomMessage !== this.directCallCustomMessage || this.getContext().directCallCustomMessageAction !== this.directCallCustomMessageAction)\n\t\t\t) {\n\t\t\t\tconst customMessage = this.getContext().directCallCustomMessage;\n\t\t\t\tconst messageAction = this.getContext().directCallCustomMessageAction.trim();\n\n\t\t\t\tswitch (messageAction) {\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t\t\tthis.appendMessage(customMessage);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]: {\n\t\t\t\t\t\tthis.messageSent(customMessage);\n\t\t\t\t\t\t//this.getContext().setLastMessage(customMessage[0]);\n\t\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...customMessage[0] });\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.getContext().setDirectCallCustomMessage({}, \"\");\n\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.directCallCustomMessage = this.getContext().directCallCustomMessage;\n\t\t\tthis.directCallCustomMessageAction = this.getContext().directCallCustomMessageAction.trim();\n\t\t}\n\t}\n\n\tenableGroupActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableGroupActionMessages) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableGroupActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableGroupActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableCallActionMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isCallActionMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\t/**\n\t\t\t\t * Don't update state if the response has the same value\n\t\t\t\t */\n\t\t\t\tif (response !== this.state.enableCallActionMessages) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableCallActionMessages !== false) {\n\t\t\t\t\tthis.setState({ enableCallActionMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tgetContext = () => {\n\t\tif (this.props._parent.length) {\n\t\t\treturn this.context;\n\t\t} else {\n\t\t\treturn this.contextProviderRef.state;\n\t\t}\n\t};\n\n\tactionHandler = (action, messages, key, group, options) => {\n\n\t\tswitch (action) \n\t\t{\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.parentMessageId) {\n\t\t\t\t\t\tthis.updateReplyCount(messages);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\n\t\t\t\t\tSoundManager.play(enums.CONSTANTS.AUDIO[\"INCOMING_MESSAGE\"], this.getContext());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_READ\"]: {\n\t\t\t\tif (this.props?.actionGenerated) {\n\t\t\t\t\tthis.props?.actionGenerated(action, messages);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]: {\n\t\t\t\tthis.appendMessage(messages);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...messages[0] });\n\t\t\t\t//this.getContext().setLastMessage(messages[0]);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]: {\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\t//update the parent message of thread message\n\t\t\t\tthis.updateParentThreadedMessage(key, \"edit\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]: {\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\t//remove the thread message\n\t\t\t\tthis.updateParentThreadedMessage(messages[0], \"delete\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"MESSAGES_FETCHED\"]:\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REFRESHING_MESSAGES\"]:\n\t\t\t\tthis.refreshingMessages();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_REFRESHED\"]:\n\t\t\t\tthis.messageRefreshed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"NEW_MESSAGES\"]:\n\t\t\t\tthis.newMessagesArrived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_UNREAD_MESSAGES\"]:\n\t\t\t\tthis.jumpToMessages(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_UNBANNED:\n\t\t\tcase enums.GROUP_MEMBER_ADDED:\n\t\t\tcase enums.GROUP_MEMBER_LEFT:\n\t\t\tcase enums.GROUP_MEMBER_JOINED:\n\t\t\t\tthis.groupUpdated(action, messages, group, options);\n\t\t\t\tbreak;\n\t\t\tcase enums.INCOMING_CALL_RECEIVED:\n\t\t\tcase enums.INCOMING_CALL_CANCELLED:\n\t\t\tcase enums.OUTGOING_CALL_ACCEPTED:\n\t\t\tcase enums.OUTGOING_CALL_REJECTED:\n\t\t\t\tthis.appendCallMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_AUDIO_CALL\"]:\n\t\t\t\tthis.audioCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INITIATE_VIDEO_CALL\"]:\n\t\t\t\tthis.videoCall();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_GROUP_DETAIL\"]:\n\t\t\tcase enums.ACTIONS[\"CLOSE_USER_DETAIL\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleDetailView();\n\t\t\t\tthis.props.actionGenerated(action);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SEND_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(true);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"STOP_LIVE_REACTION\"]:\n\t\t\t\tthis.toggleReaction(false);\n\t\t\t\tbreak;\n\t\t\tcase enums.TRANSIENT_MESSAGE_RECEIVED:\n\t\t\t\tthis.liveReactionReceived(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"USER_JOINED_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"USER_LEFT_CALL\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"OUTGOING_CALL_CANCELLED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ACCEPTED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"INCOMING_CALL_REJECTED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ENDED\"]:\n\t\t\tcase enums.ACTIONS[\"DIRECT_CALL_ERROR\"]:\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"JOIN_DIRECT_CALL\"]: {\n\t\t\t\t//if used in a chat widget, trigger the event to the app component as directcall component is included outside of iframe\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\t} else {\n\t\t\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\t\t\tthis.outgoingDirectCallRef.joinCall(sessionID);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.viewThreadedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"]:\n\t\t\t\tthis.threadMessageComposed(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"]:\n\t\t\t\tthis.closeThreadedMessage();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ADD_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberAddedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"UNBAN_GROUP_MEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberUnbannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"SCOPECHANGE_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberScopeChangedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"KICK_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberKickedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"BAN_GROUPMEMBER_SUCCESS\"]:\n\t\t\t\tthis.appendMemberBannedMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ERROR\"]:\n\t\t\t\tthis.errorHandler(key);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"INFO\"]:\n\t\t\t\tthis.infoMessageHandler(key);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\terrorHandler = errorCode => {\n\t\tif (typeof this.toastRef.setError === \"function\") {\n\t\t\tthis.toastRef?.setError(errorCode);\n\t\t}\n\t};\n\n\tinfoMessageHandler = infoCode => {\n\t\tif (typeof this.toastRef.setInfo === \"function\") {\n\t\t\tthis.toastRef?.setInfo(infoCode);\n\t\t}\n\t};\n\n\tappendMemberAddedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_ADDED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberUnbannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_UNBANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t};\n\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberScopeChangedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst newScope = Translator.translate(eachMember.scope, this.props.lang);\n\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_SCOPE_CHANGED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tnewScope: newScope,\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberKickedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_KICKED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\tappendMemberBannedMessage = messages => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst messageList = [];\n\t\tmessages.forEach(eachMember => {\n\t\t\tconst sentAt = (new Date() / 1000) | 0;\n\t\t\tconst messageObj = {\n\t\t\t\treceiver: { ...this.context.item },\n\t\t\t\treceiverId: this.context.item.guid,\n\t\t\t\treceiverType: CometChat.RECEIVER_TYPE.GROUP,\n\t\t\t\tsender: { ...this.loggedInUser },\n\t\t\t\tcategory: CometChat.CATEGORY_ACTION,\n\t\t\t\ttype: CometChat.ACTION_TYPE.TYPE_GROUP_MEMBER,\n\t\t\t\tsentAt: sentAt,\n\t\t\t\taction: CometChat.ACTION_TYPE.MEMBER_BANNED,\n\t\t\t\tactionBy: { ...this.loggedInUser },\n\t\t\t\tactionOn: { ...eachMember },\n\t\t\t\tactionFor: { ...this.context.item },\n\t\t\t};\n\t\t\tmessageList.push(messageObj);\n\t\t});\n\n\t\tthis.appendMessage(messageList);\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\ttoggleDetailView = () => {\n\t\tlet viewdetail = !this.state.viewdetailscreen;\n\t\tthis.setState({ viewdetailscreen: viewdetail, threadmessageview: false });\n\t};\n\n\tviewThreadedMessage = parentMessage => {\n\t\tconst message = { ...parentMessage };\n\t\tconst threaditem = { ...this.getContext().item };\n\t\tthis.setState({\n\t\t\tthreadmessageview: true,\n\t\t\tthreadmessageparent: message,\n\t\t\tthreadmessageitem: threaditem,\n\t\t\tthreadmessagetype: this.getContext().type,\n\t\t\tviewdetailscreen: false,\n\t\t});\n\t};\n\n\tthreadMessageComposed = messages => {\n\t\tif (this.getContext().type !== this.state.threadmessagetype) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_GROUP && this.getContext().item.guid !== this.state.threadmessageitem.guid) || (this.state.threadmessagetype === CometChat.ACTION_TYPE.TYPE_USER && this.getContext().item.uid !== this.state.threadmessageitem.uid)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.updateReplyCount(messages);\n\t};\n\n\tcloseThreadedMessage = () => {\n\t\tthis.setState({ threadmessageview: false, viewdetailscreen: false });\n\t};\n\n\t/*\n\tUpdating parent message of threaded conversation, when the message is edited or deleted\n\t*/\n\tupdateParentThreadedMessage = (message, action) => {\n\t\tif (this.state.threadmessageview === false || message.id !== this.state.threadmessageparent.id) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tthis.setState({ threadmessageparent: { ...message }, threadmessageview: false });\n\t\t} else {\n\t\t\tthis.setState({ threadmessageparent: { ...message } });\n\t\t}\n\t};\n\n\tgetReceiverDetails = () => {\n\t\tlet receiverId;\n\t\tlet receiverType;\n\n\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\treceiverId = this.getContext().item.uid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.USER;\n\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\treceiverId = this.getContext().item.guid;\n\t\t\treceiverType = CometChat.RECEIVER_TYPE.GROUP;\n\t\t}\n\n\t\treturn { receiverId: receiverId, receiverType: receiverType };\n\t};\n\n\taudioCall = () => {\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.AUDIO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_AUDIO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t\tthis.appendCallMessage(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tvideoCall = () => {\n\t\t/*\n\t\tDirect calling for groups\n\t\t*/\n\t\tif (this.getContext().type === CometChat.RECEIVER_TYPE.GROUP) {\n\n\t\t\tconst sessionID = this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP ? this.getContext().item.guid : null;\n\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_DIRECT_CALL\"], sessionID);\n\t\t\t} else {\n\t\t\t\tthis.outgoingDirectCallRef.startCall(sessionID);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t/*\n\t\tDefault calling for one-on-one\n\t\t*/\n\t\tconst { receiverId, receiverType } = this.getReceiverDetails();\n\t\tconst call = new CometChat.Call(receiverId, CometChat.CALL_TYPE.VIDEO, receiverType);\n\t\tCometChat.initiateCall(call)\n\t\t\t.then(outgoingCall => {\n\t\t\t\t//when this component is part of chat widget trigger an event.. (outgoingcall component is used separately in chat widget)\n\t\t\t\tif (Object.keys(this.props.widgetsettings).length) {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"START_VIDEO_CALL\"], outgoingCall);\n\t\t\t\t} else {\n\t\t\t\t\tthis.outgoingCallRef.startCall(outgoingCall);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\ttoggleReaction = flag => {\n\t\tthis.setState({ liveReaction: flag });\n\t};\n\n\tliveReactionReceived = reaction => {\n\n\t\tconst stopReaction = () => {\n\t\t\tthis.toggleReaction(false);\n\t\t}\n\n\t\tif (reaction.data.type === enums.CONSTANTS[\"METADATA_TYPE_LIVEREACTION\"]) {\n\n\t\t\tthis.reactionName = reaction.data.reaction;\n\t\t\tthis.toggleReaction(true);\n\n\t\t\tconst liveReactionInterval = enums.CONSTANTS[\"LIVE_REACTION_INTERVAL\"];\n\t\t\tsetTimeout(stopReaction, liveReactionInterval);\n\t\t}\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\t//remove edit preview when message is deleted\n\t\t\t\tif (deletedMessage.id === this.state.messageToBeEdited.id) {\n\t\t\t\t\tthis.setState({ messageToBeEdited: \"\" });\n\t\t\t\t}\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t\t//this.getContext().setLastMessage(deletedMessage);\n\t\t\t\t}\n\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\t\t\t\tthis.updateParentThreadedMessage(deletedMessage, \"delete\");\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message, replyPreview: null });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, message);\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tthis.updateParentThreadedMessage(newMessageObj, \"edit\");\n\n\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t\t//this.getContext().setLastMessage(newMessageObj);\n\t\t\t}\n\t\t}\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tmessageList.sort((a, b) => a.id - b.id);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t\t}\n\t};\n\n\trefreshingMessages = () => {\n\t\tthis.setState({ messageList: [], messageToBeEdited: \"\", replyPreview: null, liveReaction: false, messageToReact: null });\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\t};\n\n\tmessageRefreshed = messages => {\n\t\tconst messageList = [...messages];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\tnewMessagesArrived = newMessage => {\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tunreadMessages.push(newMessage[0]);\n\n\t\tthis.setState({ unreadMessages: unreadMessages });\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"NEW_MESSAGES\"], { unreadMessages: unreadMessages });\n\t};\n\n\tmarkMessagesAsRead = scrollToBottom => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\n\t\tunreadMessages.forEach(unreadMessage => {\n\t\t\tif (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.USER) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_USER);\n\t\t\t\t}\n\t\t\t} else if (unreadMessage.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.messageListRef) {\n\t\t\t\t\tmessageList.push(unreadMessage);\n\t\t\t\t\tthis.messageListRef.markMessageAsRead(unreadMessage, CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.setState({ messageList: messageList, scrollToBottom: scrollToBottom, unreadMessages: [] });\n\t};\n\n\tjumpToMessages = () => {\n\t\tif (this.state.unreadMessages.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet unreadMessages = [...this.state.unreadMessages];\n\t\tlet messageList = [...this.state.messageList];\n\t\tmessageList = messageList.concat(unreadMessages);\n\n\t\tCometChatEvent.triggerHandler(enums.EVENTS[\"CLEAR_UNREAD_MESSAGES\"], {});\n\n\t\tif (messageList.length > enums.CONSTANTS[\"MAX_MESSAGE_COUNT\"]) {\n\t\t\tif (this.messageListRef) {\n\t\t\t\tthis.messageListRef.reInitializeMessageBuilder();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.markMessagesAsRead(true);\n\t\t}\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList, ...message];\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages, scrollToBottom: false });\n\t};\n\n\tgroupUpdated = (action, message, group, options) => {\n\t\t//if group action messages are disabled\n\t\tif (this.state.enableGroupActionMessages === true) {\n\t\t\tthis.appendMessage([message]);\n\t\t}\n\n\t\tthis.props.actionGenerated(action, message, group, options);\n\t};\n\n\tappendCallMessage = message => {\n\t\t//if call action messages are disabled\n\t\tif (this.state.enableCallActionMessages === false) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.appendMessage([message]);\n\t};\n\n\tupdateReplyCount = messages => {\n\t\tconst receivedMessage = messages[0];\n\n\t\tlet messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === receivedMessage.parentMessageId);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\t\t\tlet replyCount = messageObj.hasOwnProperty(\"replyCount\") ? messageObj.replyCount : 0;\n\t\t\treplyCount = replyCount + 1;\n\t\t\tconst newMessageObj = Object.assign({}, messageObj, { replyCount: replyCount });\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t\t}\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\t\tif (message.sender.uid === this.loggedInUser.uid || message.category === CometChat.CATEGORY_CUSTOM) {\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * If smart-replies feature is enabled\n\t\t */\n\t\tthis.getContext()\n\t\t\t.FeatureRestriction.isSmartRepliesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\t\t\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\t\t\t\tthis.setState({ replyPreview: message });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ replyPreview: null });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\t/**\n\t\t * If used as standalone component\n\t\t */\n\t\tif (this.props._parent.trim().length === 0 && this.props.chatWithUser.trim().length === 0 && this.props.chatWithGroup.trim().length === 0) {\n\t\t\treturn (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} _component={enums.CONSTANTS[\"MESSAGES_COMPONENT\"]} user={this.props.chatWithUser} group={this.props.chatWithGroup}>\n\t\t\t\t\t<div></div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t} else if (this.props._parent.trim().length && Object.keys(this.getContext().item).length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet blockedUser = null;\n\t\tlet messageList = (\n\t\t\t<CometChatMessageList\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.messageListRef = el;\n\t\t\t\t}}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\tmessages={this.state.messageList}\n\t\t\t\tscrollToBottom={this.state.scrollToBottom}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\treaction={this.reactionName}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\tlet newMessageIndicator = null;\n\t\tif (this.state.unreadMessages.length) {\n\t\t\tconst unreadMessageCount = this.state.unreadMessages.length;\n\t\t\tconst messageText = unreadMessageCount > 1 ? `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGES\", this.props.lang)}` : `${unreadMessageCount} ${Translator.translate(\"NEW_MESSAGE\", this.props.lang)}`;\n\t\t\tnewMessageIndicator = (\n\t\t\t\t<div css={messagePaneTopStyle()} className=\"message_pane__top\">\n\t\t\t\t\t<div css={messagePaneBannerStyle(this.props)} className=\"message_pane__banner\">\n\t\t\t\t\t\t<div css={messagePaneUnreadBannerStyle()} className=\"message_pane__unread_banner__banner\" title={Translator.translate(\"JUMP\", this.props.lang)}>\n\t\t\t\t\t\t\t<button type=\"button\" css={messagePaneUnreadBannerMessageStyle(this.props)} className=\"message_pane__unread_banner__msg\" onClick={this.jumpToMessages}>\n\t\t\t\t\t\t\t\t<span css={iconArrowDownStyle()} className=\"icon--arrow-down\">\n\t\t\t\t\t\t\t\t\t&#x2193;{\" \"}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t//if sending messages are disabled for chat wigdet in dashboard\n\t\tif ((this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.getContext()?.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\tif (this.getContext()?.type === CometChat.RECEIVER_TYPE.USER && Object.keys(this.getContext().item).length && this.getContext().item.blockedByMe) {\n\t\t\tmessageComposer = null;\n\t\t\tmessageList = null;\n\t\t\tblockedUser = <CometChatBlockedUser user={this.item} />;\n\t\t}\n\n\t\tlet liveReactionView = null;\n\t\tif (this.state.liveReaction) {\n\t\t\tliveReactionView = (\n\t\t\t\t<div css={reactionsWrapperStyle()}>\n\t\t\t\t\t<CometChatLiveReactions reaction={this.reactionName} theme={this.props.theme} lang={this.props.lang} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\tIf used as a standalone component\n\t\t*/\n\t\tlet incomingCallView = null;\n\t\tlet incomingDirectCallView = null;\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tincomingCallView = <CometChatIncomingCall actionGenerated={this.actionHandler} />;\n\n\t\t\tincomingDirectCallView = <CometChatIncomingDirectCall actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\t//don't include it when opened in chat widget\n\t\tlet outgoingDirectCallView = null;\n\t\tlet outgoingCallView = null;\n\t\tif (Object.keys(this.props.widgetsettings).length === 0) {\n\t\t\toutgoingCallView = <CometChatOutgoingCall ref={el => (this.outgoingCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t\toutgoingDirectCallView = <CometChatOutgoingDirectCall ref={el => (this.outgoingDirectCallRef = el)} lang={this.props.lang} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\tlet detailScreen = null;\n\t\tif (this.state.viewdetailscreen) {\n\t\t\tif (this.getContext().type === CometChat.ACTION_TYPE.TYPE_USER) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatUserDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (this.getContext().type === CometChat.ACTION_TYPE.TYPE_GROUP) {\n\t\t\t\tdetailScreen = (\n\t\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t\t<CometChatGroupDetails lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet threadMessageView = null;\n\t\tif (this.state.threadmessageview) {\n\t\t\tthreadMessageView = (\n\t\t\t\t<div css={chatSecondaryStyle(this.props)} className=\"chat__secondary-view\">\n\t\t\t\t\t<CometChatMessageThread activeTab={this.state.activeTab} threadItem={this.state.threadmessageitem} threadType={this.state.threadmessagetype} parentMessage={this.state.threadmessageparent} loggedInUser={this.loggedInUser} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} />;\n\t\t}\n\n\t\tlet messageComponent = (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={chatWrapperStyle(this.props, this.state)} className=\"main__chat\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<CometChatMessageHeader lang={this.props.lang} sidebar={this.props.sidebar} viewdetail={this.props.viewdetail === false ? false : true} actionGenerated={this.actionHandler} />\n\t\t\t\t\t{messageList}\n\t\t\t\t\t{liveReactionView}\n\t\t\t\t\t{messageComposer}\n\t\t\t\t\t{blockedUser}\n\t\t\t\t\t{newMessageIndicator}\n\t\t\t\t</div>\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t\t{originalImageView}\n\t\t\t\t{detailScreen}\n\t\t\t\t{threadMessageView}\n\t\t\t\t{incomingCallView}\n\t\t\t\t{outgoingCallView}\n\t\t\t\t{incomingDirectCallView}\n\t\t\t\t{outgoingDirectCallView}\n\t\t\t</React.Fragment>\n\t\t);\n\n\t\tlet messageWrapper = messageComponent;\n\t\t/*\n\t\tIf used as a standalone component\n\t\t**/\n\t\tif (this.props._parent.trim().length === 0) {\n\t\t\tmessageWrapper = (\n\t\t\t\t<CometChatContextProvider ref={el => (this.contextProviderRef = el)} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t\t<div css={chatContainerStyle()}>{messageComponent}</div>\n\t\t\t\t</CometChatContextProvider>\n\t\t\t);\n\t\t}\n\n\t\treturn messageWrapper;\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\t_parent: \"\",\n\twidgetsettings: {},\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\t_parent: PropTypes.string,\n\twidgetsettings: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n};\n\nexport {CometChatMessages};","export const wrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t\tboxSizing: \"border-box\",\n\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t\"*\": {\n\t\t\tboxSizing: \"border-box\",\n\t\t\tfontFamily: `${context.theme.fontFamily}`,\n\t\t},\n\t};\n};\n\nexport const headerStyle = context => {\n\n\treturn {\n\t\tpadding: \"16px\",\n\t\twidth: \"100%\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\tzIndex: \"1\",\n\t\tborderBottom: `1px solid ${context.theme.borderColor.primary}`,\n\t\theight: \" 69px\",\n\t\tdisplay: \"flex\",\n\t};\n};\n\nexport const headerWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n    }\n}\n\nexport const headerDetailStyle = () => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"calc(100% - 40px)\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWight: \"600\",\n        lineHeight: \"22px\",\n        width: \"100%\",\n    }\n}\n\nexport const headerNameStyle = () => {\n\n    return {\n        fontSize: \"13px\",\n        lineHeight: \"20px\",\n        width: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const headerCloseStyle = (img, context) => {\n\n    return {\n        cursor: \"pointer\",\n        width: \"24px\",\n        height: \"24px\",\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${context.theme.primaryColor}`\n    }\n}\n\nexport const messageContainerStyle = (event) => {\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        overflowX: \"hidden\",\n        overflowY: \"auto\",\n        transition: \"background .3s ease-out .1s\",\n        width: \"100%\",\n        zIndex: \"100\",\n        minHeight: \"calc(100% - 68px)\",\n        order: \"2\",\n        \".chat__list\": {\n            minHeight: \"250px\",\n            \".list__wrapper\": {\n                \"::-webkit-scrollbar\": {\n                    display: \"none\"\n                },\n                scrollbarWidth: \"none\"\n            }\n        },\n    }\n}\n\nexport const parentMessageStyle = (message) => {\n\n    const alignment = (message.messageFrom === \"sender\") ? {\n        justifyContent: \"flex-end\",\n    } : {\n        justifyContent: \"flex-start\",\n    };\n\n    return {\n        padding: \"14px 16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        ...alignment,\n        \".sender__message__container, .receiver__message__container\": {\n            maxWidth: \"100%\",\n            \"&:hover\": {\n                \".message__actions\": {\n                    display: \"none\"\n                }\n            }\n        },\n        \".replycount\": {\n            display: \"none\"\n        }\n    }\n}\n\nexport const messageSeparatorStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tposition: \"relative\",\n\t\tmargin: \"7px 16px\",\n\t\theight: \"15px\",\n\t\thr: {\n\t\t\tflex: \"1\",\n\t\t\tmargin: \"1px 0 0 0\",\n\t\t\tborderTop: `1px solid ${context.theme.borderColor.primary}`,\n\t\t},\n\t};\n};\n\nexport const messageReplyStyle = () => {\n\n    return {\n        marginRight: \"12px\",\n        fontSize: \"12px\",\n    }\n}","export default __webpack_public_path__ + \"static/media/close.0b0b6f95.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { \n\tCometChatMessageList, CometChatMessageComposer,\n\tCometChatSenderTextMessageBubble, CometChatReceiverTextMessageBubble,\n\tCometChatSenderImageMessageBubble, CometChatReceiverImageMessageBubble,\n\tCometChatSenderFileMessageBubble, CometChatReceiverFileMessageBubble,\n\tCometChatSenderAudioMessageBubble, CometChatReceiverAudioMessageBubble,\n\tCometChatSenderVideoMessageBubble, CometChatReceiverVideoMessageBubble,\n\tCometChatSenderDirectCallBubble, CometChatReceiverDirectCallBubble,\n\tCometChatImageViewer\n} from \"../\";\n\nimport {\n\tCometChatSenderPollMessageBubble, CometChatReceiverPollMessageBubble,\n\tCometChatSenderStickerBubble, CometChatReceiverStickerMessageBubble,\n\tCometChatSenderDocumentBubble, CometChatReceiverDocumentBubble,\n\tCometChatSenderWhiteboardBubble, CometChatReceiverWhiteboardBubble,\n} from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\twrapperStyle,\n\theaderStyle,\n\theaderWrapperStyle,\n\theaderDetailStyle,\n\theaderTitleStyle,\n\theaderNameStyle,\n\theaderCloseStyle,\n\tmessageContainerStyle,\n\tparentMessageStyle,\n\tmessageSeparatorStyle,\n\tmessageReplyStyle,\n} from \"./style\";\n\nimport clearIcon from \"./resources/close.svg\";\n\nclass CometChatMessageThread extends React.PureComponent {\n\tloggedInUser = null;\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tmessageList: [],\n\t\t\tscrollToBottom: true,\n\t\t\treplyCount: 0,\n\t\t\treplyPreview: null,\n\t\t\tmessageToBeEdited: null,\n\t\t\tparentMessage: props.parentMessage,\n\t\t\tviewOriginalImage: false,\n\t\t\tenableSendingOneOnOneMessage: false,\n\t\t\tenableSendingGroupMessage: false,\n\t\t\tenableHideDeletedMessages: false,\n\t\t};\n\n\t\tthis.composerRef = React.createRef();\n\t\tthis.toastRef = React.createRef();\n\n\t\tthis.loggedInUser = this.props.loggedInUser;\n\t}\n\n\tcomponentDidMount() {\n\t\tCometChat.getLoggedinUser()\n\t\t\t.then(user => (this.loggedInUser = user))\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tthis.enableSendingOneOnOneMessage();\n\t\tthis.enableSendingGroupMessage();\n\t\tthis.enableHideDeletedMessages();\n\n\t\tif (prevProps.parentMessage !== this.props.parentMessage) {\n\t\t\tif (prevProps.parentMessage.id !== this.props.parentMessage.id) {\n\t\t\t\tthis.setState({ messageList: [], scrollToBottom: true, parentMessage: this.props.parentMessage });\n\t\t\t} else if (prevProps.parentMessage.data !== this.props.parentMessage.data) {\n\t\t\t\tthis.setState({ parentMessage: this.props.parentMessage });\n\t\t\t}\n\t\t}\n\t}\n\n\tenableSendingOneOnOneMessage = () => {\n\t\tthis.context.FeatureRestriction.isOneOnOneChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingOneOnOneMessage) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingOneOnOneMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingOneOnOneMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableSendingGroupMessage = () => {\n\t\tthis.context.FeatureRestriction.isGroupChatEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableSendingGroupMessage) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableSendingGroupMessage !== false) {\n\t\t\t\t\tthis.setState({ enableSendingGroupMessage: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tenableHideDeletedMessages = () => {\n\t\tthis.context.FeatureRestriction.isHideDeletedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableHideDeletedMessages) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableHideDeletedMessages !== false) {\n\t\t\t\t\tthis.setState({ enableHideDeletedMessages: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\terrorHandler = errorCode => {\n\t\tthis.toastRef.setError(errorCode);\n\t};\n\n\tparentMessageEdited = message => {\n\t\tconst parentMessage = { ...this.props.parentMessage };\n\n\t\tif (parentMessage.id === message.id) {\n\t\t\tconst newMessageObj = { ...message };\n\t\t\tthis.setState({ parentMessage: newMessageObj });\n\t\t}\n\t};\n\n\tactionHandler = (action, messages) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"CUSTOM_MESSAGE_RECEIVED\"]:\n\t\t\tcase enums.ACTIONS[\"MESSAGE_RECEIVED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst message = messages[0];\n\t\t\t\t\tif (message.hasOwnProperty(\"parentMessageId\") && message.parentMessageId === this.state.parentMessage.id) {\n\t\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\t\tthis.smartReplyPreview(messages);\n\t\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_COMPOSED\"]:\n\t\t\t\t{\n\t\t\t\t\tconst replyCount = this.state.parentMessage.hasOwnProperty(\"replyCount\") ? this.state.parentMessage.replyCount : 0;\n\t\t\t\t\tconst newReplyCount = replyCount + 1;\n\n\t\t\t\t\tlet messageObj = { ...this.state.parentMessage };\n\t\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, { replyCount: newReplyCount });\n\t\t\t\t\tthis.setState({ parentMessage: newMessageObj });\n\n\t\t\t\t\tthis.appendMessage(messages);\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"THREAD_MESSAGE_COMPOSED\"], messages);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_SENT\"]:\n\t\t\tcase enums.ACTIONS[\"ERROR_IN_SENDING_MESSAGE\"]:\n\t\t\t\tthis.messageSent(messages);\n\t\t\t\tthis.props.actionGenerated(action, messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_READ_DELIVERED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_EDITED\"]:\n\t\t\t\tthis.updateMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase \"messageFetched\":\n\t\t\t\tthis.prependMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGES_INITIAL_FETCH\"]:\n\t\t\t\tthis.prependMessagesAndScrollToBottom(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"ON_MESSAGE_DELETED\"]:\n\t\t\t\tthis.removeMessages(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.editMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"MESSAGE_EDITED\"]:\n\t\t\t\tthis.messageEdited(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"CLEAR_EDIT_PREVIEW\"]:\n\t\t\t\tthis.clearEditPreview();\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.deleteMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.reactToMessage(messages);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"]:\n\t\t\t\tthis.toggleOriginalImageView(messages);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\ttoggleOriginalImageView = message => {\n\t\tthis.setState({ viewOriginalImage: message });\n\t};\n\n\tmessageSent = messages => {\n\t\tconst message = messages[0];\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m._id === message._id);\n\t\tif (messageKey > -1) {\n\t\t\tconst newMessageObj = { ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\t\t}\n\t};\n\n\teditMessage = message => {\n\t\tthis.setState({ messageToBeEdited: message });\n\t};\n\n\tmessageEdited = message => {\n\t\tconst messageList = [...this.state.messageList];\n\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\t\tif (messageKey > -1) {\n\t\t\tconst messageObj = messageList[messageKey];\n\n\t\t\tconst newMessageObj = { ...messageObj, ...message };\n\n\t\t\tmessageList.splice(messageKey, 1, newMessageObj);\n\t\t\tthis.updateMessages(messageList);\n\n\t\t\tif (messageList.length - messageKey === 1) {\n\t\t\t\t//this.context.setLastMessage(newMessageObj);\n\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...newMessageObj });\n\t\t\t}\n\t\t}\n\t};\n\n\tclearEditPreview = () => {\n\t\tthis.setState({ messageToBeEdited: \"\" });\n\t};\n\n\tdeleteMessage = message => {\n\t\tconst messageId = message.id;\n\t\tCometChat.deleteMessage(messageId)\n\t\t\t.then(deletedMessage => {\n\t\t\t\tthis.removeMessages([deletedMessage]);\n\n\t\t\t\tconst messageList = [...this.state.messageList];\n\t\t\t\tlet messageKey = messageList.findIndex(m => m.id === message.id);\n\n\t\t\t\tif (messageList.length - messageKey === 1 && !message.replyCount) {\n\t\t\t\t\t//this.context.setLastMessage(deletedMessage);\n\t\t\t\t\tCometChatEvent.triggerHandler(\"updateLastMessage\", { ...deletedMessage });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => this.errorHandler(\"SOMETHING_WRONG\"));\n\t};\n\n\tsmartReplyPreview = messages => {\n\t\tconst message = messages[0];\n\n\t\tconst smartReplyData = checkMessageForExtensionsData(message, \"smart-reply\");\n\t\tif (smartReplyData && smartReplyData.hasOwnProperty(\"error\") === false) {\n\t\t\tthis.setState({ replyPreview: message });\n\t\t} else {\n\t\t\tthis.setState({ replyPreview: null });\n\t\t}\n\t};\n\n\t//message is received or composed & sent\n\tappendMessage = message => {\n\t\tlet messages = [...this.state.messageList];\n\t\tmessages = messages.concat(message);\n\t\tthis.setState({ messageList: messages, scrollToBottom: true });\n\t};\n\n\t//message status is updated\n\tupdateMessages = messages => {\n\t\tthis.setState({ messageList: messages });\n\t};\n\n\t//messages are fetched from backend\n\tprependMessages = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: false });\n\t};\n\n\t//messages are fetched, scroll to bottom\n\tprependMessagesAndScrollToBottom = messages => {\n\t\tconst messageList = [...messages, ...this.state.messageList];\n\t\tthis.setState({ messageList: messageList, scrollToBottom: true });\n\t};\n\n\t//messages are deleted\n\tremoveMessages = messages => {\n\t\tconst deletedMessage = messages[0];\n\t\tconst messagelist = [...this.state.messageList];\n\n\t\tlet messageKey = messagelist.findIndex(message => message.id === deletedMessage.id);\n\t\tif (messageKey > -1) {\n\t\t\t\n\t\t\tif (this.state.enableHideDeletedMessages) {\n\t\t\t\tmessagelist.splice(messageKey, 1);\n\t\t\t} else {\n\t\t\t\tlet messageObj = { ...messagelist[messageKey] };\n\t\t\t\tlet newMessageObj = Object.assign({}, messageObj, deletedMessage);\n\t\t\t\tmessagelist.splice(messageKey, 1, newMessageObj);\n\t\t\t}\n\n\t\t\tthis.setState({ messageList: messagelist, scrollToBottom: false });\n\t\t}\n\t};\n\n\tgetSenderMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatSenderTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatSenderImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatSenderFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatSenderVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatSenderAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase \"message\":\n\t\t\tcase CometChat.MESSAGE_TYPE.TEXT:\n\t\t\t\tcomponent = <CometChatReceiverTextMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.IMAGE:\n\t\t\t\tcomponent = <CometChatReceiverImageMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.FILE:\n\t\t\t\tcomponent = <CometChatReceiverFileMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.AUDIO:\n\t\t\t\tcomponent = <CometChatReceiverAudioMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tcase CometChat.MESSAGE_TYPE.VIDEO:\n\t\t\t\tcomponent = <CometChatReceiverVideoMessageBubble key={message.id} message={message} actionGenerated={this.actionHandler} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetSenderCustomMessageComponent = message => {\n\t\tlet component;\n\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatSenderPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatSenderStickerBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatSenderDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatSenderWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatSenderDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetReceiverCustomMessageComponent = message => {\n\t\tlet component;\n\t\tswitch (message.type) {\n\t\t\tcase enums.CUSTOM_TYPE_POLL:\n\t\t\t\tcomponent = <CometChatReceiverPollMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_STICKER:\n\t\t\t\tcomponent = <CometChatReceiverStickerMessageBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_DOCUMENT:\n\t\t\t\tcomponent = <CometChatReceiverDocumentBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_WHITEBOARD:\n\t\t\t\tcomponent = <CometChatReceiverWhiteboardBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tcase enums.CUSTOM_TYPE_MEETING:\n\t\t\t\tcomponent = <CometChatReceiverDirectCallBubble key={message.id} message={message} actionGenerated={this.props.actionGenerated} />;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\tgetParentMessageComponent = message => {\n\t\tlet component = null;\n\n\t\tswitch (message.category) {\n\t\t\tcase CometChat.CATEGORY_MESSAGE:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase CometChat.CATEGORY_CUSTOM:\n\t\t\t\tif (this.loggedInUser.uid === message.sender.uid) {\n\t\t\t\t\tcomponent = this.getSenderCustomMessageComponent(message);\n\t\t\t\t} else {\n\t\t\t\t\tcomponent = this.getReceiverCustomMessageComponent(message);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn component;\n\t};\n\n\treactToMessage = message => {\n\t\tthis.setState({ messageToReact: message });\n\n\t\tif (this.composerRef) {\n\t\t\tthis.composerRef.toggleEmojiPicker();\n\t\t}\n\t};\n\n\trender() {\n\t\tlet parentMessage = this.getParentMessageComponent(this.state.parentMessage);\n\n\t\tlet seperator = (\n\t\t\t<div css={messageSeparatorStyle(this.props)}>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t);\n\t\tif (this.state.parentMessage.hasOwnProperty(\"replyCount\")) {\n\t\t\tconst replyCount = this.state.parentMessage.replyCount;\n\t\t\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", this.context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", this.context.language)}`;\n\n\t\t\tseperator = (\n\t\t\t\t<div css={messageSeparatorStyle(this.context)} className=\"message__separator\">\n\t\t\t\t\t<span css={messageReplyStyle()} className=\"message__replies\">\n\t\t\t\t\t\t{replyText}\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet originalImageView = null;\n\t\tif (this.state.viewOriginalImage) {\n\t\t\toriginalImageView = <CometChatImageViewer open={true} close={() => this.toggleOriginalImageView(false)} message={this.state.viewOriginalImage} lang={this.context.language} />;\n\t\t}\n\n\t\tlet messageComposer = (\n\t\t\t<CometChatMessageComposer\n\t\t\t\tref={el => {\n\t\t\t\t\tthis.composerRef = el;\n\t\t\t\t}}\n\t\t\t\tparentMessageId={this.props.parentMessage.id}\n\t\t\t\tmessageToBeEdited={this.state.messageToBeEdited}\n\t\t\t\treplyPreview={this.state.replyPreview}\n\t\t\t\tmessageToReact={this.state.messageToReact}\n\t\t\t\tactionGenerated={this.actionHandler}\n\t\t\t/>\n\t\t);\n\n\t\t//if send messages feature is disabled\n\t\tif ((this.context.type === CometChat.ACTION_TYPE.TYPE_USER && this.state.enableSendingOneOnOneMessage === false) || (this.context.type === CometChat.ACTION_TYPE.TYPE_GROUP && this.state.enableSendingGroupMessage === false)) {\n\t\t\tmessageComposer = null;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div css={wrapperStyle(this.context)} className=\"thread__chat\">\n\t\t\t\t\t<div css={headerStyle(this.context)} className=\"chat__header\">\n\t\t\t\t\t\t<div css={headerWrapperStyle()} className=\"header__wrapper\">\n\t\t\t\t\t\t\t<div css={headerDetailStyle()} className=\"header__details\">\n\t\t\t\t\t\t\t\t<h6 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"THREAD\", this.context.language)}\n\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t<span css={headerNameStyle()} className=\"header__username\">\n\t\t\t\t\t\t\t\t\t{this.props.threadItem.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div css={headerCloseStyle(clearIcon, this.context)} className=\"header__close\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"CLOSE_THREADED_MESSAGE\"])}></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={messageContainerStyle()} className=\"chat__message__container\">\n\t\t\t\t\t\t<div css={parentMessageStyle(this.props.parentMessage)} className=\"parent__message\">\n\t\t\t\t\t\t\t{parentMessage}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{seperator}\n\t\t\t\t\t\t<CometChatMessageList messages={this.state.messageList} item={this.props.threadItem} type={this.props.threadType} scrollToBottom={this.state.scrollToBottom} parentMessageId={this.props.parentMessage.id} actionGenerated={this.actionHandler} />\n\t\t\t\t\t\t{messageComposer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{originalImageView}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatMessageThread.defaultProps = {\n\ttheme: theme\n};\n\nCometChatMessageThread.propTypes = {\n\ttheme: PropTypes.object\n}\n\nexport { CometChatMessageThread };\n","export const msgTimestampStyle = (context, props, loggedInUser) => {\n\n    return {\n        display: \"flex\",\n        fontSize: \"11px\",\n        fontWeight: \"500\",\n        lineHeight: \"12px\",\n        textTransform: \"uppercase\",\n        color: `${context.theme.color.search}`,\n    }\n}\n\nexport const iconStyle = (img, color) => {\n\n    return {\n        mask: `url(${img}) center center no-repeat`,\n        backgroundColor: `${color}`,\n        display: \"inline-block\",\n        width: \"24px\",\n        height: \"24px\"\n    }\n}\n","export default __webpack_public_path__ + \"static/media/message-read.573b8c8c.svg\";","export default __webpack_public_path__ + \"static/media/message-delivered.fbc54350.svg\";","export default __webpack_public_path__ + \"static/media/message-sent.bf5ee0cc.svg\";","export default __webpack_public_path__ + \"static/media/wait.89c8da97.svg\";","export default __webpack_public_path__ + \"static/media/warning-small.6ad6a0ca.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { getMessageSentTime } from \"../../../util/common\";\nimport { CometChatContext } from \"../../../util/CometChatContext\"\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport { msgTimestampStyle, iconStyle } from \"./style\";\n\nimport blueDoubleTick from \"./resources/message-read.svg\";\nimport greyDoubleTick from \"./resources/message-delivered.svg\";\nimport greyTick from \"./resources/message-sent.svg\";\nimport sendingTick from \"./resources/wait.svg\";\nimport errorTick from \"./resources/warning-small.svg\";\n\nclass CometChatReadReceipt extends React.PureComponent {\n\tstatic contextType = CometChatContext;\n\tloggedInUser;\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.state = {\n\t\t\treceipts: false,\n\t\t};\n\n\t\tthis.context.getLoggedinUser().then(user => {\n\t\t\tthis.loggedInUser = { ...user };\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.toggleReadReceipts();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\ttoggleReadReceipts = () => {\n\t\t/**\n\t\t * if delivery receipts feature is disabled\n\t\t */\n\t\tthis.context.FeatureRestriction.isDeliveryReceiptsEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.receipts && this._isMounted) {\n\t\t\t\t\tthis.setState({ receipts: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.receipts !== false) {\n\t\t\t\t\tthis.setState({ receipts: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\trender() {\n\t\t\n\t\tlet ticks,\n\t\t\treceiptText = null,\n\t\t\tdateField = null,\n\t\t\tcolor = null;\n\t\t\n\t\tif (this.props.message?.sender?.uid === this.loggedInUser?.uid) {\n\n\t\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"sentAt\")) {\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.props.message.hasOwnProperty(\"error\")) {\n\t\t\t\t\tticks = errorTick;\n\t\t\t\t\treceiptText = \"ERROR\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.color.red;\n\t\t\t\t} else {\n\t\t\t\t\tticks = sendingTick;\n\t\t\t\t\treceiptText = \"SENDING\";\n\t\t\t\t\tdateField = this.props.message._composedAt;\n\t\t\t\t\tcolor = this.context.theme.secondaryTextColor;\n\n\t\t\t\t\tif (this.props.message.hasOwnProperty(\"readAt\")) {\n\n\t\t\t\t\t\tticks = blueDoubleTick;\n\t\t\t\t\t\treceiptText = \"SEEN\";\n\t\t\t\t\t\tcolor = this.context.theme.primaryColor;\n\t\t\t\t\t\tdateField = this.props.message.readAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"deliveredAt\")) {\n\n\t\t\t\t\t\tticks = greyDoubleTick;\n\t\t\t\t\t\treceiptText = \"DELIVERED\";\n\t\t\t\t\t\tdateField = this.props.message.deliveredAt;\n\n\t\t\t\t\t} else if (this.props.message.hasOwnProperty(\"sentAt\")) {\n\n\t\t\t\t\t\tticks = greyTick;\n\t\t\t\t\t\treceiptText = \"SENT\";\n\t\t\t\t\t\tdateField = this.props.message.sentAt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateField = this.props.message.sentAt;\n\t\t}\n\n\t\t//if delivery receipts are disabled\n\t\tif (this.state.receipts === false) {\n\t\t\tticks = null;\n\t\t}\n\n\t\tconst receipt = ticks ? <i css={iconStyle(ticks, color)} title={Translator.translate(receiptText, this.context.language)}></i> : null;\n\n\t\tconst timestamp = getMessageSentTime(dateField, this.context.language);\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<span css={msgTimestampStyle(this.context, this.props, this.loggedInUser)} className=\"message__timestamp\">\n\t\t\t\t\t{timestamp}\n\t\t\t\t</span>\n\t\t\t\t{receipt}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReadReceipt.defaultProps = {\n\ttheme: theme,\n};\n\nCometChatReadReceipt.propTypes = {\n\ttheme: PropTypes.object,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReadReceipt };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageAudioContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-start\",\n        \" > audio\": {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageAudioContainerStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverAudioMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageAudioContainerStyle()} className=\"message__audio__container\">\n\t\t\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t\t\t<audio controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</audio>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"100%\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtTitleStyle = context => {\n\n\treturn {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tcolor: `${context.theme.color.primary}`,\n\t};\n};\n\nexport const messageTxtStyle = () => {\n\n    return {\n        margin: \"0\",\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n        textAlign: \"left\",\n        width: \"calc(100% - 30px)\",\n        fontSize: \"14px\",\n        marginLeft: \"8px\"\n    }\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tcursor: \"pointer\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtTitleStyle,\n\tmessageTxtStyle,\n\tmessageBtnStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle,\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatReceiverDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tconst messageTitle = `${this.props.message.sender.name} ${Translator.translate(\"INITIATED_GROUP_CALL\", this.context.language)}`;\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t\t\t<div css={messageTxtTitleStyle(this.context)} className=\"message__directcall__title\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} title={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverDirectCallBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageFileContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tcolor: `${context.theme.color.secondary}`,\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-start\",\n\t\twidth: \"auto\",\n\t\t\"> a\": {\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\twidth: \"auto\",\n\t\t\tfontSize: \"14px\",\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.primary}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.secondaryTextColor}`,\n\t\tmarginRight: \"8px\",\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport { \n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageFileContainerStyle,\n\tmessageFileWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatReceiverFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\t\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageFileContainerStyle()} className=\"message__file__container\">\n\t\t\t\t\t\t\t<div css={messageFileWrapperStyle(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t\t\t<a href={this.props.message.data.attachments[0].url} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t\t\t\t\t<label>{this.props.message.data.attachments[0].name}</label>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverFileMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageImgContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapperStyle = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-start\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageImgContainerStyle,\n\tmessageImgWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatReceiverImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", this.context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\t\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tif (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tlet img = new Image();\n\t\t\timg.src = this.props.message.data.attachments[0].url;\n\t\t\tconst imageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.onload = () => {\n\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(response))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageImgContainerStyle()} className=\"message__image__container\">\n\t\t\t\t\t\t\t<div css={messageImgWrapperStyle(this.context)} onClick={this.open} className=\"message__image__wrapper\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverImageMessageBubble };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.backgroundColor.secondary}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (showVariation, count, context) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n\n    if (count === 1) {\n        emojiProp = {\n            \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n            }\n        };\n    } else if (count === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n    } else if (count > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        color: `${context.theme.color.primary}`,\n        lineHeight: \"20px\",\n        fontWeight: \"400\",\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport twemoji from \"twemoji\";\nimport parse from \"html-react-parser\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview} from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData, countEmojiOccurences } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageTxtContainerStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\t\t// Checks Emoji Count\n\t\n\t\tlet count = countEmojiOccurences(emojiParsedMessage,\"class=\\\"emoji\\\"\");\n\n\t\tconst parsedMessage = parse(emojiParsedMessage);\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(showVariation, count, this.context)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result && result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageText = this.getMessageText();\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle()} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__text__container\">\n\t\t\t\t\t\t\t{messageText}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverTextMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageThumbnailStyle = () => {\n\n    return {\n        width: \"36px\",\n        height: \"36px\",\n        margin: \"10px 5px\",\n        float: \"left\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageDetailStyle = () => {\n\n    return {\n        flex: \"1 1\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    }\n}\n\nexport const nameWrapperStyle = (avatar) => {\n\n    const paddingValue = (avatar) ? {\n        padding: \"3px 5px\",\n    } : {};\n\n    return {\n        alignSelf: \"flex-start\",\n        ...paddingValue\n    }\n}\n\nexport const nameStyle = context => {\n\n\treturn {\n\t\tfontSize: \"11px\",\n\t\tcolor: `${context.theme.color.search}`,\n\t};\n};\n\nexport const messageVideoContainerStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-start\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: \"flex-start\",\n        '> video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n            outline: \"none\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-start\",\n        padding: \"4px 8px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-start\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-start\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\nimport { CometChatAvatar } from \"../../Shared\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageThumbnailStyle,\n\tmessageDetailStyle,\n\tnameWrapperStyle,\n\tnameStyle,\n\tmessageVideoContainerStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatReceiverVideoMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet avatar = null,\n\t\t\tname = null;\n\t\tif (this.props.message.receiverType === CometChat.RECEIVER_TYPE.GROUP) {\n\t\t\tavatar = (\n\t\t\t\t<div css={messageThumbnailStyle()} className=\"message__thumbnail\">\n\t\t\t\t\t<CometChatAvatar user={this.props.message.sender} />\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\tname = (\n\t\t\t\t<div css={nameWrapperStyle(avatar)} className=\"message__name__wrapper\">\n\t\t\t\t\t<span css={nameStyle(this.context)} className=\"message__name\">\n\t\t\t\t\t\t{this.props.message.sender.name}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"receiver__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t{avatar}\n\t\t\t\t\t<div css={messageDetailStyle(name)} className=\"message__details\">\n\t\t\t\t\t\t{name}\n\t\t\t\t\t\t{toolTipView}\n\t\t\t\t\t\t<div css={messageVideoContainerStyle()} className=\"message__video__container\">\n\t\t\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t\t\t<video controls>\n\t\t\t\t\t\t\t\t\t<source src={this.props.message.data.attachments[0].url} />\n\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{messageReactions}\n\n\t\t\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatReceiverVideoMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatReceiverVideoMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatReceiverVideoMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageAudioWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        borderRadius: \"12px\",\n        alignSelf: \"flex-end\",\n        ' > audio': {\n            maxWidth: \"250px\",\n            display: \"inherit\",\n            outline: \"none\",        \n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\"\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageAudioWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderAudioMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\t\t} else if (this.props.message.data.hasOwnProperty(\"attachments\") && this.props.message.data.attachments.length) {\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__audio\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageAudioWrapperStyle()} className=\"message__audio__wrapper\">\n\t\t\t\t\t\t<audio controls src={this.state.fileData?.fileUrl}></audio>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderAudioMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderAudioMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderAudioMessageBubble };\n","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"305px\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"16px\",\n\t\talignSelf: \"flex-end\",\n\t\twidth: \"auto\",\n\t\tminHeight: \"106px\",\n\t};\n};\n\nexport const messageTxtContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        \"img\": {\n            width: \"35px\"\n        }\n    }\n}\n\nexport const messageTxtStyle = () => {\n\n    return {\n\t\t\tmargin: \"0\",\n\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\twordBreak: \"break-word\",\n\t\t\ttextAlign: \"left\",\n\t\t\twidth: \"calc(100% - 30px)\",\n\t\t\tfontSize: \"14px\",\n\t\t\tmarginLeft: \"8px\",\n\t\t};\n}\n\nexport const messageBtnStyle = context => {\n\n\treturn {\n\t\tlistStyleType: \"none\",\n\t\tpadding: \"0\",\n\t\tmargin: \"16px 0 0 0\",\n\t\twidth: \"100%\",\n\t\tli: {\n\t\t\tbackgroundColor: `${context.theme.backgroundColor.white}`,\n\t\t\tborderRadius: \"8px\",\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\twidth: \"100%\",\n\t\t\tposition: \"relative\",\n\t\t\tmargin: \"0\",\n\t\t\tpadding: \"8px\",\n\t\t\tcursor: \"pointer\",\n\t\t\t\"> p\": {\n\t\t\t\tbackground: \"0 0\",\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tcolor: `${context.theme.primaryColor}`,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontWeight: \"600\",\n\t\t\t\tdisplay: \"inline-block\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmargin: \"0\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\"\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"30px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/video-call.0e4e774d.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n    messageContainerStyle,\n    messageWrapperStyle,\n    messageTxtWrapperStyle,\n    messageTxtContainerStyle,\n    messageTxtStyle,\n    messageBtnStyle,\n    messageInfoWrapperStyle,\n    messageReactionsWrapperStyle,\n    iconStyle\n} from \"./style\";\n\nimport callIcon from \"./resources/video-call.svg\";\n\nclass CometChatSenderDirectCallBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n        || this.state.isHovering !== nextState.isHovering) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet callMessage = null;\n\t\tconst joinCallMessage = Translator.translate(\"YOU_ALREADY_ONGOING_CALL\", this.context.language);\n\n\t\tif (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_SAME_GROUP\"]) {\n\t\t\t//ongoing call in same group\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfDirectCallIsOngoing() === enums.CONSTANTS.CALLS[\"ONGOING_CALL_DIFF_GROUP\"]) {\n\t\t\t//ongoing call in different group\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else if (this.context.checkIfCallIsOngoing()) {\n\t\t\t//ongoing call\n\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" title={joinCallMessage}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else {\n\t\t\tcallMessage = (\n\t\t\t\t<li className=\"directcall__row\" onClick={() => this.props.actionGenerated(enums.ACTIONS[\"JOIN_DIRECT_CALL\"], this.props.message)}>\n\t\t\t\t\t<p className=\"directcall__text\">{Translator.translate(\"JOIN\", this.context.language)}</p>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tconst messageTitle = Translator.translate(\"YOU_INITIATED_GROUP_CALL\", this.context.language);\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__directcall\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__directcall__wrapper\">\n\t\t\t\t\t\t<div css={messageTxtContainerStyle()} className=\"message__directcall__container\">\n\t\t\t\t\t\t\t<i css={iconStyle(callIcon, this.context)} alt={Translator.translate(\"VIDEO_CALL\", this.context.language)}></i>\n\t\t\t\t\t\t\t<p css={messageTxtStyle()} className=\"directcall__title\">\n\t\t\t\t\t\t\t\t{messageTitle}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul css={messageBtnStyle(this.context)} className=\"directcall__button\">\n\t\t\t\t\t\t\t{callMessage}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderDirectCallBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderDirectCallBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderDirectCallBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageFileWrapper = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"100%\",\n\t\t\".message__file\": {\n\t\t\tdisplay: \"flex\",\n\t\t\tjustifyContent: \"center\",\n\t\t\talignItems: \"center\",\n\t\t\tbackground: \"0 0\",\n\t\t\ttextDecoration: \"none\",\n\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\tmaxWidth: \"100%\",\n\t\t\tfontSize: \"14px\",\n\t\t\t\"&:visited, &:active, &:hover\": {\n\t\t\t\tcolor: `${context.theme.color.white}`,\n\t\t\t\ttextDecoration: \"none\",\n\t\t\t},\n\t\t\t\"> p\": {\n\t\t\t\tmargin: \"0\",\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\twordBreak: \"break-word\",\n\t\t\t\ttextAlign: \"left\",\n\t\t\t\twidth: \"100%\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tmarginLeft: \"8px\",\n\t\t\t},\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n\theight: \"25px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n\t\tminHeight: \"36px\",\n    }\n}\n\nexport const iconStyle = (img, context) => {\n\treturn {\n\t\twidth: \"24px\",\n\t\theight: \"24px\",\n\t\tdisplay: \"inline-block\",\n\t\tmask: `url(${img}) center center no-repeat`,\n\t\tbackgroundColor: `${context.theme.color.white}`,\n\t\tflexShrink: \"0\"\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/file-upload.a68d497b.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageFileWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n\ticonStyle\n} from \"./style\";\n\n\nimport fileIcon from \"./resources/file-upload.svg\";\n\nclass CometChatSenderFileMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\t\t\t\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tgetFileData = () => {\n\t\t\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\n\t\tif (fileMetadata instanceof Blob) {\n\t\t\t\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\tlet fileMessage = null;\n\t\tif (this.state.fileData.hasOwnProperty(\"fileUrl\")) {\n\t\t\tfileMessage = (\n\t\t\t\t<a href={this.state.fileData?.fileUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"message__file\">\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</a>\n\t\t\t);\n\t\t} else {\n\t\t\tfileMessage = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<i css={iconStyle(fileIcon, this.context)}></i>\n\t\t\t\t\t<p>{this.state.fileData?.fileName}</p>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__file\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageFileWrapper(this.context)} className=\"message__file__wrapper\">\n\t\t\t\t\t\t<div className=\"message__file\">{fileMessage}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderFileMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderFileMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderFileMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageImgWrapper = context => {\n\n\tconst mq = [...context.theme.breakPoints];\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\talignSelf: \"flex-end\",\n\t\tmaxWidth: \"300px\",\n\t\theight: \"200px\",\n\t\tcursor: \"pointer\",\n\t\tflexShrink: \"0\",\n\t\timg: {\n\t\t\tborderRadius: \"8px\",\n\t\t\theight: \"100%\",\n\t\t},\n\t\t[`@media ${mq[1]}, ${mq[2]}`]: {\n\t\t\tminWidth: \"50px\",\n\t\t\tmaxWidth: \"150px\",\n\t\t\theight: \"100px\",\n\t\t\tpadding: \"2px 2px\",\n\t\t},\n\t};\n};\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageImgWrapper,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nimport srcIcon from \"./resources/1px.png\";\n\nclass CometChatSenderImageMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\ttimer = null;\n\n\tconstructor(props, context) {\n\n\t\tsuper(props, context);\n\t\tthis._isMounted = false;\n\t\tthis.imgRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\timageUrl: srcIcon,\n\t\t\timageName: Translator.translate(\"LOADING\", context.language),\n\t\t\tisHovering: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.imageUrl !== nextState.imageUrl \n\t\t|| this.state.isHovering !== nextState.isHovering) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis._isMounted = true;\n\t\tthis.setImage();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\t\t\tthis.setImage();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis._isMounted = false;\n\t}\n\n\tchooseImage = thumbnailGenerationObject => {\n\t\tconst smallUrl = thumbnailGenerationObject[\"url_small\"];\n\t\tconst mediumUrl = thumbnailGenerationObject[\"url_medium\"];\n\n\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\n\t\tlet imageToDownload = mediumUrl;\n\t\tif (mq.matches) {\n\t\t\timageToDownload = smallUrl;\n\t\t}\n\n\t\treturn imageToDownload;\n\t};\n\n\tsetImage = () => {\n\n\t\tconst thumbnailGenerationData = checkMessageForExtensionsData(this.props.message, \"thumbnail-generation\");\n\t\tif (thumbnailGenerationData) {\n\n\t\t\tlet imageName = \"\";\n\t\t\tif (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\t\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\t}\n\n\t\t\tconst mq = window.matchMedia(this.props.theme.breakPoints[0]);\n\t\t\tmq.addListener(() => {\n\n\t\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = imageToDownload;\n\t\t\t\timg.onload = () => {\n\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst imageToDownload = this.chooseImage(thumbnailGenerationData);\n\t\t\tthis.downloadImage(imageToDownload)\n\t\t\t\t.then(response => {\n\t\t\t\t\tlet img = new Image();\n\t\t\t\t\timg.src = imageToDownload;\n\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t\t.catch(error => console.error(error));\n\t\t} else {\n\t\t\tthis.setMessageImageUrl();\n\t\t}\n\t};\n\n\tsetMessageImageUrl = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tlet img = new Image();\n\t\tlet imageName;\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\timg.src = reader.result;\n\t\t\t};\n\t\t\timageName = fileMetadata[\"name\"];\n\t\t\treader.readAsDataURL(fileMetadata);\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\t\t\timageName = this.props.message.data.attachments[0]?.name;\n\t\t\timg.src = fileUrl;\n\t\t}\n\n\t\timg.onload = () => {\n\t\t\t//only if there is a change in the image path, update state\n\t\t\tif (this._isMounted && this.state.imageUrl !== img.src) {\n\t\t\t\tthis.setState({ imageUrl: img.src, imageName: imageName });\n\t\t\t}\n\t\t};\n\t};\n\n\tdownloadImage(imgUrl) {\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tconst xhr = new XMLHttpRequest();\n\t\t\txhr.open(\"GET\", imgUrl, true);\n\t\t\txhr.responseType = \"blob\";\n\n\t\t\txhr.onload = () => {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\tif (xhr.status === 200) {\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tresolve(imgUrl);\n\t\t\t\t\t} else if (xhr.status === 403) {\n\t\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\t\t\tthis.downloadImage(imgUrl)\n\t\t\t\t\t\t\t\t.then(response => resolve(imgUrl))\n\t\t\t\t\t\t\t\t.catch(error => reject(error));\n\t\t\t\t\t\t}, 800);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treject(xhr.statusText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.onerror = event => reject(new Error(\"There was a network error.\", event));\n\t\t\txhr.ontimeout = event => reject(new Error(\"There was a timeout error.\", event));\n\t\t\txhr.send();\n\t\t});\n\n\t\treturn promise;\n\t}\n\n\topen = () => {\n\t\tthis.props.actionGenerated(enums.ACTIONS[\"VIEW_ORIGINAL_IMAGE\"], this.props.message);\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__image\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageImgWrapper(this.context)} onClick={this.open} className=\"message__img__wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.state.imageUrl}\n\t\t\t\t\t\t\talt={this.state.imageName}\n\t\t\t\t\t\t\tref={el => {\n\t\t\t\t\t\t\t\tthis.imgRef = el;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderImageMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderImageMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderImageMessageBubble };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXx7OqhaJO7AAAAAXRSTlPM0jRW/QAAAApJREFUeJxjYgAAAAYAAzY3fKgAAAAASUVORK5CYII=\"","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        flex: \"1 1\"\n    }\n}\n\nexport const messageTxtWrapperStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}`,\n\t\tcolor: `${context.theme.color.white}`,\n\t\tpadding: \"8px 16px\",\n\t\twidth: \"auto\",\n\t};\n};\n\nexport const messageTxtStyle = (props, showVariation, count) => {\n\n    let emojiAlignmentProp = {\n        \" > img\": {\n            width: \"24px\",\n            height: \"24px\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            zoom: \"1\",\n            margin: \"0 2px\"\n        }\n    };\n\n    let emojiProp = {};\n    let heightProp = {};\n\n    if (count === 1) {\n        emojiProp = {\n           \"> img\": {\n                width: \"48px\",\n                height: \"48px\",\n           }\n        };\n        heightProp = {\n            height: \"48px\",\n        };\n    } else if (count === 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"36px\",\n                height: \"36px\",\n            }\n        };\n        heightProp = {\n            height: \"36px\",\n        };\n    } else if (count > 2) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    if (showVariation === false) {\n        emojiProp = {\n            \"> img\": {\n                width: \"24px\",\n                height: \"24px\",\n            }\n        };\n    }\n\n    return {\n        margin: \"0\",\n        fontSize: \"14px\",\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        textAlign: \"left\",\n        width: \"auto\",\n        ...heightProp,\n        \" a\": {\n            color: \"#0432FF\",\n            \"&:hover\": {\n                color: \"#04009D\"\n            }\n        },\n        \" a[href^='mailto:']\": {\n            color: \"#F38C00\",\n            \"&:hover\": {\n                color: \"#F36800\"\n            }\n        },\n        \" a[href^='tel:']\": {\n            color: \"#3802DA\",\n            \"&:hover\": {\n                color: \"#2D038F\"\n            }\n        },\n        ...emojiAlignmentProp,\n        ...emojiProp\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\"\n    }\n}\n","import React from \"react\";\nimport twemoji from \"twemoji\";\nimport parse from \"html-react-parser\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt, CometChatLinkPreview } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { linkify, checkMessageForExtensionsData,countEmojiOccurences } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageTxtWrapperStyle,\n\tmessageTxtStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle,\n} from \"./style\";\n\nclass CometChatSenderTextMessageBubble extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.messageTextRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\ttranslatedMessage: \"\",\n\t\t\tisHovering: false,\n\t\t\tenableLargerSizeEmojis: false,\n\t\t};\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\t\t\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering\n\t\t|| this.state.translatedMessage !== nextState.translatedMessage\n\t\t|| this.state.enableLargerSizeEmojis !== nextState.enableLargerSizeEmojis) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t\n\t\tif (prevProps.message !== this.props.message) {\n\n\t\t\tthis.setState({ translatedMessage: \"\" });\n\t\t}\n\n\t\tthis.enableLargerSizeEmojis();\n\t}\n\n\tgetMessageText = () => {\n\t\tlet messageText = this.props.message.text;\n\n\t\t//xss extensions data\n\t\tconst xssData = checkMessageForExtensionsData(this.props.message, \"xss-filter\");\n\t\tif (xssData && xssData.hasOwnProperty(\"sanitized_text\") && xssData.hasOwnProperty(\"hasXSS\") && xssData.hasXSS === \"yes\") {\n\t\t\tmessageText = xssData.sanitized_text;\n\t\t}\n\n\t\t//datamasking extensions data\n\t\tconst maskedData = checkMessageForExtensionsData(this.props.message, \"data-masking\");\n\t\tif (maskedData && maskedData.hasOwnProperty(\"data\") && maskedData.data.hasOwnProperty(\"sensitive_data\") && maskedData.data.hasOwnProperty(\"message_masked\") && maskedData.data.sensitive_data === \"yes\") {\n\t\t\tmessageText = maskedData.data.message_masked;\n\t\t}\n\n\t\t//profanity extensions data\n\t\tconst profaneData = checkMessageForExtensionsData(this.props.message, \"profanity-filter\");\n\t\tif (profaneData && profaneData.hasOwnProperty(\"profanity\") && profaneData.hasOwnProperty(\"message_clean\") && profaneData.profanity === \"yes\") {\n\t\t\tmessageText = profaneData.message_clean;\n\t\t}\n\n\t\tconst formattedText = linkify(messageText);\n\n\t\tconst emojiParsedMessage = twemoji.parse(formattedText, { folder: \"svg\", ext: \".svg\" });\n\n\t\tlet count = countEmojiOccurences(emojiParsedMessage,\"class=\\\"emoji\\\"\");\n\n\t\tconst parsedMessage = parse(emojiParsedMessage);\n\t\t\n\t\tlet showVariation = true;\n\t\t//if larger size emojis feature is disabled\n\t\tif (this.state.enableLargerSizeEmojis === false) {\n\t\t\tshowVariation = false;\n\t\t}\n\n\t\tmessageText = (\n\t\t\t<div css={messageTxtWrapperStyle(this.context)} className=\"message__txt__wrapper\">\n\t\t\t\t<p css={messageTxtStyle(this.props, showVariation, count)} className=\"message__txt\">\n\t\t\t\t\t{parsedMessage}\n\t\t\t\t\t{this.state.translatedMessage}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\n\t\treturn messageText;\n\t};\n\n\ttranslateMessage = message => {\n\t\tconst messageId = message.id;\n\t\tconst messageText = message.text;\n\n\t\tconst browserLanguageCode = Translator.getBrowserLanguage().toLowerCase();\n\t\tlet translateToLanguage = browserLanguageCode;\n\t\tif (browserLanguageCode.indexOf(\"-\") !== -1) {\n\t\t\tconst browserLanguageArray = browserLanguageCode.split(\"-\");\n\t\t\ttranslateToLanguage = browserLanguageArray[0];\n\t\t}\n\n\t\tlet translatedMessage = \"\";\n\t\tCometChat.callExtension(\"message-translation\", \"POST\", \"v2/translate\", {\n\t\t\tmsgId: messageId,\n\t\t\ttext: messageText,\n\t\t\tlanguages: [translateToLanguage],\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.hasOwnProperty(\"language_original\") && result[\"language_original\"] !== translateToLanguage) {\n\t\t\t\t\tif (result.hasOwnProperty(\"translations\") && result.translations.length) {\n\t\t\t\t\t\tconst messageTranslation = result.translations[0];\n\t\t\t\t\t\tif (messageTranslation.hasOwnProperty(\"message_translated\")) {\n\t\t\t\t\t\t\ttranslatedMessage = `\\n(${messageTranslation[\"message_translated\"]})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\");\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.props.actionGenerated(enums.ACTIONS[\"INFO\"], [], \"SAME_LANGUAGE_MESSAGE\");\n\t\t\t\t}\n\n\t\t\t\tthis.setState({ translatedMessage: translatedMessage });\n\t\t\t})\n\t\t\t.catch(error => this.props.actionGenerated(enums.ACTIONS[\"ERROR\"], [], \"SOMETHING_WRONG\"));\n\t};\n\n\tenableLargerSizeEmojis = () => {\n\t\tthis.context.FeatureRestriction.isLargerSizeEmojisEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== this.state.enableLargerSizeEmojis) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: response });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (this.state.enableLargerSizeEmojis !== false) {\n\t\t\t\t\tthis.setState({ enableLargerSizeEmojis: false });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\tactionHandler = (action, message) => {\n\t\tswitch (action) {\n\t\t\tcase enums.ACTIONS[\"REACT_TO_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"DELETE_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"EDIT_MESSAGE\"]:\n\t\t\t\tthis.props.actionGenerated(action, message);\n\t\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TRANSLATE_MESSAGE\"]:\n\t\t\t\tthis.translateMessage(message);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\n\t\tlet messageText = this.getMessageText();\n\n\t\t//linkpreview extensions data\n\t\tconst linkPreviewData = checkMessageForExtensionsData(this.props.message, \"link-preview\");\n\t\tif (linkPreviewData && linkPreviewData.hasOwnProperty(\"links\") && linkPreviewData[\"links\"].length) {\n\t\t\tmessageText = <CometChatLinkPreview message={this.props.message} messageText={messageText} />;\n\t\t}\n\n\t\t//messagereactions extensions data\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.actionHandler} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__text\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\" ref={this.messageTextRef}>\n\t\t\t\t\t{messageText}\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderTextMessageBubble.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatSenderTextMessageBubble.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport { CometChatSenderTextMessageBubble };","export const messageContainerStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        marginBottom: \"16px\",\n        paddingLeft: \"16px\",\n        paddingRight: \"16px\",\n        maxWidth: \"65%\",\n        clear: \"both\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const messageWrapperStyle = () => {\n\n    return {\n        width: \"auto\",\n        flex: \"1 1\",\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n    }\n}\n\nexport const messageVideoWrapperStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        alignSelf: 'flex-end',\n        ' > video': {\n            maxWidth: \"250px\",\n            borderRadius: \"12px\",\n            display: \"inherit\",\n        }\n    }\n}\n\nexport const messageInfoWrapperStyle = () => {\n\n    return {\n        alignSelf: \"flex-end\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        height: \"25px\",\n        padding: \"4px 8px\",\n    }\n}\n\nexport const messageReactionsWrapperStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignSelf: \"flex-end\",\n        width: \"100%\",\n        flexWrap: \"wrap\",\n        justifyContent: \"flex-end\",\n        minHeight: \"36px\",\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatMessageActions, CometChatThreadedMessageReplyCount, CometChatReadReceipt } from \"../\";\nimport { CometChatMessageReactions } from \"../Extensions\";\n\nimport { checkMessageForExtensionsData, getMessageFileMetadata } from \"../../../util/common\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {\n\tmessageContainerStyle,\n\tmessageWrapperStyle,\n\tmessageVideoWrapperStyle,\n\tmessageInfoWrapperStyle,\n\tmessageReactionsWrapperStyle\n} from \"./style\";\n\nclass CometChatSenderVideoMessageBubble extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tisHovering: false,\n\t\t\tfileData: {},\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tconst fileData = this.getFileData();\n\t\tthis.setState({ fileData: fileData });\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\t\tconst nextMessageStr = JSON.stringify(nextProps.message);\n\n\t\tif (currentMessageStr !== nextMessageStr \n\t\t|| this.state.isHovering !== nextState.isHovering \n\t\t|| this.state.fileData !== nextState.fileData) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\n\t\tconst previousMessageStr = JSON.stringify(prevProps.message);\n\t\tconst currentMessageStr = JSON.stringify(this.props.message);\n\n\t\tif (previousMessageStr !== currentMessageStr) {\n\n\t\t\tconst fileData = this.getFileData();\n\n\t\t\tconst previousfileData = JSON.stringify(this.state.fileData);\n\t\t\tconst currentfileData = JSON.stringify(fileData);\n\t\t\t\n\t\t\tif (previousfileData !== currentfileData) {\n\t\t\t\tthis.setState({ fileData: fileData });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetFileData = () => {\n\n\t\tconst metadataKey = enums.CONSTANTS[\"FILE_METADATA\"];\n\t\tconst fileMetadata = getMessageFileMetadata(this.props.message, metadataKey);\n\t\t\n\t\tif (fileMetadata instanceof Blob) {\n\n\t\t\treturn { fileName: fileMetadata[\"name\"] };\n\n\t\t} else if (this.props.message.data.attachments \n\t\t\t&& typeof this.props.message.data.attachments === \"object\" \n\t\t\t&& this.props.message.data.attachments.length) {\n\n\t\t\tconst fileName = this.props.message.data.attachments[0]?.name;\n\t\t\tconst fileUrl = this.props.message.data.attachments[0]?.url;\n\n\t\t\treturn { fileName, fileUrl: fileUrl };\n\t\t}\n\t};\n\n\thandleMouseHover = () => {\n\t\tthis.setState(this.toggleHoverState);\n\t};\n\n\ttoggleHoverState = state => {\n\t\treturn {\n\t\t\tisHovering: !state.isHovering,\n\t\t};\n\t};\n\n\trender() {\n\t\tif (!Object.keys(this.state.fileData).length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet messageReactions = null;\n\t\tconst reactionsData = checkMessageForExtensionsData(this.props.message, \"reactions\");\n\t\tif (reactionsData) {\n\t\t\tif (Object.keys(reactionsData).length) {\n\t\t\t\tmessageReactions = (\n\t\t\t\t\t<div css={messageReactionsWrapperStyle()} className=\"message__reaction__wrapper\">\n\t\t\t\t\t\t<CometChatMessageReactions message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tlet toolTipView = null;\n\t\tif (this.state.isHovering) {\n\t\t\ttoolTipView = <CometChatMessageActions message={this.props.message} actionGenerated={this.props.actionGenerated} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={messageContainerStyle()} className=\"sender__message__container message__video\" onMouseEnter={this.handleMouseHover} onMouseLeave={this.handleMouseHover}>\n\t\t\t\t{toolTipView}\n\n\t\t\t\t<div css={messageWrapperStyle()} className=\"message__wrapper\">\n\t\t\t\t\t<div css={messageVideoWrapperStyle()} className=\"message__video__wrapper\">\n\t\t\t\t\t\t<video controls src={this.state.fileData?.fileUrl}></video>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{messageReactions}\n\n\t\t\t\t<div css={messageInfoWrapperStyle()} className=\"message__info__wrapper\">\n\t\t\t\t\t<CometChatThreadedMessageReplyCount message={this.props.message} actionGenerated={this.props.actionGenerated} />\n\t\t\t\t\t<CometChatReadReceipt message={this.props.message} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatSenderVideoMessageBubble.defaultProps = {\n\tactionGenerated: () => {},\n};\n\nCometChatSenderVideoMessageBubble.propTypes = {\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\n\nexport { CometChatSenderVideoMessageBubble };","export const replyCountStyle = context => {\n\n\treturn {\n\t\tdisplay: \"inline-block\",\n\t\tfontSize: \"11px\",\n\t\tfontWeight: \"500\",\n\t\tlineHeight: \"12px\",\n\t\ttextTransform: \"lowercase\",\n\t\tpadding: \"0 10px\",\n\t\tcursor: \"pointer\",\n\t\tcolor: context.theme.color.blue,\n\t\t\"&:hover\": {\n\t\t\ttextDecoration: \"underline\",\n\t\t},\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport {jsx} from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport {CometChatContext} from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport {theme} from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {replyCountStyle} from \"./style\";\n\nconst CometChatThreadedMessageReplyCount = props => {\n\n\tconst context = React.useContext(CometChatContext);\n\tconst [reply, setReply] = React.useState(false);\n\n\tconst toggleReply = () => {\n\t\tcontext.FeatureRestriction.isThreadedMessagesEnabled()\n\t\t\t.then(response => {\n\t\t\t\tif (response !== reply) {\n\t\t\t\t\tsetReply(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (reply !== false) {\n\t\t\t\t\tsetReply(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tReact.useEffect(toggleReply);\n\n\tconst viewThread = () => {\n\t\tprops.actionGenerated(enums.ACTIONS[\"VIEW_THREADED_MESSAGE\"], props.message);\n\t}\n\n\tconst replyCount = props.message.replyCount;\n\tconst replyText = replyCount === 1 ? `${replyCount} ${Translator.translate(\"REPLY\", context.language)}` : `${replyCount} ${Translator.translate(\"REPLIES\", context.language)}`;\n\n\tlet replies = (\n\t\t<span css={replyCountStyle(context)} className=\"replycount\" onClick={viewThread}>\n\t\t\t{replyText}\n\t\t</span>\n\t);\n\n\tif (props.message.hasOwnProperty(\"replyCount\") === false) {\n\t\treplies = null;\n\t}\n\n\t//if threadedchats feature is disabled\n\tif (reply === false) {\n\t\treplies = null;\n\t}\n\n\treturn replies;\n};\n\n// Specifies the default values for props:\nCometChatThreadedMessageReplyCount.defaultProps = {\n\ttheme: theme,\n\tactionGenerated: () => {},\n};\n\nCometChatThreadedMessageReplyCount.propTypes = {\n\ttheme: PropTypes.object,\n\tactionGenerated: PropTypes.func.isRequired,\n\tmessage: PropTypes.object.isRequired,\n};\n\nexport {CometChatThreadedMessageReplyCount};\n","export const blockedMessageWrapperStyle = () => {\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundColor: \"#fff\",\n        zIndex: \"1\",\n        order: \"3\",\n        position: \"relative\",\n        flex: \"none\",\n        minHeight: \"105px\",\n        width: \"100%\",\n        margin: \"auto\"\n    }\n}\n\nexport const blockedMessageContainerStyle = () => {\n    return {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n}\n\nexport const blockedTitleStyle = () => {\n    return {\n        fontSize: \"20px\",\n        fontWeight: \"700\",\n        textAlign: \"center\"\n    }\n}\n\nexport const bockedSubTitleStyle = context => {\n\treturn {\n\t\tmargin: \"16px 0\",\n\t\ttextAlign: \"center\",\n\t\tcolor: context.theme.color.helpText,\n\t};\n};\n\nexport const unblockButtonStyle = context => {\n\n    const mq = [...context.theme.breakPoints];\n\n    const widthProp = {\n        width: \"15%\",\n        [`@media ${mq[1]}`]: {\n            width: \"70%\",\n        },\n        [`@media ${mq[2]}`]: {\n            width: \"50%\",\n        },\n        [`@media ${mq[3]}`]: {\n            width: \"30%\",\n        },\n        [`@media ${mq[4]}`]: {\n            width: \"20%\",\n        }\n    };\n\n\treturn {\n\t\t...widthProp,\n\t\tpadding: \"8px 16px\",\n\t\tmargin: \"0\",\n\t\tborderRadius: \"12px\",\n\t\tbackgroundColor: `${context.theme.primaryColor}!important`,\n\t\tcolor: `${context.theme.color.white}`,\n\t};\n};","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatContext } from \"../../../util/CometChatContext\";\nimport { CometChatEvent } from \"../../../util/CometChatEvent\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\n\nimport { \n    blockedMessageWrapperStyle, \n    blockedMessageContainerStyle,\n    unblockButtonStyle,\n    blockedTitleStyle,\n    bockedSubTitleStyle\n} from \"./style\";\n\nconst CometChatBlockedUser = props => {\n    \n\tconst context = React.useContext(CometChatContext);\n\tconst chatWith = { ...context.item };\n\n\tconst unblockUser = () => {\n\n\t\tlet uid = chatWith.uid;\n\t\tCometChat.unblockUsers([uid])\n\t\t\t.then(response => {\n\t\t\t\tif (response && response.hasOwnProperty(uid) && response[uid].hasOwnProperty(\"success\") && response[uid][\"success\"] === true) {\n\n\t\t\t\t\tconst newType = CometChat.ACTION_TYPE.TYPE_USER;\n\t\t\t\t\tconst newItem = Object.assign({}, chatWith, { blockedByMe: false });\n\t\t\t\t\tcontext.setTypeAndItem(newType, newItem);\n\t\t\t\t} else {\n\t\t\t\t\tCometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => CometChatEvent.triggerHandler(enums.ACTIONS[\"ERROR\"], \"SOMETHING_WRONG\"));\n\t}\n\n\treturn (\n\t\t<div css={blockedMessageWrapperStyle()} className=\"\">\n\t\t\t<div css={blockedMessageContainerStyle()}>\n\t\t\t\t<div css={blockedTitleStyle()}>{Translator.translate(\"YOU_HAVE_BLOCKED\", props.lang) + \" \" + chatWith.name}</div>\n\t\t\t\t<div css={bockedSubTitleStyle(context)}>{Translator.translate(\"NOT_POSSIBLE_TO_SEND_MESSAGES\", props.lang)}</div>\n\t\t\t</div>\n\t\t\t<button type=\"button\" css={unblockButtonStyle(context)} onClick={unblockUser}>\n\t\t\t\t{Translator.translate(\"UNBLOCK\", props.lang)}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\n// Specifies the default values for props:\nCometChatBlockedUser.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n};\n\nCometChatBlockedUser.propTypes = {\n\tlang: PropTypes.string,\n};\n\nexport { CometChatBlockedUser };","export const chatScreenStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const chatScreenSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow: \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .chats\": {\n            height: \"calc(100% - 5px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const chatScreenMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatConversationList } from \"../\";\nimport { CometChatMessages } from \"../../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../../Calls\";\n\nimport { CometChatContextProvider } from \"../../../util/CometChatContext\";\nimport * as enums from \"../../../util/enums.js\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\n\nimport {\n\tchatScreenStyle,\n\tchatScreenSidebarStyle,\n\tchatScreenMainStyle,\n} from \"./style\";\n\nclass CometChatConversationListWithMessages extends React.Component {\n\n\tloggedInUser = null;\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttab: \"conversations\",\n\t\t\tsidebarview: false,\n\t\t}\n\n\t\tthis.contextProviderRef = React.createRef();\n\t\tthis.chatListRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\t}\n\n\titemClicked = (item, type) => {\n\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);\n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n/**\n If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n */\n\tgroupUpdated = (key, message, group, options) => {\n\n\t\tswitch (key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\n\t\t\t\tif (this.contextProviderRef.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\n\t\tlet messageScreen = (\n\t\t\t<CometChatMessages\n\t\t\ttheme={this.props.theme}\n\t\t\tlang={this.props.lang}\n\t\t\t_parent=\"conversations\"\n\t\t\tactionGenerated={this.actionHandler} />\n\t\t);\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={this.props.chatWithUser} group={this.props.chatWithGroup} language={this.props.lang}>\n\t\t\t\t<div css={chatScreenStyle(this.props)} className=\"cometchat cometchat--chats\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={chatScreenSidebarStyle(this.state, this.props)} className=\"chats__sidebar\">\n\t\t\t\t\t\t<CometChatConversationList\n\t\t\t\t\t\tref={el => this.chatListRef = el}\n\t\t\t\t\t\t_parent=\"clwm\"\n\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\tlang={this.props.lang}\n\t\t\t\t\t\tonItemClick={this.itemClicked}\n\t\t\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={chatScreenMainStyle(this.state, this.props)} className=\"chats__main\">{messageScreen}</div>\n\t\t\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatConversationListWithMessages.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatConversationListWithMessages.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatConversationListWithMessages };\n","export const userInfoScreenStyle = (props) =>{\n\n    return {\n        display: \"flex\",\n        flexDirection: \"column!important\",\n        height: \"calc(100% - 50px)\",\n        fontFamily: `${props.theme.fontFamily}`,\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n        }\n    }\n}\n\nexport const headerStyle = (props) => {\n\n    return {\n        padding: \"16px\",\n        position: \"relative\",\n        borderBottom: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"70px\",\n        display: \"flex\",\n        alignItems: \"center\",\n    }\n}\n\nexport const headerTitleStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"22px\",\n        fontWeight: \"700\",\n        lineHeight: \"26px\",\n    }\n}\n\nexport const detailStyle = () => {\n\n    return {\n        padding: \"16px\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"left\",\n        alignItems: \"center\",\n    }\n}\n\nexport const thumbnailStyle = () => {\n\n    return {\n        display: \"inline-block\",\n        width: \"36px\",\n        height: \"36px\",\n        flexShrink: \"0\",\n    }\n}\n\nexport const userDetailStyle = () => {\n    \n    return {\n        width: \"calc(100% - 45px)\",\n        flexGrow: \"1\",\n        paddingLeft: \"16px\",\n        \"&[dir=rtl]\": {\n            paddingRight: \"16px\",\n            paddingLeft: \"0\",\n        }\n    }\n}\n\nexport const userNameStyle = () => {\n\n    return {\n        margin: \"0\",\n        fontSize: \"15px\",\n        fontWeight: \"600\",\n        display: \"block\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n    }\n}\n\nexport const userStatusStyle = (props) => {\n\n    return {\n        fontSize: \"13px\",\n        margin: \"0\",\n        color: `${props.theme.color.blue}`,\n    }\n}\n\nexport const optionsStyle = () => {\n\n    return {\n        height: \"calc(100% - 145px)\",\n        overflowY: \"auto\",\n        padding: \"0 16px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"left\",\n        alignItems: \"flex-start\",\n    }\n}\n\nexport const optionTitleStyle = (props) => {\n\n    return {\n        margin: \"5px 0\",\n        width: \"100%\",\n        fontSize: \"12px\",\n        color: `${props.theme.color.helpText}`,\n        textTransform: \"uppercase\",\n    }\n}\n\nexport const optionListStyle = () => {\n\n    return {\n        padding: \"10px 0\",\n        width: \"100%\",\n        fontSize: \"15px\"\n    }\n}\n\nexport const optionStyle = (img) => {\n\n    return {\n        width: \"100%\",\n        padding: \"16px 16px 16px 36px\",\n        fontWeight: 600,\n        background: `url(${img}) left center no-repeat`,\n    }\n}\n\nexport const optionNameStyle = () => {\n\n    return {\n        width: \"100%\",\n    }\n}\n","export default __webpack_public_path__ + \"static/media/logout.e5e348ec.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatAvatar, CometChatToastNotification } from \"../../Shared\";\n\nimport { theme } from \"../../../resources/theme\";\nimport Translator from \"../../../resources/localization/translator\";\n\nimport {\n\tuserInfoScreenStyle,\n\theaderStyle,\n\theaderTitleStyle,\n\tdetailStyle,\n\tthumbnailStyle,\n\tuserDetailStyle,\n\tuserNameStyle,\n\tuserStatusStyle,\n\toptionsStyle,\n\toptionStyle,\n\toptionNameStyle\n} from \"./style\";\n// import reportIcon from \"./resources/warning.svg\";\nimport logout from \"./resources/logout.svg\";\nimport { googleLogout } from '@react-oauth/google';\nclass CometChatUserProfile extends React.Component {\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloggedInUser: null\n\t\t}\n\n\t\tthis.toastRef = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t\n\t\tCometChat.getLoggedinUser().then(user => {\n\t\t\tthis.setState({ loggedInUser: user });\n\t\t}).catch(error => this.toastRef.setError(\"SOMETHING_WRONG\"));\n\t}\n\n\tlogout = () => {\n\t\tgoogleLogout();\n\t\twindow.localStorage.removeItem(\"firebase_token\");\n\t\tCometChat.logout().then(\n\t\t\t() => {\n\t\t\t\twindow.location.reload();\n\t\t\t}, error => {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\tlet userProfile = null;\n\t\tif(this.state.loggedInUser) {\n\n\t\t\tlet avatar = <CometChatAvatar user={this.state.loggedInUser} />;\n\t\t\tuserProfile = (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div css={headerStyle(this.props)} className=\"userinfo__header\">\n\t\t\t\t\t\t<h4 css={headerTitleStyle()} className=\"header__title\">\n\t\t\t\t\t\t\t{Translator.translate(\"MORE\", this.props.lang)}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={detailStyle()} className=\"userinfo__detail\">\n\t\t\t\t\t\t<div css={thumbnailStyle()} className=\"detail__thumbnail\">\n\t\t\t\t\t\t\t{avatar}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div css={userDetailStyle()} className=\"detail__user\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t\t\t<div css={userNameStyle()} className=\"user__name\">\n\t\t\t\t\t\t\t\t{this.state.loggedInUser.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p css={userStatusStyle(this.props)} className=\"user__status\">\n\t\t\t\t\t\t\t\t{Translator.translate(\"ONLINE\", this.props.lang)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={optionsStyle()} className=\"userinfo__options\">\n\t\t\t\t\t\t<div css={optionStyle(logout)} className=\"option option-report\">\n\t\t\t\t\t\t\t<div css={optionNameStyle()} className=\"option_name\">\n\t\t\t\t\t\t\t\t<button type=\"button\" onClick={() => this.logout()}>\n\t\t\t\t\t\t\t\t\t{Translator.translate(\"LOGOUT\", this.props.lang)}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div css={userInfoScreenStyle(this.props)} className=\"userinfo\">\n\t\t\t\t{userProfile}\n\t\t\t\t<CometChatToastNotification ref={el => (this.toastRef = el)} lang={this.props.lang} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUserProfile.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme\n};\n\nCometChatUserProfile.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object\n}\n\nexport { CometChatUserProfile };\n","export const footerStyle = () => {\n\n    return {\n        width: \"100%\",\n        zIndex: \"1\",\n        height: \"64px\"\n    }\n}\n\nexport const navbarStyle = () => {\n\n    return {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-around\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t};\n}\n\nexport const itemStyle = props => {\n\treturn {\n\t\tpadding: \"8px\",\n\t\tcursor: \"pointer\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tfontSize: \"12px\",\n\t\tcolor: `${props.theme.color.helpText}`,\n\t};\n};\n\nexport const itemLinkStyle = (icon, isActive, context) => {\n\n    let activeStateBg = (isActive) ? { \n        backgroundColor: `${context.theme.primaryColor}`,\n    } : {\n        backgroundColor: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        height: \"24px\",\n        width: \"24px\",\n        display: \"inline-block\",\n        mask: `url(${icon}) no-repeat center center`,\n        ...activeStateBg\n    }\n}\n\nexport const itemLinkTextStyle = (isActive, context) => {\n\n    const colorProp = (isActive) ? {\n        color: `${context.theme.primaryColor}`\n    } : {\n        color: `${context.theme.secondaryTextColor}`,\n    };\n\n    return {\n        ...colorProp,\n        paddingTop: \"2px\"\n    }\n};","export default __webpack_public_path__ + \"static/media/chats.a324dd1d.svg\";","export default __webpack_public_path__ + \"static/media/users.ec43e952.svg\";","export default __webpack_public_path__ + \"static/media/groups.1e57cc7e.svg\";","export default __webpack_public_path__ + \"static/media/more.35ec626e.svg\";","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\n\nimport { CometChatUserList } from \"../../Users\";\nimport { CometChatGroupList } from \"../../Groups\";\nimport { CometChatConversationList } from \"../../Chats\";\nimport { CometChatUserProfile } from \"../../UserProfile\";\n\nimport * as enums from \"../../../util/enums.js\";\nimport {CometChatContext} from \"../../../util/CometChatContext\";\n\nimport Translator from \"../../../resources/localization/translator\";\nimport { theme } from \"../../../resources/theme\";\nimport tabs from \"../../../resources/tabs.json\";\n\nimport {\n  footerStyle,\n  navbarStyle,\n  itemStyle,\n  itemLinkStyle,\n  itemLinkTextStyle\n} from \"./style\";\n\nimport chatGreyIcon from \"./resources/chats.svg\";\nimport contactGreyIcon from \"./resources/users.svg\";\nimport groupGreyIcon from \"./resources/groups.svg\";\nimport moreGreyIcon from \"./resources/more.svg\";\n\nexport class CometChatNavBar extends React.Component {\n\tstatic contextType = CometChatContext;\n\n\ttabListKeys = []; \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveTab: null,\n\t\t\ttabList: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\n\t\tlet tabList = this.context.UIKitSettings.tabs;\n\n\t\ttabList.forEach(tabName => {\n\t\t\tfor (const t in tabs) {\n\t\t\t\tif (tabName === tabs[t]) {\n\t\t\t\t\tthis.tabListKeys.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n    \tthis.getFilteredTabs().then(filteredTabs => {\n\t\t\tthis.setState({tabList: filteredTabs, activeTab: filteredTabs[0]});\n\t\t});\n\n\t}\n\n\n\tgetFilteredTabs = () => {\n\n\t\treturn new Promise(resolve => {\n\n\t\t\tconst filteredTabs = [];\n\t\t\tconst promises = [this.enableChats(), this.enableUsers(), this.enableGroups(), this.enableSettings()];\n\t\t\tPromise.allSettled(promises).then(results => {\n\t\t\t\t\n\t\t\t\tthis.tabListKeys.forEach(eachTabKey => {\n\t\t\t\t\tresults.forEach(result => {\n\t\t\t\t\t\tconst tabKey = result.value[0];\n\t\t\t\t\t\tconst tabEnabled = result.value[1];\n\n\t\t\t\t\t\tif (eachTabKey === tabKey && tabEnabled === true) {\n\t\t\t\t\t\tfilteredTabs.push(eachTabKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tresolve(filteredTabs);\n\t\t\t});\n\t\t});\n\t}\n\n\tenableChats = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isRecentChatListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_CHATS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_CHATS\", false]));\n\t\t});\n\t};\n\n\tenableUsers = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_USERS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_USERS\", false]));\n\t\t});\n\t};\n\n\tenableGroups = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isGroupListEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_GROUPS\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_GROUPS\", false]));\n\t\t});\n\t};\n\n\tenableSettings = () => {\n\t\treturn new Promise(resolve => {\n\t\t\tthis.context.FeatureRestriction.isUserSettingsEnabled()\n\t\t\t\t.then(response => resolve([\"SIDEBAR_MOREINFO\", response]))\n\t\t\t\t.catch(error => resolve([\"SIDEBAR_MOREINFO\", false]));\n\t\t});\n\t};\n\n\ttabChanged = tab => {\n\n\t\tthis.setState({activeTab: tab});\n\t};\n\n\tgetActiveTab = () => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\treturn <CometChatUserList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_CALLS\":\n\t\t\t\treturn null;\n\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\treturn <CometChatConversationList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\treturn <CometChatGroupList theme={this.props.theme} lang={this.context.language} _parent=\"unified\" actionGenerated={this.props.actionGenerated} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\treturn <CometChatUserProfile theme={this.props.theme} lang={this.context.language} onItemClick={(item, type) => this.props.actionGenerated(enums.ACTIONS[\"ITEM_CLICKED\"], type, item)} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tgetTabList = () => {\n\n\t\tconst chatsTabActive = this.state.activeTab === \"SIDEBAR_CHATS\" ? true : false;\n\t\tconst userTabActive = this.state.activeTab === \"SIDEBAR_USERS\" ? true : false;\n\t\tconst groupsTabActive = this.state.activeTab === \"SIDEBAR_GROUPS\" ? true : false;\n\t\tconst moreTabActive = this.state.activeTab === \"SIDEBAR_MOREINFO\" ? true : false;\n\n\t\tconst tabList = [...this.state.tabList];\n\n\t\treturn tabList.map(tab => {\n\t\t\tswitch (tab) {\n\t\t\t\tcase \"SIDEBAR_CHATS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_CHATS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(chatGreyIcon, chatsTabActive, this.context)} className=\"item__link item__link__chats\" title={Translator.translate(\"CHATS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(chatsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"CHATS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_USERS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_USERS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(contactGreyIcon, userTabActive, this.context)} className=\"item__link item__link__contacts\" title={Translator.translate(\"USERS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(userTabActive, this.context)} className=\"item__label\">{Translator.translate(\"USERS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_GROUPS\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_GROUPS\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(groupGreyIcon, groupsTabActive, this.context)} className=\"item__link item__link__groups\" title={Translator.translate(\"GROUPS\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(groupsTabActive, this.context)} className=\"item__label\">{Translator.translate(\"GROUPS\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tcase \"SIDEBAR_MOREINFO\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={tab} css={itemStyle(this.props)} className=\"navbar__item\" onClick={() => this.tabChanged(\"SIDEBAR_MOREINFO\")}>\n\t\t\t\t\t\t\t<div css={itemLinkStyle(moreGreyIcon, moreTabActive, this.context)} className=\"item__link item__link__info\" title={Translator.translate(\"MORE\", this.context.language)}></div>\n\t\t\t\t\t\t\t<div css={itemLinkTextStyle(moreTabActive, this.context)} className=\"item__label\">{Translator.translate(\"MORE\", this.context.language)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{this.getActiveTab()}\n\t\t\t\t<div css={footerStyle()} className=\"sidebar__footer\">\n\t\t\t\t\t<div css={navbarStyle()} className=\"footer__navbar\">\n\t\t\t\t\t\t{this.getTabList()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatNavBar.defaultProps = {\n\ttheme: theme\n};\n\nCometChatNavBar.propTypes = {\n\ttheme: PropTypes.object\n}","export const unifiedStyle = (props) => {\n\n    return {\n        display: \"flex\",\n        height: \"100%\",\n        width: \"100%\",\n        boxSizing: \"border-box\",\n        fontFamily: `${props.theme.fontFamily}`,\n        border: `1px solid ${props.theme.borderColor.primary}`,\n        position: \"relative\",\n        \"*\": {\n            boxSizing: \"border-box\",\n            fontFamily: `${props.theme.fontFamily}`,\n            \"::-webkit-scrollbar\": {\n                width: \"8px\",\n                height: \"4px\",\n            },\n            \"::-webkit-scrollbar-track\": {\n                background: \"#ffffff00\"\n            },\n            \"::-webkit-scrollbar-thumb\": {\n                background: \"#ccc\",\n                \"&:hover\": {\n                    background: \"#aaa\"\n                }\n            }\n        }\n    }\n}\n\nexport const unifiedSidebarStyle = (state, props) => {\n\n    const sidebarView = (state.sidebarview) ? {\n        left: \"0\",\n        boxShadow : \"rgba(0, 0, 0, .4) -30px 0 30px 30px\"\n    } : {};\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n\n        width: \"280px\",\n        borderRight: `1px solid ${props.theme.borderColor.primary}`,\n        height: \"100%\",\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"> .contacts, .chats, .groups, .userinfo\": {\n            height: \"calc(100% - 64px)\",\n        },\n        [`@media ${mq[0]}`]: {\n            position: \"absolute!important\",\n            left: \"-100%\",\n            top: \"0\",\n            bottom: \"0\",\n            width: \"100%!important\",\n            zIndex: \"2\",\n            backgroundColor: `${props.theme.backgroundColor.white}`,\n            transition: \"all .3s ease-out\",\n            ...sidebarView\n        }\n    }\n}\n\nexport const unifiedMainStyle = (state, props) => {\n\n    const mq = [...props.theme.breakPoints];\n\n    return {\n        width: \"calc(100% - 280px)\",\n        height: \"100%\",\n        order: \"2\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        [`@media ${mq[1]}, ${mq[2]}`]: {\n            width: \"100%\",\n        }\n    }\n}\n","import React from \"react\";\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport PropTypes from \"prop-types\";\nimport { CometChat } from \"@cometchat-pro/chat\";\n\nimport { CometChatNavBar } from \"./CometChatNavBar\";\nimport { CometChatMessages } from \"../Messages\";\nimport { CometChatIncomingCall, CometChatIncomingDirectCall } from \"../Calls\";\n\nimport { CometChatContextProvider } from \"../../util/CometChatContext\";\nimport * as enums from \"../../util/enums.js\";\nimport { theme } from \"../../resources/theme\";\nimport Translator from \"../../resources/localization/translator\";\n\nimport {\n\tunifiedStyle,\n\tunifiedSidebarStyle,\n\tunifiedMainStyle,\n} from \"./style\";\n\nclass CometChatUI extends React.Component {\n\n\tloggedInUser = null;\n\n\tconstructor(props) {\n\t\t\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsidebarview: false,\n\t\t\tfromNotification: false,\n\t\t\tisUserNotification: false,\n\t\t\tisGroupNotification: false,\n\t\t\tnotificationFor: '',\n\t\t\tisCallNotification: false,\n\t\t\tisChatNotification: false\n\t\t}\n\n\t\tthis.navBarRef = React.createRef();\n\t\tthis.contextProviderRef = React.createRef();\n\t}\n\t\n\tcomponentDidMount() {\n\n\t\tconst notificationBroadcast = new BroadcastChannel('notification_broadcaster');\n        notificationBroadcast.onmessage = (event) => {\n            let value = event.data.key;\n            let message = JSON.parse(value);\n\t\t\tlet baseMessage = CometChat.CometChatHelper.processMessage(JSON.parse(message));\n\t\t\tif(baseMessage.category === 'message'){\n\t\t\t\tthis.setState({fromNotification: true, isUserNotification: baseMessage.receiverType === 'user' ? true : false, isGroupNotification: baseMessage.receiverType === 'group' ?true : false, notificationFor: baseMessage.receiverType === 'user' ? baseMessage.sender.uid : baseMessage.receiver.guid, isChatNotification: true});\n\t\t\t}\n\t\t\tif(baseMessage.category === 'call'){\n\t\t\t\tif(baseMessage.status === 'incoming'){\n\t\t\t\t\tthis.setState({fromNotification: true, isCallNotification: true, notificationFor: baseMessage});\n\t\t\t\t}\n\t\t\t}\n        }\n\n\t\tif (this.props.chatWithUser.length === 0 && this.props.chatWithGroup.length === 0) {\n\t\t\tthis.toggleSideBar();\n\t\t}\n\n\t}\n\n\tnavBarAction = (action, type, item) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"ITEM_CLICKED\"]:\n\t\t\t\tthis.itemClicked(item, type);\n\t\t\tbreak;\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\titemClicked = (item, type) => {\n\t\t\n\t\tthis.contextProviderRef.setTypeAndItem(type, item);    \n\t\tthis.toggleSideBar()\n\t}\n\n\tactionHandler = (action, item, count, ...otherProps) => {\n\t\t\n\t\tswitch(action) {\n\t\t\tcase enums.ACTIONS[\"TOGGLE_SIDEBAR\"]:\n\t\t\t\tthis.toggleSideBar();\n\t\t\tbreak;\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED:\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\t\tthis.groupUpdated(action, item, count, ...otherProps);\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\ttoggleSideBar = () => {\n\n\t\tconst sidebarview = this.state.sidebarview;\n\t\tthis.setState({ sidebarview: !sidebarview });\n\t}\n\n\t/**\n\t If the logged in user is banned, kicked or scope changed, update the chat window accordingly\n\t */\n\tgroupUpdated = (key, message, group, options) => {\n\t\t\n\t\tswitch(key) {\n\t\t\tcase enums.GROUP_MEMBER_BANNED:\n\t\t\tcase enums.GROUP_MEMBER_KICKED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP \n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tthis.contextProviderRef.setItem({});\n\t\t\t\t\tthis.contextProviderRef.setType(\"\");\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase enums.GROUP_MEMBER_SCOPE_CHANGED: {\n\t\t\t\t\n\t\t\t\tif (this.contextProviderRef.state.type === CometChat.ACTION_TYPE.TYPE_GROUP\n\t\t\t\t&& this.contextProviderRef.state.item.guid === group.guid\n\t\t\t\t&& options.user.uid === this.loggedInUser.uid) {\n\n\t\t\t\t\tconst newObject = Object.assign({}, this.contextProviderRef.state.item, { \"scope\": options[\"scope\"] })\n\t\t\t\t\tthis.contextProviderRef.setItem(newObject);\n\t\t\t\t\tthis.contextProviderRef.setType(CometChat.ACTION_TYPE.TYPE_GROUP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trender() {\n\t\tlet {isUserNotification, isGroupNotification, notificationFor, fromNotification, isChatNotification, isCallNotification} = this.state;\n\n\t\tlet messageScreen = (\n\t\t\t\t<CometChatMessages \n\t\t\t\ttheme={this.props.theme}\n\t\t\t\tlang={this.props.lang}\n\t\t\t\t_parent=\"unified\"\n\t\t\t\tactionGenerated={this.actionHandler} />\n\t\t\t);\n\n\t\tlet incomingCall = isCallNotification ? notificationFor : null;\n\n\t\tlet incomingCallScreen = (\n\t\t\t<CometChatIncomingCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} incomingCall={incomingCall} />\n\t\t);\n\n\t\tconsole.log(\"this.props.chatWithUser\", this.props.chatWithUser);\n\t\tlet user = this.props.chatWithUser ? this.props.chatWithUser : fromNotification && isChatNotification ? (isUserNotification ? notificationFor : '') : '';\n\t\tlet group = this.props.chatWithUser ? this.props.chatWithUser : fromNotification && isChatNotification ? (isGroupNotification ? notificationFor : '') : '';\n\n\t\treturn (\n\t\t\t<CometChatContextProvider ref={el => this.contextProviderRef = el} user={user} group={group} language={this.props.lang}>\n\t\t\t\t<div css={unifiedStyle(this.props)} className=\"cometchat cometchat--unified\" dir={Translator.getDirection(this.props.lang)}>\n\t\t\t\t\t<div css={unifiedSidebarStyle(this.state, this.props)} className=\"unified__sidebar\">\n\t\t\t\t\t\t<CometChatNavBar\n\t\t\t\t\t\t\tref={el => this.navBarRef = el}\n\t\t\t\t\t\t\ttheme={this.props.theme}\n\t\t\t\t\t\t\tactionGenerated={this.navBarAction} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div css={unifiedMainStyle(this.state, this.props)} className=\"unified__main\">\n\t\t\t\t\t\t{messageScreen}\n\t\t\t\t\t</div>\n\t\t\t\t\t{incomingCallScreen}\n\t\t\t\t\t<CometChatIncomingDirectCall theme={this.props.theme} lang={this.props.lang} actionGenerated={this.actionHandler} />\n\t\t\t\t</div>\n\t\t\t</CometChatContextProvider>\n\t\t);\n\t}\n}\n\n// Specifies the default values for props:\nCometChatUI.defaultProps = {\n\tlang: Translator.getDefaultLanguage(),\n\ttheme: theme,\n\tchatWithUser: \"\",\n\tchatWithGroup: \"\",\n};\n\nCometChatUI.propTypes = {\n\tlang: PropTypes.string,\n\ttheme: PropTypes.object,\n\tchatWithUser: PropTypes.string,\n\tchatWithGroup: PropTypes.string,\n}\n\nexport { CometChatUI };\n","export const wrapperStyle = () => {\n\n    return {\n        width: \"100vw\",\n        height: \"100vh\",\n    }\n}","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createBrowserHistory } from 'history';\n/** @jsxRuntime classic */\n/** @jsx jsx */\nimport { jsx } from '@emotion/core';\n\nimport PrivateRoute from '../../PrivateRoute';\n\nimport KitchenSinkApp from '../../defaultPages/KitchenSinkApp';\nimport HomePage from '../../defaultPages/HomePage';\n\nimport * as actions from '../../store/action';\n\nimport {\n    CometChatUI,\n    CometChatConversationList,\n    CometChatConversationListWithMessages,\n    CometChatUserList,\n    CometChatUserListWithMessages,\n    CometChatGroupList,\n    CometChatGroupListWithMessages,\n    CometChatMessages\n} from '../../cometchat-pro-react-ui-kit/CometChatWorkspace/src';\n\nimport {\n    wrapperStyle\n} from \"./style\";\n\nconst history = createBrowserHistory();\n\nclass App extends React.Component {\n    state = {\n        isLoggedin: false\n    }\n\n    componentDidMount() {\n        this.props.getLoggedinUser();\n    }\n\n    render() {\n\n        return (\n            <div css={wrapperStyle()}>\n                <Router history={history}>\n                    <Switch>\n                        <PrivateRoute path=\"/embedded-app\" component={CometChatUI} />\n                        <PrivateRoute path=\"/conversations\" component={CometChatConversationListWithMessages} />\n                        <PrivateRoute path=\"/groups\" component={CometChatGroupListWithMessages} />\n                        <PrivateRoute path=\"/users\" component={CometChatUserListWithMessages} />\n                        <PrivateRoute path=\"/conversation-list\" component={CometChatConversationList} />\n                        <PrivateRoute path=\"/group-list\" component={CometChatGroupList} />\n                        <PrivateRoute path=\"/user-list\" component={CometChatUserList} />\n                        <PrivateRoute path=\"/messages\" component={CometChatMessages} chatWithGroup=\"supergroup\" />\n                        <PrivateRoute exact path=\"/\" component={HomePage} />\n                        <Route path=\"/login\" component={KitchenSinkApp} />\n                    </Switch>\n                </Router>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isLoggedIn: state.isLoggedIn\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getLoggedinUser: () => dispatch(actions.authCheckState())\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from './actionTypes';\n\nconst initialState = {\n    user: {},\n    isLoggedIn: false,\n    error: null,\n    loading: false,\n    authRedirectPath: \"/login\"\n};\n\nconst authStart = ( state, action ) => {\n    return {\n        ...state,\n        error: null, \n        loading: true \n    };\n};\n\nconst authSuccess = (state, action) => {\n    return {\n        ...state,\n        user: action.user,\n        error: null,\n        isLoggedIn: action.isLoggedIn,\n        loading: false \n    };\n};\n\nconst authFail = (state, action) => {\n    return {\n        ...state,\n        error: action.error,\n        loading: false\n    };\n};\n\nconst authLogout = (state, action) => {\n    return {\n        ...state,\n        isLoggedIn: false,\n        user: null\n    };\n};\n\nconst setAuthRedirectPath = (state, action) => {\n    return {\n        ...state,\n        authRedirectPath: action.path\n    };\n}\n\nconst reducer = ( state = initialState, action ) => {\n   \n    switch ( action.type ) {\n        case actionTypes.AUTH_START: return authStart(state, action);\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        case actionTypes.SET_AUTH_REDIRECT_PATH: return setAuthRedirectPath(state,action);\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import firebase from \"firebase/app\";\nimport \"firebase/messaging\";\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAcG7iLRqMENDD11Dr68ufKP0Hllns4hcw\",\n    authDomain: \"push-notification-testin-b511f.firebaseapp.com\",\n    projectId: \"push-notification-testin-b511f\",\n    storageBucket: \"push-notification-testin-b511f.appspot.com\",\n    messagingSenderId: \"891111922927\",\n    appId: \"1:891111922927:web:230c60ebc6fde976b68f1a\",\n    measurementId: \"G-W72N7QMQEM\"\n};\n  \nconst initializedFirebaseApp = firebase.initializeApp(firebaseConfig);\n \nconst messaging = initializedFirebaseApp.messaging();\n\nfirebase.messaging().onMessage(message => {\n    console.log(\"message\", message);\n});\nexport { messaging };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport App from './defaultPages/App';\n\nimport * as serviceWorker from './serviceWorker';\nimport { CometChat } from \"@cometchat-pro/chat\"\nimport { COMETCHAT_CONSTANTS } from './consts';\n\nimport reducer from './store/reducer';\n\nimport './index.scss';\n\nimport { messaging } from './firebase';\n\nimport { GoogleOAuthProvider } from '@react-oauth/google';\n\nconst store = createStore(reducer, compose(\n  applyMiddleware(thunk)\n));\n\nvar appID = COMETCHAT_CONSTANTS.APP_ID;\nvar region = COMETCHAT_CONSTANTS.REGION;\n\nvar appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build();\nCometChat.init(appID, appSetting).then(() => {\n\n    if(CometChat.setSource) {\n      CometChat.setSource(\"ui-kit\", \"web\", \"reactjs\");\n    }\n    console.log(\"Initialization completed successfully\");\n    messaging.getToken().then(\n      (token) => {\n        window.localStorage.setItem(\"firebase_token\", token);\n        ReactDOM.render(\n          <GoogleOAuthProvider clientId=\"891111922927-2jlpkl8hgj1hh55n4olcf3kv3bv156l5.apps.googleusercontent.com\">\n            <Provider store={store}>\n              <BrowserRouter>\n                <App />\n              </BrowserRouter>\n            </Provider>\n          </GoogleOAuthProvider>\n        , document.getElementById('root'));\n      }, error => {\n        ReactDOM.render(\n          <GoogleOAuthProvider clientId=\"891111922927-2jlpkl8hgj1hh55n4olcf3kv3bv156l5.apps.googleusercontent.com\">\n            <Provider store={store}>\n              <BrowserRouter>\n                <App />\n              </BrowserRouter>\n            </Provider>\n          </GoogleOAuthProvider>\n        , document.getElementById('root'));\n      }\n    );\n    \n  },\n  error => {\n    console.log(\"Initialization failed with error:\", error);\n    // Check the reason for error and take appropriate action.\n  }\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n\nserviceWorker.register();"],"sourceRoot":""}